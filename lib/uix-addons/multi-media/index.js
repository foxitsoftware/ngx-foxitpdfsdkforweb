!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.MultiMediaAddon=t(require("UIExtension")):e.MultiMediaAddon=t(e.UIExtension)}(self,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=21)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={addSquareArea:"add-square-area"}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports=r(14)},function(e,t){e.exports=null},function(e,t,r){r(3);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div name="multi-media">\n    <xbutton name="multi-media-btn" icon-class="fv__icon-multi-media" @tooltip>multi-media:buttons.title</xbutton>\n    <multi-media:multi-media-popup name="multi-media-popup" append-to="body" class="center" modal backdrop>\n        <layer-header title="multi-media:buttons.title" @draggable="{type:\'parent\'}"></layer-header>\n        <layer-view>\n        </layer-view>\n    </multi-media:multi-media-popup>\n</div>'}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(0)),i=function(e){return e&&e.__esModule?e:{default:e}}(r(1));function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var a=n.PDFViewCtrl,c=n.getDevicePagePoint,s=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,"square"));return n.pdfViewer=r,n.cursorStyle="fv__cursor-cross",n.destroyHooks=[],n}return o(t,e),t.getStateName=function(){return"create-multi-media-state"},t.prototype.correctPosition=function(e){var t=this;return this.pageRender.getPDFPage().then(function(r){var n=t.pageRender.getScale(),i=r.getPxWidth()*n,o=r.getPxHeight()*n;return{x:Math.max(0,Math.min(i,e.x)),y:Math.max(0,Math.min(o,e.y))}})},t.prototype.start=function(e,t){var r=t.left,n=t.top;this.shapeControl||(this.shapeControl=new a.ShapeControl({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(e.$handler,e.$handler,{left:r,top:n,width:0,height:0}))},t.prototype.adjust=function(e,t,r){var n,i,o=t.x,a=t.y,c=r.x,s=r.y,l=Math.abs(o-c),u=Math.abs(a-s),p={left:n=Math.min(o,c),top:i=Math.min(a,s),width:l=Math.max(l,1),height:u=Math.max(u,1)},d={left:n,top:i,right:n+l,bottom:i+u};e._applyAnnotBoundary(p),e.shape.boundary=d,e.shape.shape=p,e._updatePreviewer()},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var r=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var n=this.hammer=new a.Deps.Hammer.Manager(r);e.$handler;n.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),n.on("panstart",function(n){t.startPoint=c(r,n);var i=t.startPoint.x,o=t.startPoint.y;t.start(e,{left:i,top:o})}),n.on("panmove",function(e){return t.correctPosition({x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY}).then(function(e){return t.currentPoint=e,t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})}),n.on("panend",function(r){t.correctPosition({x:t.startPoint.x+r.deltaX,y:t.startPoint.y+r.deltaY}).then(function(r){t.currentPoint=r,t.adjust(t.shapeControl,t.startPoint,t.currentPoint),t.pdfViewer.eventEmitter.emit(i.default.addSquareArea,e,t.shapeControl.shape.boundary),t.shapeControl.destroy(),t.shapeControl=null})}),n.on("pancancel",function(e){t.shapeControl.destroy(),t.shapeControl=null})},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach(function(e){return e()})},t}(a.IStateHandler);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(0)),o=c(r(1)),a=c(r(6));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var l=function(e){function t(r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,a.default))}return s(t,e),t.prototype.readerFile=function(e){return new Promise(function(t,r){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)},n.onerror=r})},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.popop=this.getComponentByName("multi-media-popup"),this.popop.rendered(),this.getPDFUI().addViewerEventListener(o.default.addSquareArea,function(e,r){t.popop.show(),t.popop.setSubmitCallback(function(n,i){var o=[];o.push(e.getPDFPage()),o.push(t.readerFile(n)),i&&o.push(t.readerFile(i)),Promise.all(o).then(function(t){var i=t[0],o=i.reverseDeviceRect(r,e.scale),a=t[1],c=void 0;t[2]&&(c=t[2]),i.addAnnot({type:"screen",rect:o,rotate:i.getRotation(),multiBuffer:a,buffer:c,fileName:n.name,contentType:n.type}).then(function(t){var r=t[0],n=e.annotsRender.getAnnotRender(r.getId()).component;e.pdfViewer.getMementoManager().before({host:n,method:"addAnnot"}),e.pdfViewer.getMementoManager().after({host:n,method:"addAnnot"}),e.annotsRender.activeAnnot(r.getId())})})})})},n(t,null,[{key:"permission",get:function(){return i.PDFViewCtrl.Consts.PDFDocPermission.AnnotForm}}]),t}(i.StatefulController);t.default=l},function(e,t){e.exports="data:image/svg+xml;charset=utf-8;base64,PG5zMDpzdmcgeG1sbnM6bnMwPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeD0iMHB4IiB5PSIwcHgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8bnMwOnN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3QyNHtmaWxsOiMyQjY4QTM7fQo8L25zMDpzdHlsZT4KPG5zMDpnPgoJPG5zMDpyZWN0IGNsYXNzPSJzdDI0IiBoZWlnaHQ9IjE2Ljk0IiB3aWR0aD0iMS4wNiIgeD0iMS45MiIgeT0iMy45OCIgLz4KCTxuczA6cmVjdCBjbGFzcz0ic3QyNCIgaGVpZ2h0PSIwLjkiIHdpZHRoPSIxOS41MSIgeD0iMi40NSIgeT0iNi45OSIgLz4KCTxuczA6cmVjdCBjbGFzcz0ic3QyNCIgaGVpZ2h0PSIwLjk4IiB3aWR0aD0iMTkuNTEiIHg9IjIuNDUiIHk9IjMuOTgiIC8+Cgk8bnMwOnJlY3QgY2xhc3M9InN0MjQiIGhlaWdodD0iMi41MiIgd2lkdGg9IjEuODciIHg9IjUuMDIiIHk9IjQuNDciIC8+Cgk8bnMwOnJlY3QgY2xhc3M9InN0MjQiIGhlaWdodD0iMy4wMSIgd2lkdGg9IjEuOTUiIHg9IjkuMDEiIHk9IjMuOTgiIC8+Cgk8bnMwOnJlY3QgY2xhc3M9InN0MjQiIGhlaWdodD0iMi4wNCIgd2lkdGg9IjIuMDQiIHg9IjEyLjkyIiB5PSI0Ljk2IiAvPgoJPG5zMDpyZWN0IGNsYXNzPSJzdDI0IiBoZWlnaHQ9IjIuNTIiIHdpZHRoPSIxLjk1IiB4PSIxNi45OSIgeT0iNC40NyIgLz4KCTxuczA6cmVjdCBjbGFzcz0ic3QyNCIgaGVpZ2h0PSIwLjkiIHdpZHRoPSIxOC45OCIgeD0iMi45OCIgeT0iMTcuMDkiIC8+Cgk8bnMwOnJlY3QgY2xhc3M9InN0MjQiIGhlaWdodD0iMTUuMTkiIHdpZHRoPSIwLjkiIHg9IjIxLjA2IiB5PSI1LjczIiAvPgoJPG5zMDpyZWN0IGNsYXNzPSJzdDI0IiBoZWlnaHQ9IjAuOSIgd2lkdGg9IjIwLjA0IiB4PSIxLjkyIiB5PSIyMC4wMiIgLz4KCTxuczA6cmVjdCBjbGFzcz0ic3QyNCIgaGVpZ2h0PSIyLjQ4IiB3aWR0aD0iMS44NyIgeD0iNS4wMiIgeT0iMTcuOTkiIC8+Cgk8bnMwOnJlY3QgY2xhc3M9InN0MjQiIGhlaWdodD0iMi4wNCIgd2lkdGg9IjIuMDQiIHg9IjkuMDEiIHk9IjE3Ljk5IiAvPgoJPG5zMDpyZWN0IGNsYXNzPSJzdDI0IiBoZWlnaHQ9IjIuNDgiIHdpZHRoPSIyLjA0IiB4PSIxMi45MiIgeT0iMTcuOTkiIC8+Cgk8bnMwOnJlY3QgY2xhc3M9InN0MjQiIGhlaWdodD0iMi4wNCIgd2lkdGg9IjIuMDQiIHg9IjE2Ljk5IiB5PSIxNy45OSIgLz4KCTxuczA6cmVjdCBjbGFzcz0ic3QyNCIgaGVpZ2h0PSIyLjk3IiB3aWR0aD0iMC45IiB4PSIyMS4wNiIgeT0iNC40NyIgLz4KPC9uczA6Zz4KPC9uczA6c3ZnPg=="},function(e,t){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAYQWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA0LTE2VDE0OjUzOjI1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTA0LTE2VDE0OjUzOjI1KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wNC0xNlQxNDo1MzoyNSswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmYWZmM2NlOC1hNTI4LTFlNDktYTA4ZS1iYjgyNjY5OTQxOWUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTI3ZDQ5NC0xNmQ5LTY4NGYtODk5ZC0xMWMzNDc1MDYyMzciIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmYjAxZDljOS1hZTJiLWNhNDMtODEyYi1hZmYyNzU2NmViOWIiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjAxZDljOS1hZTJiLWNhNDMtODEyYi1hZmYyNzU2NmViOWIiIHN0RXZ0OndoZW49IjIwMTktMDQtMTZUMTQ6NTM6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmFmZjNjZTgtYTUyOC0xZTQ5LWEwOGUtYmI4MjY2OTk0MTllIiBzdEV2dDp3aGVuPSIyMDE5LTA0LTE2VDE0OjUzOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPkNGOEU3MUM0RjEyNzA0Rjc4MDVGRUI4NDc5MERFRTcxPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjE2OWQ1ZDk0LWRjMTktMTFlNy05ZGU4LWYwNDUwNDE1YWE1NjwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MWFmYzFhOC00MmNlLTExNGMtOTUwNC0wNmQzMzAzZjhiMTg8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ODdlYWYwZWItYjllOS04MzQwLTkyNGMtM2Y4ZmQwYmY2MDk1PC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjk1OTQwMDlmLWZiMTAtNjk0MS1iMjUwLWM2MGVmYzQwNzI1NDwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjMDUwNTY3MC05NjFjLTY1NDktYTE2My1hYjc3MDk4ZGQzMTM8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjAxNUQxMTlBMEI0NTExRTk5N0ZCOUJCMjE4MkQ1OTg4PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMjJDMzY2MEUxNzNFNjExOTYxNkQwNkUyMUYxRUU5RTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MDk3RTIxNkRGMEZBMTFFN0I4OUNDQzRERDk3RUJENDA8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjEyREZBQzAyMjJBODExRTk4MjM3RDcxRDc5RDQ3M0U2PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDoxMzExNEJGRjgzNDYxMUU4QjMxRUY2RkZBRTRDOTVBQjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MTMzMDBBN0NGMEZBMTFFNzhCMTU5NTVEOTQ3OUY1QUE8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjFBQjdFRUI4RjY3QjExRTdBQjRERTIwNjI4NkREQ0MzPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDoxQ0RBNDI2RkYwRkExMUU3ODBERThGNzNEOUM5QzVCNjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MUZBOUYzMTNEMUQ1MTFFOEFCQjBCNDc1OUI0RDMxMkU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjIzQjdBMUQ3RjVENzExRTc5QjYxRkQ4REJEMERFNjQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDoyNDNGRDdEQzBCNDQxMUU5OTk4Q0VDNTM5MjVFQzE3NDwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MjQ1OUI3RjcyM0E5MTFFOTlGRTY4MEYxM0VBMEE2QjU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjJFOUJBODc2RjZEQUU3MTFBQUI2RUQzRUIwMTk1MTAxPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDozMDRBNDM0MzA0QTQxMUU4QkQ4QUE2MDY2QTUwNjNGQjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MzE5QkE4NzZGNkRBRTcxMUFBQjZFRDNFQjAxOTUxMDE8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjMxRDY3QjI0MDRDNjExRThBMDNFRDkwM0QxNUU3MjE5PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDozMkQ4NDE0NkQxMUUxMUU4OUNGMUYyNTFBMUZFQjJGMzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MzRGM0NGNEUwN0U1MTFFOEI0NTBBRTFFRThFMUI3QkE8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjM3OEU5QzZBOURENEUzMTE4MDEwQkZGNUE2NUVBMkFBPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDozOTYzREQ2MjA0QzYxMUU4ODhCOEU1OEM1REIwODM0RTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6MzljNzI3OWUtNTFjMi0zOTRlLTgwOWItNWQzMjAxNzYwODU0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo0MDU1Mzg0QzAxQzIxMUU5OUM4MkMzQzhGODkyMDBGQTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NDZBRkM4MTRERkQ5MTFFNzkwOTA5MzRGNjc0ODYwQjU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjQ4MzU5NjVFMDcyOTExRTlCNjU0QzBDNDk1QUVDN0Y0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo0ODk4NkI4ODIyRTcxMUU5QTMzRENFN0I0QzcwMzQxNzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NEYyMTMxMzVFOUMwMTFFNUE3QjJGOTNDNUE3NzE1MzI8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjUwRENEQ0MzRjExNDExRTc5MTZEQUQyNjZENUQ1NzRBPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo1NDAwNDBCNzE1NzQxMUU5QTVFNUNBMDdBREJDQTRBODwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NUI3NkQwMjcwNERFMTFFOEFGNTlFOTNDNzAzMUIzOTk8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjYxQUQzNUVDNERERUU3MTFBQzY1Q0RGOTgxMzAzMzkxPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2NjE0Q0ZBQTNCMDExMUU5QjFFNDlGNkQyMjkwOTVERTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjY3NzIxQTEwNERFMTFFODgxNjNCOTlGMkYxQzM0RkI8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjY4MzhDQ0U0QjcwMUU0MTE5MTM3RDRFREQyQUNBOUZGPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2REREMzNGQjA0REUxMUU4QjJGMkM5QTlDNjg2MDE5RjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NkVCNTM0NzJGNjdCMTFFN0I4MDRGRDMzOTVFRjQ2QTg8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjZiZTMyZWE0LWZkMzctODk0My05MThlLTk0YWJhN2RhMjAyNjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NzczNjMzM0UwNERFMTFFODkxNjlDMjZFQThFOTQzRUI8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjdDOEM4RDUwNjBEQUU3MTFCMjkwQkJEQzlGNUJGQzU2PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo3RTE2NjE2MUYxRjQxMUU3Qjg3MzkwRTc0OTM1NTc3MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6ODAyNDBCQzFGNUQyMTFFNzk0M0VCNkQxMTkyOENBRTM8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjgxNjhGQTE2OTlEMEUzMTFCQjlBOUQ2RTlEN0NDNjU4PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo4MjBDNDgyREU1NjExMUU3ODdERjg4NzU1OTdBRjU2QTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6ODNBOUI5NEYzQzAzMTFFOUJCOTFGOTAwRjNFRjNCMjc8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjhGRTA4NTY1REMxNjExRTdCMjM5QTI5NEM5Q0RBNTMxPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo4ZTBjYWRhYi0wNTZiLWRlNDctOGU0NC0zZjVmYzQ4ZmM2MTc8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjkwQ0Q0QkQ3MDlBMTExRTlBRjA0Qzc4QjE4MUMyM0NGPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo5MkQ3MTNCMTAzNzUxMUU5ODYwMEIzODJCMUI4MTI3NDwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6OUQ4MjlCQkFGOUVEMTFFOEIwRjJFRTRBMkY2Q0E5MUY8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjlERkZBQTA3RjVEMjExRTdCOUUxRUUxNzRDNTAwNkVDPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpBOUIzNjMzMkY1RDIxMUU3QjdDRkM3MjI0OEE0OEFBMjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QUYwQkZCMTJGNDQ2MTFFNzgwOERERTA1MTA3MDJGMzc8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkFGN0Y3Q0RBMTZCRjExRTM5RkU1QjEwRkFCN0E5NjVCPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpCMDFFQjE4M0Y1RDIxMUU3QjI5QkE4NERFNkM4MDhCMjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QjJBOTBDN0NGNjc5MTFFNzkxNENCQTlGRDZDRDdBMzM8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkIzQTYwRDRGREU0OTExRTc5NjA1RDQ3QTkxMjZFODk1PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpCQzFFRDQ2ODJERDYxMUU5QUZDNEY1REM3QzA0RUIyRDwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QkUxNDlCMjFEOENFRTQxMUJGQjZGN0QzMkE3QTY0OUM8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkMyMTQ5QjIxRDhDRUU0MTFCRkI2RjdEMzJBN0E2NDlDPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpDNEIyQzVFOEVBMjQxMUU3QjZGNEJENEJDMTI1MTIwRTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6Q0NGMTFEMTJGOERBRTcxMUFBQjZFRDNFQjAxOTUxMDE8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxRUI4NjBFNENEQUU3MTFCMjkwQkJEQzlGNUJGQzU2PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpENjVDNkVGQUU5QkQxMUU1ODFDRkUyRDdGQTUyQTRCRDwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6REM0QUQxMjYzNUE1MTFFOUFGMkM5NTk1NUI2ODFBREQ8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkUxOTdGQ0Y4RjlDRDExRThCOTVEQUFCMTMwRkU5MjE5PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpFNUJGQUFCQTg5QTcxMUU4QjY4MTlENDVENDhENERCRjwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6RUMwOTIxMDI3QjZBMTFFOEJFRDNBMTMzNkU2QjVENDk8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkYwRDgwMjRFREM3M0U2MTE5NjE2RDA2RTIxRjFFRTlFPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDphN2VhOTQ4Yi00YTMxLTgzNDItYWNiMi0zNTFiMzAxNjU2Zjg8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOmMwMDgwYjU0LTRjMGItYjU0NS04ZDQ5LTc3YTY2MmJiMjQzYTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6ZDI1M2YxMzAtZTNjYi05NzQwLTkyNmItNDliY2U4NmQyOGZlPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDplMzAwMTU1Yi04ODI1LTIwNDItYTIwNy0yNmQwZTVhNmJhMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOmVkNThmODE0LTdiZGQtMzI0MC1hNjc1LWYzOGEzMTdhMDYxNDwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhDaw9IAAABkSURBVEiJY/z//z8DLQETTU2nhwUsMIZO5hKqhtWV6TGMDAxoPrgyPYbhyvQYqvExLKAFYISlIloFEQuaIFUM18lcAmcP/WQ6asGoBZQDlIyGnEGoBUYLO5wAVtgxjtbJA24BAOREP+wyryE9AAAAAElFTkSuQmCC"},function(e,t,r){var n=r(19);(e.exports=r(18)(!1)).push([e.i,".fv__icon-multi-media {\n    background-image: url("+n(r(9))+");\n    background-repeat: no-repeat;\n    background-position: center;\n} \n.fv__cursor-cross{\n    cursor: crosshair;\n}\n\n.fv__ui-mobile .fv__icon-multi-media {\n    background-image: url("+n(r(8))+");\n}",""])},function(e,t,r){var n=r(10);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(17)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n={};n.sampleBits=n.sampleBits||8,n.sampleRate=n.sampleRate||7350;var i=window.AudioContext||window.webkitAudioContext,o=this.context=new i;this.stream=t,this.audioInput=o.createMediaStreamSource(t),this.recorder=o.createScriptProcessor(4096,1,1);var a=this.audioData={size:0,buffer:[],inputSampleRate:o.sampleRate,inputSampleBits:16,outputSampleRate:n.sampleRate,outputSampleBits:n.sampleBits,input:function(e){this.buffer.push(new Float32Array(e)),this.size+=e.length},compress:function(){for(var e=new Float32Array(this.size),t=0,r=0;r<this.buffer.length;r++)e.set(this.buffer[r],t),t+=this.buffer[r].length;for(var n=parseInt(this.inputSampleRate/this.outputSampleRate),i=e.length/n,o=new Float32Array(i),a=0,c=0;a<i;)o[a]=e[c],c+=n,a++;return o},encodeWAV:function(){if(0==this.size)return!1;var e=Math.min(this.inputSampleRate,this.outputSampleRate),t=Math.min(this.inputSampleBits,this.outputSampleBits),r=this.compress(),n=r.length*(t/8),i=new ArrayBuffer(44+n),o=new DataView(i),a=0,c=function(e){for(var t=0;t<e.length;t++)o.setUint8(a+t,e.charCodeAt(t))};if(c("RIFF"),a+=4,o.setUint32(a,36+n,!0),a+=4,c("WAVE"),a+=4,c("fmt "),a+=4,o.setUint32(a,16,!0),a+=4,o.setUint16(a,1,!0),a+=2,o.setUint16(a,1,!0),a+=2,o.setUint32(a,e,!0),a+=4,o.setUint32(a,1*e*(t/8),!0),a+=4,o.setUint16(a,t/8*1,!0),a+=2,o.setUint16(a,t,!0),a+=2,c("data"),a+=4,o.setUint32(a,n,!0),a+=4,8===t)for(var s=0;s<r.length;s++,a++){var l=Math.max(-1,Math.min(1,r[s])),u=l<0?32768*l:32767*l;u=parseInt(255/(65535/(u+32768))),o.setInt8(a,u,!0)}else for(var p=0;p<r.length;p++,a+=2){var d=Math.max(-1,Math.min(1,r[p]));o.setInt16(a,d<0?32768*d:32767*d,!0)}return new Blob([o],{type:"audio/wav"})}};this.recorder.onaudioprocess=function(e){a.input(e.inputBuffer.getChannelData(0)),r(e)}}return e.get=function(t,r,n){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){var i=new e(n,r);t(i)}).catch(function(e){n(e)}):navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(n){var i=new e(n,r);t(i)},n):n(new Error("BrowserNotSupported"))},e.prototype.start=function(){this.audioInput.connect(this.recorder),this.recorder.connect(this.context.destination)},e.prototype.stop=function(){this.audioInput.disconnect(this.recorder),this.recorder.disconnect(this.context.destination),this.stream.getAudioTracks().forEach(function(e){e.stop()}),this.stream=null},e.prototype.getBlob=function(){return this.audioData.encodeWAV()},e.prototype.play=function(e){e.src=window.URL.createObjectURL(this.getBlob())},e.prototype.clear=function(){this.audioData.buffer=[],this.audioData.size=0},e}();t.default=n},function(e,t,r){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(this,r(2))},function(e,t,r){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var n=r(13),i=Object.create(n?t:window),o=/["&'<>]/;i.$escape=function(e){return function(e){var t=""+e,r=o.exec(t);if(!r)return e;var n="",i=void 0,a=void 0,c=void 0;for(i=r.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}a!==i&&(n+=t.substring(a,i)),a=i+1,n+=c}return a!==i?n+t.substring(a,i):n}(function e(t){"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},i.$each=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t(e[r],r);else for(var i in e)t(e[i],i)},e.exports=i}).call(this,r(2))},function(e,t,r){r(3);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__multi-file-div">\n    <div class="fv__multi-item fv__activated">\n        <label>\n            <input type="radio" name="file-type" class="file-type-radio" value="1" checked />\n            <span class="fv__multi-file-label">File: </span>\n        </label>\n        <input type="file" class="fv__multi-file" accept="audio/wav, audio/mpeg, audio/mp4, video/mp4, video/quicktime" />\n    </div>\n    <div class="fv__multi-item">\n        <label>\n            <input type="radio" name="file-type" class="file-type-radio" value="2" />\n            <span class="fv__multi-file-label">Recorder: </span>\n        </label>\n        <span class="fv__record-record"></span>\n        <audio class="fv__record-audio fv__record-hide" controls controlslist="nodownload" controlslist="nofullscreen"></audio>\n    </div>\n    <div class="fv__record-error"></div>\n    <div class="fv__multi-item">\n        <span class="fv__multi-file-label fv__poster-file-label">Poster File: </span>\n        <input type="file" class="fv__poster-file" accept="image/gif, image/jpeg, image/png" />\n    </div>\n</div>\n<div class="fv__multi-file-div fv__multi-file-btn">\n    <button type="button" class="fv__multi-media-btn" disabled>Ok</button>\n    <button type="button" class="fv__multi-media-cancel">Cancel</button>\n</div>'}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,r){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),o=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,c=0,s=[],l=r(16);function u(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=n[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(h(i.parts[a],t))}else{var c=[];for(a=0;a<i.parts.length;a++)c.push(h(i.parts[a],t));n[i.id]={id:i.id,refs:1,parts:c}}}}function p(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(c):r.push(n[a]={id:a,parts:[c]})}return r}function d(e,t){var r=o(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=s[s.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),s.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertInto+" "+e.insertAt.before);r.insertBefore(t,i)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=s.indexOf(e);t>=0&&s.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),M(t,e.attrs),d(e,t),t}function M(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function h(e,t){var r,n,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var s=c++;r=a||(a=m(t)),n=v.bind(null,r,s,!1),i=v.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",M(t,e.attrs),d(e,t),t}(t),n=function(e,t,r){var n=r.css,i=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(n=l(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,r,t),i=function(){f(r),r.href&&URL.revokeObjectURL(r.href)}):(r=m(t),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){f(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=p(e,t);return u(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var a=r[o];(c=n[a.id]).refs--,i.push(c)}e&&u(p(e,t),t);for(o=0;o<i.length;o++){var c;if(0===(c=i[o]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete n[c.id]}}}};var y=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function v(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),o=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(o).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(0));r(26);var i=a(r(15)),o=a(r(12));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"multi-media-popup"},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("multi-media-popup")},t.prototype.rendered=function(){this.isRecording=!1,this.element.querySelector(".fv__ui-layer-panel").innerHTML=(0,i.default)(),this.recordErrorDiv=this.element.querySelector(".fv__record-error"),this.localize()},t.prototype.setSubmitCallback=function(e){this.callback=e},t.prototype.show=function(){e.prototype.show.call(this),this.reset()},t.prototype.reset=function(){var e=this.element.querySelector(".fv__multi-file");e.value="",e.removeAttribute("disabled"),this.element.querySelector(".fv__poster-file").value="",this.audio&&(this.audio.src="",this.audio.classList.contains("fv__record-hide")||this.audio.classList.remove("fv__record-hide")),this.recorder&&this.recorder.clear(),this.lastAudioUrl="";var t=this.element.querySelector(".file-type-radio");t.checked=!0,this.element.querySelector(".fv__activated").classList.remove("fv__activated"),t.parentNode.parentNode.classList.add("fv__activated"),this.submitBtn=this.element.querySelector(".fv__multi-media-btn"),this.submitBtn.setAttribute("disabled",""),this.hideRecordError()},t.prototype.getValidatedFileDatas=function(){var e=void 0;if(this.element.querySelector(".file-type-radio").checked){if(e=this.element.querySelector(".fv__multi-file").files[0]){var t=e.name.substr(e.name.lastIndexOf(".")).toLowerCase();if(-1===[".mp4",".mp3",".m4a",".wav",".mov"].indexOf(t))return this.submitBtn.setAttribute("disabled",""),!1}}else if(this.recorder){if(!this.element.querySelector(".fv__record-record").classList.contains("fv__recording")){var r=this.recorder.getBlob();r&&(e=new File([r],"record.wav",{type:"audio/wav"}))}}var n=this.element.querySelector(".fv__poster-file").files[0];if(n){var i=n.name.substr(n.name.lastIndexOf(".")).toLowerCase();if(-1===[".png",".jpg",".jpeg",".gif"].indexOf(i))return this.submitBtn.setAttribute("disabled",""),!1}return e?(this.submitBtn.removeAttribute("disabled"),[e,n]):(this.submitBtn.setAttribute("disabled",""),!1)},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var r=this.audio=this.element.querySelector(".fv__record-audio");this.element.querySelector(".fv__multi-file").addEventListener("change",function(e){t.getValidatedFileDatas()}),this.element.querySelector(".fv__multi-media-btn").addEventListener("click",function(e){var r=t.getValidatedFileDatas();!1!==r&&(t.callback&&t.callback.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r)),t.hide())}),this.element.querySelector(".fv__multi-media-cancel").addEventListener("click",function(e){t.hide()}),this.element.querySelectorAll(".file-type-radio").forEach(function(e){e.addEventListener("change",function(e){t.getValidatedFileDatas(),t.recordErrorDiv.innerHTML="",t.recordErrorDiv.classList.remove("fv__record-error-show"),t.element.querySelector(".fv__activated").classList.remove("fv__activated"),e.target.parentNode.parentNode.classList.add("fv__activated"),1==e.target.value?(t.lastAudioUrl=t.audio.src,t.audio.src="",t.audio.classList.add("fv__record-hide"),t.element.querySelector(".fv__multi-file").removeAttribute("disabled")):(t.stop(),t.audio.src=t.lastAudioUrl,t.lastAudioUrl&&t.audio.classList.remove("fv__record-hide"),t.element.querySelector(".fv__multi-file").setAttribute("disabled",""))})}),this.element.querySelector(".fv__record-record").addEventListener("click",function(e){if(!t.element.querySelector(".file-type-radio").checked)if(t.hideRecordError(),e.target.classList.contains("fv__recording"))e.target.classList.remove("fv__recording"),t.recorder.stop(),t.recorder.play(r),t.audio.classList.remove("fv__record-hide"),t.getValidatedFileDatas();else{var n=0;o.default.get(function(r){e.target.classList.add("fv__recording"),t.getValidatedFileDatas(),t.recorder=r,t.recorder.start()},function(e){var i=parseInt(e.playbackTime);i>n&&(t.recorder.play(r),0===n&&t.audio.classList.remove("fv__record-hide"),n=i)},function(e){t.showRecordError(e)})}})},t.prototype.stop=function(){var e=this.element.querySelector(".fv__record-record");e.classList.contains("fv__recording")&&(e.classList.remove("fv__recording"),this.recorder.stop(),this.recorder.play(audio),this.audio.classList.remove("fv__record-hide"),this.getValidatedFileDatas())},t.prototype.hideRecordError=function(){this.recordErrorDiv.innerHTML="",this.recordErrorDiv.classList.remove("fv__record-error-show")},t.prototype.showRecordError=function(e){console.error(e);var t=e.name||e.message,r=void 0;"http:"==location.protocol?r="This audio feature requires HTTPS to continue.":"NotFoundError"==t||"DeviceNotFoundError"==t?("DeviceNotFoundError",r="The device not found."):"NotReadableError"==t||"TrackStartError"==t?("TrackStartError",r="Microphone are already in use."):"NotAllowedError"==t||"PermissionDeniedError"==t?("PermissionDeniedError",r="Please check if your browser is allowed for a microphone."):(t,r="Browser not supported."),this.recordErrorDiv.innerHTML=r,this.recordErrorDiv.classList.add("fv__record-error-show")},t}(n.widgets.LayerComponent);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(0)),i=s(r(20));r(11);var o=s(r(7)),a=s(r(5)),c=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var u=(0,a.default)(),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"multi-media"},t.getLoader=function(){return c.default},t.prototype.init=function(){var e=n.modular.module("multi-media",[]),t=e.getRegistry();this.module=e,t.registerComponent(i.default),e.registerFragment("multi-media-button",{template:u,config:[{target:"multi-media-btn",tooltip:{title:"multi-media:buttons.title"},callback:o.default}]})},t.prototype.fragments=function(){return[]},t}(n.UIXAddon);t.default=p},,,,,function(e,t){}]).default});