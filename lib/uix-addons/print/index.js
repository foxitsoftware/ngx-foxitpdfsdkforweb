!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.PrintUIXAddon=e(require("UIExtension")):t.PrintUIXAddon=e(t.UIExtension)}(self,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(e,n){e.exports=t},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var a=o.PDFViewCtrl.Deps.jQuery,s=o.PDFViewCtrl.Events,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.startIndex=0,r.endIndex=0,r.pageCount=0,r.fromToArray=[],r}return i(e,t),e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(s.openFileSuccess,function(e){t.pageCount=e.getPageCount()}))},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.$closeBtn=a(this.component.getComponentByName("print-dialog-close-btn").element),this.$okBtn=a(this.component.getComponentByName("print-dialog-ok-btn").element),this.$range=a(this.component.getComponentByName("range-item").element),this.$rangeFrom=a(this.component.getComponentByName("range-from").element),this.$rangeTo=a(this.component.getComponentByName("range-to").element),this.$rangeAssign=a(this.component.getComponentByName("range-assign").element),this.$printComments=a(this.component.getComponentByName("print-comments").element),this._bindEvent()},e.prototype._bindEvent=function(){var t=this,e=this,n=this.getPDFUI();function o(){e.$rangeFrom.prop({disabled:!0}),e.$rangeTo.prop({disabled:!0})}function i(){e.$rangeAssign.prop({disabled:!0})}function s(){a(".fv__print-error").removeClass("fv__print-error")}this.$range.find("[value='current']").prop({checked:"checked"}),o(),i(),s(),this.$closeBtn.on("click",function(){t.component.hide()}),this.$range.find("[name='print-range']").on("change",function(e){var n=e.target.value;switch(s(),n){case"fromTo":t.$rangeFrom.prop({disabled:!1}),t.$rangeTo.prop({disabled:!1}),i();break;case"assign":t.$rangeAssign.prop({disabled:!1}),o();break;default:i(),o()}}),this.$rangeFrom.on("input",function(n){var r=n.target.value;r>e.pageCount?t.$rangeFrom.val(e.pageCount):r>e.$rangeTo.val()&&e.$rangeTo.val(r)}),this.$rangeTo.on("input",function(n){n.target.value>e.pageCount&&t.$rangeTo.val(e.pageCount)}),this.$okBtn.on("click",function(){n.getPDFDocRender().then(function(n){var o={fromToArray:[]},i=o.rangeType=t.$range.find("[name='print-range']:checked").val();switch(i){case"all":o.startIndex=0,o.endIndex=e.pageCount-1;break;case"current":o.startIndex=n.getCurrentPageIndex(),o.endIndex=o.startIndex;break;case"fromTo":if(o.startIndex=e.$rangeFrom.val()-1,o.endIndex=e.$rangeTo.val()-1,o.startIndex<0||o.startIndex>e.pageCount-1)return void t.showError(e.$rangeFrom);if(o.endIndex<0||o.endIndex>e.pageCount-1)return void t.showError(e.$rangeTo);break;default:var a=e.$rangeAssign.val();if(new RegExp(/[^\d\-,]/).test(a))return void t.showError(e.$rangeAssign);for(var s=a.split(","),u=0;u<s.length;u++){var c=s[u];if(c.indexOf("-")>-1){var l=c.split("-"),p=r(l,3),d=p[0],f=p[1];if(p[2])return void t.showError(e.$rangeAssign);var g=Math.min(+d-1,+f),m=Math.max(+d-1,+f);if(g<0||m>e.pageCount-1)return void t.showError(e.$rangeAssign);o.fromToArray.push([g,m])}else{if(c<1||c>e.pageCount)return void t.showError(e.$rangeAssign);o.fromToArray.push([c-1,+c])}}}var v=t.$printComments.prop("checked");o.printType=v?["page","annot"]:["page"];var b=0;if("assign"===i)for(var h=0;h<o.fromToArray.length;h++){b+=o.fromToArray[h][1]-o.fromToArray[h][0]}else b=o.endIndex-o.startIndex;o.total=b,t.component.hide(),t.getPDFUI().printPDFDocument(o)})})},e.prototype.showError=function(t){t.addClass("fv__print-error"),console.log("error")},e}(o.Controller);e.default=u},function(t,e,n){(function(e){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,n(1))},function(t,e,n){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var r=n(3),o=Object.create(r?e:window),i=/["&'<>]/;o.$escape=function(t){return function(t){var e=""+t,n=i.exec(e);if(!n)return t;var r="",o=void 0,a=void 0,s=void 0;for(o=n.index,a=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==o&&(r+=e.substring(a,o)),a=o+1,r+=s}return a!==o?r+e.substring(a,o):r}(function t(e){"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},o.$each=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var o in t)e(t[o],o)},t.exports=o}).call(this,n(1))},function(t,e,n){"use strict";t.exports=n(4)},function(t,e,n){n(5);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer name="print-dialog" class="fv__ui-print-layer center" append-to="body" @draggable>\n    <layer-header title="print:dialog.printDialog.title"></layer-header>\n    <div class="fv__ui-print-dialog" @stop-drag>\n        <div class="fv__ui-print-dialog-body">\n            <div class="fv__ui-print-item" name="range-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.range"></div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="all"/><span data-i18n="print:dialog.printDialog.all"></span></label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="current"/><span data-i18n="print:dialog.printDialog.current"></span></label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="fromTo"/><span data-i18n="print:dialog.printDialog.from"></span><input class="print-common-input" type="number" min="1" name="range-from"/><span data-i18n="print:dialog.printDialog.to"></span><input class="print-common-input" type="number" name="range-to"/></label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="assign"/><span data-i18n="print:dialog.printDialog.assign"></span><input class="print-common-input" type="text" name="range-assign"/><span>1,2,5-8</span></label>\n                </div>\n            </div>\n            <div class="fv__ui-print-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.comments"></div>\n                <div class="fv__ui-print-comments">\n                    <label><input name="print-comments" type="checkbox" value=""/><span data-i18n="print:dialog.printDialog.printComments"></span></label>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-print-dialog-footer">\n            <div class="fv__ui-print-dialog-btns">\n                <button class="fv__ui-print-btn fv__ui-print-dialog-cancel" data-i18n="print:dialog.cancel" name="print-dialog-close-btn"></button>\n                <button class="fv__ui-print-btn fv__ui-print-dialog-ok" data-i18n="print:dialog.ok" name="print-dialog-ok-btn"></button>\n            </div>\n        </div>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=navigator.userAgent.toLowerCase(),o=/opera|opr/.test(r),i=/msie/.test(r),a=/trident/.test(r),s=/\sapplewebkit\//.test(r),u=/chrome/.test(r),c=/safari/.test(r),l=/firefox/.test(r),p=e.isIE=(a||i)&&!o&&"msSaveBlob"in navigator,d=e.isIEAtLeast11=!i&&a&&!o,f=e.isEdge=r.indexOf("edge")>-1,g=e.isOpera=o,m=e.isWebkit=s,v=e.isChrome=!g&&u&&!!window.chrome,b=e.isSafari=!g&&c&&!u,h=e.isGecko="Gecko"==navigator.product&&!m&&!g,y=e.isFirefox=!v&&!g&&!b&&l,w=e.isMaxthon=/maxthon/.test(r),_=e.isQuirksMode="BackCompact"==document.CompactMode,x=e.isQQ=/tencenttraveler/.test(r)||/qqbrowser/.test(r),O=e.isSougou=/metasr/.test(r)||/sogou/.test(r),P=e.isBaidu=/baidubrowser/.test(r),C=e.isUC=/ucbrowser/.test(r),k=e.isLiebao=/liebao/.test(r),j=e.isMiuiBrowser=/miuibrowser/.test(r),I=e.is360=function(){if(x||C||O||j||k||w)return!1;if(-1===r.indexOf("chrome"))return!1;var t=function(t,e){var n=navigator.mimeTypes;for(var r in n)if(n[r][t]==e)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||t}();e.isIE8=!!document.documentMode&&document.documentMode<8,e.isIE8Compact=8==document.documentMode,e.isIE9Compact=9==document.documentMode,e.isIE10Compact=10==document.documentMode,e.BROWSER_DETECTION={ie:p,ieAtLeast11:d,edge:f,opera:g,webkit:m,chrome:v,safari:b,gecko:h,firefox:y,maxthon:w,quirksMode:_,"quirks-mode":_,qq:x,sougou:O,baidu:P,liebao:k,uc:C,miui:j,360:I}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.isTouchDevice=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))}(),o=navigator.userAgent.toLowerCase(),i=e.isIOS=/ipad|iphone|ipod/.test(o),a=e.isIPHONE=/iphone/.test(o),s=e.isIPAD=/ipad/.test(o),u=e.isIPOD=/ipod/.test(o),c=e.isAndroid=/android/.test(o),l=e.isBlackBerry=/blackberry/.test(o),p=e.isWebOS=/webos/.test(o),d=e.isKindle=/silk|kindle/.test(o),f=e.isTablet=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(o),g=e.isMobile=!f&&(/mobile/.test(o)||i||c||l||p||d),m=e.isDesktop=!(g||f||c||a||s||u||d||p),v=e.isMiPad=/(MI(.*|\s*)PAD).*/i.test(o),b=e.isXiaomi=!v&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(o);e.DEVICE_DETACTION={ios:i,iphone:a,ipad:s,ipod:u,android:c,blackberry:l,webos:p,kindle:d,tablet:f,mobile:g,desktop:m,xiaomi:b,touch:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedPrint=function(){return!r.isMobile||o.isChrome||o.isSafari};var r=n(8),o=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n(17);var i=n(9);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"ShowPrintDialogController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);this.getPDFUI().getKeyboardEventBinder(o.UIConsts.PDFUI_BINDER).then(function(t){try{t.registerKeybinding("print-command","Ctrl+P")}catch(t){return}e.addDestroyHook(t.before("print-command",function(t){t.preventDefault()}),t.on("print-command",function(){e.component.isLocked||e.handle()}))})},e.prototype.handle=function(){if((0,i.supportedPrint)()){var t=this.getComponentByName("print-dialog");t.update(),t.open(document.body)}else this.getPDFUI().alert("print:dialog.unsupported.message","print:dialog.unsupported.title")},r(e,null,[{key:"permission",get:function(){return 4}}]),e}(o.Controller);e.default=s},function(t,e){t.exports=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=u(n(11)),i=u(n(10)),a=u(n(6)),s=u(n(2));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"print"},e.getLoader=function(){return o.default},e.prototype.init=function(){var t=r.modular.module("print",[]);t.registerController(i.default),t.registerFragment("contextmenu-item-print",{template:'<contextmenu-item name="fv--contextmenu-item-print" @controller="print:ShowPrintDialogController" shortcut="Ctrl + P">print:button-tooltip.title</contextmenu-item>'}),t.registerFragment("print-button",{template:'<xbutton @tooltip name="print-button" icon-class="fv__icon-toolbar-print" @controller="print:ShowPrintDialogController">print:button-tooltip.title</xbutton>',config:[{target:"print-button",tooltip:{title:"print:button-tooltip.title"}}]}),t.registerFragment("print-dialog",{template:(0,a.default)(),config:[{target:"print-dialog",callback:s.default}]})},e.prototype.fragments=function(){return[]},e}(r.UIXAddon);e.default=l},,,,,function(t,e){}]).default});