!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.FilePropertyAddon=e(require("UIExtension")):t.FilePropertyAddon=e(t.UIExtension)}(self,function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(e,r){e.exports=t},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=null},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var i=n.PDFViewCtrl.Events,a=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r))}return o(e,t),e.getName=function(){return"FileInfoCallbackController"},e.prototype.handle=function(){this.popop.show()},e.prototype.mounted=function(){var t=this;this.popop=this.getComponentByName("file-property-popup"),this.getPDFUI().addViewerEventListener(i.openFileSuccess,function(e){t.currentDoc=e,e.getMetadata().then(function(e){t.popop.updateData(e)})})},e}(n.Controller);e.default=a},function(t,e,r){(function(e){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,r(1))},function(t,e,r){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var n=r(4),o=Object.create(n?e:window),i=/["&'<>]/;o.$escape=function(t){return function(t){var e=""+t,r=i.exec(e);if(!r)return t;var n="",o=void 0,a=void 0,u=void 0;for(o=r.index,a=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:u="&#34;";break;case 38:u="&#38;";break;case 39:u="&#39;";break;case 60:u="&#60;";break;case 62:u="&#62;";break;default:continue}a!==o&&(n+=e.substring(a,o)),a=o+1,n+=u}return a!==o?n+e.substring(a,o):n}(function t(e){"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},o.$each=function(t,e){if(Array.isArray(t))for(var r=0,n=t.length;r<n;r++)e(t[r],r);else for(var o in t)e(t[o],o)},t.exports=o}).call(this,r(1))},function(t,e,r){"use strict";t.exports=r(5)},function(t,e,r){var n=r(6);t.exports=function(t){"use strict";t=t||{};var e="",r=n.$escape;return e+='<table class="file-property-table">\n    <tr>\n        <td data-i18n="file-property:dialog.title"></td>\n        <td>',e+=r(t.Title),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.subject"></td>\n        <td>',e+=r(t.Subject),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.keywords"></td>\n        <td>',e+=r(t.Keywords),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.author"></td>\n        <td>',e+=r(t.Author),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.producer"></td>\n        <td>',e+=r(t.Producer),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.creator"></td>\n        <td>',e+=r(t.Creator),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.createdDate"></td>\n        <td class="fv__format-utc">',e+=r(t.CreationDate),e+='</td>\n    </tr>\n    <tr>\n        <td data-i18n="file-property:dialog.modifiedDate"></td>\n        <td class="fv__format-utc">',e+=r(t.ModDate),e+="</td>\n    </tr>\n</table>"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));r(18);var o=function(t){return t&&t.__esModule?t:{default:t}}(r(7));function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"file-property-popup"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("file-property-popup")},e.prototype.prefixInteger=function(t,e){return(Array(e).join(0)+t).slice(-e)},e.prototype.formatDatetime=function(t){if(!t)return t;try{var e=new Date(t);if("Invalid Date"==e){if("D:"!=t.substr(0,2))return t;(e=new Date).setUTCFullYear(t.substr(2,4)),e.setUTCMonth(t.substr(6,2)-1),e.setUTCDate(t.substr(8,2)),e.setUTCHours(t.substr(10,2)),e.setUTCMinutes(t.substr(12,2)),e.setUTCSeconds(t.substr(14,2));var r=t.substr(16,1);if("+"==r||"-"==r){var n=1e3*(60*(1*t.substr(17,2))*60+60*(1*t.substr(20,2))),o=e.getTime();"-"==r?e.setTime(o+n):e.setTime(o-n)}}t=e.getFullYear()+"-"+this.prefixInteger(e.getMonth()+1,2)+"-"+this.prefixInteger(e.getDate(),2)+" "+this.prefixInteger(e.getHours(),2)+":"+this.prefixInteger(e.getMinutes(),2)+":"+this.prefixInteger(e.getSeconds(),2)}catch(t){}return t},e.prototype.updateData=function(t){t.CreationDate=this.formatDatetime(t.CreationDate),t.ModDate=this.formatDatetime(t.ModDate),this.element.querySelector(".fv__ui-layer-panel").innerHTML=(0,o.default)(t),this.localize()},e.prototype.toggle=function(){this.shown?(this.hide(),this.shown=!1):(this.show(),this.shown=!0)},e}(n.widgets.LayerComponent);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0)),o=u(r(8));r(13);var i=u(r(3)),a=u(r(2));function u(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}}(t,e))}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return p(e,t),e.getName=function(){return"file-property"},e.getLoader=function(){return a.default},e.prototype.init=function(){var t=n.modular.module("fpmodule",[]);t.registerComponent(o.default),t.registerController(i.default),t.registerFragment("contextmenu-item-file-property",{template:'<contextmenu-item name="fv--file-property-contextmenu" @controller="fpmodule:FileInfoCallbackController">file-property:buttons.title</contextmenu-item>'}),t.registerFragment("file-property-dialog",{template:'\n                <fpmodule:file-property-popup name="file-property-popup" append-to="body" class="center" modal backdrop>\n                    <layer-header title="file-property:buttons.title" @draggable="{type:\'parent\'}"></layer-header>\n                    <layer-view>\n                    </layer-view>\n                </fpmodule:file-property-popup>\n            '}),t.registerFragment("file-property-button",{template:'<xbutton name="file-property-btn" icon-class="fv__icon-properties" @tooltip>file-property:buttons.title</xbutton>',config:[{target:"file-property-btn",tooltip:{title:"file-property:buttons.title"},callback:i.default}]})},e.prototype.fragments=function(){return[]},e}(n.UIXAddon);e.default=f},,,,function(t,e){},,,,,function(t,e){}]).default});