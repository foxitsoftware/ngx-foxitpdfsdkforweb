!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.UIExtension=e():t.UIExtension=e()}(self,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1249)}([function(t,e,n){var o=n(12),r=n(59),i=n(46),a=n(45),s=n(58),u=function(t,e,n){var c,l,f,p,d=t&u.F,h=t&u.G,g=t&u.S,m=t&u.P,y=t&u.B,v=h?o:g?o[e]||(o[e]={}):(o[e]||{}).prototype,b=h?r:r[e]||(r[e]={}),w=b.prototype||(b.prototype={});for(c in h&&(n=e),n)f=((l=!d&&v&&void 0!==v[c])?v:n)[c],p=y&&l?s(f,o):m&&"function"==typeof f?s(Function.call,f):f,v&&a(v,c,f,t&u.U),b[c]!=f&&i(b,c,p),m&&w[c]!=f&&(w[c]=f)};o.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var o;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var i=[],a=n.document,s=Object.getPrototypeOf,u=i.slice,c=i.concat,l=i.push,f=i.indexOf,p={},d=p.toString,h=p.hasOwnProperty,g=h.toString,m=g.call(Object),y={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},w={type:!0,src:!0,noModule:!0};function A(t,e,n){var o,r=(e=e||a).createElement("script");if(r.text=t,n)for(o in w)n[o]&&(r[o]=n[o]);e.head.appendChild(r).parentNode.removeChild(r)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[d.call(t)]||"object":typeof t}var P=function(t,e){return new P.fn.init(t,e)},O=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(t){var e=!!t&&"length"in t&&t.length,n=_(t);return!v(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}P.fn=P.prototype={jquery:"3.3.1",constructor:P,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=P.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return P.each(this,t)},map:function(t){return this.pushStack(P.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},P.extend=P.fn.extend=function(){var t,e,n,o,r,i,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(o=t[e])&&(c&&o&&(P.isPlainObject(o)||(r=Array.isArray(o)))?(r?(r=!1,i=n&&Array.isArray(n)?n:[]):i=n&&P.isPlainObject(n)?n:{},a[e]=P.extend(c,i,o)):void 0!==o&&(a[e]=o));return a},P.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=h.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){A(t)},each:function(t,e){var n,o=0;if(E(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(O,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?P.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,o=0,r=t.length;o<n;o++)t[r++]=e[o];return t.length=r,t},grep:function(t,e,n){for(var o=[],r=0,i=t.length,a=!n;r<i;r++)!e(t[r],r)!==a&&o.push(t[r]);return o},map:function(t,e,n){var o,r,i=0,a=[];if(E(t))for(o=t.length;i<o;i++)null!=(r=e(t[i],i,n))&&a.push(r);else for(i in t)null!=(r=e(t[i],i,n))&&a.push(r);return c.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=i[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var x=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,o,r,i,a,s,u,c,l,f,p,d,h,g,m,y,v,b,w="sizzle"+1*new Date,A=t.document,_=0,P=0,O=at(),E=at(),x=at(),C=function(t,e){return t===e&&(f=!0),0},S={}.hasOwnProperty,D=[],M=D.pop,T=D.push,j=D.push,I=D.slice,R=function(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+F+"*("+N+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+F+"*\\]",V=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",B=new RegExp(F+"+","g"),U=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),H=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),z=new RegExp(V),$=new RegExp("^"+N+"$"),Y={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),tt=function(t,e,n){var o="0x"+e-65536;return o!=o||n?e:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){p()},rt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{j.apply(D=I.call(A.childNodes),A.childNodes),D[A.childNodes.length].nodeType}catch(t){j={apply:D.length?function(t,e){T.apply(t,I.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}function it(t,e,o,r){var i,s,c,l,f,h,y,v=e&&e.ownerDocument,_=e?e.nodeType:9;if(o=o||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return o;if(!r&&((e?e.ownerDocument||e:A)!==d&&p(e),e=e||d,g)){if(11!==_&&(f=X.exec(t)))if(i=f[1]){if(9===_){if(!(c=e.getElementById(i)))return o;if(c.id===i)return o.push(c),o}else if(v&&(c=v.getElementById(i))&&b(e,c)&&c.id===i)return o.push(c),o}else{if(f[2])return j.apply(o,e.getElementsByTagName(t)),o;if((i=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return j.apply(o,e.getElementsByClassName(i)),o}if(n.qsa&&!x[t+" "]&&(!m||!m.test(t))){if(1!==_)v=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=w),s=(h=a(t)).length;s--;)h[s]="#"+l+" "+yt(h[s]);y=h.join(","),v=J.test(t)&&gt(e.parentNode)||e}if(y)try{return j.apply(o,v.querySelectorAll(y)),o}catch(t){}finally{l===w&&e.removeAttribute("id")}}}return u(t.replace(U,"$1"),e,o,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>o.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[w]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)o.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ht(t){return st(function(e){return e=+e,st(function(n,o){for(var r,i=t([],n.length,e),a=i.length;a--;)n[r=i[a]]&&(n[r]=!(o[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=it.support={},i=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=it.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:A;return a!==d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,g=!i(d),A!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ut(function(t){return h.appendChild(t).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(o.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(o.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,o,r,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(r=e.getElementsByName(t),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),o.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,o=[],r=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},o.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],m=[],(n.qsa=Q.test(d.querySelectorAll))&&(ut(function(t){h.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+k+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),e=Q.test(h.compareDocumentPosition),b=e||Q.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return f=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===o?t===d||t.ownerDocument===A&&b(A,t)?-1:e===d||e.ownerDocument===A&&b(A,e)?1:l?R(l,t)-R(l,e):0:4&o?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,o=0,r=t.parentNode,i=e.parentNode,a=[t],s=[e];if(!r||!i)return t===d?-1:e===d?1:r?-1:i?1:l?R(l,t)-R(l,e):0;if(r===i)return lt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[o]===s[o];)o++;return o?lt(a[o],s[o]):a[o]===A?-1:s[o]===A?1:0},d):d},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&p(t),e=e.replace(q,"='$1']"),n.matchesSelector&&g&&!x[e+" "]&&(!y||!y.test(e))&&(!m||!m.test(e)))try{var o=v.call(t,e);if(o||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){}return it(e,d,null,[t]).length>0},it.contains=function(t,e){return(t.ownerDocument||t)!==d&&p(t),b(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==d&&p(t);var r=o.attrHandle[e.toLowerCase()],i=r&&S.call(o.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==i?i:n.attributes||!g?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},it.escape=function(t){return(t+"").replace(et,nt)},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,o=[],r=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(C),f){for(;e=t[i++];)e===t[i]&&(r=o.push(i));for(;r--;)t.splice(o[r],1)}return l=null,t},r=it.getText=function(t){var e,n="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[o++];)n+=r(e);return n},(o=it.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=O[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&O(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var r=it.attr(o,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,o,r){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===o&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,p,d,h,g=i!==a?"nextSibling":"previousSibling",m=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!u&&!s,b=!1;if(m){if(i){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(b=(d=(c=(l=(f=(p=m)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[t]||[])[0]===_&&c[1])&&c[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===e){l[t]=[_,d,b];break}}else if(v&&(b=d=(c=(l=(f=(p=e)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[t]||[])[0]===_&&c[1]),!1===b)for(;(p=++d&&p&&p[g]||(b=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&((l=(f=p[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[t]=[_,b]),p!==e)););return(b-=r)===o||b%o==0&&b/o>=0}}},PSEUDO:function(t,e){var n,r=o.pseudos[t]||o.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],o.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var o,i=r(t,e),a=i.length;a--;)t[o=R(t,i[a])]=!(n[o]=i[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],o=s(t.replace(U,"$1"));return o[w]?st(function(t,e,n,r){for(var i,a=o(t,null,r,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))}):function(t,r,i){return e[0]=t,o(e,null,i,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return it(t,e).length>0}}),contains:st(function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return $.test(t||"")||it.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var o=n<0?n+e:n;--o>=0;)t.push(o);return t}),gt:ht(function(t,e,n){for(var o=n<0?n+e:n;++o<e;)t.push(o);return t})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})o.pseudos[e]=pt(e);function mt(){}function yt(t){for(var e=0,n=t.length,o="";e<n;e++)o+=t[e].value;return o}function vt(t,e,n){var o=e.dir,r=e.next,i=r||o,a=n&&"parentNode"===i,s=P++;return e.first?function(e,n,r){for(;e=e[o];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var c,l,f,p=[_,s];if(u){for(;e=e[o];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[o];)if(1===e.nodeType||a)if(l=(f=e[w]||(e[w]={}))[e.uniqueID]||(f[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[o]||e;else{if((c=l[i])&&c[0]===_&&c[1]===s)return p[2]=c[2];if(l[i]=p,p[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,o){for(var r=t.length;r--;)if(!t[r](e,n,o))return!1;return!0}:t[0]}function wt(t,e,n,o,r){for(var i,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(i=t[s])&&(n&&!n(i,o,r)||(a.push(i),c&&e.push(s)));return a}function At(t,e,n,o,r,i){return o&&!o[w]&&(o=At(o)),r&&!r[w]&&(r=At(r,i)),st(function(i,a,s,u){var c,l,f,p=[],d=[],h=a.length,g=i||function(t,e,n){for(var o=0,r=e.length;o<r;o++)it(t,e[o],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!i&&e?g:wt(g,p,t,s,u),y=n?r||(i?t:h||o)?[]:a:m;if(n&&n(m,y,s,u),o)for(c=wt(y,d),o(c,[],s,u),l=c.length;l--;)(f=c[l])&&(y[d[l]]=!(m[d[l]]=f));if(i){if(r||t){if(r){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(m[l]=f);r(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=r?R(i,f):p[l])>-1&&(i[c]=!(a[c]=f))}}else y=wt(y===a?y.splice(h,y.length):y),r?r(null,a,y,u):j.apply(a,y)})}function _t(t){for(var e,n,r,i=t.length,a=o.relative[t[0].type],s=a||o.relative[" "],u=a?1:0,l=vt(function(t){return t===e},s,!0),f=vt(function(t){return R(e,t)>-1},s,!0),p=[function(t,n,o){var r=!a&&(o||n!==c)||((e=n).nodeType?l(t,n,o):f(t,n,o));return e=null,r}];u<i;u++)if(n=o.relative[t[u].type])p=[vt(bt(p),n)];else{if((n=o.filter[t[u].type].apply(null,t[u].matches))[w]){for(r=++u;r<i&&!o.relative[t[r].type];r++);return At(u>1&&bt(p),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(U,"$1"),n,u<r&&_t(t.slice(u,r)),r<i&&_t(t=t.slice(r)),r<i&&yt(t))}p.push(n)}return bt(p)}return mt.prototype=o.filters=o.pseudos,o.setFilters=new mt,a=it.tokenize=function(t,e){var n,r,i,a,s,u,c,l=E[t+" "];if(l)return e?0:l.slice(0);for(s=t,u=[],c=o.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(U," ")}),s=s.slice(n.length)),o.filter)!(r=Y[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?it.error(t):E(t,u).slice(0)},s=it.compile=function(t,e){var n,r=[],i=[],s=x[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=_t(e[n]))[w]?r.push(s):i.push(s);(s=x(t,function(t,e){var n=e.length>0,r=t.length>0,i=function(i,a,s,u,l){var f,h,m,y=0,v="0",b=i&&[],w=[],A=c,P=i||r&&o.find.TAG("*",l),O=_+=null==A?1:Math.random()||.1,E=P.length;for(l&&(c=a===d||a||l);v!==E&&null!=(f=P[v]);v++){if(r&&f){for(h=0,a||f.ownerDocument===d||(p(f),s=!g);m=t[h++];)if(m(f,a||d,s)){u.push(f);break}l&&(_=O)}n&&((f=!m&&f)&&y--,i&&b.push(f))}if(y+=v,n&&v!==y){for(h=0;m=e[h++];)m(b,w,a,s);if(i){if(y>0)for(;v--;)b[v]||w[v]||(w[v]=M.call(u));w=wt(w)}j.apply(u,w),l&&!i&&w.length>0&&y+e.length>1&&it.uniqueSort(u)}return l&&(_=O,c=A),b};return n?st(i):i}(i,r))).selector=t}return s},u=it.select=function(t,e,n,r){var i,u,c,l,f,p="function"==typeof t&&t,d=!r&&a(t=p.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&o.relative[u[1].type]){if(!(e=(o.find.ID(c.matches[0].replace(Z,tt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(i=Y.needsContext.test(t)?0:u.length;i--&&(c=u[i],!o.relative[l=c.type]);)if((f=o.find[l])&&(r=f(c.matches[0].replace(Z,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(i,1),!(t=r.length&&yt(u)))return j.apply(n,r),n;break}}return(p||s(t,d))(r,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!f,p(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(k,function(t,e,n){var o;if(!n)return!0===t[e]?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null}),it}(n);P.find=x,P.expr=x.selectors,P.expr[":"]=P.expr.pseudos,P.uniqueSort=P.unique=x.uniqueSort,P.text=x.getText,P.isXMLDoc=x.isXML,P.contains=x.contains,P.escapeSelector=x.escape;var C=function(t,e,n){for(var o=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&P(t).is(n))break;o.push(t)}return o},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},D=P.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(t,e,n){return v(e)?P.grep(t,function(t,o){return!!e.call(t,o,t)!==n}):e.nodeType?P.grep(t,function(t){return t===e!==n}):"string"!=typeof e?P.grep(t,function(t){return f.call(e,t)>-1!==n}):P.filter(e,t,n)}P.filter=function(t,e,n){var o=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?P.find.matchesSelector(o,t)?[o]:[]:P.find.matches(t,P.grep(e,function(t){return 1===t.nodeType}))},P.fn.extend({find:function(t){var e,n,o=this.length,r=this;if("string"!=typeof t)return this.pushStack(P(t).filter(function(){for(e=0;e<o;e++)if(P.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<o;e++)P.find(t,r[e],n);return o>1?P.uniqueSort(n):n},filter:function(t){return this.pushStack(j(this,t||[],!1))},not:function(t){return this.pushStack(j(this,t||[],!0))},is:function(t){return!!j(this,"string"==typeof t&&D.test(t)?P(t):t||[],!1).length}});var I,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(t,e,n){var o,r;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof P?e[0]:e,P.merge(this,P.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),T.test(o[1])&&P.isPlainObject(e))for(o in e)v(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(r=a.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(P):P.makeArray(t,this)}).prototype=P.fn,I=P(a);var k=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}P.fn.extend({has:function(t){var e=P(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(P.contains(this,e[t]))return!0})},closest:function(t,e){var n,o=0,r=this.length,i=[],a="string"!=typeof t&&P(t);if(!D.test(t))for(;o<r;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?P.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?f.call(P(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),P.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,n){return C(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,n){return C(t,"nextSibling",n)},prevUntil:function(t,e,n){return C(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return M(t,"iframe")?t.contentDocument:(M(t,"template")&&(t=t.content||t),P.merge([],t.childNodes))}},function(t,e){P.fn[t]=function(n,o){var r=P.map(this,e,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=P.filter(o,r)),this.length>1&&(F[t]||P.uniqueSort(r),k.test(t)&&r.reverse()),this.pushStack(r)}});var L=/[^\x20\t\r\n\f]+/g;function V(t){return t}function B(t){throw t}function U(t,e,n,o){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(o))}catch(t){n.apply(void 0,[t])}}P.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return P.each(t.match(L)||[],function(t,n){e[n]=!0}),e}(t):P.extend({},t);var e,n,o,r,i=[],a=[],s=-1,u=function(){for(r=r||t.once,o=e=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=i.length,n=!1);t.memory||(n=!1),e=!1,r&&(i=n?[]:"")},c={add:function(){return i&&(n&&!e&&(s=i.length-1,a.push(n)),function e(n){P.each(n,function(n,o){v(o)?t.unique&&c.has(o)||i.push(o):o&&o.length&&"string"!==_(o)&&e(o)})}(arguments),n&&!e&&u()),this},remove:function(){return P.each(arguments,function(t,e){for(var n;(n=P.inArray(e,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(t){return t?P.inArray(t,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return r=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return r=a=[],n||e||(i=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},P.extend({Deferred:function(t){var e=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return P.Deferred(function(n){P.each(e,function(e,o){var r=v(t[o[4]])&&t[o[4]];i[o[1]](function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,o,r){var i=0;function a(t,e,o,r){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(t<i)){if((n=o.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?r?c.call(n,a(i,e,V,r),a(i,e,B,r)):(i++,c.call(n,a(i,e,V,r),a(i,e,B,r),a(i,e,V,e.notifyWith))):(o!==V&&(s=void 0,u=[n]),(r||e.resolveWith)(s,u))}},l=r?c:function(){try{c()}catch(n){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(n,l.stackTrace),t+1>=i&&(o!==B&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?l():(P.Deferred.getStackHook&&(l.stackTrace=P.Deferred.getStackHook()),n.setTimeout(l))}}return P.Deferred(function(n){e[0][3].add(a(0,n,v(r)?r:V,n.notifyWith)),e[1][3].add(a(0,n,v(t)?t:V)),e[2][3].add(a(0,n,v(o)?o:B))}).promise()},promise:function(t){return null!=t?P.extend(t,r):r}},i={};return P.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){o=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,n=e,o=Array(n),r=u.call(arguments),i=P.Deferred(),a=function(t){return function(n){o[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||i.resolveWith(o,r)}};if(e<=1&&(U(t,i.done(a(n)).resolve,i.reject,!e),"pending"===i.state()||v(r[n]&&r[n].then)))return i.then();for(;n--;)U(r[n],a(n),i.reject);return i.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},P.readyException=function(t){n.setTimeout(function(){throw t})};var W=P.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),P.ready()}P.fn.ready=function(t){return W.then(t).catch(function(t){P.readyException(t)}),this},P.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==t&&--P.readyWait>0||W.resolveWith(a,[P]))}}),P.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(P.ready):(a.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var z=function(t,e,n,o,r,i,a){var s=0,u=t.length,c=null==n;if("object"===_(n))for(s in r=!0,n)z(t,e,s,n[s],!0,i,a);else if(void 0!==o&&(r=!0,v(o)||(a=!0),c&&(a?(e.call(t,o),e=null):(c=e,e=function(t,e,n){return c.call(P(t),n)})),e))for(;s<u;s++)e(t[s],n,a?o:o.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):u?e(t[0],n):i},$=/^-ms-/,Y=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function K(t){return t.replace($,"ms-").replace(Y,G)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=P.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var o,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(o in e)r[K(o)]=e[o];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,o=t[this.expando];if(void 0!==o){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in o?[e]:e.match(L)||[]).length;for(;n--;)delete o[e[n]]}(void 0===e||P.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!P.isEmptyObject(e)}};var J=new X,Z=new X,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var o;if(void 0===n&&1===t.nodeType)if(o="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(o))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}P.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),P.fn.extend({data:function(t,e){var n,o,r,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(r=Z.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(o=a[n].name).indexOf("data-")&&(o=K(o.slice(5)),nt(i,o,r[o]));J.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Z.set(this,t)}):z(this,function(e){var n;if(i&&void 0===e)return void 0!==(n=Z.get(i,t))?n:void 0!==(n=nt(i,t))?n:void 0;this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),P.extend({queue:function(t,e,n){var o;if(t)return e=(e||"fx")+"queue",o=J.get(t,e),n&&(!o||Array.isArray(n)?o=J.access(t,e,P.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,e){e=e||"fx";var n=P.queue(t,e),o=n.length,r=n.shift(),i=P._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===e&&n.unshift("inprogress"),delete i.stop,r.call(t,function(){P.dequeue(t,e)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:P.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),P.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?P.queue(this[0],t):void 0===e?this:this.each(function(){var n=P.queue(this,t,e);P._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&P.dequeue(this,t)})},dequeue:function(t){return this.each(function(){P.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,o=1,r=P.Deferred(),i=this,a=this.length,s=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(i[a],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(s));return s(),r.promise(e)}});var ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&P.contains(t.ownerDocument,t)&&"none"===P.css(t,"display")},st=function(t,e,n,o){var r,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];for(i in r=n.apply(t,o||[]),e)t.style[i]=a[i];return r};function ut(t,e,n,o){var r,i,a=20,s=o?function(){return o.cur()}:function(){return P.css(t,e,"")},u=s(),c=n&&n[3]||(P.cssNumber[e]?"":"px"),l=(P.cssNumber[e]||"px"!==c&&+u)&&rt.exec(P.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)P.style(t,e,l+c),(1-i)*(1-(i=s()/u||.5))<=0&&(a=0),l/=i;l*=2,P.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=l,o.end=r)),r}var ct={};function lt(t){var e,n=t.ownerDocument,o=t.nodeName,r=ct[o];return r||(e=n.body.appendChild(n.createElement(o)),r=P.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[o]=r,r)}function ft(t,e){for(var n,o,r=[],i=0,a=t.length;i<a;i++)(o=t[i]).style&&(n=o.style.display,e?("none"===n&&(r[i]=J.get(o,"display")||null,r[i]||(o.style.display="")),""===o.style.display&&at(o)&&(r[i]=lt(o))):"none"!==n&&(r[i]="none",J.set(o,"display",n)));for(i=0;i<a;i++)null!=r[i]&&(t[i].style.display=r[i]);return t}P.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?P(this).show():P(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?P.merge([t],n):n}function yt(t,e){for(var n=0,o=t.length;n<o;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var vt=/<|&#?\w+;/;function bt(t,e,n,o,r){for(var i,a,s,u,c,l,f=e.createDocumentFragment(),p=[],d=0,h=t.length;d<h;d++)if((i=t[d])||0===i)if("object"===_(i))P.merge(p,i.nodeType?[i]:i);else if(vt.test(i)){for(a=a||f.appendChild(e.createElement("div")),s=(dt.exec(i)||["",""])[1].toLowerCase(),u=gt[s]||gt._default,a.innerHTML=u[1]+P.htmlPrefilter(i)+u[2],l=u[0];l--;)a=a.lastChild;P.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(e.createTextNode(i));for(f.textContent="",d=0;i=p[d++];)if(o&&P.inArray(i,o)>-1)r&&r.push(i);else if(c=P.contains(i.ownerDocument,i),a=mt(f.appendChild(i),"script"),c&&yt(a),n)for(l=0;i=a[l++];)ht.test(i.type||"")&&n.push(i);return f}!function(){var t=a.createDocumentFragment().appendChild(a.createElement("div")),e=a.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var wt=a.documentElement,At=/^key/,_t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pt=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function Et(){return!1}function xt(){try{return a.activeElement}catch(t){}}function Ct(t,e,n,o,r,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(o=o||n,n=void 0),e)Ct(t,s,n,o,e[s],i);return t}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=Et;else if(!r)return t;return 1===i&&(a=r,(r=function(t){return P().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=P.guid++)),t.each(function(){P.event.add(this,e,r,o,n)})}P.event={global:{},add:function(t,e,n,o,r){var i,a,s,u,c,l,f,p,d,h,g,m=J.get(t);if(m)for(n.handler&&(n=(i=n).handler,r=i.selector),r&&P.find.matchesSelector(wt,r),n.guid||(n.guid=P.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==P&&P.event.triggered!==e.type?P.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)d=g=(s=Pt.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=P.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,f=P.event.special[d]||{},l=P.extend({type:d,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:h.join(".")},i),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,o,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),P.event.global[d]=!0)},remove:function(t,e,n,o,r){var i,a,s,u,c,l,f,p,d,h,g,m=J.hasData(t)&&J.get(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(L)||[""]).length;c--;)if(d=g=(s=Pt.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=P.event.special[d]||{},p=u[d=(o?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)l=p[i],!r&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||o&&o!==l.selector&&("**"!==o||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(t,h,m.handle)||P.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)P.event.remove(t,d+e[c],n,o,!0);P.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,o,r,i,a,s=P.event.fix(t),u=new Array(arguments.length),c=(J.get(this,"events")||{})[s.type]||[],l=P.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=P.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(o=((P.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,u))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,o,r,i,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(i=[],a={},n=0;n<u;n++)void 0===a[r=(o=e[n]).selector+" "]&&(a[r]=o.needsContext?P(r,this).index(c)>-1:P.find(r,this,null,[c]).length),a[r]&&i.push(o);i.length&&s.push({elem:c,handlers:i})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(P.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[P.expando]?t:new P.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(t){return M(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},P.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},P.Event=function(t,e){if(!(this instanceof P.Event))return new P.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&P.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&At.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&_t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},P.event.addProp),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){P.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=t.relatedTarget,r=t.handleObj;return o&&(o===this||P.contains(this,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),P.fn.extend({on:function(t,e,n,o){return Ct(this,t,e,n,o)},one:function(t,e,n,o){return Ct(this,t,e,n,o,1)},off:function(t,e,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,P(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each(function(){P.event.remove(this,t,n,e)})}});var St=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Dt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&P(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function kt(t,e){var n,o,r,i,a,s,u,c;if(1===e.nodeType){if(J.hasData(t)&&(i=J.access(t),a=J.set(e,i),c=i.events))for(r in delete a.handle,a.events={},c)for(n=0,o=c[r].length;n<o;n++)P.event.add(e,r,c[r][n]);Z.hasData(t)&&(s=Z.access(t),u=P.extend({},s),Z.set(e,u))}}function Ft(t,e){var n=e.nodeName.toLowerCase();"input"===n&&pt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Nt(t,e,n,o){e=c.apply([],e);var r,i,a,s,u,l,f=0,p=t.length,d=p-1,h=e[0],g=v(h);if(g||p>1&&"string"==typeof h&&!y.checkClone&&Mt.test(h))return t.each(function(r){var i=t.eq(r);g&&(e[0]=h.call(this,r,i.html())),Nt(i,e,n,o)});if(p&&(i=(r=bt(e,t[0].ownerDocument,!1,t,o)).firstChild,1===r.childNodes.length&&(r=i),i||o)){for(s=(a=P.map(mt(r,"script"),It)).length;f<p;f++)u=r,f!==d&&(u=P.clone(u,!0,!0),s&&P.merge(a,mt(u,"script"))),n.call(t[f],u,f);if(s)for(l=a[a.length-1].ownerDocument,P.map(a,Rt),f=0;f<s;f++)u=a[f],ht.test(u.type||"")&&!J.access(u,"globalEval")&&P.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?P._evalUrl&&P._evalUrl(u.src):A(u.textContent.replace(Tt,""),l,u))}return t}function Lt(t,e,n){for(var o,r=e?P.filter(e,t):t,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||P.cleanData(mt(o)),o.parentNode&&(n&&P.contains(o.ownerDocument,o)&&yt(mt(o,"script")),o.parentNode.removeChild(o));return t}P.extend({htmlPrefilter:function(t){return t.replace(St,"<$1></$2>")},clone:function(t,e,n){var o,r,i,a,s=t.cloneNode(!0),u=P.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||P.isXMLDoc(t)))for(a=mt(s),o=0,r=(i=mt(t)).length;o<r;o++)Ft(i[o],a[o]);if(e)if(n)for(i=i||mt(t),a=a||mt(s),o=0,r=i.length;o<r;o++)kt(i[o],a[o]);else kt(t,s);return(a=mt(s,"script")).length>0&&yt(a,!u&&mt(t,"script")),s},cleanData:function(t){for(var e,n,o,r=P.event.special,i=0;void 0!==(n=t[i]);i++)if(Q(n)){if(e=n[J.expando]){if(e.events)for(o in e.events)r[o]?P.event.remove(n,o):P.removeEvent(n,o,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),P.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return z(this,function(t){return void 0===t?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(P.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return P.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!gt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=P.htmlPrefilter(t);try{for(;n<o;n++)1===(e=this[n]||{}).nodeType&&(P.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var n=this.parentNode;P.inArray(this,t)<0&&(P.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){P.fn[t]=function(t){for(var n,o=[],r=P(t),i=r.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),P(r[a])[e](n),l.apply(o,n.get());return this.pushStack(o)}});var Vt=new RegExp("^("+ot+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=new RegExp(it.join("|"),"i");function Ht(t,e,n){var o,r,i,a,s=t.style;return(n=n||Bt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||P.contains(t.ownerDocument,t)||(a=P.style(t,e)),!y.pixelBoxStyles()&&Vt.test(a)&&Ut.test(e)&&(o=s.width,r=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=r,s.maxWidth=i)),void 0!==a?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(c).appendChild(l);var t=n.getComputedStyle(l);o="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),r=36===e(t.width),l.style.position="absolute",i=36===l.offsetWidth||"absolute",wt.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var o,r,i,s,u,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,P.extend(y,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),i}}))}();var qt=/^(none|table(?!-c[ea]).+)/,zt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","Moz","ms"],Kt=a.createElement("div").style;function Qt(t){var e=P.cssProps[t];return e||(e=P.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Gt.length;n--;)if((t=Gt[n]+e)in Kt)return t}(t)||t),e}function Xt(t,e,n){var o=rt.exec(e);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):e}function Jt(t,e,n,o,r,i){var a="width"===e?1:0,s=0,u=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=P.css(t,n+it[a],!0,r)),o?("content"===n&&(u-=P.css(t,"padding"+it[a],!0,r)),"margin"!==n&&(u-=P.css(t,"border"+it[a]+"Width",!0,r))):(u+=P.css(t,"padding"+it[a],!0,r),"padding"!==n?u+=P.css(t,"border"+it[a]+"Width",!0,r):s+=P.css(t,"border"+it[a]+"Width",!0,r));return!o&&i>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-i-u-s-.5))),u}function Zt(t,e,n){var o=Bt(t),r=Ht(t,e,o),i="border-box"===P.css(t,"boxSizing",!1,o),a=i;if(Vt.test(r)){if(!n)return r;r="auto"}return a=a&&(y.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===P.css(t,"display",!1,o))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+Jt(t,e,n||(i?"border":"content"),a,o,r)+"px"}function te(t,e,n,o,r){return new te.prototype.init(t,e,n,o,r)}P.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,i,a,s=K(e),u=zt.test(e),c=t.style;if(u||(e=Qt(s)),a=P.cssHooks[e]||P.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,o))?r:c[e];"string"===(i=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ut(t,e,r),i="number"),null!=n&&n==n&&("number"===i&&(n+=r&&r[3]||(P.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,o))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,o){var r,i,a,s=K(e);return zt.test(e)||(e=Qt(s)),(a=P.cssHooks[e]||P.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Ht(t,e,o)),"normal"===r&&e in Yt&&(r=Yt[e]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),P.each(["height","width"],function(t,e){P.cssHooks[e]={get:function(t,n,o){if(n)return!qt.test(P.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Zt(t,e,o):st(t,$t,function(){return Zt(t,e,o)})},set:function(t,n,o){var r,i=Bt(t),a="border-box"===P.css(t,"boxSizing",!1,i),s=o&&Jt(t,e,o,a,i);return a&&y.scrollboxSize()===i.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(i[e])-Jt(t,e,"border",!1,i)-.5)),s&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=P.css(t,e)),Xt(0,n,s)}}}),P.cssHooks.marginLeft=Wt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(t,e){P.cssHooks[t+e]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[t+it[o]+e]=i[o]||i[o-2]||i[0];return r}},"margin"!==t&&(P.cssHooks[t+e].set=Xt)}),P.fn.extend({css:function(t,e){return z(this,function(t,e,n){var o,r,i={},a=0;if(Array.isArray(e)){for(o=Bt(t),r=e.length;a<r;a++)i[e[a]]=P.css(t,e[a],!1,o);return i}return void 0!==n?P.style(t,e,n):P.css(t,e)},t,e,arguments.length>1)}}),P.Tween=te,te.prototype={constructor:te,init:function(t,e,n,o,r,i){this.elem=t,this.prop=n,this.easing=r||P.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=i||(P.cssNumber[n]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,n=te.propHooks[this.prop];return this.options.duration?this.pos=e=P.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):te.propHooks._default.set(this),this}},te.prototype.init.prototype=te.prototype,te.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=P.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){P.fx.step[t.prop]?P.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[P.cssProps[t.prop]]&&!P.cssHooks[t.prop]?t.elem[t.prop]=t.now:P.style(t.elem,t.prop,t.now+t.unit)}}},te.propHooks.scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},P.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},P.fx=te.prototype.init,P.fx.step={};var ee,ne,oe=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ie(){ne&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ie):n.setTimeout(ie,P.fx.interval),P.fx.tick())}function ae(){return n.setTimeout(function(){ee=void 0}),ee=Date.now()}function se(t,e){var n,o=0,r={height:t};for(e=e?1:0;o<4;o+=2-e)r["margin"+(n=it[o])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,n){for(var o,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),i=0,a=r.length;i<a;i++)if(o=r[i].call(n,e,t))return o}function ce(t,e,n){var o,r,i=0,a=ce.prefilters.length,s=P.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=ee||ae(),n=Math.max(0,c.startTime+c.duration-e),o=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(o);return s.notifyWith(t,[c,o,n]),o<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:P.extend({},e),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:e,originalOptions:n,startTime:ee||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var o=P.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(o),o},stop:function(e){var n=0,o=e?c.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(!function(t,e){var n,o,r,i,a;for(n in t)if(r=e[o=K(n)],i=t[n],Array.isArray(i)&&(r=i[1],i=t[n]=i[0]),n!==o&&(t[o]=i,delete t[n]),(a=P.cssHooks[o])&&"expand"in a)for(n in i=a.expand(i),delete t[o],i)n in t||(t[n]=i[n],e[n]=r);else e[o]=r}(l,c.opts.specialEasing);i<a;i++)if(o=ce.prefilters[i].call(c,t,l,c.opts))return v(o.stop)&&(P._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return P.map(l,ue,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),P.fx.timer(P.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}P.Animation=P.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(L);for(var n,o=0,r=t.length;o<r;o++)n=t[o],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var o,r,i,a,s,u,c,l,f="width"in e||"height"in e,p=this,d={},h=t.style,g=t.nodeType&&at(t),m=J.get(t,"fxshow");for(o in n.queue||(null==(a=P._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,P.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[o],oe.test(r)){if(delete e[o],i=i||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[o])continue;g=!0}d[o]=m&&m[o]||P.style(t,o)}if((u=!P.isEmptyObject(e))||!P.isEmptyObject(d))for(o in f&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=J.get(t,"display")),"none"===(l=P.css(t,"display"))&&(c?l=c:(ft([t],!0),c=t.style.display||c,l=P.css(t,"display"),ft([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===P.css(t,"float")&&(u||(p.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:c}),i&&(m.hidden=!g),g&&ft([t],!0),p.done(function(){for(o in g||ft([t]),J.remove(t,"fxshow"),d)P.style(t,o,d[o])})),u=ue(g?m[o]:0,o,p),o in m||(m[o]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),P.speed=function(t,e,n){var o=t&&"object"==typeof t?P.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return P.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in P.fx.speeds?o.duration=P.fx.speeds[o.duration]:o.duration=P.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){v(o.old)&&o.old.call(this),o.queue&&P.dequeue(this,o.queue)},o},P.fn.extend({fadeTo:function(t,e,n,o){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var r=P.isEmptyObject(t),i=P.speed(e,n,o),a=function(){var e=ce(this,P.extend({},t),i);(r||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",i=P.timers,a=J.get(this);if(r)a[r]&&a[r].stop&&o(a[r]);else for(r in a)a[r]&&a[r].stop&&re.test(r)&&o(a[r]);for(r=i.length;r--;)i[r].elem!==this||null!=t&&i[r].queue!==t||(i[r].anim.stop(n),e=!1,i.splice(r,1));!e&&n||P.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),o=n[t+"queue"],r=n[t+"queueHooks"],i=P.timers,a=o?o.length:0;for(n.finish=!0,P.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish})}}),P.each(["toggle","show","hide"],function(t,e){var n=P.fn[e];P.fn[e]=function(t,o,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(se(e,!0),t,o,r)}}),P.each({slideDown:se("show"),slideUp:se("hide"),slideToggle:se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){P.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}}),P.timers=[],P.fx.tick=function(){var t,e=0,n=P.timers;for(ee=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||P.fx.stop(),ee=void 0},P.fx.timer=function(t){P.timers.push(t),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ne||(ne=!0,ie())},P.fx.stop=function(){ne=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(t,e){return t=P.fx&&P.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,o){var r=n.setTimeout(e,t);o.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var le,fe=P.expr.attrHandle;P.fn.extend({attr:function(t,e){return z(this,P.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){P.removeAttr(this,t)})}}),P.extend({attr:function(t,e,n){var o,r,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===t.getAttribute?P.prop(t,e,n):(1===i&&P.isXMLDoc(t)||(r=P.attrHooks[e.toLowerCase()]||(P.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void P.removeAttr(t,e):r&&"set"in r&&void 0!==(o=r.set(t,n,e))?o:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(o=r.get(t,e))?o:null==(o=P.find.attr(t,e))?void 0:o)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&M(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,o=0,r=e&&e.match(L);if(r&&1===t.nodeType)for(;n=r[o++];)t.removeAttribute(n)}}),le={set:function(t,e,n){return!1===e?P.removeAttr(t,n):t.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||P.find.attr;fe[e]=function(t,e,o){var r,i,a=e.toLowerCase();return o||(i=fe[a],fe[a]=r,r=null!=n(t,e,o)?a:null,fe[a]=i),r}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function he(t){return(t.match(L)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}P.fn.extend({prop:function(t,e){return z(this,P.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[P.propFix[t]||t]})}}),P.extend({prop:function(t,e,n){var o,r,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&P.isXMLDoc(t)||(e=P.propFix[e]||e,r=P.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(t,n,e))?o:t[e]=n:r&&"get"in r&&null!==(o=r.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=P.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(P.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(t){var e,n,o,r,i,a,s,u=0;if(v(t))return this.each(function(e){P(this).addClass(t.call(this,e,ge(this)))});if((e=me(t)).length)for(;n=this[u++];)if(r=ge(n),o=1===n.nodeType&&" "+he(r)+" "){for(a=0;i=e[a++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");r!==(s=he(o))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,o,r,i,a,s,u=0;if(v(t))return this.each(function(e){P(this).removeClass(t.call(this,e,ge(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[u++];)if(r=ge(n),o=1===n.nodeType&&" "+he(r)+" "){for(a=0;i=e[a++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");r!==(s=he(o))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,o="string"===n||Array.isArray(t);return"boolean"==typeof e&&o?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(n){P(this).toggleClass(t.call(this,n,ge(this),e),e)}):this.each(function(){var e,r,i,a;if(o)for(r=0,i=P(this),a=me(t);e=a[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=ge(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,o=0;for(e=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+he(ge(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;P.fn.extend({val:function(t){var e,n,o,r=this[0];return arguments.length?(o=v(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=o?t.call(this,n,P(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,function(t){return null==t?"":t+""})),(e=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(t){var e=P.find.attr(t,"value");return null!=e?e:he(P.text(t))}},select:{get:function(t){var e,n,o,r=t.options,i=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?i+1:r.length;for(o=i<0?u:a?i:0;o<u;o++)if(((n=r[o]).selected||o===i)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,"optgroup"))){if(e=P(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,o,r=t.options,i=P.makeArray(e),a=r.length;a--;)((o=r[a]).selected=P.inArray(P.valHooks.option.get(o),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=P.inArray(P(t).val(),e)>-1}},y.checkOn||(P.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in n;var ve=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};P.extend(P.event,{trigger:function(t,e,o,r){var i,s,u,c,l,f,p,d,g=[o||a],m=h.call(t,"type")?t.type:t,y=h.call(t,"namespace")?t.namespace.split("."):[];if(s=d=u=o=o||a,3!==o.nodeType&&8!==o.nodeType&&!ve.test(m+P.event.triggered)&&(m.indexOf(".")>-1&&(m=(y=m.split(".")).shift(),y.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[P.expando]?t:new P.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),e=null==e?[t]:P.makeArray(e,[t]),p=P.event.special[m]||{},r||!p.trigger||!1!==p.trigger.apply(o,e))){if(!r&&!p.noBubble&&!b(o)){for(c=p.delegateType||m,ve.test(c+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),u=s;u===(o.ownerDocument||a)&&g.push(u.defaultView||u.parentWindow||n)}for(i=0;(s=g[i++])&&!t.isPropagationStopped();)d=s,t.type=i>1?c:p.bindType||m,(f=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&f.apply(s,e),(f=l&&s[l])&&f.apply&&Q(s)&&(t.result=f.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),e)||!Q(o)||l&&v(o[m])&&!b(o)&&((u=o[l])&&(o[l]=null),P.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,be),o[m](),t.isPropagationStopped()&&d.removeEventListener(m,be),P.event.triggered=void 0,u&&(o[l]=u)),t.result}},simulate:function(t,e,n){var o=P.extend(new P.Event,n,{type:t,isSimulated:!0});P.event.trigger(o,null,e)}}),P.fn.extend({trigger:function(t,e){return this.each(function(){P.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return P.event.trigger(t,e,n,!0)}}),y.focusin||P.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){P.event.simulate(e,t.target,P.event.fix(t))};P.event.special[e]={setup:function(){var o=this.ownerDocument||this,r=J.access(o,e);r||o.addEventListener(t,n,!0),J.access(o,e,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=J.access(o,e)-1;r?J.access(o,e,r):(o.removeEventListener(t,n,!0),J.remove(o,e))}}});var we=n.location,Ae=Date.now(),_e=/\?/;P.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||P.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Oe=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,xe=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,n,o){var r;if(Array.isArray(e))P.each(e,function(e,r){n||Pe.test(t)?o(t,r):Ce(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,o)});else if(n||"object"!==_(e))o(t,e);else for(r in e)Ce(t+"["+r+"]",e[r],n,o)}P.param=function(t,e){var n,o=[],r=function(t,e){var n=v(e)?e():e;o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!P.isPlainObject(t))P.each(t,function(){r(this.name,this.value)});else for(n in t)Ce(n,t[n],e,r);return o.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=P.prop(this,"elements");return t?P.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!P(this).is(":disabled")&&xe.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}}):{name:e.name,value:n.replace(Oe,"\r\n")}}).get()}});var Se=/%20/g,De=/#.*$/,Me=/([?&])_=[^&]*/,Te=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Ie=/^\/\//,Re={},ke={},Fe="*/".concat("*"),Ne=a.createElement("a");function Le(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var o,r=0,i=e.toLowerCase().match(L)||[];if(v(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Ve(t,e,n,o){var r={},i=t===ke;function a(s){var u;return r[s]=!0,P.each(t[s]||[],function(t,s){var c=s(e,n,o);return"string"!=typeof c||i||r[c]?i?!(u=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),u}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Be(t,e){var n,o,r=P.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:o||(o={}))[n]=e[n]);return o&&P.extend(!0,t,o),t}Ne.href=we.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,P.ajaxSettings),e):Be(P.ajaxSettings,t)},ajaxPrefilter:Le(Re),ajaxTransport:Le(ke),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var o,r,i,s,u,c,l,f,p,d,h=P.ajaxSetup({},e),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?P(g):P.event,y=P.Deferred(),v=P.Callbacks("once memory"),b=h.statusCode||{},w={},A={},_="canceled",O={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Te.exec(i);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(t,e){return null==l&&(t=A[t.toLowerCase()]=A[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)O.always(t[O.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return o&&o.abort(e),E(0,e),this}};if(y.promise(O),h.url=((t||h.url||we.href)+"").replace(Ie,we.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(L)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Ne.protocol+"//"+Ne.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Ve(Re,h,e,O),l)return O;for(p in(f=P.event&&h.global)&&0==P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!je.test(h.type),r=h.url.replace(De,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Se,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(_e.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Me,"$1"),d=(_e.test(r)?"&":"?")+"_="+Ae+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&O.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&O.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&O.setRequestHeader("Content-Type",h.contentType),O.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Fe+"; q=0.01":""):h.accepts["*"]),h.headers)O.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,O,h)||l))return O.abort();if(_="abort",v.add(h.complete),O.done(h.success),O.fail(h.error),o=Ve(ke,h,e,O)){if(O.readyState=1,f&&m.trigger("ajaxSend",[O,h]),l)return O;h.async&&h.timeout>0&&(u=n.setTimeout(function(){O.abort("timeout")},h.timeout));try{l=!1,o.send(w,E)}catch(t){if(l)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,a,s){var c,p,d,w,A,_=e;l||(l=!0,u&&n.clearTimeout(u),o=void 0,i=s||"",O.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(w=function(t,e,n){for(var o,r,i,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){u.unshift(r);break}if(u[0]in n)i=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){i=r;break}a||(a=r)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}(h,O,a)),w=function(t,e,n,o){var r,i,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(i=l.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!u&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=c[u+" "+i]||c["* "+i]))for(r in c)if((s=r.split(" "))[1]===i&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+i}}}return{state:"success",data:e}}(h,w,O,c),c?(h.ifModified&&((A=O.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=A),(A=O.getResponseHeader("etag"))&&(P.etag[r]=A)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=w.state,p=w.data,c=!(d=w.error))):(d=_,!t&&_||(_="error",t<0&&(t=0))),O.status=t,O.statusText=(e||_)+"",c?y.resolveWith(g,[p,_,O]):y.rejectWith(g,[O,_,d]),O.statusCode(b),b=void 0,f&&m.trigger(c?"ajaxSuccess":"ajaxError",[O,h,c?p:d]),v.fireWith(g,[O,_]),f&&(m.trigger("ajaxComplete",[O,h]),--P.active||P.event.trigger("ajaxStop")))}return O},getJSON:function(t,e,n){return P.get(t,e,n,"json")},getScript:function(t,e){return P.get(t,void 0,e,"script")}}),P.each(["get","post"],function(t,e){P[e]=function(t,n,o,r){return v(n)&&(r=r||o,o=n,n=void 0),P.ajax(P.extend({url:t,type:e,dataType:r,data:n,success:o},P.isPlainObject(t)&&t))}}),P._evalUrl=function(t){return P.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},P.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=P(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){P(this).wrapInner(t.call(this,e))}):this.each(function(){var e=P(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(n){P(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(t){return!P.expr.pseudos.visible(t)},P.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},He=P.ajaxSettings.xhr();y.cors=!!He&&"withCredentials"in He,y.ajax=He=!!He,P.ajaxTransport(function(t){var e,o;if(y.cors||He&&!t.crossDomain)return{send:function(r,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=o=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ue[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),o=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=o:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&o()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),P.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return P.globalEval(t),t}}}),P.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),P.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(o,r){e=P("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var We=[],qe=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||P.expando+"_"+Ae++;return this[t]=!0,t}}),P.ajaxPrefilter("json jsonp",function(t,e,o){var r,i,a,s=!1!==t.jsonp&&(qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qe,"$1"+r):!1!==t.jsonp&&(t.url+=(_e.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},t.dataTypes[0]="json",i=n[r],n[r]=function(){a=arguments},o.always(function(){void 0===i?P(n).removeProp(r):n[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),a&&v(i)&&i(a[0]),a=i=void 0}),"script"}),y.createHTMLDocument=function(){var t=a.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),P.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((o=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(o)):e=a),r=T.exec(t),i=!n&&[],r?[e.createElement(r[1])]:(r=bt([t],e,i),i&&i.length&&P(i).remove(),P.merge([],r.childNodes)));var o,r,i},P.fn.load=function(t,e,n){var o,r,i,a=this,s=t.indexOf(" ");return s>-1&&(o=he(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&P.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){i=arguments,a.html(o?P("<div>").append(P.parseHTML(t)).find(o):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,i||[t.responseText,e,t])})}),this},P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){P.fn[e]=function(t){return this.on(e,t)}}),P.expr.pseudos.animated=function(t){return P.grep(P.timers,function(e){return t===e.elem}).length},P.offset={setOffset:function(t,e,n){var o,r,i,a,s,u,c=P.css(t,"position"),l=P(t),f={};"static"===c&&(t.style.position="relative"),s=l.offset(),i=P.css(t,"top"),u=P.css(t,"left"),("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1?(a=(o=l.position()).top,r=o.left):(a=parseFloat(i)||0,r=parseFloat(u)||0),v(e)&&(e=e.call(t,n,P.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):l.css(f)}},P.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){P.offset.setOffset(this,t,e)});var e,n,o=this[0];return o?o.getClientRects().length?(e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,o=this[0],r={top:0,left:0};if("fixed"===P.css(o,"position"))e=o.getBoundingClientRect();else{for(e=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===P.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((r=P(t).offset()).top+=P.css(t,"borderTopWidth",!0),r.left+=P.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-P.css(o,"marginTop",!0),left:e.left-r.left-P.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===P.css(t,"position");)t=t.offsetParent;return t||wt})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;P.fn[t]=function(o){return z(this,function(t,o,r){var i;if(b(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===r)return i?i[e]:t[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):t[o]=r},t,o,arguments.length)}}),P.each(["top","left"],function(t,e){P.cssHooks[e]=Wt(y.pixelPosition,function(t,n){if(n)return n=Ht(t,e),Vt.test(n)?P(t).position()[e]+"px":n})}),P.each({Height:"height",Width:"width"},function(t,e){P.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,o){P.fn[o]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return z(this,function(e,n,r){var i;return b(e)?0===o.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?P.css(e,n,s):P.style(e,n,r,s)},e,a?r:void 0,a)}})}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){P.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),P.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),P.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),P.proxy=function(t,e){var n,o,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return o=u.call(arguments,2),(r=function(){return t.apply(e||this,o.concat(u.call(arguments)))}).guid=t.guid=t.guid||P.guid++,r},P.holdReady=function(t){t?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=M,P.isFunction=v,P.isWindow=b,P.camelCase=K,P.type=_,P.now=Date.now,P.isNumeric=function(t){var e=P.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(o=function(){return P}.apply(e,[]))||(t.exports=o);var ze=n.jQuery,$e=n.$;return P.noConflict=function(t){return n.$===P&&(n.$=$e),t&&n.jQuery===P&&(n.jQuery=ze),P},r||(n.jQuery=n.$=P),P})},function(t,e,n){"use strict";t.exports=n(1040)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(19));e.default=Object.assign({jrLicenseSuccess:"jr-license-success",openingFile:"opening-file",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",renderPageSuccess:"render-page-success",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",unActiveAnnotation:"unactive-annotation",updateActionAnnotation:"update-action-annotation",removeActionAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationFailed:"remove-action-annotation-failed",switchStateHandler:"switch-state-handler",redactAnnotRendered:"redact-annot-rendered",redactAnnotAllApplyed:"apply-all-redaction",redactAnnotApplyed:"apply-redaction",pageNumberChange:"page-number-change",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",updateCreatingDistanceAnnot:"distance-creation-update",distanceAnnotCreationEnd:"distance-creation-end",addEditImage:"add-edit-image"},o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(65)),i=l(n(89)),a=l(n(323)),s=l(n(109)),u=l(n(41)),c=l(n(6));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=["window","document","top","setTimeout","setInterval","Function","eval"],d=["location","screen"],h=window.Function,g=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.component=n,o.data=Object.assign({},n.$options.$initData||{}),o.methods={},o.$$sources={},o.addDestroyHook(function(){var t=o.$$sources;for(var e in t){t[e].destroy()}o.$$sources={}}),o.$$code={},o.root=n.getRoot(),o.$$watches=[],n.parent&&o.setParentScope(n.parent.controller),o}return f(e,t),e.getName=function(){(0,u.default)()},o(e,null,[{key:"permission",get:function(){return-2147483648}}]),e.prototype.getComponentByName=function(t){return this.component.getRoot().getComponentByName(t)},e.prototype.eval=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t.trim(),this.compileCode(t).call(null,e)},e.prototype.watch=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof e)throw new TypeError("Illigal argument: callback must be a function");var r=this.compileCode(t),i=void 0,a=void 0,s=function(){var s=function(){try{return r()}catch(e){c.default.getLogger(n.constructor.getName()).warn("excute expression error",t,e)}}(),u=i,l=a;if(i=s,o){var f=JSON.stringify(s);a=f,f!==l&&e(s,u)}else s!==u?e(s,u):Array.isArray(s)&&Array.isArray(u)&&s.length!==u.length&&e(s,u)};return s.$expression=t,this.$$watches.push(s),function(){var t=n.$$watches.indexOf(s);t>-1&&n.$$watches.splice(t,1)}},e.prototype.digest=function(){this.$$watches.forEach(function(t){return t()})},e.prototype.applyAll=function(){var t=this;this.digest(),this.component.isContainer()&&this.component.$container.each(function(e){e.controller!==t.component.controller&&e.controller.applyAll()})},e.prototype.compileCode=function(t){var e=(0,s.default)("$$self"),n=(0,s.default)("$$sandbox"),o=(0,s.default)("$$tempValue");return new h(e,"\n            var "+n+" = "+e+"._sandbox();\n            with("+n+") {\n                return (function("+o+") {\n                    "+o+" = "+o+" || {};\n                    with("+o+") {\n                        with("+e+".methods) {\n                            return (function(){\n                                'use strict';\n                                return "+t+";\n                            }).call(this)\n                        }\n                    }\n                }).bind("+n+");\n            }\n        ").call(this,this)},e.prototype._sandbox=function(){var t=this,e=Object.create(this.data);return p.forEach(function(t){return e[t]=void 0}),d.forEach(function(t){return n(t,window[t])}),n("$controller",this),n("$this",this),n("$rootComponent",this.root),n("$root",this.root.controller.data),n("$component",this.component),n("$data",this.data),n("$pdfui",this.pdfUI),n("$$",function(e){return t.getComponentByName(e)}),e;function n(t,n){return Object.defineProperty(e,t,{get:function(){return n}})}},e.prototype.setTimeout=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this;if("function"!=typeof t)throw new TypeError("Illegal argument: callback is not a function");var o=setTimeout(function(){try{t()}finally{n.digest()}},e);return function(){return clearTimeout(o)}}),e.prototype.setInterval=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this;if("function"!=typeof t)throw new TypeError("Illegal argument: callback is not a function");var o=setInterval(function(){try{t()}finally{n.digest()}},e);return function(){return clearInterval(o)}}),e.prototype.getDataSource=function(t){t=t.trim();var e=this.$$sources[t];if(e)return e;var n=t.split("."),o="",r=n.slice(0,n.length-1).reduce(function(t,e){if(void 0===t||null===t)throw new Error("cannot access "+e+" from '"+t+"': "+o+" ");return o=o?o+"."+e:e,t[e]},this.data),i=n[n.length-1];return this.$$sources[t]=new a.default(r,i)},e.prototype.setParentScope=function(t){if(this.$parent!==t)if(this.$parent=t,t){if(this.data.isPrototypeOf(t.data)||this.data===t.data)return;this.data=e(this.data,t.data),this.methods=e(this.methods,t.methods),this.data.$parent=t.data}else this.data=e(this.data,Object.prototype),this.methods=e(this.methods,Object.prototype),this.data.$parent=null;function e(t,e){return null==e&&(e=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(t,e),t):Object.create(e,Object.getOwnPropertyDescriptors(t))}},e.prototype.setPDFUIInstance=function(t){this.pdfUI=t},e.prototype.getPDFUI=function(){return this.pdfUI},e.prototype.prelink=function(){(0,r.default)()},e.prototype.postlink=function(){(0,r.default)()},e.prototype.mounted=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener("open-file-success",function(e){return t.changePeimission(e)})),this.addDestroyHook(this.getPDFUI().addViewerEventListener("permission-changed",function(e){return t.changePeimission(e)}))},e.prototype.changePeimission=function(t){var e=this;this.getPDFUI().getPDFDocRender().then(function(t){return t.getUserPermission().getValue()}).then(function(t){t&e.constructor.permission?e.component.lock&&e.component.unlock():e.component.lock&&e.component.lock()})},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.handle=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,r.default)(e)},e.prototype.uninstall=function(){this.destroy()},e}(i.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ORIENTATION_VERTICAL="vertical",e.ORIENTATION_HORIZONTAL="horizontal",e.ROOT_MODULE_NAME="",e.WEBPDF_VIEWER_COMPONENT_NAME="pdf-viewer",e.NAMESPACE_SEPERATOR=":",e.PDFUI_BINDER="pdfui-event-binder",e.KEY_MAP_OPEN_SIDEBAR="pdfui-open-sidebar",e.KEY_MAP_CLOSE_SIDEBAR="pdfui-close-sidebar",e.KEY_MAP_OPEN_QUICK_SEARCH="pdfui-open-quick-search",e.COMPONENT_BROADCAST_LOCALIZE="localize",e.FRAGMENT_ACTION={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},e.COMPONENT_EVENTS={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(372)),r=f(n(1002)),i=n(126),a=f(n(1001)),s=f(n(371)),u=f(n(1e3)),c=f(n(999)),l=f(n(213));function f(t){return t&&t.__esModule?t:{default:t}}var p={},d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.toggleLogger=function(t){o.logOff="boolean"==typeof t?t:!o.logOff},t.getLogger=function(t){return p[t]=p[t]||this.createLogger(t)},t.createLogger=function(t){var e,n=void 0,f=void 0;switch(o.logLayout){case"complex":n=new u.default;break;case"simple":default:n=new r.default}switch(o.logLevel){case"debug":f=i.LEVEL_DEBUG;break;case"info":f=i.LEVEL_INFO;break;case"warn":f=i.LEVEL_WARN;break;case"error":default:f=i.LEVEL_ERROR}return e=o.logAppenders.map(function(t){switch(t){case"console":return new s.default;case"websocket":return new WebsocketAppender}}).filter(function(t){return t instanceof l.default}),new a.default(new c.default(e),n,t,f)},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(144)),r=n(5);function i(t){return t&&t.__esModule?t:{default:t}}var a=i(n(6)).default.getLogger("modular");e.default=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modules={},this.modules[r.ROOT_MODULE_NAME]=new o.default(r.ROOT_MODULE_NAME,[])}return t.prototype.module=function(t,e){var n=this;if(Array.isArray(e)){if(this.modules[t])throw new Error("Duplicated Modular name, it must be unique.");e=e.map(function(t,e){if("string"==typeof t)return n._module(t);if(t instanceof o.default)return t;throw new Error("Unexpected module type at position: "+e)});var r=this.root();return e.indexOf(-1===r)&&e.push(r),this.modules[t]=new o.default(t,e)}return this._module(t)},t.prototype.root=function(){return this.modules[r.ROOT_MODULE_NAME]},t.prototype._module=function(t){var e=this.modules[t];if(!e)throw new Error("No module found: '"+t+"'");return e},t.prototype._nostrictModule=function(t){return this.modules[t]||a.warn("module not found: "+t+", using root module instead."),this.modules[t]||this.root()},t}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function r(t){if("number"!=typeof t)throw new TypeError("Unexpected color value:"+t);if(t<0)return-1;var e=t.toString(16),n=6;for(t>16777215&&(n=8);e.length<n;)e="0"+e;return"#"+e}e.convertFromNumberToHex=r,e.convertFromNumberToRGBA=function(t){var e=void 0;t<16777216?e=255:(e=t>>24&255,t&=16777215);return{r:t>>16&255,g:t>>8&255,b:255&t,a:e}},e.colorConvertor=function(t){var e,n,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=void 0;"number"==typeof t&&(t=["int",t]);switch(t[0]){case"int":n=(16711680&t[1])>>16,o=(65280&t[1])>>8,i=255&t[1];break;case"T":n=0,o=0,i=0,s=0;break;case"G":n=o=i=255*t[1];break;case"RGB":n=255*t[1],o=255*t[2],i=255*t[3];break;case"CMYK":n=(1-t[4])*(1-t[1])*255,o=(1-t[4])*(1-t[2])*255,i=(1-t[4])*(1-t[3])*255;break;case"r":u=t.match(/rgba?\((\d*), (\d*), (\d*),? ?([\.0-9]*)?\)/),n=+u[1],o=+u[2],i=+u[3];break;case"#":var c=4==t.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;u=t.match(c),n=parseInt(u[1],16),o=parseInt(u[2],16),i=parseInt(u[3],16)}switch(a){case"HTML":e=n===o&&o===i&&-1===i?"transparent":"rgba("+parseInt(n)+","+parseInt(o)+","+parseInt(i)+","+s+")";break;case"RGB":e=["RGB",n/255,o/255,i/255];break;case"#":e=0,e|=n<<16,e|=o<<8,e=r(e|=i);break;case"int":e=0,e|=(s*=255)<<24,e|=n<<16,e|=o<<8,e|=i,e>>>=0}return e},e.standardColorAsARGBNumber=function(t){if(t<=16777215)return i+t;if(t>16777215)return t;if("string"==typeof t){if((t=t.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(t,16);if(t.match(/^[0-9A-F]{6}$/i))return i+parseInt(t,16);if(t.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var e=t.split(/\D+/).map(function(t){return parseInt(t)}),n=o(e,4),r=n[1],a=n[2],s=n[3];return i+(r<<16)+(a<<8)+s}if(t.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var u=t.split(/\D+/).map(function(t){return parseInt(t)}),c=o(u,5),l=c[1],f=c[2],p=c[3],d=c[4];return Math.floor(d*i)+(l<<16)+(f<<8)+p}}throw new Error('incorrect color format: "'+t+'"')},e.convertFromNumberToJSColor=function(t){return["RGB",((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255]};var i=4278190080},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(3));e.default=Object.assign({addTextMarkupSuccess:"add-text-markup-success",checkTheSearch:"check-the-search",fullscreenchange:"fullscreenchange",appendCommentListComment:"append-commentlist-comment",appendCommentListReply:"append-commentlist-reply",destroyCommentListComment:"destroy-commentlist-comment",destroyCommentListReply:"destroy-commentlist-reply",applicationOfInkSign:"application-of-ink-sign",applicationDestroyed:"uiextension-destroyed"},o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(89)),r=a(n(41)),i=a(n(65));a(n(4)),a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.module,r=n.localizer,i=n.node,a=n.parentComponent,s=n.attrValue,u=n.subName,c=n.attrName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return l.node=i,l.module=o,l.localizer=r,l.parentComponent=a,l.subName=u,l.attrValue=s,l.attrName=c,l.isParser=!1,l.order=1,l.directiveName=l.constructor.getName(),l}return s(e,t),e.getName=function(){(0,r.default)()},e.isParser=function(){return!1},e.prototype.findClosestDirective=function(t,e){var n=this.parentComponent;if("string"==typeof e)for(;n;){if(!!n.directive.findDirective(e))return;var o=n.directive.findDirective(t);if(o)return o;n=n.parent}else for(;n;){var r=n.directive.findDirective(t);if(r)return r;n=n.parent}},e.prototype.processComponentOptions=function(t){},e.prototype.parseComponent=function(){},e.prototype.init=function(t){this.component=t,this.controller=t.controller,this.directiveOption=t.$options[this.directiveName]||{}},e.prototype.beforeComponentRender=function(){(0,i.default)()},e.prototype.afterComponentRender=function(){(0,i.default)()},e.prototype.componentPrelink=function(){(0,i.default)()},e.prototype.componentPostlink=function(){(0,i.default)()},e.prototype.componentMounted=function(){(0,i.default)()},e.prototype.componentDestroyed=function(){this.destroy()},e}(o.default);e.default=u},function(t,e,n){var o=n(17);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_EDIT_IMAGE="createEditImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",e.STATE_HANDLER_SELECT_TEXT="select-text"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(4)),i=(c(n(42)),c(n(16)),c(n(3))),a=c(n(54)),s=n(49),u=n(13);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o){l(this,e);var r=f(this,t.call(this,n));return"string"==typeof o?r.stateName=o:(r.ExpectedStateHandlerClass=o,r.stateName=o.getStateName()),r}return p(e,t),e.getName=function(){return"StatefulController"},e.ext=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"StatefulControllerImpl",r=arguments[2];return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,function(e){function i(n){return l(this,i),f(this,e.call(this,n,t))}return p(i,e),i.getName=function(){return n},o(i,null,[{key:"permission",get:function(){return r||-2147483648}}]),i}(e))[n]},e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.ExpectedStateHandlerClass?this.registerPromise=this.getPDFUI().getStateHandlerManager().then(function(e){return e.register(t.ExpectedStateHandlerClass),e}):this.registerPromise=this.getPDFUI().getStateHandlerManager(),this.addDestroyHook(e.addViewerEventListener(i.default.switchStateHandler,function(e,n){e.getStateName()===t.stateName?(t.component.active(),t.stateIn()):n.getStateName()===t.stateName&&(t.component.deactive(),t.stateOut())})),this.stateName!==u.STATE_HANDLER_HAND&&e.getPDFViewer().then(function(n){t.addDestroyHook(n.getKeyboardEventBinder(s.ANNOTATION_CREATING_BINDER).on(s.KEY_MAP_ESC_CREATING_DRAWING,function(n){if(t.component.isActive){var o=t.component.findClosestComponent(function(t){return"tab"===t.nodeName});o&&o.isActive&&e.getStateHandlerManager().then(function(t){var e=t.getCurrentStates();e.activedChildrenCount>0?e.activedChildrenCount=0:t.switchTo(u.STATE_HANDLER_HAND)})}}))}),e.customs.defaultStateHandler===this.stateName&&this.addDestroyHook(e.addViewerEventListener(i.default.openFileSuccess,function(n){e.getStateHandlerManager().then(function(e){e.getCurrentStates().getStateName()!==t.stateName?e.switchTo(t.stateName):(t.component.active(),t.stateIn())})}))},e.prototype.handle=function(){var t=this;this.registerPromise.then(function(e){e.getCurrentStates().getStateName()===t.stateName?e.switchTo(a.default.getStateName()):e.switchTo(t.stateName)})},e.prototype.stateIn=function(){},e.prototype.stateOut=function(){},e}(r.default);e.default=d},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=h(n(85)),i=h(n(41)),a=h(n(326)),s=h(n(325));n(324);var u=h(n(6)),c=n(5),l=h(n(829)),f=h(n(322)),p=h(n(826)),d=h(n(196));h(n(194));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m={};HTMLElement.prototype.getComponent=function(){var t=this.dataset.webpdf_component;if("string"==typeof t)return m[t]};var y=0;function v(t){return t+"-"+y++}var b=function(t){function e(n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));a.$options=n,a.isLocked=!1,a.parser=n.parser,a.module=o,a.localizer=i,a.viewConfig=n.viewConfig,a.cls=n.cls,a.nodeName=a.viewConfig.nodeName;var s=a.viewConfig.attrs;if(a.name=s.name||n.name||v("component_name"),a.id=v("component"),a.attrs=s,a.tempAttrs=s,a.node=n.viewConfig.vnode,a.parent=n.parentComponent,a.texts=[],a.isMounted=!1,a.element=a.createDOMElement(),a.directive=new p.default(a),a.subject$=new r.default,n.events)for(var u in n.events){var c=n.events[u];"function"==typeof c&&a.on(u,c)}return a._disableReason={},a.setController(l.default.newControllerInstance(n.callback,a)),n.controllerAlias&&(a.controller.data[n.controllerAlias]=a.controller),a.constructor.getMetadataResolver().resolve(a),a}return g(e,t),e.getName=function(){(0,i.default)()},e.preprocess=function(t){},e.getMetadata=function(){return{options:{disabled:{type:"boolean",defaultValue:!1},visible:{type:"boolean",field:"isVisible",defaultValue:!0},canBeDisabled:{type:"boolean",defaultValue:!0},active:{type:"boolean",field:"isActive",defaultValue:!1}}}},e.getMetadataResolver=function(){return this.$metadata||(this.$metadata=new f.default(this)),this.$metadata},e.prototype.setDirective=function(t){this.directive=t},e.prototype.getDirectiveByName=function(t){return this.directive&&this.directive.getDirective(t)},e.prototype.setController=function(t){this.controller&&this.controller.uninstall(),this.controller=t},e.prototype.setPDFUIInstance=function(t){this.pdfUI=t,this.controller.setPDFUIInstance(t)},e.prototype.getPDFUI=function(){return this.pdfUI},e.prototype.resetDataScope=function(){var t=this.parent?this.parent.controller:void 0;this.controller.setParentScope(t),this.controller.digest()},e.prototype.getRoot=function(){if(this.__root__)return this.__root__;for(var t=this;t.parent;)t=t.parent;return this.__root__=t,t},e.prototype.nextSiblings=function(){if(this.parent){var t=this.parent.indexOf(this);return this.parent.childAt(t+1)}},e.prototype.previousSiblings=function(){if(this.parent){var t=this.parent.indexOf(this);return this.parent.childAt(t-1)}},e.prototype.brothers=function(){return this.parent?this.parent.children():[this]},e.prototype.createDOMElement=function(){return document.createElement("span")},e.prototype.appendSlot=function(t,e){var n=this.getSlotContainer(t);if(!n)throw new Error("slot not exists: "+t);e.children().forEach(function(t){n.appendChild(t.element)})},e.prototype.getSlotContainer=function(t){return this.element.querySelector("[slot="+JSON.stringify(t)+"]")||this.element.querySelector('[slot=""]')},e.prototype.on=function(t,e){var n=this;return this.subject$.on(t,e),function(){return n.subject$.off(t,e)}},e.prototype.once=function(t,e){var n=this;return this.subject$.once(t,e),function(){return n.subject$.off(t,e)}},e.prototype.off=function(t,e){this.subject$.off(t,e)},e.prototype.trigger=function(t){for(var e,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(e=this.subject$).emit.apply(e,[t].concat(o))},e.prototype.broadcast=function(t,e){},e.prototype.receiveBroadcast=function(t,e){},e.prototype.render=function(){if(this.cls&&this.element.classList.add(this.cls),this.attrs)for(var t in this.attrs)this.setAttribute(t,this.attrs[t]);this.setAttribute("component-name",this.name),this.acceptText()&&(this.textElement=this.renderText())},e.prototype.mounted=function(){this.isMounted||(this.isMounted=!0,this.element.dataset&&(this.element.dataset.webpdf_component=this.id),m[this.id]=this,this.texts.forEach(function(t){return t.mounted()}),this.trigger(c.COMPONENT_EVENTS.MOUNTED),this.directive.componentMounted(),this.controller.mounted(),this.controller.digest())},e.prototype.triggerHandler=function(){(0,a.default)()},e.prototype.lock=function(){this.isLocked||(this.isLocked=!0,this.disable())},e.prototype.unlock=function(){this.isLocked&&(this.isLocked=!1,this.enable())},e.prototype.disable=function(){this.canBeDisabled&&!this.disabled&&(this.disabled=!0,this.doDisable(),this.trigger(c.COMPONENT_EVENTS.DISABLE))},e.prototype.enable=function(){this.disabled&&!this.isLocked&&(this.disabled=!1,this.doEnable(),this.trigger(c.COMPONENT_EVENTS.ENABLE))},e.prototype.active=function(){this.disabled||this.isActive||(this.isActive=!0,this.doActive(),this.trigger(c.COMPONENT_EVENTS.ACTIVE))},e.prototype.deactive=function(){this.isActive&&(this.isActive=!1,this.doDeactive(),this.trigger(c.COMPONENT_EVENTS.DEACTIVE))},e.prototype.show=function(){this.isVisible||(this.isVisible=!0,this.doShown(),this.trigger(c.COMPONENT_EVENTS.SHOWN))},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this.doHidden(),this.trigger(c.COMPONENT_EVENTS.HIDDEN))},e.prototype.addDestroyHook=function(){for(var e,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];(e=t.prototype.addDestroyHook).call.apply(e,[this].concat(o))},e.prototype.destroy=function(){this.isDestroyed||(t.prototype.destroy.call(this),delete m[this.id],this.doDestroy(),this.controller.destroy(),this.directive.componentDestroyed(),this.trigger(c.COMPONENT_EVENTS.DESTROYED))},e.prototype.removeElement=function(){this.element&&this.element.remove()},e.prototype.remove=function(){var t=this.parent;this.parent=null,t&&t.removeChild(this),t||this.removeElement()},e.prototype.isContainer=function(){return!1},e.prototype.isNative=function(){return!1},e.prototype.before=function(t){if(this.parent&&this.parent.isContainer()){var e=this.index();this.parent.insert(t,e)}},e.prototype.after=function(t){if(this.parent&&this.parent.isContainer()){var e=this.parent.indexOf(this);this.parent.insert(t,e+1)}},e.prototype.index=function(){if(this.parent&&this.parent.isContainer())return this.parent.indexOf(this)},e.prototype.getComponentByName=function(t){if(this.name===t)return this},e.prototype.findChildren=function(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t(this)?[this]:[]},e.prototype.getClosestComponentByName=function(t){return this.findClosestComponent(function(e){return e.name===t})},e.prototype.getClosestComponentByType=function(t){return this.findClosestComponent(function(e){return e.nodeName===t})},e.prototype.findClosestComponent=function(t){if("function"!=typeof t)throw new TypeError("callback must be a function, but actual: "+(void 0===t?"undefined":o(t)));for(var e=this;e;){if(t(e))return e;e=e.parent}},e.prototype.getAllComponentsByName=function(t){return this.name===t?[this]:[]},e.prototype.getAllComponentsByType=function(t){return this.constructor.getName()===t?[this]:[]},e.prototype.querySelectorAll=function(t){return d.default.parseSelectors(t).selectFrom([this])},e.prototype.querySelector=function(t){return this.querySelectorAll(t)[0]},e.prototype.doActive=function(){this.element.classList.add("active")},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.doDisable=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.element.classList.add("disabled")},e.prototype.doEnable=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.element.classList.remove("disabled")},e.prototype.doDestroy=function(){this.remove(),this.subject$.removeAllListeners(),this.destroyHooks.forEach(function(t){try{t()}catch(t){u.default.getLogger("Component#doDestroy()").error("an error occurred while calling the destroy hook",t)}})},e.prototype.doHidden=function(){this.element.classList.add("fv__ui-hide")},e.prototype.doShown=function(){this.element.classList.remove("fv__ui-hide")},e.prototype.getConfig=function(t){return"string"==typeof filed?this.$options:this.$options[t]},e.prototype.addCSSClass=function(t){t&&this.element.classList.add(t)},e.prototype.removeCSSClass=function(t){t&&this.element.classList.remove(t)},e.prototype.attachEventToElement=function(t,e,n,o){var r=this;e.split(/[\s,;]+/).forEach(function(e){t.addEventListener(e,n,o),r.addDestroyHook(function(){t.removeEventListener(e,n,o)})})},e.prototype.setAttribute=function(t,e){this.element.setAttribute?this.element.setAttribute(t,e):this.element[t]=e},e.prototype.getAttribute=function(t){return this.element.getAttribute?this.element.getAttribute(t):this.element[t]},e.prototype.removeAttribute=function(t){this.element.removeAttribute(t)},e.prototype.getDomElement=function(){return this.element},e.prototype.localize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localizer;return this.element?t.localizeRecursive(this.element,{}):Promise.resolve()},e.prototype.prelink=function(){this.controller.prelink(),this.controller.digest()},e.prototype.postlink=function(){this.update(),this.controller.postlink(),this.controller.digest()},e.prototype.update=function(){this.updateDisableStatus(),this.updateVisiblityStatus()},e.prototype.updateActiveStatus=function(){var t=this.isActive,e=this.$options.active;"function"==typeof e&&(t=e.call(this)),!1===t?this.doDeactive():this.doActive()},e.prototype.updateVisiblityStatus=function(){var t=this.isVisible,e=this.$options.visible;"function"==typeof e&&(t=e.call(this)),!1===t?this.doHidden():this.doShown()},e.prototype.updateDisableStatus=function(){var t=this.disabled,e=this.$options.disabled;"function"==typeof e&&(t=e.call(this)),!1===t?this.doEnable():this.doDisable()},e.prototype.acceptText=function(){return!1},e.prototype.appendText=function(t){t.parent=this,this.texts.push(t)},e.prototype.renderText=function(){},e.prototype.removeText=function(t){var e=this.texts.indexOf(t);return e>-1?(this.texts.splice(e,1),!0):faslse},e.prototype.setText=function(t){if(this.acceptText()){var e=this.pdfUI.parseTemplate("<text>"+t+"</text>",[]);this.text=void 0,this.texts=[e],this.renderText()}},e.prototype.sync=function(t,e){if(0===t.indexOf("attr.")){var n=t.substring("attr.".length);return this.setAttribute(n,e),!0}if(0===t.indexOf("prop."))return this[t.substring("prop.".length)]=e,!0;switch(t){case"disabled":this.syncDisableStatus(e);break;case"visible":this.syncVisibleStatus();break;case"canBeDisabled":this.syncCanBeDisabledStatus();break;case"active":this.syncActiveStatus();break;default:return!1}return!0},e.prototype.syncDisableStatus=function(t){t?this.disable():this.enable()},e.prototype.syncVisibleStatus=function(t){t?this.show():this.hide()},e.prototype.syncCanBeDisabledStatus=function(t){!t&&this.disabled&&this.enable(),this.canBeDisabled=t},e.prototype.syncActiveStatus=function(t){t?this.active():this.deactive()},e}(s.default);e.default=b},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(16)),r=s(n(808)),i=s(n(82)),a=n(5);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,a));s.$container=new r.default;var u=void 0,c=void 0;return c=(u=n.viewConfig?n.viewConfig.attrs.layout:n.layout)instanceof i.default?u:(u?s.module.getLayoutClass(u):void 0)||i.default,s.layout=new c(n.viewConfig||n.layoutOptions),s}return u(e,t),e.prototype.isContainer=function(){return!0},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.$container.each(function(t){return!t.isMounted&&t.mounted()})},e.prototype.broadcast=function(t,e){this.$container.each(function(n){n.receiveBroadcast(t,e)})},e.prototype.receiveBroadcast=function(t,e){this.broadcast(t,e)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.append=function(t){return this.insert(t,this.size())},e.prototype.prepend=function(t){return this.insert(t,0)},e.prototype.insert=function(t,e){if(t.parent&&t.parent!==this)throw new Error("Component must be removed from its parent to be inserted into other component!");-1===this.$container.indexOf(t)&&(this.$container.insert(t,e),t.parent=this,t.resetDataScope(),this.doInsert(t,e),this.trigger(a.COMPONENT_EVENTS.CHILD_INSERTED,t,e),t.trigger(a.COMPONENT_EVENTS.INSERTED))},e.prototype.insertAll=function(t,e){var n=this;t.forEach(function(t){if(t.parent!==n&&t.parent)throw new Error("Component must be removed from its parent to be inserted into other component!")}),this.$container.insertAll(t,e),t.forEach(function(t){t.parent=n,t.resetDataScope()}),this.doInsertAll(t,e),t.forEach(function(t){t.trigger(a.COMPONENT_EVENTS.INSERTED)})},e.prototype.empty=function(){this.$container.each(function(t){return t.parent=null}),this.$container.empty(),this.rerenderChildren()},e.prototype.indexOf=function(t){return this.$container.indexOf(t)},e.prototype.children=function(){return this.$container.children()},e.prototype.size=function(){return this.$container.size()},e.prototype.first=function(){return this.childAt(0)},e.prototype.last=function(){return this.childAt(this.size()-1)},e.prototype.removeChild=function(t){this.$container.removeChild(t)&&(t.parent=null,t.controller.setParentScope(void 0),t.removeElement(),t.trigger(a.COMPONENT_EVENTS.REMOVED,this))},e.prototype.setLayout=function(t){this.layout=t,this.rerenderChildren()},e.prototype.doInsert=function(t,e){this.rerenderChildren()},e.prototype.doInsertAll=function(t,e){this.rerenderChildren()},e.prototype.rerenderChildren=function(){var t=this.$container.children().map(function(t){return t.removeElement(),t.element});this.layout.render(t,this.getContainerElement(),0,this.size())},e.prototype.localize=function(){var e=this;return t.prototype.localize.call(this).then(function(){e.broadcast(a.COMPONENT_BROADCAST_LOCALIZE)})},e.prototype.getContainerElement=function(){return this.element},e.prototype.getComponentByName=function(t){return this.name===t?this:this.$container.eachUntil(function(e){return e.getComponentByName(t)})},e.prototype.findChildren=function(t){var e=[];return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t(this)&&e.push(this),this.$container.each(function(n){var o=n.findChildren(t,!0);o.length>0&&e.push.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o))}),e},e.prototype.getAllComponentsByName=function(t){return this.findChildren(function(e){return e.name===t})},e.prototype.getAllComponentsByType=function(t){return this.findChildren(function(e){return e.constructor.getName()===t})},e.prototype.childAt=function(t){return this.$container.childAt(t)},e.prototype.update=function(){t.prototype.update.call(this),this.$container.each(function(t){return t.update()})},e.prototype.destroy=function(){this.$container.each(function(t){return t.destroy()}),t.prototype.destroy.call(this)},e.prototype.doActive=function(){},e.prototype.doDeactive=function(){},e.prototype.doDisable=function(){this.$container.each(function(t){return t.disable()})},e.prototype.doEnable=function(){this.$container.each(function(t){return t.enable()})},e.prototype.updateDisableStatus=function(){},e.prototype.appendText=function(t){this.append(t)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationAdd:"annotation-add",annotationImported:"annotation-imported",actionUpdated:"action-updated",actionAdd:"action-add",actionRemove:"action-remove",layerVisibleChange:"layer-visible-change",bookmarkAdded:"bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageRotationChange:"page-rotation-change",imageAdded:"image-added",watermarkAdded:"watermark-added",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",drmEncryptSuccess:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BORDER_STYLE={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5},e.MARKUP_ANNOTATION_STATE={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",NONE:"none"},e.POINT_TYPE={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},e.Intents={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"};var o=e.LineEndingName={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"};e.LineEndingStyle=Object.keys(o).reduce(function(t,e){return t[o[e]]=e,t},{}),e.AnnotFlagsName={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},e.PDFDocPermission={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048}},function(t,e,n){var o;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(r,i,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),f="function",p=Math.round,d=Math.abs,h=Date.now;function g(t,e,n){return setTimeout(_(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var o;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(o=0;o<t.length;)e.call(n,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function v(t,e,n){var o="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=r.console&&(r.console.warn||r.console.log);return i&&i.call(r.console,o,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(o!==s&&null!==o)for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e}:Object.assign;var b=v(function(t,e,n){for(var o=Object.keys(e),r=0;r<o.length;)(!n||n&&t[o[r]]===s)&&(t[o[r]]=e[o[r]]),r++;return t},"extend","Use `assign`."),w=v(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function A(t,e,n){var o,r=e.prototype;(o=t.prototype=Object.create(r)).constructor=t,o._super=r,n&&u(o,n)}function _(t,e){return function(){return t.apply(e,arguments)}}function P(t,e){return typeof t==f?t.apply(e&&e[0]||s,e):t}function O(t,e){return t===s?e:t}function E(t,e,n){y(D(e),function(e){t.addEventListener(e,n,!1)})}function x(t,e,n){y(D(e),function(e){t.removeEventListener(e,n,!1)})}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function M(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var o=0;o<t.length;){if(n&&t[o][n]==e||!n&&t[o]===e)return o;o++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function j(t,e,n){for(var o=[],r=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];M(r,a)<0&&o.push(t[i]),r[i]=a,i++}return n&&(o=e?o.sort(function(t,n){return t[e]>n[e]}):o.sort()),o}function I(t,e){for(var n,o,r=e[0].toUpperCase()+e.slice(1),i=0;i<c.length;){if((o=(n=c[i])?n+r:e)in t)return o;i++}return s}var R=1;function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var F="ontouchstart"in r,N=I(r,"PointerEvent")!==s,L=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=25,B=1,U=2,H=4,W=8,q=1,z=2,$=4,Y=8,G=16,K=z|$,Q=Y|G,X=K|Q,J=["x","y"],Z=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){P(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var o=n.pointers.length,r=n.changedPointers.length,i=e&B&&o-r==0,a=e&(H|W)&&o-r==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,o=e.pointers,r=o.length;n.firstInput||(n.firstInput=nt(e));r>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===r&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,c=e.center=ot(o);e.timeStamp=h(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=st(u,c),e.distance=at(u,c),function(t,e){var n=e.center,o=t.offsetDelta||{},r=t.prevDelta||{},i=t.prevInput||{};e.eventType!==B&&i.eventType!==H||(r=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},o=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-o.x),e.deltaY=r.y+(n.y-o.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var l=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=d(l.x)>d(l.y)?l.x:l.y,e.scale=a?function(t,e){return at(e[0],e[1],Z)/at(t[0],t[1],Z)}(a.pointers,o):1,e.rotation=a?function(t,e){return st(e[1],e[0],Z)+st(t[1],t[0],Z)}(a.pointers,o):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,o,r,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=W&&(u>V||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=rt(u,c,l);o=f.x,r=f.y,n=d(f.x)>d(f.y)?f.x:f.y,i=it(c,l),t.lastInterval=e}else n=a.velocity,o=a.velocityX,r=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=o,e.velocityY=r,e.direction=i}(n,e);var f=t.element;C(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:ot(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ot(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,o=0,r=0;r<e;)n+=t[r].clientX,o+=t[r].clientY,r++;return{x:p(n/e),y:p(o/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?q:d(t)>=d(e)?t<0?z:$:e<0?Y:G}function at(t,e,n){n||(n=J);var o=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(o*o+r*r)}function st(t,e,n){n||(n=J);var o=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,o)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(k(this.element),this.evWin,this.domHandler)}};var ut={mousedown:B,mousemove:U,mouseup:H},ct="mousedown",lt="mousemove mouseup";function ft(){this.evEl=ct,this.evWin=lt,this.pressed=!1,tt.apply(this,arguments)}A(ft,tt,{handler:function(t){var e=ut[t.type];e&B&&0===t.button&&(this.pressed=!0),e&U&&1!==t.which&&(e=H),this.pressed&&(e&H&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var pt={pointerdown:B,pointermove:U,pointerup:H,pointercancel:W,pointerout:W},dt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ht="pointerdown",gt="pointermove pointerup pointercancel";function mt(){this.evEl=ht,this.evWin=gt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ht="MSPointerDown",gt="MSPointerMove MSPointerUp MSPointerCancel"),A(mt,tt,{handler:function(t){var e=this.store,n=!1,o=t.type.toLowerCase().replace("ms",""),r=pt[o],i=dt[t.pointerType]||t.pointerType,a="touch"==i,s=M(e,t.pointerId,"pointerId");r&B&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):r&(H|W)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var yt={touchstart:B,touchmove:U,touchend:H,touchcancel:W},vt="touchstart",bt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=vt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}A(wt,tt,{handler:function(t){var e=yt[t.type];if(e===B&&(this.started=!0),this.started){var n=function(t,e){var n=T(t.touches),o=T(t.changedTouches);e&(H|W)&&(n=j(n.concat(o),"identifier",!0));return[n,o]}.call(this,t,e);e&(H|W)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var At={touchstart:B,touchmove:U,touchend:H,touchcancel:W},_t="touchstart touchmove touchend touchcancel";function Pt(){this.evTarget=_t,this.targetIds={},tt.apply(this,arguments)}A(Pt,tt,{handler:function(t){var e=At[t.type],n=function(t,e){var n=T(t.touches),o=this.targetIds;if(e&(B|U)&&1===n.length)return o[n[0].identifier]=!0,[n,n];var r,i,a=T(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return C(t.target,u)}),e===B)for(r=0;r<i.length;)o[i[r].identifier]=!0,r++;r=0;for(;r<a.length;)o[a[r].identifier]&&s.push(a[r]),e&(H|W)&&delete o[a[r].identifier],r++;if(!s.length)return;return[j(i.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Ot=2500,Et=25;function xt(){tt.apply(this,arguments);var t=_(this.handler,this);this.touch=new Pt(this.manager,t),this.mouse=new ft(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout(function(){var t=o.indexOf(n);t>-1&&o.splice(t,1)},Ot)}}A(xt,tt,{handler:function(t,e,n){var o="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)(function(t,e){t&B?(this.primaryTouch=e.changedPointers[0].identifier,Ct.call(this,e)):t&(H|W)&&Ct.call(this,e)}).call(this,e,n);else if(r&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var r=this.lastTouches[o],i=Math.abs(e-r.x),a=Math.abs(n-r.y);if(i<=Et&&a<=Et)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var St=I(l.style,"touchAction"),Dt=St!==s,Mt="auto",Tt="manipulation",jt="none",It="pan-x",Rt="pan-y",kt=function(){if(!Dt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}();function Ft(t,e){this.manager=t,this.set(e)}Ft.prototype={set:function(t){"compute"==t&&(t=this.compute()),Dt&&this.manager.element.style&&kt[t]&&(this.manager.element.style[St]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,function(e){P(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(S(t,jt))return jt;var e=S(t,It),n=S(t,Rt);if(e&&n)return jt;if(e||n)return e?It:Rt;if(S(t,Tt))return Tt;return Mt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var o=this.actions,r=S(o,jt)&&!kt[jt],i=S(o,Rt)&&!kt[Rt],a=S(o,It)&&!kt[It];if(r){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!i)return r||i&&n&K||a&&n&Q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Nt=1,Lt=2,Vt=4,Bt=8,Ut=Bt,Ht=16;function Wt(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=Nt,this.simultaneous={},this.requireFail=[]}function qt(t){return t&Ht?"cancel":t&Bt?"end":t&Vt?"move":t&Lt?"start":""}function zt(t){return t==G?"down":t==Y?"up":t==z?"left":t==$?"right":""}function $t(t,e){var n=e.manager;return n?n.get(t):t}function Yt(){Wt.apply(this,arguments)}function Gt(){Yt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Yt.apply(this,arguments)}function Qt(){Wt.apply(this,arguments),this._timer=null,this._input=null}function Xt(){Yt.apply(this,arguments)}function Jt(){Yt.apply(this,arguments)}function Zt(){Wt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=O(e.recognizers,te.defaults.preset),new ee(t,e)}Wt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=$t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=$t(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=$t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=$t(t,this);var e=M(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function o(n){e.manager.emit(n,t)}n<Bt&&o(e.options.event+qt(n)),o(e.options.event),t.additionalEvent&&o(t.additionalEvent),n>=Bt&&o(e.options.event+qt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Nt)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!P(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ut|Ht|32)&&(this.state=Nt),this.state=this.process(e),this.state&(Lt|Vt|Bt|Ht)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},A(Yt,Wt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,o=e&(Lt|Vt),r=this.attrTest(t);return o&&(n&W||!r)?e|Ht:o||r?n&H?e|Bt:e&Lt?e|Vt:Lt:32}}),A(Gt,Yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Rt),t&Q&&e.push(It),e},directionTest:function(t){var e=this.options,n=!0,o=t.distance,r=t.direction,i=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&K?(r=0===i?q:i<0?z:$,n=i!=this.pX,o=Math.abs(t.deltaX)):(r=0===a?q:a<0?Y:G,n=a!=this.pY,o=Math.abs(t.deltaY))),t.direction=r,n&&o>e.threshold&&r&e.direction},attrTest:function(t){return Yt.prototype.attrTest.call(this,t)&&(this.state&Lt||!(this.state&Lt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=zt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),A(Kt,Yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Lt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),A(Qt,Wt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Mt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,o=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!o||!n||t.eventType&(H|W)&&!r)this.reset();else if(t.eventType&B)this.reset(),this._timer=g(function(){this.state=Ut,this.tryEmit()},e.time,this);else if(t.eventType&H)return Ut;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ut&&(t&&t.eventType&H?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),A(Xt,Yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Lt)}}),A(Jt,Yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Q,pointers:1},getTouchAction:function(){return Gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|Q)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&Q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&H},emit:function(t){var e=zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),A(Zt,Wt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Tt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,o=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&B&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!=H)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Ut,this.tryEmit()},e.interval,this),Lt):Ut}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Xt,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Jt,{direction:K}],[Gt,{direction:K},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){this.options=u({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(N?mt:L?Pt:F?xt:ft))(t,et)}(this),this.touchAction=new Ft(this,this.options.touchAction),ne(this,!0),y(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,o=t.element;o.style&&(y(t.options.cssProps,function(r,i){n=I(o.style,i),e?(t.oldCssProps[n]=o.style[n],o.style[n]=r):o.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var o=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Ut)&&(r=e.curRecognizer=null);for(var i=0;i<o.length;)n=o[i],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Lt|Vt|Bt)&&(r=e.curRecognizer=n),i++}},get:function(t){if(t instanceof Wt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=M(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return y(D(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return y(D(t),function(t){e?n[t]&&n[t].splice(M(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](e),o++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(te,{INPUT_START:B,INPUT_MOVE:U,INPUT_END:H,INPUT_CANCEL:W,STATE_POSSIBLE:Nt,STATE_BEGAN:Lt,STATE_CHANGED:Vt,STATE_ENDED:Bt,STATE_RECOGNIZED:Ut,STATE_CANCELLED:Ht,STATE_FAILED:32,DIRECTION_NONE:q,DIRECTION_LEFT:z,DIRECTION_RIGHT:$,DIRECTION_UP:Y,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Q,DIRECTION_ALL:X,Manager:ee,Input:tt,TouchAction:Ft,TouchInput:Pt,MouseInput:ft,PointerEventInput:mt,TouchMouseInput:xt,SingleTouchInput:wt,Recognizer:Wt,AttrRecognizer:Yt,Tap:Zt,Pan:Gt,Swipe:Jt,Pinch:Kt,Rotate:Xt,Press:Qt,on:E,off:x,each:y,merge:w,extend:b,assign:u,inherit:A,bindFn:_,prefixed:I}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=te,(o=function(){return te}.call(e,n,e,t))===s||(t.exports=o)}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerialPromise=e.DebouncePromiseQueue=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(43));function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){},a=function(){function t(){r(this,t),this.queue=[],this.promise=Promise.resolve()}return t.prototype.push=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;this.queue.push([t,e]),this.exec()},t.prototype.exec=function(){var t=this;if(!this.execIng){var e=this.queue.pop();if(e){this.execIng=!0;for(var n=0,o=this.queue.length;n<o;n++)this.queue[n][1]();this.queue=[],Promise.resolve(e[0]()).catch(function(){e[1]()}).finally(function(){t.execIng=!1,setTimeout(function(){t.exec()},30)})}}},t.prototype.end=function(){this.queue=[]},t}(),s=function(){function t(){r(this,t),this.queue=[],this.continueExec=!0,this.deferred=(0,o.default)()}return t.prototype.serial=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.queue=t,this.exec(),this.deferred.promise},t.prototype.push=function(){this.queue.push.apply(this.queue,arguments)},t.prototype.unshift=function(){this.queue.unshift.apply(this.queue,arguments)},t.prototype.concat=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.queue.concat(t)},t.prototype.exec=function(){var t=this;if(!this.execIng){this.execIng=!0;var e=this.queue.shift()||i;Promise.resolve(e()).finally(function(){return t.execIng=!1,t.queue.length?t.continueExec?void setTimeout(function(){t.exec()},30):(t.queue=[],t.deferred.reject()):t.deferred.resolve()})}},t.prototype.end=function(){return this.continueExec=!1,this.deferred.promise},t}();e.DebouncePromiseQueue=a,e.SerialPromise=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserPermission=e.shared=e.STATE_HANDLER_NAMES=e.SnapshotServer=e.StrikeOutTextEditComponent=e.ScreenComponent=e.FreeTextBoxComponent=e.FreeTextCalloutComponent=e.FreeTextTypeWritterComponent=e.PolygonCloudAnnotComponent=e.InkComponent=e.StampComponent=e.FreeTextComponent=e.SquareComponent=e.CaretComponent=e.FileAttachmentComponent=e.NoteComponent=e.CircleComponent=e.LinkAnnotComponent=e.PolygonComponent=e.PolyLineComponent=e.LineComponent=e.SquigglyComponent=e.UnderlineComponent=e.StrikeOutComponent=e.HighlightComponent=e.TextMarkupAnnotComponent=e.MarkupAnnotComponent=e.AnnotComponent=e.PageCustomRender=e.PDFPageRendering=e.DocCustomRender=e.PDFDocRendering=e.PDFViewerRendering=e.ScrollWrap=e.RetryPasswordComponent=e.Matrix=e.ViewerEvents=e.Events=e.IStateHandler=e.IViewMode=e.PDFViewer=e.Consts=e.BrowserInfo=e.DeviceInfo=e.vendors=e.Deps=e.PropertiesControl=e.ShapeControl=void 0;var o=et(n(219)),r=et(n(94)),i=et(n(42)),a=et(n(3)),s=et(n(146)),u=et(n(379)),c=et(n(217)),l=et(n(390)),f=et(n(382)),p=et(n(381)),d=et(n(386)),h=et(n(384)),g=et(n(93)),m=et(n(48)),y=et(n(92)),v=et(n(370)),b=et(n(212)),w=et(n(369)),A=et(n(368)),_=et(n(125)),P=et(n(211)),O=et(n(210)),E=et(n(366)),x=et(n(365)),C=et(n(364)),S=et(n(363)),D=et(n(361)),M=et(n(208)),T=et(n(151)),j=et(n(360)),I=et(n(359)),R=et(n(358)),k=et(n(207)),F=et(n(355)),N=et(n(353)),L=et(n(352)),V=et(n(351)),B=et(n(336)),U=et(n(37)),H=et(n(127)),W=et(n(380)),q=tt(n(20)),z=tt(n(13)),$=tt(n(29)),Y=tt(n(83)),G=tt(n(33)),K=tt(n(112)),Q=tt(n(124)),X=et(n(21)),J=et(n(85)),Z=et(n(1));function tt(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function et(t){return t&&t.__esModule?t:{default:t}}n(198);var nt=a.default,ot={Hammer:X.default,EventEmitter:J.default,jQuery:Z.default},rt=ot,it={browser:G,units:Q,download:K};e.ShapeControl=U.default,e.PropertiesControl=H.default,e.Deps=ot,e.vendors=rt,e.DeviceInfo=$,e.BrowserInfo=Y,e.Consts=q,e.PDFViewer=o.default,e.IViewMode=r.default,e.IStateHandler=i.default,e.Events=a.default,e.ViewerEvents=nt,e.Matrix=s.default,e.RetryPasswordComponent=u.default,e.ScrollWrap=c.default,e.PDFViewerRendering=l.default,e.PDFDocRendering=f.default,e.DocCustomRender=p.default,e.PDFPageRendering=d.default,e.PageCustomRender=h.default,e.AnnotComponent=g.default,e.MarkupAnnotComponent=m.default,e.TextMarkupAnnotComponent=y.default,e.HighlightComponent=v.default,e.StrikeOutComponent=b.default,e.UnderlineComponent=w.default,e.SquigglyComponent=A.default,e.LineComponent=_.default,e.PolyLineComponent=P.default,e.PolygonComponent=O.default,e.LinkAnnotComponent=E.default,e.CircleComponent=x.default,e.NoteComponent=C.default,e.FileAttachmentComponent=S.default,e.CaretComponent=D.default,e.SquareComponent=M.default,e.FreeTextComponent=T.default,e.StampComponent=j.default,e.InkComponent=I.default,e.PolygonCloudAnnotComponent=R.default,e.FreeTextTypeWritterComponent=k.default,e.FreeTextCalloutComponent=F.default,e.FreeTextBoxComponent=N.default,e.ScreenComponent=L.default,e.StrikeOutTextEditComponent=V.default,e.SnapshotServer=B.default,e.STATE_HANDLER_NAMES=z,e.shared=it,e.UserPermission=W.default},function(t,e,n){var o=n(170)("wks"),r=n(103),i=n(12).Symbol,a="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=a&&i[t]||(a?i:r)("Symbol."+t))}).store=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),r=u(n(195)),i=u(n(7)),a=u(n(196)),s=u(n(109));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.namespace,a=void 0===i?o.ROOT_MODULE_NAME:i,u=n.nodeName,c=n.attrs,l=void 0===c?{}:c,f=n.text,p=n.template,d=void 0===p?"":p;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{namespace:a,type:r.default.NODE_TYPE_CONTAINER,text:f}));return l.name=l.name||(0,s.default)("node_name"),h.$$options={namespace:a,nodeName:u,attrs:Object.assign({},l),text:f,template:d},h.nodeName=u,h.attrs=Object.assign({},l),h.name=l.name,h.children=[],h.template=d,h.directives=h.parseDirectiveAttrs(),h}return c(e,t),e.prototype.clone=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new e(this.$$options);return n.children=this.children.map(function(e){var o=t?e.clone(t):e;return o.parent=n,o}),n.parent=this.parent,n.componentOptions=this.componentOptions,n},e.prototype.parseDirectiveAttrs=function(){var t=[];for(var e in this.attrs)if("@"===e[0]){var n=this._parseDirectiveName(e.substring(1)),o=n.ns,r=n.directiveName,i=n.subName;t.push({attrName:e,ns:o,directiveName:r,subName:i,attrValue:this.attrs[e]}),delete this.attrs[e]}return t},e.prototype._parseDirectiveName=function(t){var e=t.indexOf(o.NAMESPACE_SEPERATOR),n=e>-1?t.substring(0,e):o.ROOT_MODULE_NAME,r=t.substring(Math.max(0,e+1)),i=void 0,a=void 0,s=r.indexOf(".");return-1!==s?(i=r.substring(0,s),a=r.substring(s+1)):i=r,{ns:n,directiveName:i,subName:a}},e.prototype.size=function(){return this.children.length},e.prototype.findByName=function(t){return this.findChildren(function(e){return e.name===t})},e.prototype.findChildren=function(t){var n=[];return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t(this)&&n.push(this),this.children.reduce(function(n,o){if(!(o instanceof e))return n;var r=o.findChildren(t,!0);return r.length>0&&n.push.apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r)),n},n),n},e.prototype.first=function(){return this.children[0]},e.prototype.last=function(){return this.children[this.children.length-1]},e.prototype.brothers=function(){return this.parent?this.parent.children:[this]},e.prototype.querySelectorAll=function(t){return a.default.parseSelectors(t).selectFrom([this])},e.prototype.childAt=function(t){return this.children[t]},e.prototype.append=function(t){return this.insert(t,this.children.length)},e.prototype.prepend=function(t){return this.insert(t,0)},e.prototype.insert=function(t,e){if(e<0)throw new Error("index out of bounds: "+e);e=Math.min(this.children.length,e),t.parent=this,this.children.splice(e,0,t)},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1)),this},e.prototype.index=function(){return this.parent?this.parent.children.indexOf(this):-1},e.prototype.clear=function(){return this.children.forEach(function(t){return t.remove()}),this},e.prototype.setAttribute=function(t,e){this.attrs[t]=e,"name"===t&&(this.name=e)},e.prototype.hasAttribute=function(t){return t in this.attrs},e.prototype.getAttribute=function(t){return this.attrs[t]},e.prototype.removeAttribute=function(t){delete this.attrs[t]},e.prototype.getComponentClass=function(){return this.module.getComponentClass(this.nodeName)||i.default.root().getComponentClass("{native}")},e.prototype.toViewConfig=function(){return{nodeName:this.nodeName,attrs:this.attrs,textContent:this.text,vnode:this}},e.prototype.getParserDirectiveInstance=function(t,e){var n=this.directives.filter(function(t){var e=i.default._nostrictModule(t.ns);if(!e)return!1;var n=e.getDirectiveClass(t.directiveName);return n&&n.isParser()});if(n.length>1){var o=n.map(function(t){return t.directiveName});throw new Error("Conflict directive: "+o.join(" and ")+", both of them are parser directive")}var r=n[0];if(r){var a=i.default.module(r.ns),s=a.getDirectiveClass(r.directiveName),u=r.attrName;return new s({module:a,localizer:e,node:this,subName:r.subName,attrValue:r.attrValue,parentComponent:t,attrName:u})}},e.prototype.getDirectiveInstances=function(t,e){var n=this;return this.directives.map(function(o){var r=i.default._nostrictModule(o.ns);if(!r)return null;var a=r.getDirectiveClass(o.directiveName);if(!a||a.isParser())return null;var s=o.attrName,u=o.subName,c=o.attrValue;return new a({module:r,localizer:e,node:n,subName:u,attrValue:c,parentComponent:t,attrName:s})}).filter(function(t){return!!t}).sort(function(t,e){return t.order>e.order?-1:1})},e}(r.default);e.default=l},function(t,e,n){var o=n(68),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(11),r=n(427),i=n(70),a=Object.defineProperty;e.f=n(28)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=e.isTouchDevice=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))}(),r=navigator.userAgent.toLowerCase(),i=e.isIOS=/ipad|iphone|ipod/.test(r),a=e.isIPHONE=/iphone/.test(r),s=e.isIPAD=/ipad/.test(r),u=e.isIPOD=/ipod/.test(r),c=e.isAndroid=/android/.test(r),l=e.isBlackBerry=/blackberry/.test(r),f=e.isWebOS=/webos/.test(r),p=e.isKindle=/silk|kindle/.test(r),d=e.isTablet=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(r),h=e.isMobile=!d&&(/mobile/.test(r)||i||c||l||f||p),g=e.isDesktop=!(h||d||c||a||s||u||p||f),m=e.isMiPad=/(MI(.*|\s*)PAD).*/i.test(r),y=e.isXiaomi=!m&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(r);e.DEVICE_DETACTION={ios:i,iphone:a,ipad:s,ipod:u,android:c,blackberry:l,webos:f,kindle:p,tablet:d,mobile:h,desktop:g,xiaomi:y,touch:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSmartScale=e.getWHByMatrix=e.pxDPRpt=e.ptDPRpx=e.multiDPR=e.px2pt=e.pt2px=void 0;var o=n(33),r=n(387),i=[o.dpi.x,o.dpi.y],a=72;e.pt2px=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t*i[e]/a},e.px2pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t*a/i[e]},e.multiDPR=function(t){return t*o.dpr},e.ptDPRpx=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.dpr*t*i[e]/a},e.pxDPRpt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t/o.dpr/i[e]*a},e.getWHByMatrix=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=(0,r.pageMatrix)(t,e,n,o);return[i[3]*t+i[5],i[3]*e+i[5]]},e.getSmartScale=function(t,e,n){return Math.min(Math.max(Math.ceil(4*t)/4,e),n)}},function(t,e,n){var o=n(69);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClientX=function(t){if("clientX"in t)return t.clientX;switch(t.type){case"touchstart":case"touchmove":return t.touches[0].clientX;case"touchend":case"touchcancel":return t.changedTouches[0].clientX}},e.getClientY=function(t){if("clientY"in t)return t.clientY;switch(t.type){case"touchstart":case"touchmove":return t.touches[0].clientY;case"touchend":case"touchcancel":return t.changedTouches[0].clientY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){if(screen.deviceXDPI)return{x:screen.deviceXDPI,y:screen.deviceYDPI};var t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;top:20in;border:none;padding:0;",document.body.appendChild(t);var e={x:parseInt(t.offsetWidth),y:parseInt(t.offsetHeight)};return t.parentNode.removeChild(t),e}(),r="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,i=o.x/72,a=72/o.x,s=void 0;e.dpi=o,e.dpr=r,e.ptPxRatio=i,e.pxPtRatio=a,e.copyText=function(t){var e=s||((s=document.createElement("input")).style.opacity="0",document.body.appendChild(s),s);return e.value=t,e.select(),e.focus(),e.setSelectionRange(0,e.value.length),document.execCommand("copy",!1,e.value)},e.eventPath=function(t){var e=t.composedPath&&t.composedPath()||t.path,n=t.target;return null!=e?e.indexOf(window)<0?e.concat(window):e:n===window?[window]:[n].concat(function t(e,n){n=n||[];var o=e.parentNode;return o?t(o,n.concat(o)):n}(n),window)},e.isIE10=function(){var t=navigator.userAgent.toLowerCase(),e=void 0;return!!("ActiveXObject"in self&&(e=t.match(/msie ([\d\.]+)/)))&&10===parseInt(e[1])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(40)),r=a(n(200)),i=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.groupElements=[],r.replies=[],r.markedStates=[],r.reviewStates=[],r}return s(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.reviseSummary=function(t){var e=this,n=this.info,o=[],r=n.groupElementsSummary.map(function(e){return Promise.resolve(t(e.id))}),i=Promise.all(r).then(function(t){e.groupElements=t});o.push(i);var a=n.groupHeaderSummary;a&&o.push(Promise.resolve(t(a.id)).then(function(t){e.groupHeader=t}));var s=n.repliesSummary.map(function(e){return Promise.resolve(t(e.id))}),u=Promise.all(s).then(function(t){e.replies=t});o.push(u);var c=n.markedStatesSummary.map(function(e){return Promise.resolve(t(e.id))}),l=Promise.all(c).then(function(t){e.markedStates=t});o.push(l);var f=n.reviewStatesSummary.map(function(e){return Promise.resolve(t(e.id))}),p=Promise.all(f).then(function(t){e.reviewStates=t});o.push(p);var d=n.popupSummary;return d&&o.push(Promise.resolve(t(d.id)).then(function(t){e.popup=t})),Promise.all(o).then(function(){return e.reviseSummaryIsOK=!0,e})},e.prototype.getBitmap=function(t,e,n){var o=this.getPDFPage(),r=o.getPDFDoc();return this.api.getAnnotBitmap(r.getId(),o.getId(),this.getId(),t,e,n)},e.prototype.getOpacity=function(){return this.info.opacity},e.prototype.setOpacity=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return t=+t,this.api.setAnnotOpacity(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(e){for(var n=e.length-1;n>-1;n--)e[n].info.opacity=t;return e}).then(function(t){return e.eventEmitter.emit(i.default.annotationUpdated,t,n),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,t,n),t})},e.prototype.getSubject=function(){return this.info.subject},e.prototype.setSubject=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setSubject(o.getId(),n.getId(),this.getId(),t).then(function(){return e.update()})},e.prototype.getTitle=function(){return this.info.title},e.prototype.setTitle=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setTitle(o.getId(),n.getId(),this.getId(),t).then(function(){return e.update()})},e.prototype.isGrouped=function(){return this.info.isGrouped},e.prototype.isGroupHeader=function(){return this.info.isGroupHeader},e.prototype.getGroupElements=function(){return this.groupElements},e.prototype.getGroupHeader=function(){return this.groupHeader},e.prototype.getReplyCount=function(){return this.replies.length},e.prototype.getReply=function(t){return this.replies[t]},e.prototype.getReplies=function(){return this.replies},e.prototype.addReply=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.api.annotAddReply(o.getId(),n.getId(),this.getId(),t).then(function(t){r.info.repliesSummary.push({id:t.id,index:t.index});var o=e.engine.annotManager.get(t,n);return n.addReplyAnnot(o)}).then(function(t){return r.replies.push(t),e.engine.eventEmitter.emit(i.default.annotationReplyAdd,t,r),t})},e.prototype.removeRepliesByIdLocaly=function(t){if(!Array.isArray(t)||t.length<1||this.replies.length<1)return t||[];var e=t.slice(0);return this.replies=this.replies.filter(function(t){var n=e.indexOf(t.getId());return n>-1&&e.splice(n,1),-1==n}),e},e.prototype.getMarkedStateCount=function(){return this.markedStates.length},e.prototype.getMarkedState=function(t){return this.markedStates[t]},e.prototype.getMarkedStates=function(){return this.markedStates},e.prototype.getReviewStateCount=function(){return this.reviewStates.length},e.prototype.getReviewState=function(t){return this.reviewStates[t]},e.prototype.getReviewStates=function(){return this.reviewStates},e.prototype.addReviewState=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.api.addAnnotReviewState(o.getId(),n.getId(),this.getId(),t).then(function(t){r.info.reviewStatesSummary.push({id:t.id,index:t.index});var o=e.engine.annotManager.get(t,n);return n.addAddonAnnot(o)}).then(function(t){return r.reviewStates.push(t),e.engine.eventEmitter.emit(i.default.annotationReviewStateAnnotAdd,t,r),t})},e.prototype.addMarkedState=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.api.addAnnotMarkedState(o.getId(),n.getId(),this.getId(),t).then(function(t){r.info.markedStatesSummary.push({id:t.id,index:t.index});var o=e.engine.annotManager.get(t,n);return n.addAddonAnnot(o)}).then(function(t){return r.markedStates.push(t),e.engine.eventEmitter.emit(i.default.annotationMarkedStateAnnotAdd,t,r),t})},e.prototype.removeAllStateAnnots=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc(),o=this.getGroupHeader()||this;return this.api.removeAllStateAnnots(n.getId(),e.getId(),this.getId()).then(function(n){return!!n&&(o.info.markedStatesSummary.forEach(function(t){var n=t.id;e.removeAddonAnnotById(n)}),o.info.reviewStatesSummary.forEach(function(t){var n=t.id;e.removeAddonAnnotById(n)}),o.info.markedStatesSummary=[],o.info.reviewStatesSummary=[],o.reviewStates=[],o.markedStates=[],t.engine.eventEmitter.emit(i.default.annotationStatesCleared,o),n)})},e.prototype.getPopup=function(){return this.popup},e.prototype.getCreateDateTime=function(){return new Date(this.info.creationTimestamp)},e.prototype.setCreateDateTime=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setCreateDateTime(o.getId(),n.getId(),this.getId(),t).then(function(){return e.update()})},e.prototype.getIntent=function(){return this.info.intent},e.prototype.setIntent=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotIntent(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(e){for(var n=0;n<e.length;n++)e[n].info.intent=t;return e}).then(function(t){return e.eventEmitter.emit(i.default.annotationUpdated,t,n),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,t,n),t})},e.prototype.getFillColor=function(){return this.info.fillColor},e.prototype.setFillColor=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),t).then(function(o){return o&&(e.info.fillColor=t,e.eventEmitter.emit(i.default.annotationUpdated,[e],n),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n)),o})},e.prototype.update=function(){var t=this,e=this.getGroupElements();0==e.length&&(e=[this]);for(var n=[],o=0,r=e.length;o<r;o++){var a=e[o];n[o]=a._update()}return Promise.all(n).then(function(e){return t.eventEmitter.emit(i.default.annotationUpdated,e,t.getPDFPage()),e})},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.opacity,o=(0,r.default)(new Date(this.info.creationTimestamp),"D:yyyyMMddhhmmssTZ","'"),i=this.info.intent,a=this.info.subject,s=this.info.title,u=this.info.IRT,c=this.info.RT;i=i.length>0?{IT:i,intent:i}:{};var l=Object.assign({},e,{opacity:n,creationdate:o,subject:a,title:s},i);return u&&c&&(l.inreplyto=u,l.replyType=c.toLowerCase()),this.popup&&(l.popup=this.popup.exportToJSON()),l},e.prototype.setContent=function(t){var e=this;return(this.getGroupHeader()||this)._setContent(t).then(function(t){return e.getPDFPage().getAnnotsByIdArray([t])}).then(function(n){var o=n[0];return o&&(o.info.content=t,o.info.modifiedTimestamp=(new Date).getTime()),e.eventEmitter.emit(i.default.annotationUpdated,n,e.getPDFPage()),n})},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(348)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(32);e.default=function(t,e){var n=t.getBoundingClientRect(),r=e.srcEvent,i=(0,o.getClientX)(r),a=(0,o.getClientY)(r);return{x:i-n.left-e.deltaX,y:a-n.top-e.deltaY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=d(n(1004)),i=d(n(65)),a=d(n(1003)),s=n(21),u=n(153),c=d(n(374)),l=n(373),f=d(n(74)),p=d(n(6));function d(t){return t&&t.__esModule?t:{default:t}}var h=(0,l.identity)(!0),g=p.default.getLogger("ShapeControl"),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.start,o=void 0===n?i.default:n,a=e.update,s=void 0===a?i.default:a,u=e.interceptor,c=void 0===u?h:u,l=e.moving,f=void 0===l?i.default:l,p=e.end,d=void 0===p?i.default:p,g=e.rotate,m=void 0===g?i.default:g,y=e.enableDiagonally,v=void 0!==y&&y,b=e.enableFrame,w=void 0===b||b,A=e.enableSizeBox,_=void 0!==A&&A,P=e.resizable,O=void 0===P||P,E=e.moveable,x=void 0===E||E,C=e.rotatable,S=void 0!==C&&C,D=e.previewer,M=void 0!==D&&D,T=e.enableUniform,j=void 0!==T&&T,I=e.minUniformSize,R=void 0===I?15:I,k=e.annotRender,F=void 0===k?null:k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var N=new DOMParser;this.ui=N.parseFromString((0,r.default)({enableDiagonally:v,resizable:O,enableFrame:w,rotatable:S,moveable:x,previewer:M,enableSizeBox:_}),"text/html").body.firstChild,this.onStart=o,this.onUpdate=s,this.onMoving=f,this.interceptor=c,this.onEnd=d,this.rotate=m,this.enableUniform=j,this.minUniformSize=R,this.rotatable=S,this.moveable=x,this.enablePreviewer=M,this.isDisabled=!1;var L=this.ui.querySelector(".fv__shape-control-previewer");this.rotatingRod=this.ui.querySelector(".fv__shape-rotate"),this.shapeSizeBox=this.ui.querySelector(".fv__shape-size"),this.context=L.getContext("2d"),this.bindEvents(),this.annotRender=F,this.rotateCursorStyle="fv__cursor-rotation",this.rotateDegreeBox=this.ui.querySelector(".fv-shape-rotate-degree"),this.rotateDegree=0,this.updateRotateDegreeBox(this.rotateDegree)}return o(t,null,[{key:"ACTION_RESIZE",get:function(){return"resize"}},{key:"ACTION_MOVE",get:function(){return"move"}}]),t.prototype.getPreviewerContext=function(){return this.context},t.prototype.bindEvents=function(){var t=this,e=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(e).forEach(function(e){return t._bindControllerEvents(e)}),this.moveable&&this._bindMoveAreaEvents(),this.rotatable&&this._bindRotateEvents()},t.prototype._bindControllerEvents=function(e){var n=this,o=new s.Manager(e);o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0;o.on("panmove",function(t){var o=t.deltaX,a=t.deltaY;if(!n.isDisabled){var s=o-r,u=a-i;r=o,i=a,n.resize(e.getAttribute("direction"),s,u),n._resizeSizeBox()}}),o.on("panstart",function(t){var o=t.deltaX,a=t.deltaY;n.isDisabled||(r=o,i=a,n.start(),n.resize(e.getAttribute("direction"),o,a,!0))}),o.on("panend",function(e){n.isDisabled||n.end(t.ACTION_RESIZE)}),o.on("pancancel",function(e){n.isDisabled||n.cancel(t.ACTION_RESIZE)})},t.prototype._resizeSizeBox=function(){if(this.shapeSizeBox){var t=this.shape.getAdjustShape();t||(t=this.shape.shape);var e=parseInt(t.width),n=parseInt(t.height);this.shapeSizeBox.innerHTML=e<120?e+"px*"+n+"px":e<170?"W: "+e+"px, H: "+n+"px":"Width: "+e+"px, Height: "+n+"px",this.shapeSizeBox.style.top=n>100?"1px":"-22px"}},t.prototype._bindMoveAreaEvents=function(){var e=this,n=this.ui,o=new s.Manager(n.querySelector(".fv__shape-control-move-area"));o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0;o.on("panstart",function(t){var n=t.deltaX,o=t.deltaY;e.isDisabled||(r=n,i=o,e.start(),e.move(r,i,!0))}),o.on("panend",function(n){e.isDisabled||e.end(t.ACTION_MOVE)}),o.on("pancancel",function(n){e.isDisabled||e.cancel(t.ACTION_MOVE)}),o.on("panmove",function(t){var n=t.deltaX,o=t.deltaY,a=t.center,s=t.direction;if(!e.isDisabled){var u=n-r,c=o-i;r=n,i=o;var l=e.ui.getBoundingClientRect(),f=l.left+l.width/2,p=l.top+l.height/2;a.x<f&&s&Hammer.DIRECTION_RIGHT&&(u=0),a.x>f&&s&Hammer.DIRECTION_LEFT&&(u=0),a.y<p&&s&Hammer.DIRECTION_DOWN&&(c=0),a.y>p&&s&Hammer.DIRECTION_UP&&(c=0),e.move(u,c)}})},t.prototype.disable=function(){this.isDisabled=!0,this.ui.classList.add("disable")},t.prototype.enable=function(){this.isDisabled=!1,this.ui.classList.remove("disable")},t.prototype.start=function(){this.isDisabled||this.shape.process()},t.prototype.move=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isDisabled){var r=this.shape.getAdjustRect();this.shape.adjustPosition(e,n);var i=this.shape.getAdjustRect(),a=i.left-r.left,s=i.top-r.top;this.interceptor(this.shape.getAdjustShape())?(this.shape.applyAdjustingToDom(this.ui),o&&this.onStart(this.shape.getAdjustShape(),this.context,t.ACTION_MOVE),this.onMoving(this.shape.getAdjustShape(),this.context,{offsetLeft:a,offsetTop:s})):this.shape.undo()}},t.prototype.resize=function(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled){switch(e){case u.DIR_EAST:case u.DIR_WEST:case u.DIR_NORTH:case u.DIR_SOUTH:case u.DIR_NORTH_EAST:case u.DIR_NORTH_WEST:case u.DIR_SOUTH_EAST:case u.DIR_SOUTH_WEST:break;default:throw new Error("Incorrect direction: "+e)}this._resize(e,n,o),this.interceptor(this.shape.getAdjustShape())?(this.shape.applyAdjustingToDom(this.ui),this._updatePreviewer(),r&&this.onStart(this.shape.getAdjustShape(),this.context,t.ACTION_RESIZE),this.onUpdate(this.shape.getAdjustShape(),this.context,{offsetLeft:n,offsetTop:o,direction:e})):this.shape.undo()}},t.prototype.end=function(t){this.isDisabled||(this.onEnd(this.shape.getAdjustShape(),this.context,t),this.shape.end(),this.shape.applyToDom(this.ui))},t.prototype.cancel=function(t){this.isDisabled||(this.shape.cancel(),this.shape.applyToDom(this.ui),this.onEnd(this.shape.getShape(),this.context,t))},t.prototype.moveDirectly=function(t,e){if(!this.isDisabled){this.start();try{this.move(t,e,!0)}catch(t){throw this.cancel(),t}this.end()}},t.prototype.resizeDirectly=function(t,e,n){if(!this.isDisabled){this.start();try{this.resize(t,e,n,!0)}catch(t){throw this.cancel(),t}this.end()}},t.prototype._updatePreviewer=function(){var t=this.ui.querySelector(".fv__shape-control-previewer");t.setAttribute("width",this.ui.offsetWidth),t.setAttribute("height",this.ui.offsetHeight)},t.prototype.hidePreviewer=function(){},t.prototype.showPreviewer=function(){},t.prototype.hidden=function(){},t.prototype.show=function(){},t.prototype._resize=function(t,e,n){var o=this.ui,r=void 0;switch(r=this.enableUniform?a.default.ADJUST_MODE_UNIFORM:c.default.isShift?a.default.ADJUST_MODE_SQUARE:a.default.ADJUST_MODE_FREE,t){case u.DIR_NORTH:i(t,this.shape.adjustNorth(n,r));break;case u.DIR_SOUTH:i(t,this.shape.adjustSouth(n,r));break;case u.DIR_EAST:i(t,this.shape.adjustEast(e,r));break;case u.DIR_WEST:i(t,this.shape.adjustWest(e,r));break;case u.DIR_NORTH_WEST:i(t,this.shape.adjustNorthWest(e,n,r,this.minUniformSize));break;case u.DIR_NORTH_EAST:i(t,this.shape.adjustNorthEast(e,n,r,this.minUniformSize));break;case u.DIR_SOUTH_WEST:i(t,this.shape.adjustSouthWest(e,n,r,this.minUniformSize));break;case u.DIR_SOUTH_EAST:i(t,this.shape.adjustSouthEast(e,n,r,this.minUniformSize));break;default:throw new Error("Incorrect direction: "+t)}function i(t,e){if(t!==e){var n=o.querySelector("[direction="+e+"]"),r=o.querySelector("[direction="+t+"]");n.setAttribute("direction",t),r.setAttribute("direction",e)}}},t.prototype.active=function(t,e,n){this._applyAnnotBoundary(e),t.append(this.ui),this.shape=new a.default({left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height,box:n}),this._updatePreviewer(),this._resizeSizeBox(),this.updateRotateDegreeBox(this.rotateDegree),this.rotateDegree&&(this.rotatingRod.style.transform="rotate("+this.rotateDegree+"deg)")},t.prototype.updateRotateDegreeBox=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(t=parseInt(t))>180&&(t-=360),t*=-1,this.rotateDegreeBox&&(this.rotateDegreeBox.innerHTML=t+"Â°",this.rotateDegreeBox.style.transform="rotate("+t+"deg)")},t.prototype.updateBoundary=function(t,e){Object.assign(this.shape.boundary,t),this._applyAnnotBoundary(this.shape.boundary),e&&this.updateBoundaryBox(e),this._updatePreviewer()},t.prototype.setMargin=function(t){t&&this.shape&&this.shape.setMargin(t)},t.prototype.updateBoundaryBox=function(t){this.shape.setBoundaryBox(t)},t.prototype.getCurrentShape=function(){return this.shape.getShape()},t.prototype.getAdjustingShape=function(){return this.shape.getAdjustShape()},t.prototype.getAdjustedOffset=function(){var t=this.getAdjustedRectDiff();return{offsetLeft:t.left,offsetTop:t.top}},t.prototype.getAdjustedRectDiff=function(){return f.default.subtract(this.shape.getAdjustRect(),this.shape.getRect())},t.prototype.deactive=function(){this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)},t.prototype.destroy=function(){this.disable(),this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)},t.prototype._applyAnnotBoundary=function(t){var e=t.left,n=t.top,o=t.width,r=t.height;this.ui.style.cssText+="\n            width: "+o+"px;\n            height: "+r+"px;\n            left: "+e+"px;\n            top: "+n+"px;\n            "},t.prototype._bindRotateEvents=function(){var t=this,e=this.ui,n=e.querySelector(".fv-shape-rotate-handle"),o=new s.Manager(n);o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0,a={x:0,y:0},u=function(e,n){var o=r+e-a.x,s=i+n-a.y;return 90+180*Math.atan2(s,o)/Math.PI-t.rotateDegree};o.on("panstart",function(n){if(!t.isDisabled){a.x=e.offsetLeft+e.offsetWidth/2,a.y=e.offsetTop+e.offsetHeight/2,r=a.x,i=e.offsetTop-.1*e.offsetHeight;var o=a.x+Math.sin(t.rotateDegree/180*Math.PI)*e.offsetHeight*.6,s=i+.6*e.offsetHeight-Math.cos(t.rotateDegree/180*Math.PI)*e.offsetHeight*.6;r=o,i=s,t.rotateStart=!0,t.addRotationCursorStyle()}}),o.on("panend",function(e){var n=e.deltaX,o=e.deltaY;if(!t.isDisabled){t.ui.style.transform="rotate(0deg)";var r=u(n,o);t.rotate(r),t.rotateStart=!1,t.rotateDegree+=r,t.rotatingRod.style.transform="rotate("+t.rotateDegree+"deg)",t.removeRotationCursorStyle()}}),o.on("pancancel",function(t){g.debug("rotate c")}),o.on("panmove",function(e){var n=e.deltaX,o=e.deltaY;if(!t.isDisabled&&t.rotateStart){var r=u(n,o);t.ui.style.transform="rotate("+r+"deg)",t.updateRotateDegreeBox(t.rotateDegree+r)}})},t.prototype.addRotationCursorStyle=function(){var t=this;pdfui&&pdfui.getPDFViewer().then(function(e){var n=t;e.pdfViewerRender.pdfDocRender.pagesRender.pageRenders.forEach(function(t){for(var e=t.$handler[0].classList,o=0;o<e.length;o++){var r=e[o];if(0===r.indexOf("fv__cursor-")){t.$handler[0].classList.remove(r),n.cursorStyle=r;break}}t.$handler[0].classList.add(n.rotateCursorStyle)})})},t.prototype.removeRotationCursorStyle=function(){var t=this;pdfui&&pdfui.getPDFViewer().then(function(e){var n=t;e.pdfViewerRender.pdfDocRender.pagesRender.pageRenders.forEach(function(t){t.$handler[0].classList.add(n.cursorStyle),t.$handler[0].classList.remove(n.rotateCursorStyle)})})},t}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),r=u(n(200)),i=(u(n(335)),u(n(19))),a=n(8),s=u(n(892));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isEmpty=!e,this.info=e||{},this.page=n,this.api=n.api;var o=this.engine=n.engine;this.eventEmitter=o.eventEmitter,this.id=e.id}return t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.getInfo=function(){return this.info},t.prototype.getId=function(){return this.info.id},t.prototype.getUniqueID=function(){return this.getId()},t.prototype.setUniqueID=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getId();return this.api.setUniqueId(o.getId(),n.getId(),r,t).then(function(o){return o?(e.info.id=t,e.id=t,n.changeAnnotId(r,t),e.update().then(function(){return e.eventEmitter.emit(i.default.annotationIDUpdated,t,r,e,n),o})):o})},t.prototype.getPDFPage=function(){return this.page},t.prototype.getPage=function(){return this.getPDFPage()},t.prototype.getType=function(){return this.info.type},t.prototype.getTitle=function(){return this.info.title},t.prototype.isMarkup=function(){return this.info.isMarkup},t.prototype.isDeleted=function(){return this.info.isDeleted},t.prototype.getRect=function(){var t=this.info.rect;return new s.default(t.left,t.bottom,t.right,t.top)},t.prototype._setRect=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.info.rect=t;var o=this.getPDFPage(),r=o.getPDFDoc();return this.api.setAnnotRect(r.getId(),o.getId(),this.getId(),t).then(function(t){return t&&n?e.update().then(function(){return e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t}):t})},t.prototype.setRect=function(t){var e=this;this.info.rect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotRect(o.getId(),n.getId(),this.getId(),t).then(function(t){return t?e.update().then(function(t){return e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],e.getPDFPage()),!0}):t})},t.prototype.moveTo=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=e.top,r=Object.assign({},this.info.rect),a=r.right,s=r.bottom,u=n-r.left,c=o-r.top;this.info.rect={left:n,top:o,right:a+u,bottom:s+c};var l=this.getPDFPage(),f=l.getPDFDoc().getId(),p=l.getId(),d=this.getId();return this.api.moveAnnotTo(f,p,d,{left:n,top:o}).then(function(t){return l.getAnnotsByIdArray(t)}).then(function(e){return t.update().then(function(n){t.eventEmitter.emit(i.default.annotationUpdated,e,l),t.eventEmitter.emit(i.default.annotationMovedPosition,e,l)})})},t.prototype.getDeviceRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page.getDeviceRect(this.getRect(),t,e);if(16&this.info.flag){var o=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],t);return{left:o[0],top:o[1],right:o[0]+n.right-n.left,bottom:o[1]+n.bottom-n.top}}return n},t.prototype.getDeviceInnerRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),t,e)},t.prototype.getContent=function(){return this.info.content},t.prototype.setContent=function(t){var e=this;return this._setContent(t).then(function(n){return e.info.content=t,e.eventEmitter.emit(i.default.annotationUpdated,[e],e.getPDFPage()),e})},t.prototype._setContent=function(t){var e=this.getPDFPage(),n=e.getPDFDoc();return this.api.setAnnotContent(n.getId(),e.getId(),this.getId(),t)},t.prototype.getBorderColor=function(){return this.info.borderColor},t.prototype.setBorderColor=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotBorderColor(o.getId(),n.getId(),this.getId(),t).then(function(o){return o&&(e.info.borderColor=t,e.eventEmitter.emit(i.default.annotationUpdated,[e],n),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n)),o})},t.prototype.getBorderStyle=function(){return this.info.borderInfo.style},t.prototype.getBorderStyleWithParam=function(){var t=this.info.borderInfo,e=t.style,n=t.cloudIntensity,r=t.dashes,i=void 0;switch(e){case o.BORDER_STYLE.SOLID:i=[];break;case o.BORDER_STYLE.CLOUDY:i=n;break;case o.BORDER_STYLE.DASHED:i=r}return{style:e,param:i}},t.prototype.getBorderInfo=function(){return this.info.borderInfo},t.prototype.setBorderStyle=function(t,e){var n=this;this.info.borderStyle=t;var o=this.getPDFPage(),r=o.getPDFDoc();return this.api.setAnnotBorderStyle(r.getId(),o.getId(),this.getId(),t,e).then(function(t){return o.getAnnotsByIdArray(t)}).then(function(t){for(var e=[],n=t.length;n--;)e.push(t[n]._update());return Promise.all(e)}).then(function(t){n.eventEmitter.emit(i.default.annotationUpdated,t,o),n.eventEmitter.emit(i.default.annotationAppearanceUpdated,t,o)})},t.prototype.getBorderDashes=function(){return this.info.borderInfo.dashes},t.prototype.getBorderWidth=function(){var t=this.info.borderInfo.width;return void 0===t?1:+t},t.prototype.setBorderWidth=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=!0;return this.api.setAnnotBorderWidth(o.getId(),n.getId(),this.getId(),t).then(function(t){return r=t,5==e.info.borderInfo.style?e._update():Promise.resolve()}).then(function(){return r&&(e.info.borderInfo.width=t,e.eventEmitter.emit(i.default.annotationUpdated,[e],n),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n)),r})},t.prototype.getCloudIntensity=function(){return this.info.borderInfo.cloudIntensity||0},t.prototype.reviseSummary=function(t){return Promise.resolve(this)},t.prototype.rectIsEmpty=function(){return this.info.rectIsEmpty},t.prototype.update=function(){var t=this;return this._update().then(function(){return t.eventEmitter.emit(i.default.annotationUpdated,[t],t.getPDFPage()),t})},t.prototype._update=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.api.getAnnot(n.getId(),e.getId(),this.getId()).then(function(e){return t.updateInfo(e),t})},t.prototype._updateMore=function(){},t.prototype.getFlags=function(){return this.info.flag},t.prototype.setFlags=function(t){var e=this;this.info.flag=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotFlag(o.getId(),n.getId(),this.getId(),t).then(function(t){return t&&(e.eventEmitter.emit(i.default.annotationUpdated,[e],n),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n)),t})},t.prototype.setFlagValue=function(t){return this.setFlags(t)},t.prototype.getModifiedDateTime=function(){var t=this.info.modifiedTimestamp;return t<0?null:new Date(t)},t.prototype.setModifiedDateTime=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setModifiedDateTime(o.getId(),n.getId(),this.getId(),t).then(function(t){return e.update()})},t.prototype.exportToJSON=function(){var t=(0,a.convertFromNumberToHex)(16777215&this.info.borderColor),e=this.info.flag,n="";for(var i in o.AnnotFlagsName)e&1<<parseInt(i)&&(n+=o.AnnotFlagsName[i]+",");var s=(0,r.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'"),u=this.info.id,c=this.page.getIndex(),l=this.info.rect,f=l.left+","+l.bottom+","+l.right+","+l.top,p=this.info.content,d=this.info.borderInfo,h={type:this.info.type,color:t,flags:n.substr(0,n.length-1),date:s,name:u,page:c,rect:f,contents:p,width:d.width};switch(d.style){case o.BORDER_STYLE.SOLID:h.style="solid";break;case o.BORDER_STYLE.DASHED:h.style="dashed",h.dashPhase=d.dashPhase,h.dashes=d.dashes.join(",");break;case o.BORDER_STYLE.UNDERLINE:h.style="underline";break;case o.BORDER_STYLE.BEVELED:h.style="beveled";break;case o.BORDER_STYLE.INSET:h.style="inset";break;case o.BORDER_STYLE.CLOUDY:h.style="cloudy",h.intensity=d.cloudIntensity}return h},t.prototype.updateInfo=function(t){this._isEmpty=!t,this.info=t,this._updateMore(),this.action&&t.action&&(this.action.info=t.action)},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new Error("Method not implemented")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e}return t.getStateName=function(){throw"You must provide a string name."},t.prototype.docHandler=function(t){},t.prototype.destroyDocHandler=function(){},t.prototype.pageHandler=function(t){},t.prototype.destroyPageHandler=function(){},t.prototype.out=function(){},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}},function(t,e,n){var o=n(0),r=n(15),i=n(69),a=/"/g,s=function(t,e,n,o){var r=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),o(o.P+o.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var o=n(12),r=n(46),i=n(53),a=n(103)("src"),s=Function.toString,u=(""+s).split("toString");n(59).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(i(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(i(n,a)||r(n,a,t[e]?""+t[e]:u.join(String(e)))),t===o?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var o=n(27),r=n(104);t.exports=n(28)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(n(40));var o=r(n(19));r(n(332));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(e,n,o,r,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.info=e,this.factory=n,this.doc=o,this.api=r,this.host=a,this.eventEmitter=i,this.initSubAction()}return t.prototype.initSubAction=function(){var t=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach(function(e){t.subAction.push(t.factory.createAction(e,t.doc,t.api,t.eventEmitter))})},t.prototype.getType=function(){return this.info.type},t.prototype.getSubActionCount=function(){return this.info.subActionCount},t.prototype.getSubAction=function(t){return this.subAction[t]},t.prototype.insertSubAction=function(t,e){var n=this;return this.api.insertSubAction(this.doc.getId(),this.info.objNumber,t,e).then(function(t){n.updateAction(t)})},t.prototype.setSubAction=function(t,e){var n=this;return this.api.setSubAction(this.doc.getId(),this.info.objNumber,t,e).then(function(t){n.updateAction(t)})},t.prototype.removeAllSubActions=function(){var t=this;return this.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then(function(e){t.updateAction(e)})},t.prototype.removeSubAction=function(t){var e=this;return this.api.removeSubAction(this.doc.getId(),this.info.objNumber,t).then(function(t){e.updateAction(t)})},t.prototype.setActionData=function(t){var e=this;return this.api.setActionData(this.doc.getId(),this.info.objNumber,t).then(function(t){e.updateAction(t)})},t.prototype.updateAction=function(t){this.info=t,this.initSubAction(),this.host&&this.eventEmitter.emit(o.default.actionUpdated,this.host)},t.prototype.checkOutData=function(t){return!0},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=y(n(93)),r=y(n(75)),i=n(30),a=y(n(65)),s=y(n(1));n(130);var u=y(n(2)),c=n(154),l=y(n(128)),f=y(n(3)),p=y(n(127)),d=y(n(1007)),h=y(n(377)),g=y(n(375)),m=n(8);function y(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var w=c.defaultAnnotComponentKey,A=(0,c.getCommonContextMenu)(".fv__pdf-page-annot-handler-rect"),_=void 0,P=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));a.name="markup",a.$ui.addClass("pdf-page-markup-annot-container"),a.$handler.addClass("pdf-page-markup-annot-handler-container");var s=a.pdfViewer.i18n;return u.default.i18n=function(t){return s.t(t)},a}return b(e,t),e.getDefaultContextMenuConfig=function(){return A},e.setContextMenuConfig=function(t){_=t},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1),s=i.getDeviceRect(o),u=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(u/r),u,c,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,a=this.annot;this.scale=n,this.rotate=o;var s=this.getAnnotFlag();if(s.checkInvisible()||s.checkHidden()||a.isEmpty()||a.isDeleted()||a.rectIsEmpty())return this.tileCanvas&&this.tileCanvas.hideContainer(),Promise.resolve();this.tileCanvas&&this.tileCanvas.showContainer(),this.$ui.removeClass("fv__annot-flags-nozoom");var u=this.getTileConfig(n,o),c=this.tileCanvas;return c||(c=this.tileCanvas=new r.default(function(t,n,o,r,s,u,c,l){return e.getPDFPage().getAnnotBitmap(a.getId(),(0,i.pt2px)(u),0,{x:c*u+n*s,y:l*u+t*s,width:o,height:r})},this.$ui)),(t=c).redraw.apply(t,v(u)).then(function(){if(s.checkNoZoom()){e.$ui.addClass("fv__annot-flags-nozoom");var t=void 0,n=void 0;n=8&e.annot.getFlags()?(t=e.annot.getRect()).top-t.bottom:(t=a.getDeviceRect(1)).bottom-t.top;var o=t.right-t.left;e.$ui.css({width:o+"px",height:n+"px"})}var r=a.getPopup();r&&r.getOpenStatus&&r.getOpenStatus()?e.showPopup():e.hidePopup()})},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&this.active()},e.prototype.redraw=function(){return this.activeRect(),this.render()},e.prototype.active=function(){t.prototype.active.call(this),this.$handler.addClass("active")},e.prototype.activeMore=function(t,e){},e.prototype.activeMoreItem=function(){},e.prototype.unActive=function(){var e=this;this.isActive&&(t.prototype.unActive.call(this),this.$handler.removeClass("active"),this.getGroupRenders().map(function(t){t.component!=e&&t.component.unActive()}))},e.prototype.unActiveMore=function(){},e.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove(),this.tileCanvas=null},e.prototype.showReplyDialog=function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateDeleteStatus(!0);var e=this.annot,n={},o=e.getGroupHeader()||e,r=n.content=o.getContent(),i=n.replies=[];this.iterationGetRepliesInfo(o,i);var a=i.length,u=(0,d.default)(n),c=(0,s.default)(u);this.$replyDialog=c;var f=c[0],p=c.find(".fv__btn-reply")[0],m=c.find(".reply-textarea")[0],y=!1;this.replyDisabled()?(c.find(".fv__btn-reply").addClass("fv__btn-replay-disabled"),c.find(".content-textarea").prop({disabled:!0}),c.find(".reply-textarea").prop({disabled:!0})):(c.find(".fv__btn-reply").removeClass("fv__btn-replay-disabled"),c.find(".content-textarea").prop({disabled:!1}),c.find(".reply-textarea").prop({disabled:!1})),c.on("click",".fv__btn-close",function(){t.hideReplyDialog()}).on("change",".content-textarea",function(e){var n=e.target,o=n.value;t.setContent(o).then(function(t){if(t)return r=o;n.value=r})}).on("input",".reply-textarea",function(t){p.disabled=!m.value}).on("click",".fv__btn-reply",function(e){if(!t.replyDisabled()&&!y){p.disabled=!0,y=!0;var n=m.value;t.addReply(n).then(function(e){var n={content:e.getContent()},o=n.replies=[];t.iterationGetRepliesInfo(e,o),a?c.find(".fv__replies_list").first().append((0,g.default)(n)):c.find(".fv__dialog-replies-block").first().html((0,h.default)([n])),a=!0,m.value="",p.disabled=!1,y=!1},function(){p.disabled=!1})}}),c.appendTo(document.body),l.default.registerDialog(f),f.showModal()},e.prototype.hideReplyDialog=function(){var t=this.$replyDialog;t&&(t[0].close(),t.remove(),this.$replyDialog=null),this.updateDeleteStatus(!1)},e.prototype.addReply=function(t){var e=this;return this.annot.addReply(t).then(function(t){return e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e),t})},e.prototype.showContextMenu=function(t,e){this.contextMenu&&this.contextMenu.showAt(t,e)},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,m.convertFromNumberToHex)(t.getBorderColor()),opacity:t.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new p.default(this),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close(),this.bindEvent(),this.updateDeleteStatus(!1)},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.setContent=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setContent",content:this.annot.getContent()}),this.annot.setContent(t).then(function(t){return t&&(e.pdfViewer.getMementoManager().after({host:e,method:"setContent",content:e.annot.getContent()}),e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e)),t})},e.prototype.setColor=function(t){var e=this,n=this.annot.getBorderColor();return this.annot.setBorderColor(t).then(function(t){return t?(e.pdfViewer.getMementoManager().before({host:e,method:"setBorderColor",color:n}),e.pdfViewer.getMementoManager().after({host:e,method:"setBorderColor",color:e.annot.getBorderColor()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e),t})):t})},e.prototype.setOpacity=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.annot.getOpacity();return n&&o&&(this.pdfViewer.getMementoManager().before({host:this,method:"setOpacity",opacity:o.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setOpacity",opacity:o.commitValue})),t==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(t).then(function(t){return t?(n&&!o&&(e.pdfViewer.getMementoManager().before({host:e,method:"setOpacity",opacity:r}),e.pdfViewer.getMementoManager().after({host:e,method:"setOpacity",opacity:e.annot.getOpacity()})),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e),t})):t})},e.prototype.destroy=function(){this.unBindEvent(),this.$propertiesControl=null,this.hideReplyDialog(),this.contextMenu&&this.contextMenu.destroy(),this.blankHammar&&this.blankHammar.destroy(),this.unActive(),this.unActiveMore(),t.prototype.destroy.call(this)},e.prototype.remove=function(){this.destroy()},e.prototype.iterationGetRepliesInfo=function(t,e){for(var n=t.getReplies(),o=0,r=n.length;o<r;o++){var i=n[o];if(!i.isDeleted()){var a={content:i.getContent(),replies:[]};this.iterationGetRepliesInfo(i,a.replies),e.push(a)}}},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled())return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return this.pdfViewer.getMementoManager().before({host:this,method:"removeAnnot"}),Promise.resolve((e.customs.removeAnnotBefore||a.default)(this)).then(function(e){if(n.emit(f.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then(function(e){if(e)return t.pdfViewer.getMementoManager().after({host:t,method:"removeAnnot"}),n.emit(f.default.removeActionAnnotationSuccess,t);n.emit(f.default.removeActionAnnotationFailed,t)},function(){n.emit(f.default.removeActionAnnotationFailed,t)})})},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=t.getDeviceRect(n);e.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"})},e.prototype.rectInit=function(){var t=this,e=this.$handler,n=(0,s.default)(this.createRectDom());e.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",function(e){!1!==t.onDoubleTap(e)&&t.rectDoubleTap()}),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),n.data(w,this),n},e.prototype.rectSingleTap=function(){},e.prototype.rectDoubleTap=function(t){this.showReplyDialog("comment")},e.prototype.createRectDom=function(){return(0,s.default)('<div class="fv__pdf-page-annot-handler-rect">')},e.prototype.doubleTapAnnot=function(){this.showReplyDialog("comment")},e.prototype.getContextMenuConfig=function(){if(_)return _;var t=this.constructor.getDefaultContextMenuConfig();for(var e in t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return t},e.prototype.getRelevanceRenders=function(){var t=this.parent("annotsRender"),e=this.annot.getGroupHeader()||this.annot,n=[],o=e.getPopup(),r=[],i=[],a=[];!function(t,e){O(t,"getReplies",e)}(e,r),function(t,e){O(t,"getMarkedStates",e)}(e,i),function(t,e){O(t,"getReviewStates",e)}(e,a),o&&n.push(o.getId()),n.push.apply(n,r),n.push.apply(n,i),n.push.apply(n,a);var s=e.isGrouped()?e.getGroupElements():[e];return n.push.apply(n,v(s.map(function(t){return t.getId()}))),n.map(function(e){return t.getAnnotRender(e)}).filter(function(t){return!!t})},e.prototype.getGroupRenders=function(){var t=this.parent("annotsRender"),e=this.annot;return((e=e.getGroupHeader()||e).isGrouped()?e.getGroupElements():[e]).map(function(e){return t.getAnnotRender(e.getId())})},e.prototype.getGroupRect=function(){var t=this.getGroupRenders();if(t.length>1){var e=t.map(function(t){return t.component.getRect()});return{left:Math.min.apply(Math,v(e.map(function(t){return t.left}))),right:Math.max.apply(Math,v(e.map(function(t){return t.right}))),top:Math.min.apply(Math,v(e.map(function(t){return t.top}))),bottom:Math.max.apply(Math,v(e.map(function(t){return t.bottom})))}}var n=t[0].component.getRect();return Object.assign({},n)},e.prototype.showPopup=function(){},e.prototype.hidePopup=function(){},e.prototype.onDoubleTap=function(t){},e}(o.default);function O(t,e,n){var o=t[e](),r=o.length;if(!r)return n;for(var i=r;i--;){var a=o[i];O(a,e,n),n.push(a.getId())}return n}e.default=P},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.KEY_MAP_SELECT_ALL_ANNOTATIONS="selectAllAnnotations",e.KEY_MAP_POLYLINE_DELETE_LAST_POINT="createPolyline_DeleteLastPoint",e.KEY_MAP_DOCUMENT_UNDO="undo",e.KEY_MAP_DOCUMENT_REDO="redo",e.KEY_MAP_ZOOM_IN="pageZoomIn",e.KEY_MAP_ZOOM_OUT="pageZoomOut",e.KEY_MAP_DELETE_ANNOTATION="delete-annotation",e.KEY_MAP_ESC_CREATING_DRAWING="cancel-creating-drawing-annot",e.VIEWER_BINDER="pdf-viewer-keyboard-event-binder",e.ANNOTATION_PROPERTIES_BINDER="annotation-properties-keyboard-event-binder",e.DOCUMENT_PROPERTIES_BINDER="document-properties-keyboard-event-binder",e.FOCUS_ELEMENT_BINDER="focus-element-keyboard-event-binder",e.ANNOTATION_CREATING_BINDER="create-annotation-keyboard-event-binder"},function(t,e,n){var o=n(53),r=n(31),i=n(243)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(133),r=n(104),i=n(52),a=n(70),s=n(53),u=n(427),c=Object.getOwnPropertyDescriptor;e.f=n(28)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(134),r=n(69);t.exports=function(t){return o(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(1)),r=u(n(21)),i=u(n(3)),a=u(n(42)),s=n(13);n(33);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-grab",o}return c(e,t),e.getStateName=function(){return s.STATE_HANDLER_HAND},e.getDefaultContextMenuConfig=function(){return{selector:".fv__hand-state-contextmenu-container",items:{zoomin:{name:"zoomin",nameI18nKey:"viewer_:contextmenu.hand.zoomin",callback:function(t,e,n){this.data("hand-state").zoomIn()},visible:function(){return this.data("hand-state").allowZoomIn()}},zoomout:{name:"zoomout",nameI18nKey:"viewer_:contextmenu.hand.zoomout",callback:function(t,e,n){this.data("hand-state").zoomOut()},visible:function(){return this.data("hand-state").allowZoomOut()}}}}},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t;t.$ui.addClass("fv__annot-container-zindex-up fv__allow-modify-form-control");var a=n.$handler;a.addClass("fv__hand-state-handler"),a.addClass(this.cursorStyle);var s=a[0],u=t.pdfViewer.eventEmitter,c=this.hammer=new r.default.Manager(s,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]});c.add(new r.default.Tap({event:"doubletap",taps:2})),c.add(new r.default.Tap({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("singletap",function(e){var n=t.annotsRender;n?(n.unActiveAnnot(),u.emit(i.default.tapPage,e)):u.emit(i.default.tapPage,e)}),c.on("doubletap",function(e){var n=t.annotsRender;n?(n.unActiveAnnot(),u.emit(i.default.doubleTapPage,e,t)):u.emit(i.default.doubleTapPage,e,t)}),c.on("press",function(e){var n=t.annotsRender;n?(n.unActiveAnnot(),u.emit(i.default.pressPage,e)):u.emit(i.default.pressPage,e)}),a.on("mousedown",this.mousedown=function(t){a.removeClass(e.cursorStyle),e.cursorStyle="fv__cursor-grabbing",a.addClass(e.cursorStyle)}),a.on("mouseup",this.mouseup=function(n){if(a.removeClass(e.cursorStyle),e.cursorStyle="fv__cursor-grab",a.addClass(e.cursorStyle),3===n.which){var o=t.annotsRender;if(o){o.unActiveAnnot();var r=n,c=s.getBoundingClientRect();t.getAnnotIdAtDevicePoint(r.clientX-c.left,r.clientY-c.top).then(function(t){if(t){var e=o.getAnnotRender(t);e?(u.emit(i.default.rightClickAnnotation,e,n),o.showContextMenu(t,r.clientX,r.clientY)):u.emit(i.default.rightClickPage,n)}else u.emit(i.default.rightClickPage,n)})}else u.emit(i.default.rightClickPage,n)}});var l=(0,o.default)('<div class="fv__hand-state-contextmenu-container fv__contextmenu-container"></div>');a.append(l),l.data("hand-state",this)},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up fv__allow-modify-form-control"),this.pageRender.$handler.off("mousedown",this.mousedown).off("mouseup",this.mouseup).removeClass("fv__hand-state-handler").removeClass(this.cursorStyle).find(".fv__hand-state-contextmenu-container").remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.pageRender.$handler.removeClass("fv__cursor-grabbing","fv__cursor-grab"),this._destroyTouchScrollEvent&&this._destroyTouchScrollEvent()},e.prototype.out=function(){this.destroyPageHandler(),this.destroyDocHandler()},e.prototype.allowZoomIn=function(){var t=this.pageRender,e=t.pdfViewer;return t.getScale()<e.config.maxScale},e.prototype.zoomIn=function(){var t=this.pageRender,e=t.getScale();e=Math.ceil(4*e+1)/4,t.pdfViewer.zoomTo(e)},e.prototype.allowZoomOut=function(){var t=this.pageRender,e=t.pdfViewer;return t.getScale()>e.config.minScale},e.prototype.zoomOut=function(){var t=this.pageRender,e=t.getScale();e=Math.floor(4*e-1)/4,t.pdfViewer.zoomTo(e)},e.prototype.clockwiseRoataion=function(){this.pageRender.getPDFPage().then(function(t){var e=(t.getRotation()+1)%4;t.setRotation(e)})},e.prototype.contrarotate=function(){this.pageRender.getPDFPage().then(function(t){var e=(t.getRotation()+3)%4;t.setRotation(e)})},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.action=e,this.annot=n,this.pdfViewer=n.pdfViewer,this.initSubAction()}return t.prototype.active=function(){this.subAction.forEach(function(t){t.active()})},t.prototype.initSubAction=function(){var t=this;this.subAction=[],this.action&&this.action.subAction.forEach(function(e){t.subAction.push(t.annot.pdfViewer.actionManager.get(e,t.annot))})},t.prototype.updateAction=function(t){this.action=t,this.initSubAction()},t}();e.default=o},function(t,e,n){"use strict";var o=n(15);t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(39);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(n(16));var o=s(n(309)),r=s(n(7)),i=s(n(310)),a=(s(n(25)),s(n(194)),s(n(188)),s(n(745)));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(317);var l=function(){function t(){c(this,t)}return t.createSuperClass=function(t){var e=t.templateParser,n=void 0===e?new o.default:e,s=t.template,l=t.fragments,f=void 0===l?[]:l,p=t.ComponentClass;if(!p){var d=n.parseRoot(s);p=r.default.module(d.namespace).getComponentClass(d.nodeName)||i.default}return function(t){function e(){return c(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return u(e,t),e.preprocess=function(t,e){var o=t.vnode,r=n.parse(s,!0);e.parseFragments(f,r);var i=new a.default(r,o);t.appendVNode(i)},e.prototype.appendSlot=function(e,n){var o=this;e===a.default.getSeniorSlotName()?n.children().forEach(function(t){o.element.appendChild(t.element)}):t.prototype.appendSlot.call(this,e,n)},e}(p)},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(193);Object.defineProperty(e,"ButtonComponent",{enumerable:!0,get:function(){return L(o).default}});var r=n(805);Object.defineProperty(e,"PDFViewerComponent",{enumerable:!0,get:function(){return L(r).default}});var i=n(794);Object.defineProperty(e,"WebPDFComponent",{enumerable:!0,get:function(){return L(i).default}});var a=n(316);Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return L(a).default}});var s=n(791);Object.defineProperty(e,"GroupListComponent",{enumerable:!0,get:function(){return L(s).default}});var u=n(790);Object.defineProperty(e,"TabsComponent",{enumerable:!0,get:function(){return L(u).default}});var c=n(789);Object.defineProperty(e,"TabItemComponent",{enumerable:!0,get:function(){return L(c).default}});var l=n(788);Object.defineProperty(e,"SidebarComponent",{enumerable:!0,get:function(){return L(l).default}});var f=n(315);Object.defineProperty(e,"SidebarPanelComponent",{enumerable:!0,get:function(){return L(f).default}});var p=n(786);Object.defineProperty(e,"FileSelectorComponent",{enumerable:!0,get:function(){return L(p).default}});var d=n(785);Object.defineProperty(e,"ToolbarComponent",{enumerable:!0,get:function(){return L(d).default}});var h=n(314);Object.defineProperty(e,"TextComponent",{enumerable:!0,get:function(){return L(h).default}});var g=n(108);Object.defineProperty(e,"DropdownComponent",{enumerable:!0,get:function(){return L(g).default}});var m=n(192);Object.defineProperty(e,"DropdownItemComponent",{enumerable:!0,get:function(){return L(m).default}});var y=n(784);Object.defineProperty(e,"DropdownButtonComponent",{enumerable:!0,get:function(){return L(y).default}});var v=n(313);Object.defineProperty(e,"AccordionComponent",{enumerable:!0,get:function(){return L(v).default}});var b=n(190);Object.defineProperty(e,"AccordionCardComponent",{enumerable:!0,get:function(){return L(b).default}});var w=n(312);Object.defineProperty(e,"ListBox",{enumerable:!0,get:function(){return L(w).default}});var A=n(782);Object.defineProperty(e,"ListBoxItem",{enumerable:!0,get:function(){return L(A).default}});var _=n(780);Object.defineProperty(e,"NumberComponent",{enumerable:!0,get:function(){return L(_).default}});var P=n(189);Object.defineProperty(e,"LayerComponent",{enumerable:!0,get:function(){return L(P).default}});var O=n(778);Object.defineProperty(e,"LayerToolbarComponent",{enumerable:!0,get:function(){return L(O).default}});var E=n(777);Object.defineProperty(e,"LayerViewComponent",{enumerable:!0,get:function(){return L(E).default}});var x=n(776);Object.defineProperty(e,"TemplateComponent",{enumerable:!0,get:function(){return L(x).default}});var C=n(775);Object.defineProperty(e,"CheckboxComponent",{enumerable:!0,get:function(){return L(C).default}});var S=n(774);Object.defineProperty(e,"InputComponent",{enumerable:!0,get:function(){return L(S).default}});var D=n(773);Object.defineProperty(e,"SliderComponent",{enumerable:!0,get:function(){return L(D).default}});var M=n(311);Object.defineProperty(e,"LayerHeaderComponent",{enumerable:!0,get:function(){return L(M).default}});var T=n(770);Object.defineProperty(e,"SelectComponent",{enumerable:!0,get:function(){return L(T).default}});var j=n(768);Object.defineProperty(e,"ColorPickerComponent",{enumerable:!0,get:function(){return L(j).default}});var I=n(766);Object.defineProperty(e,"SlotComponent",{enumerable:!0,get:function(){return L(I).default}});var R=n(765);Object.defineProperty(e,"XSelectComponent",{enumerable:!0,get:function(){return L(R).default}});var k=n(72);Object.defineProperty(e,"ContextMenuComponent",{enumerable:!0,get:function(){return L(k).default}});var F=n(762);Object.defineProperty(e,"ContextMenuItemComponent",{enumerable:!0,get:function(){return L(F).default}});var N=n(761);function L(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ContextMenuSeparatorComponent",{enumerable:!0,get:function(){return L(N).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}return t.prototype.selectFrom=function(t,e){return[]},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:256,ButtonRadiosInUnison:512,TextMultiline:256,TextPassword:512,TextDoNotScroll:1024,TextComb:2048,ComboEdit:256,ChoiseMultiSelect:256,inUnison:function(t){return t&o.ButtonRadiosInUnison},isHidden:function(t){return t&o.Hidden},isReadOnly:function(t){return t&o.ReadOnly},isRequired:function(t){return t&o.Required},isNoExport:function(t){return t&o.NoExport},isMultiline:function(t){return t&o.TextMultiline},isPassword:function(t){return t&o.TextPassword},isComb:function(t){return t&o.TextComb},isNoScroll:function(t){return t&o.TextDoNotScroll},isComboEdit:function(t){return t&o.ComboEdit}},r={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(t){return t&r.FlagExclude},isIncludeNoValueFields:function(t){return t&r.IncludeNoValueFields},isHTML:function(t){return t&r.FlagExportFormat},isGetMethod:function(t){return t&r.FlagGetMethod},isXFDF:function(t){return t&r.FlagAsXFDF},isPDF:function(t){return t&r.FlagSubmitAsPDF},getType:function(t){var e=r.isHTML(t);if(e)return"HTML";var n=r.isXFDF(t);if(n)return"XFDF";var o=r.isXFDF(t);return o?"PDF":e||n||o?void 0:"FDF"}},i={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7},a=o;e.FieldType=i,e.FieldFlag=a,e.FormActionFlags=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e,n){var o=n(58),r=n(134),i=n(31),a=n(26),s=n(226);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f,d=e||s;return function(e,s,h){for(var g,m,y=i(e),v=r(y),b=o(s,h,3),w=a(v.length),A=0,_=n?d(e,w):u?d(e,0):void 0;w>A;A++)if((p||A in v)&&(m=b(g=v[A],A,y),t))if(n)_[A]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return A;case 2:_.push(g)}else if(l)return!1;return f?-1:c||l?l:_}}},function(t,e,n){var o=n(0),r=n(59),i=n(15);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*i(function(){n(1)}),"Object",a)}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(17);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(38));var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfUI=e,this.$options=n,this.depends=o}return t.depends=function(){return[]},t.load=function(t){(0,o.default)()},t.prototype.construct=function(t,e){},t.prototype.link=function(){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(189));n(1430);var r=n(29);n(83);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.backdrop=!1,i.modal=!1,i.appendTo=document.body,i.currentTarget=void 0,i}return i(e,t),e.getName=function(){return"contextmenu"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-contextmenu")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){for(var n=t.target;n;){if(n===e.element)return;n=n.parentElement}e.hide()},o="mousedown";r.isMobile&&(o="touchstart"),document.addEventListener(o,n,{capture:!0}),this.addDestroyHook(function(){document.removeEventListener(o,n)})},e.prototype.showAt=function(t,e){this.show();var n=this._limitPosition(t,e),o=n.left,r=n.top;this.element.style.cssText="\n            left: "+o+"px;\n            top: "+r+"px;\n        "},e.prototype._limitPosition=function(t,e){var n=window.innerHeight,o=window.innerWidth,r=this.element.getBoundingClientRect(),i=e+r.height,a=t+r.width;return i>n&&(i=n,e=n-r.height),a>o&&(a=o,t=o-r.width),{left:t,top:e}},e.prototype.setCurrentTarget=function(t){this.currentTarget=t},e.prototype.getCurrentTarget=function(){return this.currentTarget},e.prototype.show=function(){t.prototype.show.call(this,document.body)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=E(n(947)),i=E(n(946)),a=E(n(945)),s=E(n(944)),u=E(n(943)),c=E(n(942)),l=E(n(941)),f=E(n(940)),p=E(n(939)),d=E(n(938)),h=E(n(937)),g=E(n(936)),m=E(n(935)),y=E(n(934)),v=E(n(933)),b=E(n(932)),w=E(n(348)),A=n(8),_=E(n(149)),P=n(20),O=E(n(1));function E(t){return t&&t.__esModule?t:{default:t}}function x(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}_.default.ANSB_None,_.default.ANSB_Page;var C=_.default.ANSB_Author,S=_.default.ANSB_ModDate,D=_.default.ANSB_Type,M=(_.default.ANFB_ShouldNone,_.default.ANFB_ShouldPrint),T=_.default.ANFB_ShouldView,j=_.default.ANFB_ShouldEdit,I=(_.default.ANFB_ShouldAppearInPanel,_.default.ANFB_ShouldSummarize,_.default.ANFB_ShouldExport,function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.classMap={line:l.default,circle:i.default,square:h.default,highlight:u.default,squiggly:g.default,underline:b.default,strikeout:y.default,freetext:s.default,caret:r.default,ink:c.default,stamp:m.default,polyline:f.default,polygon:p.default,text:v.default,fileattachment:a.default,sound:d.default}}return t.prototype.getAnnotClass=function(t){var e=this.classMap[t];return e||w.default},t.prototype.getAnnots=function(t,e,n,o){var r=void 0;return r=e===M?t.filter(function(t){return t.print}):e===T?t.filter(function(t){return!t.noView}):e===j?t.filter(function(t){return!t.readOnly}):[].concat(x(t)),n===C?r.sort(function(t,e){var n=t.author,o=e.author;return n.localeCompare(o)}):n===S&&r.sort(function(t,e){var n=t.modDate,o=e.modDate;if(null===n&&null===o)return 0;if(null!==n&&null===o)return 1;if(null===n&&null!==o)return-1;var r=n.getTime(),i=o.getTime();return r>i?1:r<i?-1:0}),n===D&&r.sort(function(t,e){var n=t.type,o=e.type;return n.localeCompare(o)}),o?r.reverse():r},t.prototype.getAnnot=function(t,e){var n=t.getType(),o=this.getAnnotClass(n);return o===w.default?null:new o(t,e)},t.prototype.addAnnot=function(t){var e=this,n=t.type=t.type.toLowerCase(),o=null;switch(n){case"line":o=this.buildLineJson(t);break;case"stamp":o=this.buildStampJson(t);break;case"fileattachment":case"text":o=this.buildIconShapeJson(t);break;case"freetext":o=this.buildFreeTextJson(t);break;case"circle":case"caret":case"square":o=this.buildSimpleShapeJson(t);break;case"polyline":case"polygon":case"ink":case"highlight":case"underline":case"strikeout":case"squiggly":o={type:t.type,date:new Date};break;case"sound":o=this.buildScreenShapeJson(t)}if(!o)return null;o=this.buildJsonKeyValue(t,o);var r=this.getAnnotClass(n);return new Promise(function(n,i){e.engineDoc.addAnnot(t.page,o).then(function(i){var a=i[0],s=e.jsEngine.PDFViewer.getPDFPageRender(t.page).annotsRender.getAnnotRender(a.getId()).component,u=s.annot;u.info.author=o.author,e.doUpdatePropsAfterAdd(u,t,function(e){e&&s.redraw(),t.open&&s.showReplyDialog("comment");var o=new r(u,t.page);s.parent("annotsRender").activeAnnot(s.getId()),n(o)})})})},t.prototype.showFileDialog=function(t){var e=this;return new Promise(function(n){(0,O.default)("#jsFileAttachment").length>0&&(0,O.default)("#jsFileAttachment").remove(),(0,O.default)("body").append('<input id="jsFileAttachment" type="file" style="display: none;"/>'),(0,O.default)("#jsFileAttachment").off("change").on("change",function(o){var r=o.target.files[0];if(r){var i=new FileReader;i.readAsArrayBuffer(r),i.onload=function(){var o=new Uint8Array(i.result);t.contentType=r.type,t.buffer=o,t.fileName=r.name;var a=e.addAnnot(t);n(a)}}}),(0,O.default)("#jsFileAttachment").click()})},t.prototype.doUpdatePropsAfterAdd=function(t,e,n){if("freetext"===e.type){if(e.textSize&&(e.textSize>=4||e.textSize<=144)){var o=t.getDefaultAp();return o.textSize=e.textSize,void t.setDefaultAp(o).then(function(t){n&&n(!0)})}}else if("text"===e.type&&e.noteIcon)return void t.setIconName(e.noteIcon).then(function(t){n&&n(!0)});n&&n()},t.buildRectByPoints=function(t){for(var e=Math.floor(t.length/2),n=[],o=[],r=t,i=0;i<2*e;i++)[i]%2==0?o.push(r[i]):n.push(r[i]);return{left:Math.min.apply(Math,o),bottom:Math.min.apply(Math,n),right:Math.max.apply(Math,o),top:Math.max.apply(Math,n)}},t.buildVertexesByPoints=function(t){for(var e=[],n=Math.floor(t.length/2),o=t,r=0;r<n;r++){var i=o.slice(2*r,2*r+2);e.push({x:i[0],y:i[1]})}return e},t.prototype.buildRectByPoint=function(t){var e=t[0],n=t[1];return{left:e,bottom:n-20,right:e+20,top:n}},t.prototype.buildSimpleShapeJson=function(e){var n=t.buildRectByPoints(e.rect),o=n.left,r=n.bottom,i=n.right,a=n.top;return{type:e.type,date:new Date,rect:{left:o,bottom:r,right:i,top:a}}},t.prototype.buildIconShapeJson=function(t){return{type:t.type,date:new Date,rect:this.buildRectByPoint(t.point)}},t.prototype.buildScreenShapeJson=function(e){var n=void 0;return n=e.point?this.buildRectByPoint(e.point):t.buildRectByPoints(e.rect),{type:"screen",date:new Date,rect:n}},t.prototype.buildStampJson=function(e){var n=t.buildRectByPoints(e.rect),o=n.left,r=n.bottom,i=n.right,a=(n.top,.3*(i-o));return{type:e.type,date:new Date,rect:{left:o,bottom:r,right:i,top:r+a}}},t.prototype.buildFreeTextJson=function(e){var n={type:e.type,date:new Date};"FreeTextCallout"===e.intent&&(n.intent=e.intent,e.callout&&(n.calloutLinePoints=t.buildVertexesByPoints(e.callout)));var o=[].concat(x(e.rect));return n.calloutLinePoints&&o.push.apply(o,x(e.callout)),n.rect=t.buildRectByPoints(o),n.innerRect=t.buildRectByPoints(e.rect),n},t.prototype.buildLineJson=function(t){var e=t.points[0],n=t.points[1],o=e[0],r=e[1],i=n[0],a=n[1],s={type:"line",date:new Date,rect:{left:o,bottom:r,right:i,top:a},startStyle:P.LineEndingStyle.None,endStyle:P.LineEndingStyle.None};return t.arrowBegin&&(s.startStyle=P.LineEndingStyle[t.arrowBegin]),t.arrowEnd&&(s.endStyle=P.LineEndingStyle[t.arrowEnd]),s},t.prototype.buildCoords=function(t,e){for(var n=Math.floor(t.quads.length/8),o=t.quads,r=[],i=0;i<n;i++){var a=o.slice(8*i,8*i+8),s=Math.min.apply(Math,[a[0],a[2],a[4],a[6]]),u=Math.max.apply(Math,[a[1],a[3],a[5],a[7]]),c=Math.max.apply(Math,[a[0],a[2],a[4],a[6]]),l=Math.min.apply(Math,[a[1],a[3],a[5],a[7]]);r.push({left:s,top:u,right:c,bottom:l,rotation:0})}return e.coords=r,e},t.prototype.calcRectByVertices=function(t){var e={},n=0,o=0,r=0,i=0;return t.map(function(t,e){var a=t.x,s=t.y;0===e?(n=a,o=a,r=s,i=s):(n=a<n?a:n,o=a>o?a:o,r=s<r?s:r,i=s>i?s:i)}),e.left=n,e.right=o,e.bottom=r,e.top=i,e},t.prototype.buildVertices=function(t,e){if(!t.vertices)return e;if("polygon"===t.type||"polyline"===t.type){for(var n=[],o=Math.floor(t.vertices.length/2),r=t.vertices,i=0;i<o;i++){var a=r.slice(2*i,2*i+2);n.push({x:a[0],y:a[1]})}e.vertexes=n,e.rect=this.calcRectByVertices(n)}return e},t.prototype.buildFillColor=function(t,e){return t.fillColor?("circle"!==t.type&&"square"!==t.type&&"line"!==t.type&&"polygon"!==t.type&&"polyline"!==t.type&&"freetext"!==t.type||(e["interior-color"]=(0,A.colorConvertor)(t.fillColor,"int",0).toString(16)),e):e},t.buildGesturesByArrays=function(t){var e=[];return t.map(function(t){var n=t[0];if(Array.isArray(n))t.map(function(t,n){var o={};o.type=0===n?1:2,o.x=t[0],o.y=t[1],e.push(o)});else for(var o=Math.floor(t.length/2),r=t,i=0;i<o;i++){var a=r.slice(2*i,2*i+2),s={};s.type=0===i?1:2,s.x=a[0],s.y=a[1],e.push(s)}}),e},t.prototype.buildGestures=function(e,n){if("ink"!==e.type||!e.gestures)return n;var o=t.buildGesturesByArrays(e.gestures);return n.inkList=o,n.rect={left:0,right:0,top:0,bottom:0},n},t.prototype.buildStampAP=function(t,e){if("stamp"!==t.type||!t.AP)return e;var n=void 0;switch(t.AP.toLowerCase()){case"approved":n="Approved";break;case"confidential":n="Confidential";break;case"draft":n="Draft";break;case"expired":n="Expired";break;case"final":n="Final";break;default:n="Approved"}return e.icon=n,e.iconCatagory="Static",e},t.prototype.buildJsonKeyValue=function(t,e){return t.strokeColor&&(e.color=(0,A.colorConvertor)(t.strokeColor,"int",0).toString(16)),t.popupOpen&&"freetext"!==t.type&&"sound"!==t.type&&"fileattachment"!==t.type&&(e.open="yes"),t.contents&&(e.contents=t.contents),t.name&&(e.name=t.name),t.opacity&&(e.opacity=t.opacity),"highlight"!==t.type&&"strikeout"!==t.type&&"underline"!==t.type&&"squiggly"!==t.type||((e=this.buildCoords(t,e)).rect={left:0,right:0,top:0,bottom:0}),"fileattachment"===t.type?(t.buffer&&(e.buffer=t.buffer,e.fileName=t.fileName),t.attachIcon&&(e.icon=t.attachIcon)):"sound"===t.type&&t.buffer&&(e.multiBuffer=t.buffer,e.fileName=t.fileName,e.contentType=t.contentType),e=this.buildFillColor(t,e),e=this.buildGestures(t,e),e=this.buildStampAP(t,e),e=this.buildVertices(t,e)},o(t,[{key:"engineDoc",get:function(){return this.jsEngine.engineDoc}}]),t}());e.default=I},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=e.RectDiffer=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;o(this,t),this.top=e,this.left=n,this.bottom=r,this.right=i},i=(e.Rect=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,t),this.top=e,this.left=n,this.bottom=r,this.right=i},e.Boundary=function t(e,n,r,i){o(this,t),this.top=e,this.left=n,this.bottom=bottom,this.right=right},function(){function t(e){o(this,t),this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=e}return t.on=function(e){return new t(e)},t.subtract=function(t,e){return new r(t.top-e.top,t.left-e.left,t.bottom-e.bottom,t.right-e.right)},t.expandOffset=function(t,e){return new r(t.top-e.top,t.left-e.left,e.bottom-t.bottom,e.right-t.right)},t.copyTo=function(t,e){e.left=t.left,e.top=t.top,e.right=t.right,e.bottom=t.bottom},t.prototype.moveLeft=function(t){return this.offsetLeft+=t,this.offsetRight+=t,this},t.prototype.moveTop=function(t){return this.offsetTop+=t,this.offsetBottom+=t,this},t.prototype.move=function(t,e){return this.moveLeft(t).moveTop(e)},t.prototype.moveTo=function(t,e){return this.offsetLeft=this.offsetRight=this.target.left-t,this.offsetTop=this.offsetBottom=this.target.top-e,this},t.prototype.shrink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return this.add(new r(t,e,-n,-o))},t.prototype.expand=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return this.add(new r(-t,-e,n,o))},t.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",o=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),i=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),a=o*t-o,s=i*t-i,u=0,c=0,l=0,f=0;switch(e){case"right":u=-a;break;case"center":u=-a/2,c=a/2;break;case"left":default:c=a}switch(n){case"bottom":l=-s;break;case"center":l=-s/2,f=s/2;break;case"top":default:f=s}return this.add(new r(l,u,f,c))},t.prototype.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.top,n=void 0===e?0:e,o=t.left,r=void 0===o?n:o,i=t.bottom,a=void 0===i?n:i,s=t.right,u=void 0===s?r:s;return this.offsetLeft+=r,this.offsetRight+=u,this.offsetBottom+=a,this.offsetTop+=n,this},t.prototype.extract=function(){var t=this.target.left+this.offsetLeft,e=this.target.right+this.offsetRight;return{left:t,top:this.target.top+this.offsetTop,right:e,bottom:this.target.bottom+this.offsetBottom}},t.prototype.boundary=function(){var t=this.target.left+this.offsetLeft,e=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:t,top:n,width:e-t,height:this.target.bottom+this.offsetBottom-n}},t.prototype.toPlainObject=function(){return{left:this.target.left,right:this.target.right,top:this.target.top,bottom:this.target.bottom}},t}());e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),i=n(22);n(33);var a="fv__hide",s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getImageData=e;n=n?n.addClass("fv__tiles-container"):(0,r.default)('<div class="fv__tiles-container"><div class="fv__tiles-row fv__tiles-row-0" data-row="0"><div class="fv__tiles-col fv__tiles-col-0-0" data-col="0" data-index="0,0"><canvas class="fv__tiles-canvas fv__tiles-canvas-0-0" data-index="0,0"></canvas></div></div></div>'),this.$container=n,this.$cols=n.find(".fv__tiles-col"),this.$canvases=n.find(".fv__tiles-canvas");var o=n.find(".fv__tiles-row");this.rows=o.length,this.cols=o.eq(0).find(".fv__tiles-col").length,this.updateCanvasMore=function(){}}return t.prototype.redraw=function(t,e,n,o,r,i,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;return this.updateDom(t,e,n,o,r,i,a,s,u,c),this.updateRenderCanvasSerial(t,e,n,o,r,i,u,c)},t.prototype.updateDom=function(t,e,n,o,r,i,s,u){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(0!=n){var f=this.$container.css({width:n+"px",height:o+"px",transform:"scale("+s/i+")",left:c*s+"px",top:l*s+"px"}),p=!1;if(e>this.cols){for(var d=this.rows;d--;){for(var h=[],g=this.cols,m=e;g<m;g++)h.push('<div class="fv__tiles-col fv__tiles-col-'+[d,g].join("-")+'" data-col="'+g+'" data-index="'+[d,g].join(",")+'">'),h.push('<canvas class="fv__tiles-canvas fv__tiles-canvas-'+[d,g].join("-")+'" data-index="'+[d,g].join(",")+'"></canvas>'),h.push("</div>");f.find(".fv__tiles-row-"+d).append(h.join(""))}this.cols=e,p=!0}if(t>this.rows){for(var y=[],v=this.rows,b=t;v<b;v++){y.push('<div class="fv__tiles-row fv__tiles-row-'+v+'" data-row="'+v+'">');for(var w=0,A=this.cols;w<A;w++)y.push('<div class="fv__tiles-col fv__tiles-col-'+[v,w].join("-")+'" data-col="'+w+'" data-index="'+[v,w].join(",")+'">'),y.push('<canvas class="fv__tiles-canvas fv__tiles-canvas-'+[v,w].join("-")+'" data-index="'+[v,w].join(",")+'"></canvas>'),y.push("</div>");y.push("</div>")}f.append(y.join("")),this.rows=t,p=!0}p&&(this.$canvases=f.find(".fv__tiles-canvas"),this.$cols=f.find(".fv__tiles-col"));var _=this.rows,P=this.cols,O=r+"px",E=n%r;E=E||r,E+="px";var x=o%r;x=x||r,x+="px";for(var C=this.$cols,S=_;S--;){var D=S*P;if(S>=t)for(var M=P;M--;)C.eq(D+M).addClass(a);else if(S===t-1)for(var T=P;T--;)T>=e?C.eq(D+T).addClass(a):T===e-1?C.eq(D+T).removeClass(a).css({width:E,height:x}):C.eq(D+T).removeClass(a).css({width:O,height:x});else for(var j=P;j--;)j>=e?C.eq(D+j).addClass(a):j===e-1?C.eq(D+j).removeClass(a).css({width:E,height:O}):C.eq(D+j).removeClass(a).css({width:O,height:O})}}},t.prototype.updateRenderCanvasSerial=function(t,e,n,o,r,a,s,u){var c=this,l=this.renderContentImageSerial;if(l&&l.end().catch(function(){}),0==n)return Promise.resolve();l=this.renderContentImageSerial=new i.SerialPromise;var f=[],p=r+1,d=n%r;d=d||r;var h=o%r;h=h||r;for(var g=0,m=t;g<m;g++)for(var y=0,v=e;y<v;y++){var b=p,w=p;g===t-1&&(w=h),y===e-1&&(b=d),f.push(function(t,e,n,o,r,i){return function(){return c.updateCanvas(t,e,n,o,r,i,s,u)}}(g,y,b,w,r,a))}return l.serial(f)},t.prototype.updateCanvas=function(t,e,n,r,i,a,s,u){var c=this;return this.getImageData(t,e,n,r,i,a,s,u).then(function(n){var o=n.width,r=n.height,l=n.buffer,f=n.image,p=(n.type,c.$canvases[c.cols*t+e]),d=p.getContext("2d");if(0==o||0==r)return d.clearRect(0,0,p.width,p.height),[d,t,e,o,r,i,a,s,u];if(p.width=o,p.height=r,f)return new Promise(function(n,c){try{var l=new Image;l.onload=function(){d.drawImage(l,0,0),URL.revokeObjectURL(l.src),n([d,t,e,o,r,i,a,s,u])},l.src=URL.createObjectURL(f)}catch(t){console.log(t)}});var h=new(Uint8ClampedArray||Uint8Array)(l),g=d.createImageData(o,r);return g.data.set(h),d.putImageData(g,0,0),[d,t,e,o,r,i,a,s,u]}).then(function(t){var e=o(t,6),n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],u=e[5];c.updateCanvasMore(n,r,i,a,s,u)})},t.prototype.hideContainer=function(){this.$container.hide()},t.prototype.showContainer=function(){var t=this.$container;t.is(":visible")||t.show()},t.prototype.setUpdateCanvasMore=function(t){this.updateCanvasMore=t},t.prototype.destroy=function(){delete this.getImageData,delete this.$cols,delete this.$canvases,this.$container.remove(),delete this.$container},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,pdfViewer:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._parent=e,this._parentName=e.name,this.pdfViewer=e.pdfViewer}return t.prototype.parent=function(t){var e=this._parent;return t?e?t===this._parentName?e:e.parent(t):null:e},t}();e.default=o},function(t,e,n){var o=n(406),r=n(0),i=n(170)("metadata"),a=i.store||(i.store=new(n(403))),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new o)}var i=r.get(e);if(!i){if(!n)return;r.set(e,i=new o)}return i};t.exports={store:a,map:s,has:function(t,e,n){var o=s(e,n,!1);return void 0!==o&&o.has(t)},get:function(t,e,n){var o=s(e,n,!1);return void 0===o?void 0:o.get(t)},set:function(t,e,n,o){s(n,o,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),o=[];return n&&n.forEach(function(t,e){o.push(e)}),o},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,n){"use strict";if(n(28)){var o=n(87),r=n(12),i=n(15),a=n(0),s=n(159),u=n(220),c=n(58),l=n(97),f=n(104),p=n(46),d=n(95),h=n(68),g=n(26),m=n(401),y=n(101),v=n(70),b=n(53),w=n(132),A=n(17),_=n(31),P=n(229),O=n(100),E=n(50),x=n(99).f,C=n(227),S=n(103),D=n(24),M=n(66),T=n(169),j=n(162),I=n(224),R=n(114),k=n(165),F=n(98),N=n(225),L=n(411),V=n(27),B=n(51),U=V.f,H=B.f,W=r.RangeError,q=r.TypeError,z=r.Uint8Array,$=Array.prototype,Y=u.ArrayBuffer,G=u.DataView,K=M(0),Q=M(2),X=M(3),J=M(4),Z=M(5),tt=M(6),et=T(!0),nt=T(!1),ot=I.values,rt=I.keys,it=I.entries,at=$.lastIndexOf,st=$.reduce,ut=$.reduceRight,ct=$.join,lt=$.sort,ft=$.slice,pt=$.toString,dt=$.toLocaleString,ht=D("iterator"),gt=D("toStringTag"),mt=S("typed_constructor"),yt=S("def_constructor"),vt=s.CONSTR,bt=s.TYPED,wt=s.VIEW,At=M(1,function(t,e){return xt(j(t,t[yt]),e)}),_t=i(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Pt=!!z&&!!z.prototype.set&&i(function(){new z(1).set({})}),Ot=function(t,e){var n=h(t);if(n<0||n%e)throw W("Wrong offset!");return n},Et=function(t){if(A(t)&&bt in t)return t;throw q(t+" is not a typed array!")},xt=function(t,e){if(!(A(t)&&mt in t))throw q("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return St(j(t,t[yt]),e)},St=function(t,e){for(var n=0,o=e.length,r=xt(t,o);o>n;)r[n]=e[n++];return r},Dt=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},Mt=function(t){var e,n,o,r,i,a,s=_(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,p=C(s);if(void 0!=p&&!P(p)){for(a=p.call(s),o=[],e=0;!(i=a.next()).done;e++)o.push(i.value);s=o}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=g(s.length),r=xt(this,n);n>e;e++)r[e]=f?l(s[e],e):s[e];return r},Tt=function(){for(var t=0,e=arguments.length,n=xt(this,e);e>t;)n[t]=arguments[t++];return n},jt=!!z&&i(function(){dt.call(new z(1))}),It=function(){return dt.apply(jt?ft.call(Et(this)):Et(this),arguments)},Rt={copyWithin:function(t,e){return L.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Et(this),arguments)},filter:function(t){return Ct(this,Q(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Et(this),arguments)},lastIndexOf:function(t){return at.apply(Et(this),arguments)},map:function(t){return At(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Et(this),arguments)},reduceRight:function(t){return ut.apply(Et(this),arguments)},reverse:function(){for(var t,e=Et(this).length,n=Math.floor(e/2),o=0;o<n;)t=this[o],this[o++]=this[--e],this[e]=t;return this},some:function(t){return X(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Et(this),t)},subarray:function(t,e){var n=Et(this),o=n.length,r=y(t,o);return new(j(n,n[yt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===e?o:y(e,o))-r))}},kt=function(t,e){return Ct(this,ft.call(Et(this),t,e))},Ft=function(t){Et(this);var e=Ot(arguments[1],1),n=this.length,o=_(t),r=g(o.length),i=0;if(r+e>n)throw W("Wrong length!");for(;i<r;)this[e+i]=o[i++]},Nt={entries:function(){return it.call(Et(this))},keys:function(){return rt.call(Et(this))},values:function(){return ot.call(Et(this))}},Lt=function(t,e){return A(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return Lt(t,e=v(e,!0))?f(2,t[e]):H(t,e)},Bt=function(t,e,n){return!(Lt(t,e=v(e,!0))&&A(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};vt||(B.f=Vt,V.f=Bt),a(a.S+a.F*!vt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Bt}),i(function(){pt.call({})})&&(pt=dt=function(){return ct.call(this)});var Ut=d({},Rt);d(Ut,Nt),p(Ut,ht,Nt.values),d(Ut,{slice:kt,set:Ft,constructor:function(){},toString:pt,toLocaleString:It}),Dt(Ut,"buffer","b"),Dt(Ut,"byteOffset","o"),Dt(Ut,"byteLength","l"),Dt(Ut,"length","e"),U(Ut,gt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,d="set"+t,h=r[c],y=h||{},v=h&&E(h),b=!h||!s.ABV,_={},P=h&&h.prototype,C=function(t,n){U(t,n,{get:function(){return function(t,n){var o=t._d;return o.v[f](n*e+o.o,_t)}(this,n)},set:function(t){return function(t,n,o){var r=t._d;u&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),r.v[d](n*e+r.o,o,_t)}(this,n,t)},enumerable:!0})};b?(h=n(function(t,n,o,r){l(t,h,c,"_d");var i,a,s,u,f=0,d=0;if(A(n)){if(!(n instanceof Y||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return bt in n?St(h,n):Mt.call(h,n);i=n,d=Ot(o,e);var y=n.byteLength;if(void 0===r){if(y%e)throw W("Wrong length!");if((a=y-d)<0)throw W("Wrong length!")}else if((a=g(r)*e)+d>y)throw W("Wrong length!");s=a/e}else s=m(n),i=new Y(a=s*e);for(p(t,"_d",{b:i,o:d,l:a,e:s,v:new G(i)});f<s;)C(t,f++)}),P=h.prototype=O(Ut),p(P,"constructor",h)):i(function(){h(1)})&&i(function(){new h(-1)})&&k(function(t){new h,new h(null),new h(1.5),new h(t)},!0)||(h=n(function(t,n,o,r){var i;return l(t,h,c),A(n)?n instanceof Y||"ArrayBuffer"==(i=w(n))||"SharedArrayBuffer"==i?void 0!==r?new y(n,Ot(o,e),r):void 0!==o?new y(n,Ot(o,e)):new y(n):bt in n?St(h,n):Mt.call(h,n):new y(m(n))}),K(v!==Function.prototype?x(y).concat(x(v)):x(y),function(t){t in h||p(h,t,y[t])}),h.prototype=P,o||(P.constructor=h));var S=P[ht],D=!!S&&("values"==S.name||void 0==S.name),M=Nt.values;p(h,mt,!0),p(P,bt,c),p(P,wt,!0),p(P,yt,h),(u?new h(1)[gt]==c:gt in P)||U(P,gt,{get:function(){return c}}),_[c]=h,a(a.G+a.W+a.F*(h!=y),_),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*i(function(){y.of.call(h,1)}),c,{from:Mt,of:Tt}),"BYTES_PER_ELEMENT"in P||p(P,"BYTES_PER_ELEMENT",e),a(a.P,c,Rt),F(c),a(a.P+a.F*Pt,c,{set:Ft}),a(a.P+a.F*!D,c,Nt),o||P.toString==pt||(P.toString=pt),a(a.P+a.F*i(function(){new h(1).slice()}),c,{slice:kt}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!i(function(){P.toLocaleString.call([1,2])})),c,{toLocaleString:It}),R[c]=D?S:M,o||D||p(P,ht,M)}}else t.exports=function(){}},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.component.parent;this.component.parent.on("beforeshow",function(){var t=n.getCurrentTarget();e.visibility(t)?e.component.show():e.component.hide(),e.useable(t)?e.component.enable():e.component.disable()})},e.prototype.visibility=function(t){return!0},e.prototype.useable=function(t){return!0},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,n,o){"use strict";function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function n(e,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,e,o,r));return i.value=null,i.fieldName=e.fieldName||i.attrs["field-name"],i}return r(n,t),n.prototype.getFieldName=function(){return this.fieldName},n.prototype.setFieldName=function(t){this.fieldName=t},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(t){this.value=t},n.prototype.focus=function(){this.element.focus()},n.prototype.addInputElementListener=function(t,e){var n=this;this.element.addEventListener(t,e),this.addDestroyHook(function(){n.element.removeEventListener(t,e)})},n.prototype.render=function(){t.prototype.render.call(this),this.element.setAttribute("name",this.fieldName||this.name)},n.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),["blur","change","focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"].forEach(function(t){return e.addInputElementListener(t,e.createEventListener(t))})},n.prototype.createEventListener=function(t){var e=this;return function(n){e.trigger(t,n,e.getDOMValue(),n)}},n.prototype.triggerChangeEvent=function(){var t=this.value,n=this.getDOMValue();this.setValue(n),this.controller.handle(n,t,e),this.trigger("change",n,t,e)},n.prototype.getDOMValue=function(){return this.element.value},n.prototype.resolveCompositionEvent=function(){var t=this,e=!1;this.addInputElementListener("compositionstart",function(t){return e=!0}),this.addInputElementListener("compositionend",function(t){return e=!1});var n=this.getDOMValue();this.addInputElementListener("input",function(o){if(!e){var r=t.getDOMValue();t.trigger("input",r,n,event.data,o),n=r,t.value=r}})},n.prototype.sync=function(e,n){switch(e){case"value":this.setValue(n);break;default:return t.prototype.sync.call(this,e,n)}return!0},n}(function(t){return t&&t.__esModule?t:{default:t}}(o(16)).default);n.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(41));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.receive=function(t,e,n){(0,o.default)()},t.prototype.lost=function(t){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(325)),r=i(n(41));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=i(n(6)).default.getLogger("pdf-ui.Layout"),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){(0,r.default)()},e.prototype.insert=function(t,e,n){var o=e.children;n=Math.max(0,Math.min(n,o.length-1));var r=o.item(n);e.insertBefore(t,r)},e.prototype.render=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t=t.slice(0);var r=e.children,i=r[n+o];i||(i=t.pop())&&e.appendChild(i);for(var a=n,u=a+o;a<u;a++){var c=r.item(a);if(c!==i){var l=t.indexOf(c);c&&-1==l&&e.removeChild(c)}}t.reduceRight(function(t,n){try{e.insertBefore(n,t)}catch(o){throw s.error(e,n,t),o}return n},i)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=navigator.userAgent.toLowerCase(),r=/opera|opr/.test(o),i=/msie/.test(o),a=/trident/.test(o),s=/\sapplewebkit\//.test(o),u=/chrome/.test(o),c=/safari/.test(o),l=/firefox/.test(o),f=e.isIE=(a||i)&&!r&&"msSaveBlob"in navigator,p=e.isIEAtLeast11=!i&&a&&!r,d=e.isEdge=o.indexOf("edge")>-1,h=e.isOpera=r,g=e.isWebkit=s,m=e.isChrome=!h&&u&&!!window.chrome,y=e.isSafari=!h&&c&&!u,v=e.isGecko="Gecko"==navigator.product&&!g&&!h,b=e.isFirefox=!m&&!h&&!y&&l,w=e.isMaxthon=/maxthon/.test(o),A=e.isQuirksMode="BackCompact"==document.CompactMode,_=e.isQQ=/tencenttraveler/.test(o)||/qqbrowser/.test(o),P=e.isSougou=/metasr/.test(o)||/sogou/.test(o),O=e.isBaidu=/baidubrowser/.test(o),E=e.isUC=/ucbrowser/.test(o),x=e.isLiebao=/liebao/.test(o),C=e.isMiuiBrowser=/miuibrowser/.test(o),S=e.is360=function(){if(_||E||P||C||x||w)return!1;if(-1===o.indexOf("chrome"))return!1;var t=function(t,e){var n=navigator.mimeTypes;for(var o in n)if(n[o][t]==e)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||t}();e.isIE8=!!document.documentMode&&document.documentMode<8,e.isIE8Compact=8==document.documentMode,e.isIE9Compact=9==document.documentMode,e.isIE10Compact=10==document.documentMode,e.BROWSER_DETECTION={ie:f,ieAtLeast11:p,edge:d,opera:h,webkit:g,chrome:m,safari:y,gecko:v,firefox:b,maxthon:w,quirksMode:A,"quirks-mode":A,qq:_,sougou:P,baidu:O,liebao:x,uc:E,miui:C,360:S}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20}},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,r="~";function i(){}function a(t,e,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,o||t,i),s=r?r+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a},u.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,o,i,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,o),!0;case 5:return l.fn.call(l.context,e,n,o,i),!0;case 6:return l.fn.call(l.context,e,n,o,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,o);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||s(this,i);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||o&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u},function(t,e,n){var o=n(24)("unscopables"),r=Array.prototype;void 0==r[o]&&n(46)(r,o,{}),t.exports=function(t){r[o][t]=!0}},function(t,e){t.exports=!1},function(t,e,n){var o=n(103)("meta"),r=n(17),i=n(53),a=n(27).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(15)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[o].i},getWeak:function(t,e){if(!i(t,o)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[o].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!i(t,o)&&l(t),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.destroyHooks=[],this.isDestroyed=!1}return t.prototype.addDestroyHook=function(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=this.destroyHooks).push.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.filter(function(t){if("function"!=typeof t)throw new Error("[Illegal Argument] Invalid destroy hook:"+t+", It's not a function!");return!0})))},t.prototype.destroy=function(){this.destroyHooks.forEach(function(t){return t()}),this.destroyHooks=[],this.isDestroyed=!0},t}();e.default=o},function(t,e,n){"use strict";var o=n(148),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var i=n(122);i.inherits=n(91);var a=n(347),s=n(204);i.inherits(f,a);for(var u=r(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||o.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),o.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=g(n(21)),i=g(n(48)),a=g(n(3)),s=n(22),u=n(30),c=g(n(1)),l=n(33),f=n(1006),p=g(n(1005)),d=g(n(37)),h=g(n(6));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var y=(0,f.getDefaultConfig)(f.defaultAnnotComponentKey,".fv__pdf-page-annot-handler-rect"),v=(0,p.default)({direction:"left"}),b=(0,p.default)({direction:"right"}),w=(h.default.getLogger("pdf-viewer.TextMarkup"),function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="textmarkup",a.$ui.addClass("fv__pdf-page-textmarkup-annot-container"),a.$handler.addClass("fv__pdf-page-textmarkup-annot-handler-container"),a.annot.isArea()&&a.createShapeControl(),a}return m(e,t),e.getDefaultContextMenuConfig=function(){return y},e.prototype.createShapeControl=function(){var t=this;this.shapeControl||(this.shapeControl=new d.default({start:function(){return t.onStartUpdateShape()},update:function(e,n){return t.onShapeUpdating(e,n)},moving:function(e,n){return t.onShapeMoving(e,n)},end:function(e,n){return t.onShapeUpdateEnd(e,n)},enableDiagonally:!0}),this.moveDisabled()&&this.shapeControl.disable())},e.prototype.active=function(){if(t.prototype.active.call(this),this.annot.isArea()){this.activeRect(),this.$rect.addClass("active");var e=this._getShapeControllerBoundaryBox();!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e),this.moveDisabled()&&this.shapeControl.disable()}else this.activeTextBoundary(),this.moveDisabled()&&this.boundaryDisabled()},e.prototype.unActive=function(){var e=this;t.prototype.unActive.call(this),this.annot.isArea()&&this.$rect&&this.$rect.removeClass("active"),this.annot.isGrouped()&&this.annot.groupElements.map(function(t){var n=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()),o=n&&n.component;o&&o.isActive&&o.unActive&&o.unActive(),o&&o.deactive&&o.deactive()})},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive)if(this.annot.isArea()){this.activeRect();var e=this._getShapeControllerBoundaryBox();!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e)}else this.activeTextBoundary()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,u.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.createRectDom=function(){return this.annot.isArea()?(!this.shapeControl&&this.createShapeControl(),this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui):t.prototype.createRectDom.call(this)},e.prototype.copyText=function(){var t=this.annot.getContinuousText(),e=(0,l.copyText)(t);return e?this.pdfViewer.eventEmitter.emit(a.default.copyTextSuccess,t):this.pdfViewer.eventEmitter.emit(a.default.copyTextFailed,t),e},e.prototype.getBoundaryCss_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCharQuadPoints_(t),o=this.getCssTransform_(t),r=(0,u.pt2px)(this.getQuadPointsHeight_(n))/window.devicePixelRatio,i=this.getPDFPage(),a=this.scale,s=i.getDeviceMatrix();s.scale(a,a);var c=s.transformPoint(n[e].x,n[e].y);return{transform:o,height:r,left:c[0],top:c[1]}},e.prototype.getCssTransform_=function(t){return"rotate("+90*(t.rotation+this.annot.getPDFPage().getRotation())+"deg)"},e.prototype.getCharQuadPoints_=function(t){return(0,this.annot.engine.getUtils().getQuadPointsFromRect)(t,t.rotation)},e.prototype.getQuadPointsHeight_=function(t){return Math.sqrt(Math.pow(t[2].x-t[0].x,2)+Math.pow(t[2].y-t[0].y,2))},e.prototype.activeTextBoundary=function(){var t=this.$leftTextBoundary=this.$leftTextBoundary||this.leftTextBoundaryInit(),e=this.$rightTextBoundary=this.$rightTextBoundary||this.rightTextBoundaryInit(),n=this.annot,o=this.getBoundaryCss_(n.getStartCharInfo());t.css({height:o.height+"px",transform:o.transform,top:o.top+"px",left:o.left+"px"});var r=this.getBoundaryCss_(n.getEndCharInfo(),1);e.css({height:r.height+"px",transform:r.transform,top:r.top+"px",left:r.left+"px"}),this.activeRect(n)},e.prototype.leftTextBoundaryInit=function(){var t=this,e=this.$handler,n=(0,c.default)(v),i=n[0],u=new r.default(i);u.get("pan").set({direction:r.default.DIRECTION_ALL});var l=void 0,f=void 0,p=void 0,d=void 0;return u.on("panstart",function(e){!1!==t.onLeftPanStart(e)&&(d=t.scale,l={left:parseFloat(n.css("left")),top:parseFloat(n.css("top")),height:parseFloat(n.css("height")),transform:n.css("transform")},p=l,t.pdfViewer.getMementoManager().before({host:t,method:"updateQuadPointsByCharIndex",start:t.annot.getStartCharIndex(),end:t.annot.getEndCharIndex()}))}),u.on("panmove",function(e){if(!1!==t.onLeftPanMove(e)){var r=e.deltaX,i=e.deltaY;if(t.pdfViewer.config.highPerformance){var u=l.height;Math.abs(i)<=u&&(i=u/2);var c=t.getPDFPage().reverseDevicePoint([l.left+r,l.top+i],d),h=t.annot,g=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;g.push(function(){return t.getPDFPage().getCharInfoAtPoint(c,8).then(function(e){if(!e)return[!1];var o=e.charIndex,r=h.getEndCharIndex();return o>r?Promise.resolve([!1]):(f=t.getBoundaryCss_(e),n.css({left:f.left+"px",top:f.top+"px",height:f.height+"px",transform:f.transform}),Promise.all([h.updateQuadPointsByCharIndex(o,r),e]))}).then(function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return f&&(p=f),t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onLeftChangeSuccess(s)});n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform})},function(){n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform})})}),g.exec()}else n.css({left:p.left+r+"px",top:p.top+i+"px"})}}),u.on("panend",function(e){if(!1!==t.onLeftPanEnd(e)){var r=e.deltaX,i=e.deltaY,u=l.height;Math.abs(i)<=u&&(i=u/2);var c=t.getPDFPage().reverseDevicePoint([l.left+r,l.top+i],d),h=t.annot,g=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;g.push(function(){return t.getPDFPage().getCharInfoAtPoint(c,8).then(function(e){if(!e)return[!1];var o=e.charIndex,r=h.getEndCharIndex();return o>r?Promise.resolve([!1]):(f=t.getBoundaryCss_(e),n.css({left:f.left+"px",top:f.top+"px",height:f.height+"px",transform:f.transform}),Promise.all([h.updateQuadPointsByCharIndex(o,r),e]))}).then(function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return f&&(p=f),t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onLeftChangeSuccess(s)});n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform})},function(){n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform})})}),g.exec(),t.pdfViewer.getMementoManager().after({host:t,method:"updateQuadPointsByCharIndex",start:t.annot.getStartCharIndex(),end:t.annot.getEndCharIndex()})}}),this.leftHammer=u,e.append(n),n},e.prototype.rightTextBoundaryInit=function(){var t=this,e=this.$handler,n=(0,c.default)(b),i=n[0],u=new r.default(i);u.get("pan").set({direction:r.default.DIRECTION_ALL});var l=void 0,f=void 0,p=void 0,d=void 0;return u.on("panstart",function(e){!1!==t.onRightPanStart(e)&&(d=t.scale,l={left:parseFloat(n.css("left")),top:parseFloat(n.css("top")),height:parseFloat(n.css("height")),transform:n.css("transform")},p=l,t.pdfViewer.getMementoManager().before({host:t,method:"updateQuadPointsByCharIndex",start:t.annot.getStartCharIndex(),end:t.annot.getEndCharIndex()}))}),u.on("panmove",function(e){if(!1!==t.onRightPanMove(e)){var r=e.deltaX,i=e.deltaY;if(t.pdfViewer.config.highPerformance){var u=l.height;Math.abs(i)<=u&&(i=u/2);var c=t.getPDFPage().reverseDevicePoint([l.left+r,l.top+i],d),h=t.annot,g=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;g.push(function(){return t.getPDFPage().getCharInfoAtPoint(c,8).then(function(e){if(!e)return[!1];var o=h.getStartCharIndex(),r=e.charIndex;return o>r?Promise.resolve([!1]):(f=t.getBoundaryCss_(e,1),n.css({left:f.left+"px",top:f.top+"px",height:f.height+"px",transform:f.transform}),Promise.all([h.updateQuadPointsByCharIndex(o,r),e]))}).then(function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return f&&(p=f),t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onRightChangeSuccess(s)});n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:f.transform})},function(){n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:f.transform})})}),g.exec()}else n.css({left:p.left+r+"px",top:p.top+i+"px"})}}),u.on("panend",function(e){if(!1!==t.onRightPanEnd(e)){var r=e.deltaX,i=e.deltaY,u=l.height;Math.abs(i)<=u&&(i=u/2);var c=t.getPDFPage().reverseDevicePoint([l.left+r,l.top+i],d),h=t.annot,g=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;g.push(function(){return t.getPDFPage().getCharInfoAtPoint(c,8).then(function(e){if(!e)return[!1];var o=h.getStartCharIndex(),r=e.charIndex;return o>r?Promise.resolve([!1]):(f=t.getBoundaryCss_(e,1),n.css({left:f.left+"px",top:f.top+"px",height:f.height+"px",transform:f.transform}),Promise.all([h.updateQuadPointsByCharIndex(o,r),e]))}).then(function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return f&&(p=f),t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onRightChangeSuccess(s)});n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform})},function(){n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform})})}),g.exec(),t.pdfViewer.getMementoManager().after({host:t,method:"updateQuadPointsByCharIndex",start:t.annot.getStartCharIndex(),end:t.annot.getEndCharIndex()})}}),this.rightHammer=u,e.append(n),n},e.prototype.boundaryDisabled=function(){this.$leftTextBoundary.addClass("ban"),this.$rightTextBoundary.addClass("ban"),this.leftHammer.get("pan").set({enable:!1}),this.rightHammer.get("pan").set({enable:!1})},e.prototype.onStartUpdateShape=function(){this.pdfViewer.config.highPerformance&&this.annot.isArea()&&(this.editAreaDebouncePromise=new s.DebouncePromiseQueue,this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()}))},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.annot.isArea()&&this.editAreaDebouncePromise.push(function(){return n.setRect(t)})},e.prototype.onShapeMoving=function(t,e){this.$ui.css({left:t.left,top:t.top})},e.prototype.onShapeUpdateEnd=function(t,e){var n=this;this.editAreaDebouncePromise=this.editAreaDebouncePromise||new s.DebouncePromiseQueue,this.editAreaDebouncePromise.push(function(){return n.setRect(t)}),this.editAreaDebouncePromise.end(),this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onLeftPanStart=function(t){},e.prototype.onLeftPanMove=function(t){},e.prototype.onLeftChangeSuccess=function(){},e.prototype.onLeftPanEnd=function(t){},e.prototype.onRightPanStart=function(t){},e.prototype.onRightPanMove=function(t){},e.prototype.onRightChangeSuccess=function(){return Promise.resolve()},e.prototype.onRightPanEnd=function(t){},e}(i.default));e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=p(n(76)),i=p(n(1)),a=p(n(21)),s=p(n(3)),u=n(49),c=p(n(38)),l=n(383),f=n(155);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n,o,r,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,u));c.docRender=c.parent("pdfDocRender"),c.name="annot",c.eUi=o;var p=c.$ui=(0,i.default)(o);p.addClass("fv__pdf-page-annot-container").data(l.annotZIndexComponentKey,c),c.eHandler=r,(c.$handler=(0,i.default)(r)).addClass("fv__pdf-page-annot-handler-container"),c.$page=u.$page,c.annot=n,c.isActive=!1,p.data("component",c),c.deleteStatus=0,c.id=n.getId();var d=c.annotsRender=u.parent("annotsRender"),h=c.pdfViewer.getEventEmitter(),g=c.uiHammer=new a.default.Manager(o,{recognizers:[[a.default.Pan,{direction:a.default.DIRECTION_ALL}]]});return g.add(new a.default.Tap({event:"doubletap",taps:2})),g.add(new a.default.Tap({event:"singletap"})),g.get("doubletap").recognizeWith("singletap"),g.get("singletap").requireFailure("doubletap"),g.on("singletap",function(t){d.unActiveAnnot(),h.emit(s.default.tapAnnotation,u,t),c.tapAnnot(t)}),g.on("doubletap",function(t){d.unActiveAnnot();var e=c.getModel().getId();h.emit(s.default.doubleTapAnnotation,u,t),d.doubleTapAnnot(e)}),g.on("press",function(t){d.unActiveAnnot();var e=c.getModel().getId();h.emit(s.default.pressAnnotation,u,t),d.showContextMenu(e,t.center.x,t.center.y)}),(0,f.attachContextMenuEvent)(o,function(t){d.showContextMenu(c.getId(),t.clientX,t.clientY),t.stopPropagation(),t.preventDefault()}),c}return d(e,t),e.prototype.getModel=function(){return this.annot},e.prototype.tapAnnot=function(t){var e=this.getModel().getId();this.annotsRender.activeAnnot(e)},e.prototype.getId=function(){return this.id},e.prototype.setId=function(t){var e=this;return this.annot.setUniqueID(t).then(function(){e.annotsRender.updateAnnotRendersId(e.id,t),e.id=t})},e.prototype.render=function(t,e){this.scale=t,this.rotate=e},e.prototype.afterRender=function(){},e.prototype.add=function(t,e){return this.render(t,e)},e.prototype.redraw=function(){},e.prototype.active=function(){var t=this.pdfViewer.getStateHandlerManager().getCurrentStates();t.activedChildrenCount?t.activedChildrenCount++:t.activedChildrenCount=1,this.pdfViewer.setActiveElement(this),this.isActive=!0,this.bindEvent()},e.prototype.unActive=function(){this.isActive=!1,this.unBindEvent()},e.prototype.destroy=function(){this.isActive=!1,this.$ui.remove(),this.$handler.remove(),this.unBindEvent()},e.prototype.remove=function(){this.destroy()},e.prototype.showContextMenu=function(){},e.prototype.zIndexDown=function(){this.$ui.addClass("fv__zindex-down"),this.zIndexDownFlag=!0},e.prototype.checkZIndexDown=function(){return!this.zIndexDownFlag},e.prototype.zIndexRecover=function(){this.$ui.removeClass("fv__zindex-down"),this.zIndexDownFlag=!1},e.prototype.moveTo=function(t,e){if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return this.$ui.css({left:t,top:e}),Promise.resolve(!0);this.scale;var n=this.getPDFPage(),r=this.annot.getDeviceRect(this.scale),i=t-r.left,a=e-r.top,s=n.reverseDeviceOffset([i,a],this.scale),u=o(s,2),c=u[0],l=u[1],f=this.annot.getRect();return this.annot.moveTo({left:f.left+c,top:f.top+l})},e.prototype.move=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.annot.getDeviceRect(this.scale);return this.moveTo(o.left+t,o.top+e,n)},e.prototype.moved=function(){var t=this.annot.getDeviceRect(this.scale);this.$ui.css({left:t.left+"px",top:t.top+"px"})},e.prototype.setRectInPDF=function(t,e){var n=this;return this.annot._setRect(t,e).then(function(t){return t?n.updateRender().then(function(){return e&&n.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,n),t}):t})},e.prototype.setRect=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=e.top,r=e.width,i=e.height,a=this.scale,u=this.getPDFPage().reverseDeviceRect({left:n,top:o,right:n+r,bottom:o+i},a);return this.annot.setRect(u).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,t),e}):e})},e.prototype.getRect=function(){var t=this.getPDFPage(),e=this.annot.getRect();return t.getDeviceRect(e,this.scale,this.rotate)},e.prototype.getBoundary=function(){var t=this.annot.getDeviceRect(this.scale,this.rotate),e=this.annot.getRect(),n=t.right-t.left,o=t.bottom-t.top;return 8&this.annot.getFlags()&&(n=e.right-e.left,o=e.top-e.bottom),{left:t.left,top:t.top,width:n,height:o}},e.prototype.getPosition=function(){var t=this.getPDFPage(),e=this.annot.getRect(),n=t.getDevicePoint([e.left,e.top],this.scale),r=o(n,2);return{left:r[0],top:r[1]}},e.prototype.getDimension=function(){var t=this.getPDFPage(),e=this.annot.getRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{width:n.right-n.left,height:n.bottom-n.top}},e.prototype.removeAnnot=function(){return this.getAnnotFlag().then(function(t){return t.checkLocked()||t.checkReadOnly()?Promise.reject():Promise.resolve()})},e.prototype.deleteDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var t=this.getAnnotFlag();return t.checkLocked()||t.checkReadOnly()},e.prototype.replyDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()},e.prototype.propertyDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var t=this.getAnnotFlag();return t.checkLocked()||t.checkReadOnly()},e.prototype.moveDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var t=this.getAnnotFlag();return t.checkLocked()||t.checkReadOnly()},e.prototype.bindEvent=function(){var t=this;this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=this.pdfViewer.getKeyboardEventBinder(u.VIEWER_BINDER).on(u.KEY_MAP_DELETE_ANNOTATION,function(e){var n=e.native.target.tagName.toLowerCase();"input"===n||"div"===n&&"string"==typeof e.native.target.getAttribute("contenteditable")||"body"===n&&(t.removeAnnot(),e.stopPropagation())}),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer.getKeyboardEventBinder(u.ANNOTATION_CREATING_BINDER).on(u.KEY_MAP_ESC_CREATING_DRAWING,function(e){t.annotsRender.unActiveAnnot(!0)})},e.prototype.unBindEvent=function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=c.default,this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=c.default},e.prototype.updateDeleteStatus=function(t){t?++this.deleteStatus:--this.deleteStatus,this.deleteStatus>0?this.unBindEvent():this.bindEvent()},e.prototype.getPDFAnnot=function(){return this.annot},e.prototype.getPDFPage=function(){return this.getPDFAnnot().getPDFPage()},e.prototype.getAnnotFlag=function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)},e.prototype.groupMoveDisabled=function(){var t=!1;return this.annot&&this.annot.isGrouped&&this.annot.isGrouped()&&this.annot.groupElements.map(function(e){var n=e.getType();"strikeout"!==n&&"highlight"!==n&&"squiggly"!==n&&"underline"!==n||(t=!0)}),t},e}(r.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docRender=e,e.$ui.addClass("fv__view-mode")}return t.getName=function(){},t.prototype.into=function(){},t.prototype.renderViewMode=function(t,e,n,o,r){},t.prototype.jumpToPage=function(t,e){e.x,e.y},t.prototype.getFitHeight=function(t){},t.prototype.getFitWidth=function(t){},t.prototype.getVisibleIndexes=function(){},t.prototype.out=function(){},t}();e.default=o},function(t,e,n){var o=n(45);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},function(t,e,n){var o=n(58),r=n(413),i=n(229),a=n(11),s=n(26),u=n(227),c={},l={};(e=t.exports=function(t,e,n,f,p){var d,h,g,m,y=p?function(){return t}:u(t),v=o(n,f,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(d=s(t.length);d>b;b++)if((m=e?v(a(h=t[b])[0],h[1]):v(t[b]))===c||m===l)return m}else for(g=y.call(t);!(h=g.next()).done;)if((m=r(g,v,h.value,e))===c||m===l)return m}).BREAK=c,e.RETURN=l},function(t,e){t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var o=n(12),r=n(27),i=n(28),a=n(24)("species");t.exports=function(t){var e=o[t];i&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(425),r=n(242).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},function(t,e,n){var o=n(11),r=n(424),i=n(242),a=n(243)("IE_PROTO"),s=function(){},u=function(){var t,e=n(245)("iframe"),o=i.length;for(e.style.display="none",n(241).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;o--;)delete u.prototype[i[o]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=o(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e,n){var o=n(68),r=Math.max,i=Math.min;t.exports=function(t,e){return(t=o(t))<0?r(t+e,0):i(t,e)}},function(t,e,n){var o=n(425),r=n(242);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(139));var o=i(n(309)),r=i(n(468));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfUI=e}return t.prototype.getTemplateParser=function(){return new o.default},t.prototype.getLayoutTemplate=function(){return(0,r.default)()},t.prototype.getDefaultFragments=function(){return[]},t.prototype.processAddon=function(t){},t.prototype.beforeMounted=function(t){},t.prototype.afterMounted=function(t){},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(94)),r=a(n(1)),i=n(131);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o}return s(e,t),e.getName=function(){return"single-page-view-mode"},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=this.docRender.viewerRender.scrollWrap;this.scrollHost=e.getScrollHost(),this.docRender.$container.addClass(this.constructor.getName()),this.currentScrollTop=e.getScrollTop();var n=this,o=c(80,function(){n.isMouseDown||!n.isWheel||n.flip||(n.scroll.call(n),n.isWheel=!1)}),r=this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this._unwatchScrollEvent=e.addScrollEventListener(function(e){t.isScroll=!0,o(),clearTimeout(t.scrollEventTimer),clearTimeout(t.scrollEventTimer2),t.scrollEventTimer=setTimeout(function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().finally(function(){t.docRender.setCurrentPageIndex(t.getCurrentPageIndex()),t.scrollEventTimer2=setTimeout(function(){t.adjust()},30)})},30)}),this.scrollHost.addEventListener("wheel",this.wheel),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(i.UIEvents.zoomToSuccess,this.adjust),r.on("panend",function(e){return t.adjust(),!1})},e.prototype.keyup=function(t){var e=t.keyCode;if(33===e||34===e){var n=this;setTimeout(function(){n.adjust()},50)}else 38!==e&&40!==e||this.adjust()},e.prototype.wheel=function(t){this.isWheel=!0;var e=this.docRender.viewerRender.scrollWrap;this.currentScrollTop=e.getScrollTop(),this.currentPageIndex=this.getCurrentPageIndex();var n=e.getHeight(),o=e.getScrollLeft(),r=this.getItems();if(n>r.eq(this.currentPageIndex).children(".fv__pdf-page-layout").height()){if(this.flip=!0,t.deltaY>0){var i=this.docRender.doc.getPageCount(),a=this.currentPageIndex+1;a<i&&e.scrollTo(o,r.get(a).offsetTop)}else{var s=this.currentPageIndex-1;s<=0&&(s=0),e.scrollTo(o,r.get(s).offsetTop)}t.preventDefault()}else this.flip=!1},e.prototype.mouseDown=function(){this.isMouseDown=!0},e.prototype.mouseUp=function(){this.isMouseDown&&this.isScroll&&this.adjust(),this.isMouseDown=!1,this.isScroll=!1},e.prototype.adjust=function(){var t=this.getVisibleIndexes(),e=this.getCurrentPageIndex();1===t.length&&t[0]===e||this.jumpToPage(e)},e.prototype.scroll=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.viewerRender.scrollWrap,n=this.currentScrollTop,o=e.getScrollTop(),r=o-n,i=e.getScrollLeft(),a=this.scrollHost.clientHeight,s=this.currentPageIndex,u=this.getItems(),c=u.eq(s),l=u.get(s).offsetTop,f=l+c.outerHeight(!0)-a;if(r>=0)if(n-f<-1){if(o<f)return;e.scrollTo(i,f)}else{var p=s+1;if(!(p<t))return;e.scrollTo(i,u.get(p).offsetTop)}else if(n-l>1){if(o>l)return;e.scrollTo(i,l)}else{var d=s-1;if(!(d>-1))return;e.scrollTo(i,u.get(d).offsetTop+u.eq(d).outerHeight(!0)-a)}},e.prototype.renderViewMode=function(t,e,n,o,r){var i=this.getItems(),a=t.index,s=this.docRender.viewerRender.scrollWrap,u=s.getHeight()-s.getScrollOffsetTop();r<u?i.eq(a).css("padding",(u-r)/2+"px 0"):i.eq(a).css("padding","")},e.prototype.jumpToPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t);if(0!==s.length){var u=s.position().left+o,c=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(u,c)}},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getWidth()-e.getScrollOffsetLeft()},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop()-t.getScrollOffsetTop(),n=t.getHeight(),o=e+n,r=[],i=0;return this.getItems().each(function(t,n){if(i>o)return!1;var a=n.offsetHeight,s=i-0,u=i+a+8;i=u,s<=o&&u>=e&&r.push(t)}),r},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=(e.getScrollLeft(),e.getWidth(),void 0),a=[],s=0;s<t.length;s++){var u=t[s],c=u.offsetTop,l=(0,r.default)(u).height(),f=c+l;c<=n&&f>n&&f<o?a.push({index:s,height:f-n}):c>=n&&f<o?a.push({index:s,height:l}):c<=n&&f>o?i=s:c>=n&&c<o&&f>o&&a.push({index:s,height:o-c})}if(null==i)for(var p=0,d=0;d<a.length;d++)a[d].height>p&&(p=a[d].height,i=a[d].index);return i},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.scrollHost.removeEventListener("wheel",this.wheel),this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.hammer.destroy(),this.docRender.pdfViewer.eventEmitter.off(i.UIEvents.zoomToSuccess,this.adjust);for(var t=this.getItems(),e=0;e<t.length;e++)t.eq(e).css({padding:""})},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.currentPageIndex;return e<t-1&&e++,e},e.prototype.getPrevPageIndex=function(){var t=this.docRender.currentPageIndex;return t>0&&t--,t},e}(o.default);e.default=u;var c=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,r)},t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(n(42)),i=c(n(21)),a=n(22),s=n(143);n(1414);var u=c(n(36));c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="",o}return l(e,t),e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n[0],c=this.hammer=new i.default.Manager(r,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]}),l=void 0,f=void 0;c.on("panstart",function(t){if(!1!==e.panStart(t,e)){var n=(0,u.default)(r,t);l=[n.x,n.y],e.hideSelectMark(),f=new a.DebouncePromiseQueue}}),c.on("panmove",function(t){!1!==e.panMove(t,e)&&f.push(function(){var n=e.pageRender;return e.getTextRect((0,s.deltaDeviceRect)(l,t.deltaX,t.deltaY)).then(function(t){return Promise.all([n.getPDFPage(),t])}).then(function(t){var e=o(t,2),r=e[0],i=e[1];return n.transformRectArray(r,i)}).then(function(t){e.showSelectMark(t)})})}),c.on("panend",function(n){!1!==e.panEnd(n,e)&&(f.end(),f=null,e.getTextRect((0,s.deltaDeviceRect)(l,n.deltaX,n.deltaY)).then(function(n){return e.hideSelectMark(),Promise.all([t.getPDFPage(),n])}).then(function(t){var n=o(t,2),r=n[0],i=n[1];return i.length<1?Promise.resolve():e.addAnnot(r,i).then(function(t){var n=t[0],o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component;e.afterAddAnnot(o),e.pageRender.annotsRender.activeAnnot(n.getId())})}))})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.panStart=function(){},e.prototype.panMove=function(){},e.prototype.panEnd=function(){},e.prototype.showSelectMark=function(t){(0,s.appendSelectMark)(this.pageRender.$handler,t)},e.prototype.hideSelectMark=function(){(0,s.removeSelectMark)(this.pageRender.$handler)},e.prototype.getTextRect=function(t){return this.pageRender.getTextContinueRectAtDeviceRect(t)},e.prototype.addAnnot=function(t,e){},e.prototype.afterAddAnnot=function(t){this.pdfViewer.getMementoManager().before({host:t,method:"addAnnot"}),this.pdfViewer.getMementoManager().after({host:t,method:"addAnnot"})},e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(18));n(1494);var r=s(n(192)),i=s(n(16)),a=s(n(807));n(29);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));i.iconCls=i.iconCls||i.attrs["icon-class"],i.isFreezed=!1;var s={text:i.text,iconCls:i.iconCls,editable:i.editable,editOptions:i.editOptions,separate:i.separate,viewConfig:{nodeName:"dropdown-toggler",attrs:{}},callback:null};return i.toggler=new a.default(s,o,r),i.toggler.parent=i,i.addDestroyHook(function(t){return i.toggler.destroy()}),i}return u(e,t),e.getName=function(){return"dropdown"},e.getMetadata=function(){return{options:{text:{type:"string"},iconCls:{type:"string"},editable:{type:"boolean",defaultValue:!1},editOptions:{type:"any"},align:{type:"string",enums:["left","right","center","client-center"],defaultValue:"left"},separate:{type:"boolean",defaultValue:!0}}}},e.prototype.freeze=function(){this.isFreezed=!0},e.prototype.unfreeze=function(){this.isFreezed=!1},e.prototype.active=function(){if(!this.isFreezed)return t.prototype.active.call(this)},e.prototype.deactive=function(){if(!this.isFreezed)return t.prototype.deactive.call(this)},e.prototype.setText=function(t){this.toggler.setText(t)},e.prototype.setEditValue=function(t){return this.toggler.setEditValue(t)},e.prototype.getEditValue=function(){return this.toggler.getEditValue()},e.prototype.setEditTemplate=function(t){return this.toggler.setEditTemplate(t)},e.prototype.insertDropdownItem=function(t,e){var n=new r.default({selectable:!0,viewConfig:{nodeName:"dropdown-item",attrs:{}}},this.module,this.localizer);if(n.render(),n.prelink(),"function"==typeof t&&(t=t()),"string"==typeof t)n.element.innerHTML=t;else{if(!(t instanceof i.default))throw new TypeError("Unexpected type of child, it should be a String or Component instance");n.append(t)}n.postlink(),this.insert(n,e),n.mounted()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.toggler.mounted();var n=function(t){e.deactive()};document.addEventListener("mouseup",n),this.addDestroyHook(function(){document.removeEventListener("mouseup",n)})},e.prototype.doActive=function(){this.element.classList.add("active");var t=document.body.offsetWidth,e=window.innerHeight;this.listElement.style.cssText+="\n            left: 0;\n            top: 0;\n            margin-left: 0;\n            margin-top: 0;\n        ";var n=this.listElement.getBoundingClientRect(),o=void 0,r=void 0,i=void 0;if(this.listElement.offsetTop!==n.top||this.listElement.offsetLeft!==n.left)i=(o=this.element.offsetLeft)+this.element.offsetWidth,r=this.element.offsetTop+this.element.offsetHeight;else{var a=this.element.getBoundingClientRect();o=a.left,r=a.bottom,i=a.right}this.listElement.style.cssText+="\n            left: "+o+"px;\n            top: "+r+"px;\n        ";var s=this.listElement.getBoundingClientRect(),u=0,c=0;switch(s.bottom>e?c=e-s.bottom:s.top<0&&(c=2-s.top),this.align){case"left":break;case"right":u-=s.right-i;break;case"center":u-=(s.right-i)/2;break;case"client-center":u-=s.left+s.width/2-window.innerWidth/2}var l=o+u,f=l+s.width;f>t?u-=f-t:l<0&&(u-=l),this.listElement.style.cssText+="\n            margin-left: "+u+"px;\n            margin-top: "+c+"px;\n        "},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.render=function(){t.prototype.render.call(this),this.toggler.render(),this.element.classList.add("fv__ui-dropdown"),this.editable&&this.element.classList.add("fv__ui-editable-dropdown"),this.element.appendChild(this.toggler.element);var e=document.createElement("ul");e.classList.add("fv__ui-dropdown-list"),this.viewConfig.attrs["popup-class"]&&e.classList.add(this.viewConfig.attrs["popup-class"]),this.element.appendChild(e),this.listElement=e},e.prototype.select=function(t){this.toggler.select(t)},e.prototype.rerenderChildren=function(){var t=document.createDocumentFragment();this.$container.each(function(e){e.removeElement(),t.appendChild(e.element)}),this.listElement.clear(),this.listElement.appendChild(t)},e.prototype.update=function(){t.prototype.update.call(this)},e.prototype.createDOMElement=function(){return document.createElement("a")},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.toggler.disable(),this.deactive()},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.toggler.enable()},e.prototype.prelink=function(){t.prototype.prelink.call(this),this.toggler.prelink()},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.toggler.postlink()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return[t||"",o,r++].join("_")};var o="unique_"+Date.now(),r=0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(34)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.getQuadPoints=function(){return this.info.quadPoints||[]},e.prototype.getDeviceQuadPoints=function(){for(var t=this.getPDFPage(),e=(t.getHeight(),t.getWidth()),n=this.getQuadPoints(),o=[],r=n.length;r--;){var i=n[r];o[r]=[{x:i[0].x,y:e-i[0].y},{x:i[1].x,y:e-i[1].y},{x:i[2].x,y:e-i[2].y},{x:i[3].x,y:e-i[3].y}]}return o},e.prototype.getStartCharIndex=function(){return this.info.startCharIndex},e.prototype.getStartCharInfo=function(){return this.info.startCharInfo},e.prototype.getEndCharIndex=function(){return this.info.endCharIndex},e.prototype.getEndCharInfo=function(){return this.info.endCharInfo},e.prototype.getText=function(){return this.info.text||""},e.prototype.getContinuousText=function(){return this.info.text||""},e.prototype.updateQuadPointsByCharIndex=function(t,e){var n=this,o=this.getPDFPage(),i=o.getPDFDoc();return this.api.updateAnnotQuadPointsByCharIndex(i.getId(),o.getId(),this.getId(),t,e).then(function(t){if(t)return n.update().then(function(e){return n.eventEmitter.emit(r.default.annotationAppearanceUpdated,e,n.getPDFPage()),t})})},e.prototype.isArea=function(){return this.info.isArea},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.getQuadPoints(),o="",r=0;r<n.length;r++){var i=n[r];o+=i[0].x+","+i[0].y+",",o+=i[1].x+","+i[1].y+",",o+=i[2].x+","+i[2].y+",",o+=i[3].x+","+i[3].y+","}return o=o.substr(0,o.length-1),Object.assign({},e,{coords:o})},e}(o.default);e.default=s},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.download=function(t,e,n,r,i){var a=n||"attachment/file";void 0===n&&(n="application/octet-stream");var s=t instanceof Blob?t:new Blob(t,{type:n});if(r)return void function(t,e,n,o){(function(t,e,n,o){return new Promise(function(r,i){if(n||e.isMobile){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){r(a.result.replace(/^data:[^;]*;/,"data:"+o+";"))}}else{var s=URL.createObjectURL(t);setTimeout(function(){URL.revokeObjectURL(s)},4e3),r(s)}})})(t,e,n,o).then(function(t){e.windowOpen.document.location.href=t})}(s,r,i,a);(0,o.saveAs)(s,e)},e.getDownloadEnv=function(){var t=navigator.userAgent.toLowerCase(),e=t.indexOf("safari")>-1&&-1==t.indexOf("chrome"),n=/mobile/i.test(t);if(e)return{windowOpen:window.open("about:blank"),isMobile:n};return null};var o=n(362)},function(t,e,n){var o=n(17);t.exports=function(t,e){if(!o(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports={}},function(t,e,n){var o=n(0),r=n(69),i=n(15),a=n(239),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var r={},s=i(function(){return!!a[t]()||"âÂ"!="âÂ"[t]()}),u=r[t]=s?e(f):a[t];n&&(r[n]=u),o(o.P+o.F*s,"String",r)},f=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e,n){var o=n(27).f,r=n(53),i=n(24)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(6)),r=i(n(43));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.getLogger("Localizer"),s=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.i18next=e,this.options=o,e.isInitialized)this.i18nPromise=Promise.resolve();else{var i=(0,r.default)();this.i18next.on("loaded",function t(){i.resolve(),n.i18next.off("loaded",t)}),this.i18next.on("failLoading",function t(e,o,r){i.reject(r),n.i18next.off("failLoading",t)}),this.i18nPromise=i.promise}}return t.prototype.translate=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return e=Object.assign({},e,{defaultValue:o}),this.i18nPromise.then(function(){return n.i18next.t(t,e)})},t.prototype.translateSync=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return e=Object.assign({},e,{defaultValue:n}),this.i18next.t(t,e)},t.prototype.localizeRecursive=function(t,e){var n=this;return e=Object.assign({},this.options,e||{}),this.i18nPromise.then(function(){n.localizeElementSync(t,e);var o=t.querySelectorAll("[data-i18n]"),r=t.querySelectorAll("[data-i18n-title]");o.forEach(function(t){return n.localizeElementSync(t,e)}),n.localizeElementTitleSync(t,e),r.forEach(function(t){return n.localizeElementTitleSync(t,e)})})},t.prototype.localizeElementTitle=function(t,e){var n=this;return this.i18nPromise.then(function(){n.localizeElementTitleSync(t,e)})},t.prototype.localizeElementTitleSync=function(t,e){var n=t.getAttribute("data-i18n-title");if("string"==typeof n&&0!==(n=n.trim()).length){var o=this.translateSync(n,e,n);t.title!==o&&(t.title=o)}},t.prototype.localizeElement=function(t,e){var n=this;return this.i18nPromise.then(function(){n.localizeElementSync(t,e)})},t.prototype.localizeElementSync=function(t,e){var n=t.getAttribute("data-i18n");if(n&&0!==(n=n.trim()).length){var o=t.getAttribute("i18n-target");if(!o||t.querySelector(o)){var r=t.getAttribute("i18n-options");if(r){var i=JSON.parse(r);e=e?Object.assign({},i,e):i}this._parseElement(t,n,e)}else a.warn("No target found of selector: "+o)}},t.prototype._parseElement=function(t,e,n){var o="text";if("["===e[0]){var r=e.indexOf("]");o=e.substring(1,r),e=e.substring(r+1)}switch(o){case"html":var i=t.innerHTML.trim().length>0?t.innerHTML:e,a=this.translateSync(e,n,i);t.innerHTML=a;break;case"value":var s=e,u=this.translateSync(e,n,s);t.value!==u&&(t.value=u);break;case"text":var c=e,l=this.translateSync(e,n,c),f=t.childNodes;if(1===f.length&&f.item(0)instanceof Text){var p=f.item(0);if(p.textContent!==l)return void(p.textContent=l)}t.innerText!=l&&(t.innerText=l);break;default:if(0===o.indexOf("data-")){var d=o.substring("data-".length),h=this.translateSync(e,n,t.dataset[d]);t.dataset[d]=h}else{var g=this.translateSync(e,n,e);t.setAttribute(o,g)}}},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(327));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){i(this,t)}return t.isSubClassOf=function(t,e){return"function"==typeof t&&"function"==typeof e&&t.prototype instanceof e},t.isOverrided=function(t,e,n){for(var r=e.prototype;;){var i=r.constructor;if(!i||i===t||i===Object)return!1;if(r.hasOwnProperty(n))return!o.default.isProxyClass(i);r=Object.getPrototypeOf(r)}},t.mixin=function(t,e){var n=function(t){function e(){return i(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e}(t),a=o.default.getStaticDescriptors(e);Object.defineProperties(n,a);var s=o.default.getClassDescriptors(e.prototype);return n.prototype=Object.create(n.prototype,s),n},t}();e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"NoopController"},e.prototype.prelink=function(){},e.prototype.postlink=function(){},e.prototype.mounted=function(){},e.prototype.destroy=function(){},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fileSpec=e}return t.prototype.getChecksum=function(){return this.fileSpec.checksum},t.prototype.getCreationDateTime=function(){return this.fileSpec.creationDateTime},t.prototype.getDescription=function(){return this.fileSpec.description},t.prototype.getDict=function(){return this.fileSpec.dict},t.prototype.getFileData=function(){return this.fileSpec.fileData},t.prototype.getFileName=function(){return this.fileSpec.fileName},t.prototype.getFileSize=function(){return this.fileSpec.fileSize},t.prototype.getModifiedDateTime=function(){return this.fileSpec.modifiedDateTime},t.prototype.getSubtype=function(){return this.fileSpec.subtype},t.prototype.isEmbedded=function(){return this.fileSpec.isEmbedded},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(85)),r=(s(n(89)),n(339)),i=s(r),a=s(n(337));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.registry=new i.default,this.name=n,this.target=e,this.priority=r,this.isActive=!0,this.nextBinders=[],this.emitter=new o.default,this.beforeEventEmitter=new o.default}return t.prototype.setKeyboard=function(t){this.keyboard=t},t.prototype.registerKeybinding=function(t,e){var n=a.default.parseKeybinding(e);this.registry.registerKeyBindingRule(new r.KeyBindingRule(t,n,0))},t.prototype.registerUserKeybinding=function(t,e){var n=a.default.parseKeybinding(e);this.registry.registerUserKeyBindingsRule(new r.KeyBindingRule(t,n,0))},t.prototype.getCommandOfKeybinding=function(t){return this.registry.getCommandOfKeybinding(t)},t.prototype.hasKeybinding=function(t){return!!this.getCommandOfKeybinding(t)},t.prototype.attach=function(t){this.nextBinders.push(t)},t.prototype.active=function(){this.isActive=!0;var t=this.keyboard.activeBinders;-1===t.indexOf(this)&&t.push(this)},t.prototype.deactive=function(){this.isActive=!1;var t=this.keyboard.activeBinders,e=t.lastIndexOf(this);-1!==e&&t.splice(e,1)},t.prototype.before=function(t,e){var n=this;return this.beforeEventEmitter.on(t,e),function(){n.beforeEventEmitter.off(t,e)}},t.prototype.on=function(t,e){var n=this;return this.emitter.on(t,e),function(){n.emitter.off(t,e)}},t.prototype.emit=function(t,e){this.emitter.emit(t,e)},t.prototype.acceptElement=function(t){return t===this.target},t.prototype.handleKeydownEvent=function(t,e){var n=this.getCommandOfKeybinding(t);return n?(this.beforeEventEmitter.emit(n,e),!0):this.nextBinders.some(function(n){return n.handleKeydownEvent(t,e)})},t.prototype.handleEvent=function(t,e){var n=this.getCommandOfKeybinding(t);return n?(this.emit(n,e),!0):this.nextBinders.some(function(n){return n.handleEvent(t,e)})},t}();e.default=u},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(344).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(93)),r=c(n(75)),i=n(30),a=n(64),s=c(n(1)),u=c(n(84));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));u.name="pdfControlRender",o.classList.add("fv__pdf-form-control-container"),u.formRender=u.parent("pdfDocRender").getFormRender();var c=u.$foreground=(0,s.default)('<div class="fv__ui-form-foreground"></div>'),l=u.pdfViewer.highlightControls()?"block":"none",f="";(u.checkReadOnly()||7==n.getFieldType()||1==n.getFieldType())&&(l="none",f+="form-field-readonly"),u.checkInvisible()&&(u.$handler.hide(),u.$ui.hide());var p=n.getField(),d=u.pdfViewer.getDisplayHighlightColor();return p&&a.FieldFlag.isRequired(p.getFlags())&&(d=u.pdfViewer.getDisplayHighlightColor(.5)),c.addClass(f),c.css({display:l,"background-color":d,position:"absolute",width:"100%",height:"100%",left:0,top:0}),u.$handler.addClass("fv__pdf-form-control-handler-container").append(c).attr("fieldName",p&&p.getName()),n.setRenderNotifier(function(t){return u.updateUI(t)}),u.bindControlEvent(),u}return l(e,t),e.prototype.bindControlEvent=function(){var t=this;this.$handler.on("mouseenter",function(e){return t.handleEvnet(u.default.AnnotCursorEnter,e)}),this.$handler.on("mouseleave",function(e){return t.handleEvnet(u.default.AnnotCursorExit,e)});var e=void 0;this.$handler.on("mousedown",function(n){n&&n.stopPropagation(),e=n,t.handleEvnet(u.default.AnnotMouseButtonPressed,n)}),this.pdfViewer.addListenAnnotMouseEvent(function(n){e&&t.handleEvnet(u.default.AnnotMouseButtonReleased,n),e=null}),this.$handler.on("focus",function(e){return t.handleEvnet(u.default.AnnotReceiveInputFocus,e)}),this.$handler.on("blur",function(e){return t.handleEvnet(u.default.AnnotLoseInputFocus,e)})},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.formRender.blurControl()},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1),s=i.getDeviceRect(o),u=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(u/r),u,c,r,o,t,e,a.left,a.top,s]},e.prototype.updateForgroundAndHandler=function(t){var e=this.annot.getDeviceRect(t),n={width:e.right-e.left,height:e.bottom-e.top,left:e.left,top:e.top};return this.$handler.addClass("active").css(n),e},e.prototype.render=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;t.prototype.render.call(this,n,o);var a=this.annot;if(this.updateForgroundAndHandler(n),this.checkInvisible()||a.isEmpty()||a.isDeleted()||a.rectIsEmpty())return this.$handler.hide(),Promise.resolve();var s=this.getTileConfig(n,o),u=this.tileCanvas;return u||(u=this.tileCanvas=new r.default(function(t,e,n,o,r,s,u,c){return a.getPDFPage().getAnnotBitmap(a.getId(),(0,i.pt2px)(s),0,{x:u*s+e*r,y:c*s+t*r,width:n,height:o})},this.$handler)),(e=u).redraw.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s))},e.prototype.doubleTapAnnot=function(){},e.prototype.checkReadOnly=function(){var t=!1;this.formRender.isReadOnly()&&(t=!0);var e=this.annot.getField();return!e||((this.getAnnotFlag().checkReadOnly()||a.FieldFlag.isReadOnly(e.getFlags()))&&(t=!0),t)},e.prototype.checkInvisible=function(){var t=this.getAnnotFlag();return!(!t.checkHidden()&&!t.checkNoView())},e.prototype.handleEvnet=function(t,e){var n=this;if(this.checkReadOnly())return t!=u.default.AnnotMouseButtonReleased&&t!=u.default.AnnotReceiveInputFocus&&t!=u.default.AnnotMouseButtonReleased||this.formRender.blurControl(),!0;switch(t){case u.default.AnnotMouseButtonPressed:this.formRender.focusControl(this);break;case u.default.AnnotMouseButtonReleased:2!=this.annot.getFieldType()&&3!=this.annot.getFieldType()||(this.annot.switchAS(),this.formRender.calculate(this.annot.getField())),setTimeout(function(){var t=n.annot.getAction();n.formRender.execAction("Field",t,n.annot.getField(),n.annot.getField())},0)}this.performAction(t)},e.prototype.updateUI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t.type,n=t.value;switch(e){case"rect":this.render();break;case"readonly":n?this.$foreground.hide():!this.pdfViewer.highlightControls()||7==this.annot.getFieldType()||1==this.annot.getFieldType()||this.checkReadOnly()||this.checkInvisible()||this.$foreground.show();break;case"required":var o=n?.5:.25,r=this.pdfViewer.getDisplayHighlightColor(o);this.$foreground.css({"background-color":r});break;case"hidden":n?(this.$ui.hide(),this.$handler.hide()):a.FieldFlag.isReadOnly(this.annot.getField().getFlags())||(this.$ui.show(),this.$handler.show());break;case"focus":this.formRender.focusControl(this);break;case"display":var i=this.annot.getFlags();2&i||32&i?(this.$ui.hide(),this.$handler.hide()):(this.$ui.show(),this.$handler.show());break;case"textColor":this.$input&&this.$input.css("color",n)}this.updateUIMore({type:e,value:n})},e.prototype.updateUIMore=function(t){t.type,t.value;this.render(this.scale,this.rotate)},e.prototype.focus=function(){var t=this,e=this.annot.getField();setTimeout(function(){t.$foreground.hide(),5!==e.getType()&&t.$handler.addClass("fv__control_focus")},50);var n=this.annot.getAdditionalAction(u.default.AnnotReceiveInputFocus);n&&this.formRender.execAction("Field",n,null,e)},e.prototype.blur=function(){var t=this.annot.getField();7!=t.getType()&&1!=t.getType()&&this.pdfViewer.highlightControls()&&this.$foreground.show(),5!==t.getType()&&this.$handler.removeClass("fv__control_focus");var e=this.annot.getAdditionalAction(u.default.AnnotLoseInputFocus);e&&this.formRender.execAction("Field",e,null,t,"Blur")},e.prototype.performAction=function(t){this.formRender.execAction("Field",this.annot.getAdditionalAction(t),null,this.annot.getField(),t)},e.prototype.autoFontSize=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.annot.getField();if(n){var o=4*n.getDAFontSize()/3*this.scale;if(!o&&!a.FieldFlag.isMultiline(n.getFlags())){o=.7*this.$textInput.outerHeight();var r=(0,s.default)(".fwr-font-auto");0==r.length&&(r=(0,s.default)('<div class="fwr-font-auto" style="position: absolute;top:0;width: fit-content;opacity: 0;"></div>')).appendTo(this.pdfViewer.$ui),r.css("font-size",o+"px").html(t);for(var i=r.outerHeight(),u=this.$textInput.parent().height();i>u&&o>11;)o--,r.css("font-size",o+"px"),i=r.outerHeight();for(var c=r.outerWidth(),l=this.$textInput.parent().width();c>l-e&&o>11;)o--,r.css("font-size",o+"px"),c=r.outerWidth();this.$textInput.css("font-size",o+"px")}}},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PIXEL_VERTICAL=e.PIXEL_HORIZONTAL=e.PICA=e.MILLIMETER=e.CENTIMETER=e.METER=e.KILOMETER=e.YARD=e.FOOT=e.POINT=e.MILE=e.CUSTOM=e.INCH=void 0;var o=n(367),r=n(152);e.INCH=new o.Unit(1,"inch"),e.CUSTOM=new o.Unit(1,"custom"),e.MILE=new o.Unit(1/63360,"mi"),e.POINT=new o.Unit(72,"pt"),e.FOOT=new o.Unit(1/12,"ft"),e.YARD=new o.Unit(1/36,"yd"),e.KILOMETER=new o.Unit(.0254/1e3,"km"),e.METER=new o.Unit(.0254,"m"),e.CENTIMETER=new o.Unit(2.54,"cm"),e.MILLIMETER=new o.Unit(25.4,"mm"),e.PICA=new o.Unit(6,"pica"),e.PIXEL_HORIZONTAL=new o.PixelUnit(r.ORIENTATION_HORIZONTAL),e.PIXEL_VERTICAL=new o.PixelUnit(r.ORIENTATION_VERTICAL)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=d(n(48)),i=d(n(3)),a=d(n(1)),s=d(n(37)),u=n(30),c=n(22),l=d(n(998)),f=d(n(74)),p=n(8);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="line",a.shapeControl=new s.default({start:function(){return a.onStartUpdateShape()},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e,n){return a.onShapeMoving(t,e,n)},end:function(t,e){return a.onShapeUpdateEnd(t,e)},resizable:!1}),(a.groupMoveDisabled()||a.moveDisabled())&&a.shapeControl.disable(),a}return h(e,t),e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive){this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}},e.prototype.activeMore=function(){this.$handler.addClass("fv__annot-line-container");var t=2;0!==this.annot.getLeaderLineLength()&&(t=4),this.hammerInited=this.hammerInited||this.initHammer(t)},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,u.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.onStartUpdateShape=function(t,e){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&(this.editDebouncePromise=this.editDebouncePromise||new c.DebouncePromiseQueue).push(function(){return n.moveTo(t.left,t.top).then(function(t){return n._updateShapeControllerBoundaryBox()})})},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;this.setRect({left:t.left,top:t.top,width:t.width,height:t.height}).then(function(t){return o._updateShapeControllerBoundaryBox()}),this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,p.convertFromNumberToHex)(t.getBorderColor()),n=t.getOpacity(),o=t.getBorderWidth(),r=t.getStyleFillColor(),i=this.propertyDisabled();return{color:e,opacity:n,borderWidth:o,lineStartStyle:t.getStartStyle(),lineEndStyle:t.getEndingStyle(),hasCap:t.hasCaption(),fillColor:r,disabled:i}},e.prototype.redraw=function(){var e=this;return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this).then(function(){"line"==e.name&&e.annot.calculateLeaderLine(),e.updateHandlerPosition(),e.setMargin()})},e.prototype.updateRender=function(){return this.redraw()},e.prototype.initHammer=function(t){var e=this,n=this.$handler,o=(0,l.default)({anchorCount:t}),r=(0,a.default)(o);n.append(r);var i=this.annot.getType(),s=n.find(".fv__pdf-annot-line-point"),u=function(t){!function(){var n=void 0,o=void 0;new Hammer.Manager(t,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}).on("panstart",function(r){if(!e.moveDisabled())if(o=(0,a.default)(r.target),n={x:parseFloat(o.css("left")),y:parseFloat(o.css("top"))},e.backupProperty(t),"line"===i)switch(o.data("index")){case 0:case 1:e.pdfViewer.getMementoManager().before({host:e,method:"updateLinePoints",startPoint:e.annot.getStartPoint(),endPoint:e.annot.getEndPoint()});break;case 2:case 3:e.pdfViewer.getMementoManager().before({host:e,method:"setLeaderLineLength",leaderLinePoints:e.annot.getLeaderLinePoints(),startPoint:e.annot.getStartPoint(),endPoint:e.annot.getEndPoint()})}else e.pdfViewer.getMementoManager().before({host:e,method:"updateVertexes",vertexes:e.annot.getVertexes(),index:o.data("index")})}).on("panmove",function(r){e.moveDisabled()||(e.pdfViewer.config.highPerformance?e.updatePoint(r,t):o.css({left:n.x+r.deltaX+"px",top:n.y+r.deltaY+"px"}))}).on("panend",function(n){if(!e.moveDisabled())if(e.updatePoint(n,t),"line"===i)switch(o.data("index")){case 0:case 1:e.pdfViewer.getMementoManager().after({host:e,method:"updateLinePoints",startPoint:e.annot.getStartPoint(),endPoint:e.annot.getEndPoint()});break;case 2:case 3:e.pdfViewer.getMementoManager().after({host:e,method:"setLeaderLineLength",leaderLinePoints:e.annot.getLeaderLinePoints(),startPoint:e.annot.getStartPoint(),endPoint:e.annot.getEndPoint()})}else e.pdfViewer.getMementoManager().after({host:e,method:"updateVertexes",vertexes:e.annot.getVertexes(),index:o.data("index")})})}()},c=!0,f=!1,p=void 0;try{for(var d,h=s[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){u(d.value)}}catch(t){f=!0,p=t}finally{try{!c&&h.return&&h.return()}finally{if(f)throw p}}return!0},e.prototype.updateHandlerPosition=function(){var t=this.$handler,e=this.scale,n=[],o=this.annot.getStartPoint();n.push(this.annot.page.getDevicePoint([o.x,o.y],e));var r=this.annot.getEndPoint();if(n.push(this.annot.page.getDevicePoint([r.x,r.y],e)),0!=this.annot.getLeaderLineLength()){var i=this.annot.getLeaderLinePoints();n.push(this.annot.page.getDevicePoint([i.start.x,i.start.y],e)),n.push(this.annot.page.getDevicePoint([i.end.x,i.end.y],e))}for(var a=0;a<n.length;a++){t.find("[data-index="+a+"]").css({left:n[a][0]+"px",top:n[a][1]+"px"})}},e.prototype.moved=function(){t.prototype.moved.call(this),this.updateHandlerPosition(),this.setMargin()},e.prototype.setContent=function(t){return t===this.annot.getContent()?Promise.resolve(!0):this.annot.setContent(t)},e.prototype.setBorderWidth=function(t,e,n){var o=this,r=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return t?o.annot.update().then(function(t){return!0}):t}).then(function(t){return t?(e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:r}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o.updateRender().then(function(){var e=o._getShapeControllerBoundaryBox();return o.shapeControl.active(o.$handler,o.getBoundary(),e),o.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,o),t})):t})},e.prototype.setFillColor=function(t){var e=this,n=this.annot.setStyleFillColor,o="setStyleFillColor";return n||(n=this.annot.setFillColor,o="setFillColor"),this.pdfViewer.getMementoManager().before({host:this,method:o,fillColor:"setFillColor"===o?this.annot.getFillColor():this.annot.getStyleFillColor()}),n.call(this.annot,t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:o,fillColor:"setFillColor"===o?e.annot.getFillColor():e.annot.getStyleFillColor()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e),t})):t})},e.prototype.setEndingStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setEndingStyle",isBeginning:t,style:t?this.annot.getStartStyle():this.annot.getEndingStyle()}),this.annot.setEndingStyle(t,e).then(function(t){return n.annot.update()}).then(function(){return n.pdfViewer.getMementoManager().after({host:n,method:"setEndingStyle",isBeginning:t,style:t?n.annot.getStartStyle():n.annot.getEndingStyle()}),n.redraw().then(function(){var t=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),t),n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)})})},e.prototype.enableCaption=function(t){var e=this;this.pdfViewer.getMementoManager().before({host:this,method:"enableCaption",enableCaption:this.annot.hasCaption()}),this.annot.enableCaption(t).then(function(){return e.pdfViewer.getMementoManager().after({host:e,method:"enableCaption",enableCaption:e.annot.hasCaption()}),e.redraw().then(function(){e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e)})})},e.prototype.hasCaption=function(){return this.annot.hasCaption()},e.prototype.setBorderStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(){return n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n.updateRender()}).then(function(){n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)})},e.prototype.backupProperty=function(t){switch(t?(0,a.default)(t).data("index"):""){default:return this.oldRect=Object.assign({},this.annot.getRect());case 1:return this.oldEndPoint=Object.assign({},this.annot.getEndPoint());case 0:return this.oldStartPoint=Object.assign({},this.annot.getStartPoint());case 3:case 2:return this.oldLeaderEndPoint=Object.assign({},this.annot.leaderEndPoint)}},e.prototype.updateLeaderLineLength=function(t,e,n){var o=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),i=this.annot.getStartPoint(),a=this.annot.Eb;n&&(o=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),i=this.annot.getStartPoint(),a=this.annot.Eb);var s=o.x+t,u=o.y+e,c=(this.annot.k*(u-a)+s)/(this.annot.k*this.annot.k+1),l=c,f=this.annot.k*c+a,p=!0;(r.x-i.x)*(u-r.y)-(s-r.x)*(r.y-i.y)>0&&(p=!1);var d=l-r.x,h=f-r.y,g=Math.sqrt(d*d+h*h);return p&&(g=-g),this.annot.setLeaderLineLength(g)},e.prototype.updatePoint=function(t,e){var n=this,r=(0,a.default)(e).data("index"),s=void 0,u=t.deltaX,c=t.deltaY,l=this.annot.page.reverseDeviceOffset([u,c],this.scale),f=o(l,2),p=f[0],d=f[1];switch(r){case 1:s=this.annot.setEndPoint({x:this.oldEndPoint.x+p,y:this.oldEndPoint.y+d});break;case 0:s=this.annot.setStartPoint({x:this.oldStartPoint.x+p,y:this.oldStartPoint.y+d});break;case 2:s=this.updateLeaderLineLength(p,d,!1);break;case 3:s=this.updateLeaderLineLength(p,d,!0)}s.then(function(){return n.updateRender().then(function(){var t=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),t),n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)})})},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(f.default.expandOffset(e,t))},e}(r.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LEVEL_DEBUG=0,e.LEVEL_INFO=2,e.LEVEL_WARN=4,e.LEVEL_ERROR=8},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(1008)),r=s(n(128)),i=s(n(1)),a=n(20);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewerComponent=e;var s=this.viewerComponent.getModel();a=a||this.viewerComponent.getPropertyOptions();var u=(0,o.default)(a);n&&n!==document.body||(u='<dialog class="fv__dialog fv__annot-properties-dialog">'+u+"</dialog>");var c=(0,i.default)(u);this.$propertiesDialog=c,this.$fillColor=c.find("#fillcolor-input"),this.$txThickness=c.find("#thickness-input-tx"),this.updateBorderInfo(s,a),this.bindChangeEvent();var l=n||document.body;if(c.appendTo(l),!n||n===document.body){var f=c[0];r.default.registerDialog(f),f.showModal()}}return t.prototype.toggle=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.$propertiesDialog.find("input,select").removeAttr("disabled"):this.$propertiesDialog.find("input,select").attr("disabled","true")},t.prototype.updateBorderInfo=function(t,e){var n=this.$propertiesDialog;if(e.lineEndStyle&&n.find("#endstyle-select [value="+t.getEndingStyle()+"]").attr("selected",!0),e.lineStartStyle)switch(t.getType()){case"freetext":n.find("#startstyle-select [value="+t.getCalloutLineEndingStyle()+"]").attr("selected",!0);break;default:n.find("#startstyle-select [value="+t.getStartStyle()+"]").attr("selected",!0)}if(void 0!==e.highlightingMode&&n.find("#highlighting-select [value="+t.getHighlightingMode()+"]").attr("selected",!0),void 0!==e.rotation&&n.find("#rotation-select [value="+t.getRotation()+"]").attr("selected",!0),!1!==e.borderStyle){var o=t.getBorderDashes();if(1==t.getBorderStyle()&&o.length>0){var r=Math.max.apply(Math,o),i=Math.min.apply(Math,o);i==r?i>3?n.find("#borderStyle-select [value=3]").attr("selected",!0):i>2?n.find("#borderStyle-select [value=2]").attr("selected",!0):i<2||2==i?n.find("#borderStyle-select [value=1]").attr("selected",!0):n.find("#borderStyle-select [value=3]").attr("selected",!0):r>8?n.find("#borderStyle-select [value=6]").attr("selected",!0):r>4?n.find("#borderStyle-select [value=5]").attr("selected",!0):n.find("#borderStyle-select [value=4]").attr("selected",!0)}else if(t.getBorderStyle()==a.BORDER_STYLE.CLOUDY){switch(t.getCloudIntensity()){case 1:n.find("#borderStyle-select [value=7]").attr("selected",!0);break;case 2:n.find("#borderStyle-select [value=8]").attr("selected",!0)}}}},t.prototype.bindChangeEvent=function(){var t=this;this.$propertiesDialog.on("click",".fv__btn-close",function(){t.viewerComponent.hidePropertiesDialog?t.viewerComponent.hidePropertiesDialog():t.close()}).on("change","#color-input",function(e){var n=e.target,o=parseInt(n.value.replace("#",""),16);t.viewerComponent.setColor(o)}).on("change","#opacity-input",function(e){var n=e.target.value;t.viewerComponent.setOpacity(+n)}).on("change","#thickness-input",function(t){return o("#thickness-input","#thickness-input-tx")}).on("blur","#thickness-input",function(t){return o("#thickness-input","#thickness-input-tx")}).on("blur","#thickness-input-tx",function(t){return o("#thickness-input-tx","#thickness-input")}).on("change","#thickness-input-tx",function(t){return o("#thickness-input-tx","#thickness-input")}).on("change","#borderStyle-select",function(e){var n=e.target.value,o=a.BORDER_STYLE.DASHED;switch(n){case"0":n=[],o=a.BORDER_STYLE.SOLID;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,o=a.BORDER_STYLE.CLOUDY;break;case"8":n=2,o=a.BORDER_STYLE.CLOUDY}t.viewerComponent.setBorderStyle(o,n)}).on("change","#fillcolor-input",function(e){var n=e.target,o=parseInt(n.value.replace("#",""),16);t.viewerComponent.setFillColor(o)}).on("change","#fillColor-transparent-input",function(e){e.target.checked?(t.$fillColor.val("#ffffff"),t.$fillColor.attr("disabled",!0),t.viewerComponent.setFillColor(0)):t.$fillColor.removeAttr("disabled")}).on("change","#startstyle-select",function(e){var n=e.target.value;t.viewerComponent.setEndingStyle(!0,n)}).on("change","#endstyle-select",function(e){var n=e.target.value;t.viewerComponent.setEndingStyle(!1,n)}).on("change","#hasCap-input",function(e){var n=e.target.checked;t.viewerComponent.enableCaption(n)}).on("change","#highlighting-select",function(e){var n=e.target.value;t.viewerComponent.setHighlightingMode(n)}).on("change","#rotation-select",function(e){var n=e.target.value;t.viewerComponent.setRotation(90*+n)});var e=this,n=!1;function o(t,o){if(!n){n=!0;var r=e.$propertiesDialog,i=r.find(t).val();e.viewerComponent.getModel().getBorderWidth()!=i?(e.viewerComponent.setBorderWidth(+i),n=!1,r.find(o).val(i)):n=!1}}},t.prototype.close=function(){var t=this.$propertiesDialog;t&&(t[0].close(),t.remove(),this.$propertiesDialog=null)},t}();e.default=u},function(t,e,n){var o;!function(){var r=window.CustomEvent;function i(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function a(t){t&&t.blur&&t!==document.body&&t.blur()}function s(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function u(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function c(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,n=!1,o=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===t){var i="DOMNodeRemoved";n|=r.type.substr(0,i.length)===i,window.clearTimeout(e),e=window.setTimeout(o,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(e){t.addEventListener(e,r)})}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map(function(t){return t+":not([disabled])"});e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}a(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],o=null;try{o=n.cssRules}catch(t){}if(o)for(var r=0;r<o.length;++r){var i=o[r],a=null;try{a=document.querySelectorAll(i.selectorText)}catch(t){}if(a&&s(a,t)){var u=i.style.getPropertyValue("top"),c=i.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var n=[];e.forEach(function(t){for(var e,o=0;e=t.removedNodes[o];++o)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))}),n.length&&t(n)}))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var o=this.pendingDialogStack[0];o?(o.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=i(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),a(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach(function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var f=document.createElement("form");if(f.setAttribute("method","dialog"),"dialog"!==f.method){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var d=p.get;p.get=function(){return u(this)?"dialog":d.call(this)};var h=p.set;p.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):h.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&u(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}i(e)&&(l.formSubmitter=e)}}},!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return g.call(this);var t=i(this);t&&t.close()},document.addEventListener("submit",function(t){var e=t.target;if(u(e)){t.preventDefault();var n=i(e);if(n){var o=l.formSubmitter;o&&o.form===e?n.close(l.useValue||o.value):n.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n(1009)?void 0===(o=function(){return l}.call(e,n,e,t))||(t.exports=o):"object"==typeof t&&"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="/";function r(){for(var t="",e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var a=0,s=n.length;a<s;a++){var u=n[a];u&&(t+=t?o+u:u)}return function(t){var e=i(t),n=t&&t[t.length-1]===o;if(!(t=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i))}return n}(t.split(o),!i).join(o))&&!i)return"";t&&n&&(t+=o);return(e?o:"")+t}(t)}function i(t){return t[0]===o}function a(t){var e=/^([A-z]+)\:\/\/([A-z0-9\-_\.]+)(\:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?$/,n=t.match(e);if(!n)throw"this is not a valid url";return{match:n,protocol:n[1],hostname:n[2],host:n[2]+(n[3]||""),port:+n[4]||80,pathname:n[5]||"/",search:n[6]||"",hash:n[7]||""}}function s(t){return t.split(o).slice(0,-1).join(o)||"/"}e.getCurrentPath=function(){var t=a(location.href);return t.protocol+"://"+t.host+s(t.pathname)},e.join=r,e.isUrl=function(t){return/^([A-z]+)\:\/\/([A-z0-9\-_\.]+)(\:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?$/.test(t)},e.urlJoin=function(t){for(var e=a(t),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.unshift(s(e.pathname)),e.protocol+"://"+e.host+r.apply(void 0,o)+e.search+e.hash},e.resolvePath=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[0],r=void 0;if(o.match(/^\w+?:\/\//)){var i=o.match(/^(\w+?:\/\/[^\/]+)(\/?.*)/);r=i[1],e[0]=i[2]||"/"}var a=e.filter(function(t){return"string"==typeof t&&t.length>0}),s=a.map(function(t){return t.replace(/[\/\\]+/,"/").split("/").filter(function(t,e,n){return""!==t})}).reduce(function(t,e){return e.forEach(function(e){switch(e){case".":break;case"..":t.pop();break;default:t.push(e)}}),t},[]).join("/");return a.length>0&&/[\/\\\\]/.test(a[0][0])&&"/"!==s[0]&&(s="/"+s),r?r+s:s},e.mergePath=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("/").replace(/[\/\\]+/,"/")}},function(t,e,n){var o,r,i;r=[n(1)],void 0===(i="function"==typeof(o=function(t){"use strict";t.support.htmlMenuitem="HTMLMenuItemElement"in window,t.support.htmlCommand="HTMLCommandElement"in window,t.support.eventSelectstart="onselectstart"in document.documentElement,t.ui&&t.widget||(t.cleanData=function(e){return function(n){var o,r,i;for(i=0;null!=n[i];i++){r=n[i];try{(o=t._data(r,"events"))&&o.remove&&t(r).triggerHandler("remove")}catch(t){}}e(n)}}(t.cleanData));var e=null,n=!1,o=t(window),r=0,i={},a={},s={},u={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(e){if(t.ui&&t.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(n)}},position:function(t,e,n){var r;if(e||n){if("maintain"===e&&"maintain"===n)r=t.$menu.position();else{var i=t.$menu.offsetParent().offset();r={top:n-i.top,left:e-i.left}}var a=o.scrollTop()+o.height(),s=o.scrollLeft()+o.width(),u=t.$menu.outerHeight(),c=t.$menu.outerWidth();r.top+u>a&&(r.top-=u),r.top<0&&(r.top=0),r.left+c>s&&(r.left-=c),r.left<0&&(r.left=0),t.$menu.css(r)}else t.determinePosition.call(this,t.$menu)},positionSubmenu:function(e){if(void 0!==e)if(t.ui&&t.ui.position)e.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};e.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:t.noop,hide:t.noop,activated:t.noop},callback:null,items:{}},c={timer:null,pageX:null,pageY:null},l={abortevent:function(t){t.preventDefault(),t.stopImmediatePropagation()},contextmenu:function(n){var o=t(this);if("right"===n.data.trigger&&(n.preventDefault(),n.stopImmediatePropagation()),!("right"!==n.data.trigger&&"demand"!==n.data.trigger&&n.originalEvent||!(void 0===n.mouseButton||!n.data||"left"===n.data.trigger&&0===n.mouseButton||"right"===n.data.trigger&&2===n.mouseButton)||o.hasClass("context-menu-active")||o.hasClass("context-menu-disabled"))){if(e=o,n.data.build){var r=n.data.build(e,n);if(!1===r)return;if(n.data=t.extend(!0,{},u,n.data,r||{}),!n.data.items||t.isEmptyObject(n.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");n.data.$trigger=e,f.create(n.data)}f.show.call(o,n.data,n.pageX,n.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),t(this).trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(n){var o=t(this);e&&e.length&&!e.is(o)&&e.data("contextMenu").$menu.trigger("contextmenu:hide"),2===n.button&&(e=o.data("contextMenuActive",!0))},mouseup:function(n){var o=t(this);o.data("contextMenuActive")&&e&&e.length&&e.is(o)&&!o.hasClass("context-menu-disabled")&&(n.preventDefault(),n.stopImmediatePropagation(),e=o,o.trigger(t.Event("contextmenu",{data:n.data,pageX:n.pageX,pageY:n.pageY}))),o.removeData("contextMenuActive")},mouseenter:function(n){var o=t(this),r=t(n.relatedTarget),i=t(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||e&&e.length||(c.pageX=n.pageX,c.pageY=n.pageY,c.data=n.data,i.on("mousemove.contextMenuShow",l.mousemove),c.timer=setTimeout(function(){c.timer=null,i.off("mousemove.contextMenuShow"),e=o,o.trigger(t.Event("contextmenu",{data:c.data,pageX:c.pageX,pageY:c.pageY}))},n.data.delay))},mousemove:function(t){c.pageX=t.pageX,c.pageY=t.pageY},mouseleave:function(e){var n=t(e.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(c.timer)}catch(e){}c.timer=null}},layerClick:function(e){var n,r,i=t(this),a=i.data("contextMenuRoot"),s=e.button,u=e.pageX,c=e.pageY,l=void 0===u;e.preventDefault(),setTimeout(function(){if(l)null!==a&&void 0!==a&&null!==a.$menu&&void 0!==a.$menu&&a.$menu.trigger("contextmenu:hide");else{var i,f="left"===a.trigger&&0===s||"right"===a.trigger&&2===s;if(document.elementFromPoint&&a.$layer){if(a.$layer.hide(),(n=document.elementFromPoint(u-o.scrollLeft(),c-o.scrollTop())).isContentEditable){var p=document.createRange(),d=window.getSelection();p.selectNode(n),p.collapse(!0),d.removeAllRanges(),d.addRange(p)}t(n).trigger(e),a.$layer.show()}if(a.hideOnSecondTrigger&&f&&null!==a.$menu&&void 0!==a.$menu)a.$menu.trigger("contextmenu:hide");else{if(a.reposition&&f)if(document.elementFromPoint){if(a.$trigger.is(n))return void a.position.call(a.$trigger,a,u,c)}else if(r=a.$trigger.offset(),i=t(window),r.top+=i.scrollTop(),r.top<=e.pageY&&(r.left+=i.scrollLeft(),r.left<=e.pageX&&(r.bottom=r.top+a.$trigger.outerHeight(),r.bottom>=e.pageY&&(r.right=r.left+a.$trigger.outerWidth(),r.right>=e.pageX))))return void a.position.call(a.$trigger,a,u,c);n&&f&&a.$trigger.one("contextmenu:hidden",function(){t(n).contextMenu({x:u,y:c,button:s})}),null!==a&&void 0!==a&&null!==a.$menu&&void 0!==a.$menu&&a.$menu.trigger("contextmenu:hide")}}},50)},keyStop:function(t,e){e.isInput||t.preventDefault(),t.stopPropagation()},key:function(t){var n={};e&&(n=e.data("contextMenu")||{}),void 0===n.zIndex&&(n.zIndex=0);var o=0,r=function(t){""!==t.style.zIndex?o=t.style.zIndex:null!==t.offsetParent&&void 0!==t.offsetParent?r(t.offsetParent):null!==t.parentElement&&void 0!==t.parentElement&&r(t.parentElement)};if(r(t.target),!(n.$menu&&parseInt(o,10)>parseInt(n.$menu.css("zIndex"),10))){switch(t.keyCode){case 9:case 38:if(l.keyStop(t,n),n.isInput){if(9===t.keyCode&&t.shiftKey)return t.preventDefault(),n.$selected&&n.$selected.find("input, textarea, select").blur(),void(null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("prevcommand"));if(38===t.keyCode&&"checkbox"===n.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault()}else if(9!==t.keyCode||t.shiftKey)return void(null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("prevcommand"));break;case 40:if(l.keyStop(t,n),!n.isInput)return void(null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("nextcommand"));if(9===t.keyCode)return t.preventDefault(),n.$selected&&n.$selected.find("input, textarea, select").blur(),void(null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("nextcommand"));if(40===t.keyCode&&"checkbox"===n.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault();break;case 37:if(l.keyStop(t,n),n.isInput||!n.$selected||!n.$selected.length)break;if(!n.$selected.parent().hasClass("context-menu-root")){var i=n.$selected.parent().parent();return n.$selected.trigger("contextmenu:blur"),void(n.$selected=i)}break;case 39:if(l.keyStop(t,n),n.isInput||!n.$selected||!n.$selected.length)break;var a=n.$selected.data("contextMenu")||{};if(a.$menu&&n.$selected.hasClass("context-menu-submenu"))return n.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return n.$selected&&n.$selected.find("input, textarea, select").length?void 0:((n.$selected&&n.$selected.parent()||n.$menu).children(":not(."+n.classNames.disabled+", ."+n.classNames.notSelectable+")")[36===t.keyCode?"first":"last"]().trigger("contextmenu:focus"),void t.preventDefault());case 13:if(l.keyStop(t,n),n.isInput){if(n.$selected&&!n.$selected.is("textarea, select"))return void t.preventDefault();break}return void(void 0!==n.$selected&&null!==n.$selected&&n.$selected.trigger("mouseup"));case 32:case 33:case 34:return void l.keyStop(t,n);case 27:return l.keyStop(t,n),void(null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(t.keyCode).toUpperCase();if(n.accesskeys&&n.accesskeys[s])return void n.accesskeys[s].$node.trigger(n.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}t.stopPropagation(),void 0!==n.$selected&&null!==n.$selected&&n.$selected.trigger(t)}},prevItem:function(e){e.stopPropagation();var n=t(this).data("contextMenu")||{},o=t(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var i=n.$menu.children(),a=n.$selected&&n.$selected.prev().length?n.$selected.prev():i.last(),s=a;a.hasClass(o.classNames.disabled)||a.hasClass(o.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():i.last()).is(s))return;n.$selected&&l.itemMouseleave.call(n.$selected.get(0),e),l.itemMouseenter.call(a.get(0),e);var u=a.find("input, textarea, select");u.length&&u.focus()},nextItem:function(e){e.stopPropagation();var n=t(this).data("contextMenu")||{},o=t(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var i=n.$menu.children(),a=n.$selected&&n.$selected.next().length?n.$selected.next():i.first(),s=a;a.hasClass(o.classNames.disabled)||a.hasClass(o.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():i.first()).is(s))return;n.$selected&&l.itemMouseleave.call(n.$selected.get(0),e),l.itemMouseenter.call(a.get(0),e);var u=a.find("input, textarea, select");u.length&&u.focus()},focusInput:function(){var e=t(this).closest(".context-menu-item"),n=e.data(),o=n.contextMenu,r=n.contextMenuRoot;r.$selected=o.$selected=e,r.isInput=o.isInput=!0},blurInput:function(){var e=t(this).closest(".context-menu-item"),n=e.data(),o=n.contextMenu,r=n.contextMenuRoot;r.isInput=o.isInput=!1},menuMouseenter:function(){var e=t(this).data().contextMenuRoot;e.hovering=!0},menuMouseleave:function(e){var n=t(this).data().contextMenuRoot;n.$layer&&n.$layer.is(e.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(e){var n=t(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;i.hovering=!0,e&&i.$layer&&i.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(r.$menu?r:i).$menu.children("."+i.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),n.hasClass(i.classNames.disabled)||n.hasClass(i.classNames.notSelectable)?r.$selected=null:n.trigger("contextmenu:focus")},itemMouseleave:function(e){var n=t(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;if(i!==r&&i.$layer&&i.$layer.is(e.relatedTarget))return void 0!==i.$selected&&null!==i.$selected&&i.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(i.$selected=r.$selected=r.$node);r&&r.$menu&&r.$menu.hasClass("context-menu-visible")||n.trigger("contextmenu:blur")},itemClick:function(e){var n,o=t(this),r=o.data(),i=r.contextMenu,a=r.contextMenuRoot,s=r.contextMenuKey;if(!(!i.items[s]||o.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||o.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(e.preventDefault(),e.stopImmediatePropagation(),t.isFunction(i.callbacks[s])&&Object.prototype.hasOwnProperty.call(i.callbacks,s))n=i.callbacks[s];else{if(!t.isFunction(a.callback))return;n=a.callback}!1!==n.call(a.$trigger,s,a,e)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&f.update.call(a.$trigger,a)}},inputClick:function(t){t.stopImmediatePropagation()},hideMenu:function(e,n){var o=t(this).data("contextMenuRoot");f.hide.call(o.$trigger,o,n&&n.force)},focusItem:function(e){e.stopPropagation();var n=t(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;n.hasClass(i.classNames.disabled)||n.hasClass(i.classNames.notSelectable)||(n.addClass([i.classNames.hover,i.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(i.classNames.visible).filter("."+i.classNames.hover).trigger("contextmenu:blur"),r.$selected=i.$selected=n,r&&r.$node&&r.$node.hasClass("context-menu-submenu")&&r.$node.addClass(i.classNames.hover),r.$node&&i.positionSubmenu.call(r.$node,r.$menu))},blurItem:function(e){e.stopPropagation();var n=t(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;r.autoHide&&n.removeClass(i.classNames.visible),n.removeClass(i.classNames.hover),r.$selected=null}},f={show:function(n,o,r){var i=t(this),a={};if(t("#context-menu-layer").trigger("mousedown"),n.$trigger=i,!1!==n.events.show.call(i,n)){var s=f.update.call(i,n);if(!1!==s){if(n.position.call(i,n,o,r),n.zIndex){var u=n.zIndex;"function"==typeof n.zIndex&&(u=n.zIndex.call(i,n)),a.zIndex=function(t){for(var e=0,n=t;e=Math.max(e,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return e}(i)+u}f.layer.call(n.$menu,n,a.zIndex),n.$menu.find("ul").css("zIndex",a.zIndex+1),n.$menu.css(a)[n.animation.show](n.animation.duration,function(){i.trigger("contextmenu:visible"),f.activated(n),n.events.activated(n)}),i.data("contextMenu",n).addClass("context-menu-active"),t(document).off("keydown.contextMenu").on("keydown.contextMenu",l.key),n.autoHide&&t(document).on("mousemove.contextMenuAutoHide",function(t){var e=i.offset();e.right=e.left+i.outerWidth(),e.bottom=e.top+i.outerHeight(),!n.$layer||n.hovering||t.pageX>=e.left&&t.pageX<=e.right&&t.pageY>=e.top&&t.pageY<=e.bottom||setTimeout(function(){n.hovering||null===n.$menu||void 0===n.$menu||n.$menu.trigger("contextmenu:hide")},50)})}else e=null}else e=null},hide:function(n,o){var r=t(this);if(n||(n=r.data("contextMenu")||{}),o||!n.events||!1!==n.events.hide.call(r,n)){if(r.removeData("contextMenu").removeClass("context-menu-active"),n.$layer){setTimeout(function(t){return function(){t.remove()}}(n.$layer),10);try{delete n.$layer}catch(t){n.$layer=null}}e=null,n.$menu.find("."+n.classNames.hover).trigger("contextmenu:blur"),n.$selected=null,n.$menu.find("."+n.classNames.visible).removeClass(n.classNames.visible),t(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),n.$menu&&n.$menu[n.animation.hide](n.animation.duration,function(){n.build&&(n.$menu.remove(),t.each(n,function(t){switch(t){case"ns":case"selector":case"build":case"trigger":return!0;default:n[t]=void 0;try{delete n[t]}catch(t){}return!0}})),setTimeout(function(){r.trigger("contextmenu:hidden")},10)})}},create:function(e,n){function o(e){var n=t("<span></span>");if(e._accesskey)e._beforeAccesskey&&n.append(document.createTextNode(e._beforeAccesskey)),t("<span></span>").addClass("context-menu-accesskey").text(e._accesskey).appendTo(n),e._afterAccesskey&&n.append(document.createTextNode(e._afterAccesskey));else if(e.isHtmlName){if(void 0!==e.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(e.name)}else n.text(e.name);return n}void 0===n&&(n=e),e.$menu=t('<ul class="context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:n}),t.each(["callbacks","commands","inputs"],function(t,o){e[o]={},n[o]||(n[o]={})}),n.accesskeys||(n.accesskeys={}),t.each(e.items,function(r,i){var a=t('<li class="context-menu-item"></li>').addClass(i.className||""),u=null,c=null;if(a.on("click",t.noop),"string"!=typeof i&&"cm_separator"!==i.type||(i={type:"cm_seperator"}),i.$node=a.data({contextMenu:e,contextMenuRoot:n,contextMenuKey:r}),void 0!==i.accesskey)for(var p,d=function(t){for(var e,n=t.split(/\s+/),o=[],r=0;e=n[r];r++)e=e.charAt(0).toUpperCase(),o.push(e);return o}(i.accesskey),h=0;p=d[h];h++)if(!n.accesskeys[p]){n.accesskeys[p]=i;var g=i.name.match(new RegExp("^(.*?)("+p+")(.*)$","i"));g&&(i._beforeAccesskey=g[1],i._accesskey=g[2],i._afterAccesskey=g[3]);break}if(i.type&&s[i.type])s[i.type].call(a,i,e,n),t.each([e,n],function(n,o){o.commands[r]=i,!t.isFunction(i.callback)||void 0!==o.callbacks[r]&&void 0!==e.type||(o.callbacks[r]=i.callback)});else{switch("cm_seperator"===i.type?a.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===i.type?a.addClass("context-menu-html "+n.classNames.notSelectable):"sub"!==i.type&&i.type?(u=t("<label></label>").appendTo(a),o(i).appendTo(u),a.addClass("context-menu-input"),e.hasTypes=!0,t.each([e,n],function(t,e){e.commands[r]=i,e.inputs[r]=i})):i.items&&(i.type="sub"),i.type){case"cm_seperator":break;case"text":c=t('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+r).val(i.value||"").appendTo(u);break;case"textarea":c=t('<textarea name=""></textarea>').attr("name","context-menu-input-"+r).val(i.value||"").appendTo(u),i.height&&c.height(i.height);break;case"checkbox":c=t('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+r).val(i.value||"").prop("checked",!!i.selected).prependTo(u);break;case"radio":c=t('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+i.radio).val(i.value||"").prop("checked",!!i.selected).prependTo(u);break;case"select":c=t('<select name=""></select>').attr("name","context-menu-input-"+r).appendTo(u),i.options&&(t.each(i.options,function(e,n){t("<option></option>").val(e).text(n).appendTo(c)}),c.val(i.selected));break;case"sub":o(i).appendTo(a),i.appendTo=i.$node,a.data("contextMenu",i).addClass("context-menu-submenu"),i.callback=null,"function"==typeof i.items.then?f.processPromises(i,n,i.items):f.create(i,n);break;case"html":t(i.html).appendTo(a);break;default:t.each([e,n],function(n,o){o.commands[r]=i,!t.isFunction(i.callback)||void 0!==o.callbacks[r]&&void 0!==e.type||(o.callbacks[r]=i.callback)}),o(i).appendTo(a)}i.type&&"sub"!==i.type&&"html"!==i.type&&"cm_seperator"!==i.type&&(c.on("focus",l.focusInput).on("blur",l.blurInput),i.events&&c.on(i.events,e)),i.icon&&(t.isFunction(i.icon)?i._icon=i.icon.call(this,this,a,r,i):"string"!=typeof i.icon||"fab "!==i.icon.substring(0,4)&&"fas "!==i.icon.substring(0,4)&&"far "!==i.icon.substring(0,4)&&"fal "!==i.icon.substring(0,4)?"string"==typeof i.icon&&"fa-"===i.icon.substring(0,3)?i._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+i.icon:i._icon=n.classNames.icon+" "+n.classNames.icon+"-"+i.icon:(a.addClass(n.classNames.icon+" "+n.classNames.icon+"--fa5"),i._icon=t('<i class="'+i.icon+'"></i>')),"string"==typeof i._icon?a.addClass(i._icon):a.prepend(i._icon))}i.$input=c,i.$label=u,a.appendTo(e.$menu),!e.hasTypes&&t.support.eventSelectstart&&a.on("selectstart.disableTextSelect",l.abortevent)}),e.$node||e.$menu.css("display","none").addClass("context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(e,n){var o;e.css({position:"absolute",display:"block"}),e.data("width",(o=e.get(0)).getBoundingClientRect?Math.ceil(o.getBoundingClientRect().width):e.outerWidth()+1),e.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),e.find("> li > ul").each(function(){f.resize(t(this),!0)}),n||e.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return t(this).data("width")})},update:function(e,n){var o=this;void 0===n&&(n=e,f.resize(e.$menu));var r=!1;return e.$menu.children().each(function(){var i,a=t(this),s=a.data("contextMenuKey"),u=e.items[s],c=t.isFunction(u.disabled)&&u.disabled.call(o,s,n)||!0===u.disabled;if((i=t.isFunction(u.visible)?u.visible.call(o,s,n):void 0===u.visible||!0===u.visible)&&(r=!0),a[i?"show":"hide"](),a[c?"addClass":"removeClass"](n.classNames.disabled),t.isFunction(u.icon)){a.removeClass(u._icon);var l=u.icon.call(this,o,a,s,u);"string"==typeof l?a.addClass(l):a.prepend(l)}if(u.type)switch(a.find("input, select, textarea").prop("disabled",c),u.type){case"text":case"textarea":u.$input.val(u.value||"");break;case"checkbox":case"radio":u.$input.val(u.value||"").prop("checked",!!u.selected);break;case"select":u.$input.val((0===u.selected?"0":u.selected)||"")}if(u.$menu){var p=f.update.call(o,u,n);p&&(r=!0)}}),r},layer:function(e,n){var r=e.$layer=t('<div id="context-menu-layer"></div>').css({height:o.height(),width:o.width(),display:"block",position:"fixed","z-index":n,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",e).insertBefore(this).on("contextmenu",l.abortevent).on("mousedown",l.layerClick);return void 0===document.body.style.maxWidth&&r.css({position:"absolute",height:t(document).height()}),r},processPromises:function(t,e,n){function o(t,e,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),r(t,e,n)}function r(t,e,n){void 0!==e.$menu&&e.$menu.is(":visible")&&(t.$node.removeClass(e.classNames.iconLoadingClass),t.items=n,f.create(t,e,!0),f.update(t,e),e.positionSubmenu.call(t.$node,t.$menu))}t.$node.addClass(e.classNames.iconLoadingClass),n.then(function(t,e,n){void 0===n&&o(void 0),r(t,e,n)}.bind(this,t,e),o.bind(this,t,e))},activated:function(e){var n=e.$menu,o=n.offset(),r=t(window).height(),i=t(window).scrollTop(),a=n.height();a>r?n.css({height:r+"px","overflow-x":"hidden","overflow-y":"auto",top:i+"px"}):(o.top<i||o.top+a>i+r)&&n.css({top:i+"px"})}};function p(e){return e.id&&t('label[for="'+e.id+'"]').val()||e.name}t.fn.contextMenu=function(e){var n=this,o=e;if(this.length>0)if(void 0===e)this.first().trigger("contextmenu");else if(void 0!==e.x&&void 0!==e.y)this.first().trigger(t.Event("contextmenu",{pageX:e.x,pageY:e.y,mouseButton:e.button}));else if("hide"===e){var r=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;r&&r.trigger("contextmenu:hide")}else"destroy"===e?t.contextMenu("destroy",{context:this}):t.isPlainObject(e)?(e.context=this,t.contextMenu("create",e)):e?this.removeClass("context-menu-disabled"):e||this.addClass("context-menu-disabled");else t.each(a,function(){this.selector===n.selector&&(o.data=this,t.extend(o.data,{trigger:"demand"}))}),l.contextmenu.call(o.target,o);return this},t.contextMenu=function(e,o){"string"!=typeof e&&(o=e,e="create"),"string"==typeof o?o={selector:o}:void 0===o&&(o={});var s=t.extend(!0,{},u,o||{}),c=t(document),p=c,d=!1;switch(s.context&&s.context.length?(p=t(s.context).first(),s.context=p.get(0),d=!t(s.context).is(document)):s.context=document,e){case"update":if(d)f.update(p);else for(var h in a)a.hasOwnProperty(h)&&f.update(a[h]);break;case"create":if(!s.selector)throw new Error("No selector specified");if(s.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+s.selector+'" as it contains a reserved className');if(!s.build&&(!s.items||t.isEmptyObject(s.items)))throw new Error("No Items specified");if(r++,s.ns=".contextMenu"+r,d||(i[s.selector]=s.ns),a[s.ns]=s,s.trigger||(s.trigger="right"),!n){var g="click"===s.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",m={"contextmenu:focus.contextMenu":l.focusItem,"contextmenu:blur.contextMenu":l.blurItem,"contextmenu.contextMenu":l.abortevent,"mouseenter.contextMenu":l.itemMouseenter,"mouseleave.contextMenu":l.itemMouseleave};m[g]=l.itemClick,c.on({"contextmenu:hide.contextMenu":l.hideMenu,"prevcommand.contextMenu":l.prevItem,"nextcommand.contextMenu":l.nextItem,"contextmenu.contextMenu":l.abortevent,"mouseenter.contextMenu":l.menuMouseenter,"mouseleave.contextMenu":l.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",l.inputClick).on(m,".context-menu-item"),n=!0}switch(p.on("contextmenu"+s.ns,s.selector,s,l.contextmenu),d&&p.on("remove"+s.ns,function(){t(this).contextMenu("destroy")}),s.trigger){case"hover":p.on("mouseenter"+s.ns,s.selector,s,l.mouseenter).on("mouseleave"+s.ns,s.selector,s,l.mouseleave);break;case"left":p.on("click"+s.ns,s.selector,s,l.click);break;case"touchstart":p.on("touchstart"+s.ns,s.selector,s,l.click)}s.build||f.create(s);break;case"destroy":var y;if(d){var v=s.context;t.each(a,function(e,n){if(!n)return!0;if(!t(v).is(n.selector))return!0;(y=t(".context-menu-list").filter(":visible")).length&&y.data().contextMenuRoot.$trigger.is(t(n.context).find(n.selector))&&y.trigger("contextmenu:hide",{force:!0});try{a[n.ns].$menu&&a[n.ns].$menu.remove(),delete a[n.ns]}catch(t){a[n.ns]=null}return t(n.context).off(n.ns),!0})}else if(s.selector){if(i[s.selector]){(y=t(".context-menu-list").filter(":visible")).length&&y.data().contextMenuRoot.$trigger.is(s.selector)&&y.trigger("contextmenu:hide",{force:!0});try{a[i[s.selector]].$menu&&a[i[s.selector]].$menu.remove(),delete a[i[s.selector]]}catch(t){a[i[s.selector]]=null}c.off(i[s.selector])}}else c.off(".contextMenu .contextMenuAutoHide"),t.each(a,function(e,n){t(n.context).off(n.ns)}),i={},a={},r=0,n=!1,t("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!t.support.htmlCommand&&!t.support.htmlMenuitem||"boolean"==typeof o&&o)&&t('menu[type="context"]').each(function(){this.id&&t.contextMenu({selector:"[contextmenu="+this.id+"]",items:t.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+e+'"')}return this},t.contextMenu.setInputValues=function(e,n){void 0===n&&(n={}),t.each(e.inputs,function(t,e){switch(e.type){case"text":case"textarea":e.value=n[t]||"";break;case"checkbox":e.selected=!!n[t];break;case"radio":e.selected=(n[e.radio]||"")===e.value;break;case"select":e.selected=n[t]||""}})},t.contextMenu.getInputValues=function(e,n){return void 0===n&&(n={}),t.each(e.inputs,function(t,e){switch(e.type){case"text":case"textarea":case"select":n[t]=e.$input.val();break;case"checkbox":n[t]=e.$input.prop("checked");break;case"radio":e.$input.prop("checked")&&(n[e.radio]=e.value)}}),n},t.contextMenu.fromMenu=function(e){var n=t(e),o={};return function e(n,o,r){return r||(r=0),o.each(function(){var o,i,a=t(this),s=this,u=this.nodeName.toLowerCase();switch("label"===u&&a.find("input, textarea, select").length&&(o=a.text(),a=a.children().first(),s=a.get(0),u=s.nodeName.toLowerCase()),u){case"menu":i={name:a.attr("label"),items:{}},r=e(i.items,a.children(),r);break;case"a":case"button":i={name:a.text(),disabled:!!a.attr("disabled"),callback:function(){a.get(0).click()}};break;case"menuitem":case"command":switch(a.attr("type")){case void 0:case"command":case"menuitem":i={name:a.attr("label"),disabled:!!a.attr("disabled"),icon:a.attr("icon"),callback:function(){a.get(0).click()}};break;case"checkbox":i={type:"checkbox",disabled:!!a.attr("disabled"),name:a.attr("label"),selected:!!a.attr("checked")};break;case"radio":i={type:"radio",disabled:!!a.attr("disabled"),name:a.attr("label"),radio:a.attr("radiogroup"),value:a.attr("id"),selected:!!a.attr("checked")};break;default:i=void 0}break;case"hr":i="-------";break;case"input":switch(a.attr("type")){case"text":i={type:"text",name:o||p(s),disabled:!!a.attr("disabled"),value:a.val()};break;case"checkbox":i={type:"checkbox",name:o||p(s),disabled:!!a.attr("disabled"),selected:!!a.attr("checked")};break;case"radio":i={type:"radio",name:o||p(s),disabled:!!a.attr("disabled"),radio:!!a.attr("name"),value:a.val(),selected:!!a.attr("checked")};break;default:i=void 0}break;case"select":i={type:"select",name:o||p(s),disabled:!!a.attr("disabled"),selected:a.val(),options:{}},a.children().each(function(){i.options[this.value]=t(this).text()});break;case"textarea":i={type:"textarea",name:o||p(s),disabled:!!a.attr("disabled"),value:a.val()};break;case"label":break;default:i={type:"html",html:a.clone(!0)}}i&&(n["key"+ ++r]=i)}),r}(o,n.children()),o},t.contextMenu.defaults=u,t.contextMenu.types=s,t.contextMenu.handle=l,t.contextMenu.op=f,t.contextMenu.menus=a})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vendors=e.SeniorComponentFactory=e.PDFViewCtrl=e.toolkit=e.controllers=e.UIConsts=e.widgets=e.getDevicePagePoint=e.appearances=e.TemplateParser=e.TextMarkupStateHandler=e.StatefulController=e.UIXAddon=e.Localizer=e.ContainerComponent=e.Directive=e.Controller=e.Component=e.modular=e.UIEvents=e.PDFUI=void 0;var o=n(393);Object.defineProperty(e,"PDFUI",{enumerable:!0,get:function(){return x(o).default}});var r=n(9);Object.defineProperty(e,"UIEvents",{enumerable:!0,get:function(){return x(r).default}});var i=n(7);Object.defineProperty(e,"modular",{enumerable:!0,get:function(){return x(i).default}});var a=n(16);Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return x(a).default}});var s=n(4);Object.defineProperty(e,"Controller",{enumerable:!0,get:function(){return x(s).default}});var u=n(10);Object.defineProperty(e,"Directive",{enumerable:!0,get:function(){return x(u).default}});var c=n(18);Object.defineProperty(e,"ContainerComponent",{enumerable:!0,get:function(){return x(c).default}});var l=n(117);Object.defineProperty(e,"Localizer",{enumerable:!0,get:function(){return x(l).default}});var f=n(139);Object.defineProperty(e,"UIXAddon",{enumerable:!0,get:function(){return x(f).default}});var p=n(14);Object.defineProperty(e,"StatefulController",{enumerable:!0,get:function(){return x(p).default}});var d=n(107);Object.defineProperty(e,"TextMarkupStateHandler",{enumerable:!0,get:function(){return x(d).default}});var h=n(308);Object.defineProperty(e,"TemplateParser",{enumerable:!0,get:function(){return x(h).default}});var g=n(458);Object.defineProperty(e,"appearances",{enumerable:!0,get:function(){return x(g).default}});var m=n(36);Object.defineProperty(e,"getDevicePagePoint",{enumerable:!0,get:function(){return x(m).default}});var y=E(n(62)),v=E(n(247));n(438);var b=E(n(5)),w=E(n(435)),A=E(n(434)),_=E(n(23)),P=x(n(61)),O=E(n(246));function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}Object.assign(y,v),e.widgets=y,e.UIConsts=b,e.controllers=w,e.toolkit=A,e.PDFViewCtrl=_,e.SeniorComponentFactory=P.default,e.vendors=O,window.PDFViewCtrl=_},function(t,e,n){var o=n(57),r=n(24)("toStringTag"),i="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:i?o(e):"Object"==(a=o(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(57);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(71)),r=u(n(137)),i=u(n(462)),a=u(n(138)),s=u(n(136));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return a.tpmLoader=new i.default,a}return c(e,t),e.depends=function(){return[r.default,a.default,s.default]},e.prototype.link=function(t,e,n){var o=t.i18n,r=this,i=e.fragments,a=e.appearance,s=this.$options.addons.map(function(t){return r.tpmLoader.loadModule(t,n)}),u=this.pdfUI;return this.pdfUI.UIXAddonsPromise=Promise.all(s).then(function(t){var e={};function n(t){var r=t.getName();if(e[r])return e[r];var s=t.depends,c=void 0;return c=s&&s.length>0?Promise.all(s.map(function(t){return n(t)})):Promise.resolve(),e[r]=c.then(function(){return function(t){var e=new t;e.init(u),a.processAddon(e);var n=e.getI18NResources();for(var r in n)o.addResourceBundle(r,t.getI18NNamespace(),n[r],!0,!0);return i.push.apply(i,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e.fragments())),e}(t)})}return Promise.all(t.map(function(t){return n(t)}))})},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(71)),r=n(129);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.prototype.construct=function(t,e){var n=e.viewerOptions,o=n?n.libPath:void 0;if(o)if((0,r.isUrl)(o))o=o;else{var i=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");o=location.protocol+"//"+location.host+(0,r.resolvePath)(i,o)}else o=(0,r.getCurrentPath)();return"/"!==o[o.length-1]&&(o+="/"),t.libPath=o},e.prototype.link=function(){return this.pdfUI.libPath},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(71)),r=n(129),i=u(n(117)),a=u(n(136)),s=u(n(465));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return c(e,t),e.depends=function(){return[a.default]},e.prototype.construct=function(t,e,n){var o=e.i18n||{},r=this.i18nPath=this._prepareI18nPath(o,n);this.i18n=this._createI18nInstance(o,r)},e.prototype.link=function(){return this._prepareI18n()},e.prototype._prepareI18nPath=function(t,e){var n=t.path;return n=n?(0,r.isUrl)(n)?n:(0,r.urlJoin)(e,n):e+"locales"},e.prototype._createI18nInstance=function(t,e){var n=Object.assign({defaultNS:"ui_",ns:"ui_",fallbackLng:"en-US",absolutePath:e},t),o=new s.default(n),r=this.pdfUI;return r.currentLanguage=Array.isArray(n.fallbackLng)?n.fallbackLng[0]:n.fallbackLng,r.i18n=o,o},e.prototype._prepareI18n=function(){var t=this.i18n,e=this.pdfUI;return e.i18nPromise=new Promise(function(e,n){t.on("loaded",function(n){e(t)}),t.on("failLoading",function(e,o,r){n(t)})}),e.localizer=new i.default(t),{localizer:e.localizer,i18n:t}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(71)),r=a(n(188)),i=a(n(137));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.depends=function(){return[i.default]},e.prototype.link=function(t){var e=t.localizer,n=this.$options,o=n.appearance,i=n.defaultFragments,a=void 0===i?[]:i,s=n.fragments,u=void 0===s?[]:s,c=n.template,l=n.templateParser,f=new o(this.pdfUI);a=a||f.getDefaultFragments(),Array.isArray(u)&&(a=a.concat(u));var p=l||f.getTemplateParser();this.pdfUI.templateParser=p,this.pdfUI.appearance=f;var d=new r.default(e,this.pdfUI,p);return{appearance:f,fragments:a,template:c||f.getLayoutTemplate(),parser:d}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(41)),r=i(n(469));function i(t){return t&&t.__esModule?t:{default:t}}var a=i(n(6)).default.getLogger("UIXAddon"),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clazz=this.constructor}return t.getName=function(){(0,o.default)()},t.getLoader=function(){var t={ns:this.getName()};return{loadI18N:function(){return Promise.resolve({})},loadAddonInfo:function(){return Promise.resolve(t)}}},t.load=function(t,e){var n=this,o=e.library||this.name;window[o]||(o in window?a.warn("The addon's variable name '"+o+"' is allready exists globally!",this):window[o]=this),this.addonInfo=e;var i=(this.getLoader()||new r.default(t)).loadI18N(e).then(function(t){n.i18nInfo=t});return Promise.all([i])},t.getI18NNamespace=function(){return this.i18nInfo.ns||this.getName()},t.prototype.init=function(t){},t.prototype.fragments=function(){return[]},t.prototype.getI18NResources=function(){return this.clazz.i18nInfo.sources},t.prototype.beforeMounted=function(t){},t.prototype.pdfViewerCreated=function(t){},t.prototype.afterMounted=function(t){},t.prototype.destroy=function(){},t}();e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"ZoomActionController"},e.prototype.handle=function(){var t=this.component.action;isNaN(+t)?this.getPDFUI().zoomTo(t):this.getPDFUI().zoomTo(+t)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(6));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=Promise.resolve(),u=r.default.getLogger("ZoomInOrOut"),c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call.apply(t,[this].concat(o)));return i.lastOperation=s,i}return a(e,t),e.getName=function(){return"ZoomInAndOutController"},e.prototype.handle=function(){var t=this,e=this.getPDFUI(),n=e.customScalingValues;(this.lastOperation=this.lastOperation.finally(function(o){return e.getPDFViewerRender().then(function(o){return o.getScaleRatio().then(function(o){var r=t.findClosingNumber(n,o),i=n.indexOf(r);switch(t.component.action){case"zoomin":i++;break;case"zoomout":i--;break;default:return}return i=Math.max(0,Math.min(n.length-1,i)),e.zoomTo(n[i])})})})).catch(function(t){u.error("An error occurred",t)})},e.prototype.findClosingNumber=function(t,e){return t.reduce(function(t,n){return Math.abs(e-n)<Math.abs(e-t)?n:t},t[0])},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.viewModeName=o,r}return a(e,t),e.getName=function(){return"ViewModeController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.getPDFUI().addViewerEventListener(r.default.startChangeViewMode,function(t,n){t.getName()===e.viewModeName?e.component.active():e.component.deactive()})},e.prototype.handle=function(){var t=this;this.getPDFUI().getViewModeManager().then(function(e){e.switchTo(t.viewModeName)})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundingPoint=function(t,e,n){var o=t.getBoundingClientRect();return[e-o.left,n-o.top]},e.deltaDeviceRect=function(t,e,n){var o=t[0],r=t[1],i=o+e,a=r+n,s=void 0;i<o&&(s=o,o=i,i=s);a<r&&(s=r,r=a,a=s);return{left:o,right:i,top:r,bottom:a}},e.appendSelectMark=function(t,e){a(t);for(var n=(0,o.default)(document.createDocumentFragment()),i=0,s=e.length;i<s;i++){var u=e[i],c=["top:"+u.top+"px","left:"+u.left+"px","width:"+(u.right-u.left)+"px","height:"+(u.bottom-u.top)+"px"].join(";");n.append('<mark class="'+r+'" style="'+c+'"></mark>')}t.append(n)},e.removeSelectMark=a;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(1));var r="fv__mark-selection-blank",i="."+r;function a(t){t.find(i).remove()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(830)),r=n(5);var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.depends=n||[],this.registry=new o.default(this)}return t.prototype.registerFragment=function(t,e){this.registry.registerFragment(t,e)},t.prototype.getFragment=function(t){return this.registry.getFragment(t)},t.prototype.getComponentClass=function(t){return this.registry.getComponentClass(t)},t.prototype.getLayoutClass=function(t){return this.registry.getLayoutClass(t)},t.prototype.getDirectiveClass=function(t){return this.registry.getDirectiveClass(t)},t.prototype.getControllerClass=function(t){return this.registry.getControllerClass(t)},t.prototype.registerComponent=function(t){return this.registry.registerComponent(t)},t.prototype.registerController=function(t){return this.registry.registerController(t)},t.prototype.getRegistry=function(){return this.registry},t.prototype.resolveName=function(t){return this.name===r.ROOT_MODULE_NAME||this.name.length<1?t:""+this.name+r.NAMESPACE_SEPERATOR+t},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(19)),r=n(33);var i=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.page=n,this.engine=o,this.info=e}return t.prototype.getId=function(){return this.info.id},t.prototype.getPDFPage=function(){return this.page},t.prototype.getBitmap=function(t){var e=this.getPDFPage();return e.api.getGraphicsObjectBitmap(e.getPDFDoc().getId(),e.getId(),this.getId(),t*r.ptPxRatio)},t.prototype.getRect=function(){return this.info.rect},t.prototype.setMatrix=function(t){var e=this,n=this.getPDFPage();return this.info.rect=t,n.api.setGraphicsObjectMatrix(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(o.default.graphicsUpdated,n)})},t.prototype.getType=function(){return this.info.type},t.prototype.getBorderDashes=function(){return this.info.graphState.dashes},t.prototype.getBorderStyle=function(){return this.info.graphState.dashes.length>0?1:0},t.prototype.setBorderStyle=function(t,e){var n=this,r=this.getPDFPage();return this.info.graphState.dashes=e,r.api.setGraphicsObjectBorderStyle(r.getPDFDoc().getId(),r.getId(),this.getId(),t,e).then(function(t){n.info=t,n.engine.eventEmitter.emit(o.default.graphicsUpdated,r)})},t.prototype.getBorderWidth=function(){return this.info.graphState.lineWidth},t.prototype.setBorderWidth=function(t){var e=this,n=this.getPDFPage();return this.info.graphState.lineWidth=t,n.api.setGraphicsObjectBorderWidth(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(o.default.graphicsUpdated,n)})},t.prototype.getBorderColor=function(){return this.info.strokeColor},t.prototype.setBorderColor=function(t){var e=this,n=this.getPDFPage();return this.info.strokeColor=t,n.api.setGraphicsObjectBorderColor(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.engine.eventEmitter.emit(o.default.graphicsUpdated,n)})},t.prototype.getFillColor=function(){return this.info.fillColor},t.prototype.setFillColor=function(t){var e=this,n=this.getPDFPage();return this.info.fillColor=t,n.api.setGraphicsObjectFillColor(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.engine.eventEmitter.emit(o.default.graphicsUpdated,n)})},t.prototype.getOpacity=function(){return((4278190080&this.info.strokeColor)>>>0)/4278190080},t.prototype.setOpacity=function(t){var e=this,n=parseInt(255*t)<<24>>>0;this.info.strokeColor=16777215&this.info.strokeColor|n;var r=this.getPDFPage();return r.api.setGraphicsObjectOpacity(r.getPDFDoc().getId(),r.getId(),this.getId(),t).then(function(t){e.engine.eventEmitter.emit(o.default.graphicsUpdated,r)})},t.prototype.remove=function(){var t=this,e=this.getPDFPage();return e.api.removeGraphicsObject(e.getPDFDoc().getId(),e.getId(),this.getId()).then(function(n){t.engine.eventEmitter.emit(o.default.graphicsUpdated,e)})},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e instanceof t){var s=e;e=s.a,n=s.b,o=s.c,r=s.d,i=s.e,a=s.f}else if(e instanceof Array){var u=e;e=u[0],n=u[1],o=u[2],r=u[3],i=u[4],a=u[5]}this.a=e,this.b=n,this.c=o,this.d=r,this.e=i,this.f=a}return t.Concat2mt=function(e,n){return new t(e.a*n.a+e.b*n.c,e.a*n.b+e.b*n.d,e.c*n.a+e.d*n.c,e.c*n.b+e.d*n.d,e.e*n.a+e.f*n.c+n.e,e.e*n.b+e.f*n.d+n.f)},t.prototype.set=function(t,e,n,o,r,i){this.a=t,this.b=e,this.c=n,this.d=o,this.e=r,this.f=i},t.prototype.reset=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0},t.prototype.reverse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=e.a*e.d-e.b*e.c;if(0==n)return e;var o=-n;return new t(e.d/n,e.b/o,e.c/o,e.a/n,(e.c*e.f-e.d*e.e)/n,(e.a*e.f-e.b*e.e)/o)},t.prototype.setReverse=function(t){var e=this.reverse(t);this.set(e.a,e.b,e.c,e.d,e.e,e.f)},t.prototype.rotate=function(e,n){var o=Math.cos(e),r=Math.sin(e),i=new t(o,r,-r,o,0,0),a=void 0;a=n?t.Concat2mt(i,this):t.Concat2mt(this,i),this.set(a.a,a.b,a.c,a.d,a.e,a.f)},t.prototype.rotateAt=function(t,e,n,o){this.translate(t,e,o),this.rotate(n,o),this.translate(-t,-e,o)},t.prototype.translate=function(t,e,n){n?(this.e+=t*this.a+e*this.c,this.f+=e*this.d+t*this.b):(this.e+=t,this.f+=e)},t.prototype.concat=function(e,n,o,r,i,a,s){var u=void 0;e instanceof t?(u=e,s=n):u=new t(e,n,o,r,i,a);var c=void 0;c=s?t.Concat2mt(u,this):t.Concat2mt(this,u),this.set(c.a,c.b,c.c,c.d,c.e,c.f)},t.prototype.is90Rotated=function(){var t=1e3*this.a;t<0&&(t*=-1);var e=1e3*this.d;e<0&&(e*=-1);var n=this.b;n<0&&(n*=-1);var o=this.c;return o<0&&(o*=-1),t<n&&e<o},t.prototype.isScaled=function(){var t=1e3*this.b;t<0&&(t*=-1);var e=1e3*this.c;e<0&&(e*=-1);var n=this.a;n<0&&(n*=-1);var o=this.d;return o<0&&(o*=-1),t<n&&e<o},t.prototype.getA=function(){return this.a},t.prototype.getB=function(){return this.b},t.prototype.getC=function(){return this.c},t.prototype.getD=function(){return this.d},t.prototype.getE=function(){return this.e},t.prototype.getF=function(){return this.f},t.prototype.scale=function(t,e,n){this.a*=t,this.d*=e,n?(this.b*=t,this.c*=e):(this.b*=e,this.c*=t,this.e*=t,this.f*=e)},t.prototype.transformXDistance=function(t){var e=this.a*t,n=this.b*t;return Math.sqrt(e*e+n*n)},t.prototype.transformYDistance=function(t){var e=this.c*t,n=this.d*t;return Math.sqrt(e*e+n*n)},t.prototype.transformDistance=function(t,e){var n=this.a*t+this.c*e,o=this.b*t+this.d*e;return Math.sqrt(n*n+o*o)},t.prototype.transformPoint=function(t,e){return[this.a*t+this.c*e+this.e,this.b*t+this.d*e+this.f]},t.prototype.transformRect=function(t,e,n,o){for(var r=[t,t,n,n],i=[e,o,e,o],a=void 0,s=0;s<4;s++)a=this.transformPoint(r[s],i[s]),r[s]=a[0],i[s]=a[1];for(var u=[r[0],r[0],i[0],i[0]],c=1;c<4;c++)u[0]>r[c]&&(u[0]=r[c]),u[1]<r[c]&&(u[1]=r[c]),u[2]>i[c]&&(u[2]=i[c]),u[3]<i[c]&&(u[3]=i[c]);return[u[0],u[2],u[1],u[3]]},t.prototype.getXUnit=function(){var t=this.a,e=this.b;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(t*t+e*e)},t.prototype.getYUnit=function(){var t=this.c,e=this.d;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(t*t+e*e)},t.prototype.getUnitRect=function(){return this.transformRect(0,0,1,1)},t.prototype.matchRect=function(t,e){var n=e[0]-e[2];this.a=Math.abs(n)<.001?1:(t[0]-t[2])/n,n=e[3]-e[1],this.d=Math.abs(n)<.001?1:(t[3]-t[1])/n,this.e=t[0]-e[0]*this.a,this.f=t[3]-e[3]*this.d,this.b=0,this.c=0},t.prototype.getAngle=function(){return Math.atan2(this.b,this.a)},t}();e.default=o},function(t,e,n){var o=n(344),r=o.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=o:(i(o,e),e.Buffer=a),i(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var o=r(t);return void 0!==e?"string"==typeof n?o.fill(e,n):o.fill(e):o.fill(0),o},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,o,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,o)});case 4:return e.nextTick(function(){t.call(null,n,o,r)});default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick(function(){t.apply(null,i)})}}}:t.exports=e}).call(this,n(111))},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=o.getEvent();if(!e.isSensitiveCheck){var n=e.target.value,r=d(n,t);if(n&&r){var i=p(n,t);i||(i=new Date),e.value=f(t,i),e.rc=!0}else{e.rc=!1;var a=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");alert(a+=' "'+t+'" ')}}},i=function(t,e,n,r,i,a){var s=o.getEvent(),u=e;if((u<0||u>3)&&(u=0),s.value){var c=s.value;if(/^[0-9\.\-]+$/.test(c)){var l=s.change,f=c;if(s.willCommit){var p=f.trimLeft();if(0==p.length)return void(s.rc=!0);var d=p;return d=d.replace(/,/g,"."),/^[0-9\.\-]+$/.test(d)?void(s.rc=!0):void(s.rc=!1)}var h=f,g=l||"",m=(f.substr(s.selStart,s.selEnd-s.selStart),"-"===f[0]);if(m&&0==s.selStart)return s.rc=!1,TRUE;var y=".";switch(u){case 0:case 1:y=".";break;case 2:case 3:y=","}for(var v=-1!=h.indexOf(y),b=0;b<g.length;b++)if(g[b]!=y)if("-"!=g[b]){if(!/[0-9\.]/.test(g[b]))return void(s.rc=!1)}else{if(m)return void(s.rc=!1);if(0!=b)return void(s.rc=!1);if(0!=s.selStart)return void(s.rc=!1);m=!0}else{if(v)return void(s.rc=!1);v=!0}var w=h.substr(0,s.selStart),A=void 0;s.selEnd<h.length&&(A=h.substr(s.selEnd)||""),c=f=h=w+g+A,s.rc=!0}else s.rc=!1}else s.rc=!1};function a(t,e,n,o){var r=".",i=",",a="";switch(n){case 0:break;case 1:i="";break;case 2:r=",",i=".";break;case 3:r=",",i=""}var s=t.length%3;a=t.substr(0,s);for(var u=s;u<t.length;u+=3)0!==a.length&&(a+=i),a+=t.substr(u,3);if(o>0){for(e=e.substring(0,o);e.length<o;)e+="0";a=a+r+e}return a}function s(t){var e=t.toString().split(".",2);return null==e||e.length<2?(e=null,0):e[1].length}var u="January[1]February[2]March[3]April[4]May[5]June[6]July[7]August[8]September[9]October[10]Movember[11]December[12]Jan[1]Feb[2]Mar[3]Apr[4]Jun[6]Jul[7]Aug[8]Sep[9]Oct[10]Mov[11]Dec[12]",c="Sunday[0]Monday[1]Tuesday[2]Wednesday[3]Thursday[4]Friday[5]Saturday[6]";function l(t){var e=new RegExp("(\\w+)\\["+t+"\\]").exec(u);return e?e[1]:null}var f=function(t,e){t=t.replace(/%/g,"%69");var n=[],o=e.getFullYear().toString();return o="0000"+o,t=(t=t.replace(/([^y])y{4}(?!y)|(^)y{4}(?!y)/g,"$1"+o.substr(o.length-4,4))).replace(/([^y])y{2}(?!y)|(^)y{2}(?!y)/g,"$1"+o.substr(o.length-2,2)),o=l(e.getMonth()+1),n["%mmmm"]=o,t=t.replace(/([^m])m{4}(?!m)|(^)m{4}(?!m)/g,"$1%mmmm"),n["%mmm"]=o.substr(0,3),t=(t=t.replace(/([^m])m{3}(?!m)|(^)m{3}(?!m)/g,"$1%mmm")).replace(/([^m])m{1}(?!m)|(^)m{1}(?!m)/g,"$1"+(e.getMonth()+1)),1===(o=(e.getMonth()+1).toString()).length&&(o="0"+o),t=t.replace(/([^m])m{2}(?!m)|(^)m{2}(?!m)/g,"$1"+o),o=function(t){var e=new RegExp("(\\w+)\\["+t+"\\]").exec(c);return e?e[1]:null}(e.getDay()),n["%dddd"]=o,t=t.replace(/([^d])d{4}(?!d)|(^)d{4}(?!d)/g,"$1%dddd"),n["%ddd"]=o.substr(0,3),t=(t=t.replace(/([^d])d{3}(?!d)|(^)d{3}(?!d)/g,"$1%ddd")).replace(/([^d])d{1}(?!d)|(^)d{1}(?!d)/g,"$1"+e.getDate()),1===(o=e.getDate().toString()).length&&(o="0"+o),t=(t=t.replace(/([^d])d{2}(?!d)|(^)d{2}(?!d)/g,"$1"+o)).replace(/([^H])H{1}(?!H)|(^)H{1}(?!H)/g,"$1"+e.getHours()),1===(o=e.getHours().toString()).length&&(o="0"+o),t=(t=t.replace(/([^H])H{2}(?!H)|(^)H{2}(?!H)/g,"$1"+o)).replace(/([^h])h{1}(?!h)|(^)h{1}(?!h)/g,"$1"+(e.getHours()>12?e.getHours()-12:e.getHours())),1===(o=(e.getHours()>12?e.getHours()-12:e.getHours()).toString()).length&&(o="0"+o),t=(t=t.replace(/([^h])h{2}(?!h)|(^)h{2}(?!h)/g,"$1"+o)).replace(/([^M])M{1}(?!M)|(^)M{1}(?!M)/g,"$1"+e.getMinutes()),1===(o=e.getMinutes().toString()).length&&(o="0"+o),t=(t=t.replace(/([^M])M{2}(?!M)|(^)M{2}(?!M)/g,"$1"+o)).replace(/([^s])s{1}(?!s)|(^)s{1}(?!s)/g,"$1"+e.getSeconds()),1===(o=e.getSeconds().toString()).length&&(o="0"+o),t=t.replace(/([^s])s{2}(?!s)|(^)s{2}(?!s)/g,"$1"+o),o=function(t){return t>11?"PM":"AM"}(e.getHours()),t=t.replace(/([^t])t{2}(?!t)|(^)t{2}(?!t)/g,"$1"+o),1===o.length&&(o=o.charAt(0)),t=(t=(t=(t=(t=t.replace(/([^t])t{1}(?!t)|(^)t{1}(?!t)/g,"$1"+o)).replace(/%mmmm/g,n["%mmmm"])).replace(/%mmm/g,n["%mmm"])).replace(/%dddd/g,n["%dddd"])).replace(/%ddd/g,n["%ddd"]),n=null,t=t.replace(/%69/g,"%")},p=function(t,e){return d(t,e)};function d(t,e){var n=function(t,e){var n=new Date,o=n.getFullYear(),r=n.getMonth()+1,i=n.getDate(),a=n.getHours(),s=n.getMinutes(),u=n.getSeconds(),c=!1,f=!1,p=!1,d=0,h=0;for(;d<e.length&&!f;){var y=e.charAt(d);switch(y){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":var v=h,b=0,w=null;if(e.charAt(d+1)!==y)switch(y){case"y":d++,h++;break;case"m":w=g(t,h,2),r=w.nRet,b=w.nSkip,d++,h+=b;break;case"d":w=g(t,h,2),i=w.nRet,b=w.nSkip,d++,h+=b;break;case"H":case"h":w=g(t,h,2),a=w.nRet,b=w.nSkip,d++,h+=b;break;case"M":w=g(t,h,2),s=w.nRet,b=w.nSkip,d++,h+=b;break;case"s":w=g(t,h,2),u=w.nRet,b=w.nSkip,d++,h+=b;break;case"t":c="p"===t.charAt(d),d++,h++}else if(e.charAt(d+1)===y&&e.charAt(d+2)!==y)switch(y){case"y":w=g(t,h,4),o=w.nRet,b=w.nSkip,d+=2,h+=b;break;case"m":w=g(t,h,2),r=w.nRet,b=w.nSkip,d+=2,h+=b;break;case"d":w=g(t,h,2),i=w.nRet,b=w.nSkip,d+=2,h+=b;break;case"H":case"h":w=g(t,h,2),a=w.nRet,b=w.nSkip,d+=2,h+=b;break;case"M":w=g(t,h,2),s=w.nRet,b=w.nSkip,d+=2,h+=b;break;case"s":w=g(t,h,2),u=w.nRet,b=w.nSkip,d+=2,h+=b;break;case"t":c="p"===t.charAt(h)&&"m"===t.charAt(h+1),d+=2,h+=2}else if(e.charAt(d+1)===y&&e.charAt(d+2)===y&&e.charAt(d+3)!==y)switch(y){case"m":w=m(t,h),b=w.nSkip;for(var A=w.swRet,_=!1,P=0;P<12;P++)if(A.toLowerCase()===l(P+1).substr(0,3).toLowerCase()){r=P+1,d+=3,h+=b,_=!0;break}_||(w=g(t,h,3),r=w.nRet,b=w.nSkip,d+=3,h+=b);break;case"y":break;default:d+=3,h+=3}else if(e.charAt(d+1)===y&&e.charAt(d+2)===y&&e.charAt(d+3)===y&&e.charAt(d+4)!==y)switch(y){case"y":w=g(t,h,4),o=w.nRet,b=w.nSkip,h+=b,d+=4;break;case"m":var _=!1;w=m(t,h),b=w.nSkip;var A=w.swRet;A=A.toLowerCase();for(var P=0;P<12;P++){var O=l(P+1);if((O=O.toLowerCase()).indexOf(A,0)>=0){r=P+1,d+=4,h+=b,_=!0;break}}_||(w=g(t,h,4),r=w.nRet,b=w.nSkip,d+=4,h+=b);break;default:d+=4,h+=4}else e.charAt(d)!==t.charAt(h)&&(p=!0,f=!0),d++,h++;v===h&&(p=!0,f=!0);break;default:t.length<=h?f=!0:e.charAt(d)!==t.charAt(h)&&(p=!0,f=!0),d++,h++}}c&&(a+=12);o>=0&&o<=99&&(o+=2e3);(r<1||r>12)&&(p=!0);(i<1||i>31)&&(p=!0);(a<0||a>24)&&(p=!0);(s<0||s>60)&&(p=!0);(u<0||u>60)&&(p=!0);if(!p)return new Date(o,r-1,i,a,s,u);return null}(t,e);return null==n&&(n=function(t){for(var e=new Date,n=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),i=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=[],c=0;c<6;c++)u[c]=0;var l=!1,f=0,p=0,d=t.length;for(;p<d&&!(f>5);){var m=t.charAt(p);if(h(m)){var b=0,w=g(t,p,4);u[f++]=w.nRet,b=w.nSkip,p+=b}else":"===m&&(l=!0),p++}var A=!0;if(l)if(f<=3){var _=v(f,u[0],u[1],u[2],i,a,s);_&&(i=_.h,a=_.M,s=_.s,A=!1)}else if(4===f){var _=y(2,u[0],u[1],0,n,o,r);_&&(n=_.y,o=_.m,r=_.d,(_=v(2,u[2],u[3],0,i,a,s))&&(i=_.h,a=_.M,s=_.s,A=!1))}else if(5===f){var _=y(3,u[0],u[1],u[2],n,o,r);if(_&&(n=_.y,o=_.m,r=_.d,(_=v(2,u[3],u[4],0,i,a,s))&&(i=_.h,a=_.M,s=_.s,A=!1)),A){var _=y(2,u[0],u[1],0,n,o,r);_&&(n=_.y,o=_.m,r=_.d,(_=v(3,u[2],u[3],u[4],i,a,s))&&(i=_.h,a=_.M,s=_.s,A=!1))}}else if(6===f){var _=y(3,u[0],u[1],u[2],n,o,r);_&&(n=_.y,o=_.m,r=_.d,(_=v(3,u[3],u[4],u[5],i,a,s))&&(i=_.h,a=_.M,s=_.s,A=!1))}if(A){var _=y(f,u[0],u[1],u[2],n,o,r);_&&(n=_.y,o=_.m,r=_.d,A=f>3)}if(A)return null;return new Date(n,o-1,r,i,a,s)}(t)),n}function h(t){return t>="0"&&t<="9"}function g(t,e,n){var o=[];o.nRet=0,o.nSkip=0;for(var r=e,i=t.length;r<i&&!(r-e>10);r++){var a=t.charAt(r);if(!h(a))break;if(o.nRet=10*o.nRet+(a-"0"),o.nSkip=r-e+1,o.nSkip>=n)break}return o}function m(t,e){var n=[];n.swRet="",n.nSkip=0;for(var o=e,r=t.length;o<r;o++){var i=t.charAt(o);if(!(i>="a"&&i<="z"||i>="A"&&i<="Z"))break;n.swRet+=i,n.nSkip=o-e+1}return n}function y(t,e,n,o,r,i,a){var s=[];if(s.y=r,s.m=i,s.d=a,2===t){if(e>=1&&e<=12&&n>=1&&n<=31)return s.m=e,s.d=n,s;if(e>=1&&e<=31&&n>=1&&n<=12)return s.m=n,s.d=e,s}else if(t>=3){if(e>12&&n>=1&&n<=12&&o>=1&&o<=31)return s.y=e,s.m=n,s.d=o,s;if(e>=1&&e<=12&&n>=1&&n<=31&&o>31)return s.y=o,s.m=e,s.d=n,s;if(e>=1&&e<=31&&n>=1&&n<=12&&o>31)return s.y=o,s.m=n,s.d=e,s}return null}function v(t,e,n,o,r,i,a){var s=[];if(s.h=r,s.M=i,s.s=a,2===t){if(e>=0&&e<=23&&n>=0&&n<=59)return s.h=e,s.M=n,s.s=0,s}else if(3===t&&e>=0&&e<=23&&n>=0&&n<=59&&o>=0&&o<=59)return s.h=e,s.M=n,s.s=o,s;return null}var b=function(t,e){for(var n="",o=0,r=0;r<e.length;r++)switch(e[r]){case"9":for(;o<t.length;){var i=o;if(o++,t[i]>="0"&&t[i]<="9"){n+=t[i];break}}break;default:n+=e[r]}return n},w=function(t,e){switch(e){case"9":var n=parseInt(t);return 0<=n&&n<=9;case"A":return/[a-zA-Z]/.test(t);case"O":var o=parseInt(t);return 0<=o&&o<=9||/[a-zA-Z]/.test(t);case"X":return TRUE;default:return t===e}},A=function(t){var e=o.getEvent(),n=e.value;if(0!=n.length)if(e.willCommit){for(var r=0,i=0;i<n.length&&w(n[i],t[r]);i++)r++;(r!=t.length||r!=n.length&&t.length>0)&&(e.rc=!1)}else{var a=e.change;if(a&&0!=a.length){e.selStart;var s=void 0;if((s=e.selStart<e.selEnd?n.replace(n.substr(e.selStart,e.selEnd),a):n.substr(0,e.selStart)+a+n.substr(e.selEnd)).length>t.length)e.rc=!1;else{var u=b(s,t);if(!(u.length>t.length))return e.rc=!0,u;e.rc=!1}}else e.rc=!0}else e.rc=!0};e.default={AFSimple_Calculate:function(t,e){var n=o.getEvent();if(!n.isSensitiveCheck){var r="",i=0,a=NaN;switch(t){case"AVG":for(var u=0;u<e.length;u++){var c=parseFloat(o.getFieldValue(e[u]));if(!isNaN(c)){var l=s(c);i=i>l?i:l,isNaN(a)&&(a=0),a+=c}}r=isNaN(a)?"":a/e.length;break;case"SUM":for(var f=0;f<e.length;f++){var p=parseFloat(o.getFieldValue(e[f]));if(!isNaN(p)){var d=s(p);i=i>d?i:d,isNaN(a)&&(a=0),a+=p}}r=isNaN(a)?"0":a;break;case"PRD":for(var h=NaN,g=0;g<e.length;g++){var m=parseFloat(o.getFieldValue(e[g]));if(!isNaN(m)){var y=s(m);i=i>y?i:y,isNaN(h)&&(h=1),h*=m}}r=isNaN(h)?"":h;break;case"MIN":for(var v=NaN,b=0;b<e.length;b++){var w=parseFloat(o.getFieldValue(e[b]));if(!isNaN(w)){var A=s(w);i=i>A?i:A,isNaN(v)&&(v=w),v>w&&(v=w)}}r=isNaN(v)?"":v;break;case"MAX":for(var _=NaN,P=0;P<e.length;P++){var O=parseFloat(o.getFieldValue(e[P]));if(!isNaN(O)){var E=s(O);i=i>E?i:E,isNaN(_)&&(_=O),_<O&&(_=O)}}r=isNaN(_)?"":_}n.value=r,n.rc=!0}},AFRange_Validate:function(t,e,n,r){var i=o.getEvent();if(!i.isSensitiveCheck){var a,s=i.target,u="",c=i.value;a=parseFloat(c),isNaN(a)?i.value=s.value:(t&&n?(a<e||a>r)&&(u="Value should be greater than "+e+" and less than "+r+"."):t?a<e&&(u="Value should be greater than "+e+"."):n&&a>r&&(u="Value should be less than "+r+"."),""!==u?(alert(u),i.value=s.value,i.rc=!1):i.rc=!0)}},AFNumber_Format:function(t,e,n,r,i,s){var u=o.getEvent();if(!u.isSensitiveCheck){var c=u.value;if(""!==c)if(/^[0-9]+.?[0-9]*$/.test(c)){var l=(c=parseFloat(c))<0?-1:1;if(isNaN(c)){u.value=c,u.rc=!1;var f=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");alert(f+=' "Number" ')}else{var p="";p=(2===n||3===n)&&l<0?"(":"",s&&(p+=i);var d=(c*=l).toString().split(".",2),h=d[0],g="";d.length>1&&(g=d[1]),p+=a(h,g,e,t),s||(p+=i),(2===n||3===n)&&l<0&&(p+=")"),(0!==n||s)&&(c=Math.abs(c)),l<0&&s&&0===n&&(p="-"+p),u.value=p,u.rc=!0}}else{u.value="",u.rc=!1;var m=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");alert(m+=' "Number" ')}else u.value=""}},AFTime_Format:function(t){var e=new Array("HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt");r(e[t])},AFTime_FormatEx:r,AFDate_FormatEx:function(t){var e=o.getEvent();if(e.format=t,!e.isSensitiveCheck){t&&0!=t.length||(t="mm/dd/yyyy");var n=e.target.value;if(n){var r=p(n,t);r||(r=new Date),e.value=f(t,r),e.rc=!0}else{e.rc=!1;var i=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");alert(i+=' "'+t+'" ')}}},AFPercent_Format:function(t,e){var n=o.getEvent();if(!n.isSensitiveCheck){var r=n.target.value;if(r=parseFloat(100*r),isNaN(r)){n.value=n.target.value,n.rc=!0;var i=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return i+=' "'+Percent+'" ',void alert(i)}var s=(r+=.005).toString().split(".",2),u=s[0],c="";s.length>1&&(c=s[1]);var l=a(u,c,e,t)+"%";n.value=l,n.rc=!0}},AFMergeChange:function(t){var e,n,o=t.value;return t.willCommit?t.value:(e=t.selStart>=0?o.substring(0,t.selStart):"",n=t.selEnd>=0&&t.selEnd<=o.length?o.substring(t.selEnd,o.length):"",e+t.change+n)},AFNumber_Keystroke:i,AFParseDateEx:p,AFMakeNumber:function(t){return parseFloat(t)},AFDate_KeystrokeEx:function(t){var e=o.getEvent();if(!e.isSensitiveCheck){var n=e.target.value;if(n){var r=p(n,t);if(r)e.value=f(t,r),e.rc=!0;else{e.rc=!1;var i=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");alert(i+=' "'+t+'" ')}}else e.rc=!0}},setJE:function(t){return o=t},setJSEvent:function(t){return t},AFSpecial_Format:function(t){var e=o.getEvent(),n=e.value;if(!n||n.length<1)e.rc=!0;else{n=""+n;var r=void 0;switch(t){case 0:r="99999";break;case 1:r="99999-9999";break;case 2:r=n.length>=10?"(999) 999-9999":"999-9999";break;case 3:r="999-99-9999"}var i=b(n,r);if(i.length==r.length)e.value=i,e.rc=!0;else{e.rc=!1;var a=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");alert(a+=' "'+r+'" ')}}},FXFormatDate:f,AFSpecial_Keystroke:function(t){var e=o.getEvent(),n=e.value;if(!(n.length<1)){var r=e.change,i=void 0;switch(t){case 0:i="99999";break;case 1:i="999999999";break;case 2:var a=n;if(0==a.length&&0==r.length)return void(e.rc=!0);if(e.willCommit){var s=a.match(/^(\(\d{3}\)\s?)?\d{3}-?\d{4}$|^(\d{3}\s?)?\d{3}-?\d{4}$/);return void(e.rc=!!s)}var u=e.selStart,c=e.selEnd;if(c<0&&(c=strSrc.length-1),(a=a.substr(0,u)+r+a.substr(c)).length-14>0)return void(e.rc=!1);var l=a.match(/^\(?\d*\)?\s?\d*-?\d*$/);return void(e.rc=!!l);case 3:i="999999999"}return A(i)}e.rc=!0},AFPercent_Keystroke:function(){return i.apply(void 0,arguments)},AFSpecial_KeystrokeEx:function(t){var e=o.getEvent(),n=A(t);void 0!==n&&(e.target.value=n)},ANSB_None:0,ANSB_Page:1,ANSB_Author:2,ANSB_ModDate:3,ANSB_Type:4,ANFB_ShouldNone:7,ANFB_ShouldPrint:0,ANFB_ShouldView:1,ANFB_ShouldEdit:2,ANFB_ShouldAppearInPanel:3,ANFB_ShouldSummarize:4,ANFB_ShouldExport:5}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=d(n(48)),i=d(n(988)),a=(d(n(92)),d(n(37))),s=n(22),u=n(30),c=d(n(75)),l=n(986),f=n(8),p=d(n(3));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=(0,l.getCommonContextMenu)(".fv__pdf-page-annot-handler-rect"),y=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));s.name="redact",s.$ui.addClass("fv__pdf-page-redact-annot-container"),s.$handler.addClass("fv__pdf-page-redact-annot-handler-container");var u=void 0;return u=!!n.isArea(),s.pdfViewer.eventEmitter.emit(p.default.redactAnnotRendered,s),s.shapeControl=new a.default({start:function(t,e,n){return s.onStartUpdateShape(t,e,n)},update:function(t,e){return s.onShapeUpdating(t,e)},moving:function(t,e){return s.onShapeMoving(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)},resizable:u,enableDiagonally:!0}),n.isArea()?(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable():s.shapeControl.disable(),s}return g(e,t),e.getDefaultContextMenuConfig=function(){return m},e.prototype.assembleDocDisabled=function(){return!(1024&this.docRender.getUserPermission().getValue())},e.prototype.onStartUpdateShape=function(t,e,n){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeUpdating=function(t,e){var n=this;(this.editDebouncePromise=this.editDebouncePromise||new s.DebouncePromiseQueue).push(function(){return n.setRect(t)})},e.prototype.onShapeMoving=function(t,e){var n=this;(this.editDebouncePromise=this.editDebouncePromise||new s.DebouncePromiseQueue).push(function(){return n.moveTo(t.left,t.top)})},e.prototype.onShapeUpdateEnd=function(t,e,n){this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active");var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,u.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.render=function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=this.annot;this.scale=n,this.rotate=o;var i=this.getAnnotFlag();if(i.checkInvisible()||i.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var a,s=this.getTileConfig(n,o),l=this.tileCanvas;return l?(a=l).redraw.apply(a,h(s)):(t=l=this.tileCanvas=new c.default(function(t,n,o,i,a,s,c,l){return e.getPDFPage().getAnnotBitmap(r.getId(),(0,u.pt2px)(s),0,{x:c*s+n*a,y:l*s+t*a,width:o,height:i})},this.$ui)).redraw.apply(t,h(s))},e.prototype.redraw=function(){return this.shapeControl&&this.shapeControl.enable(),this.render()},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.removeAnnot=function(){var e=this;return!this.deleteDisabled()&&t.prototype.removeAnnot.call(this).then(function(){e.parent("pdfPageRender").redrawContent(!0)})},e.prototype.remove=function(){t.prototype.remove.call(this),this.parent("pdfPageRender").redrawContent(!0)},e.prototype.showPlaceMarkDialog=function(){if(this.$placeRedactionControl&&this.$placeRedactionControl.$dialog);else{var t=this.pdfViewer.currentPDFDoc.info.pageCount;this.$placeRedactionControl=new i.default(this,document.body,t)}},e.prototype.hidePlaceMarkDialog=function(){this.$actionsControl.close()},e.prototype.placeRedact=function(t){var e=this.annot.getRects(),n=[],o=this.pdfViewer;return t.forEach(function(t){if(o.getPDFDocRender().currentPageIndex!=t){var r=o.currentPDFDoc.getPageByIndex(t).then(function(t){return t.markRedactAnnot(e)});n.push(r)}}),0==n.length||Promise.all(n).then(function(t){var e=[];t.map(function(t){var n=t[0];e.push(n)}),o.getMementoManager().before({host:e,method:"placeRedact"}),o.getMementoManager().after({host:e,method:"placeRedact"})})},e.prototype.applyCallback=function(t,e){if(!1===t)return!1;t.forEach(function(t){var n=t.pageIndex,o=t.removedAnnots,r=e.getPDFDocRender().pagesRender.pageRenders[n];if(r.annotsRender)for(var i=r.annotsRender.annots,a=i.length-1;a>=0;a--){var s=i[a];-1!==o.indexOf(s.id)&&(e.getMementoManager().clear(),s.info.isDeleted=!0,i.splice(a,1))}}),e.getPDFDocRender().pagesRender.setRenderFlags(10),e.getPDFDocRender().pagesRender.renderVisiblePages(),e.eventEmitter.emit(p.default.redactAnnotApplyed,this)},e.prototype.apply=function(){var t=this,e=this.pdfViewer,n=e.i18n;if(!window.confirm(n.t("viewer_:contextmenu.annot.applyConfirm")))return!1;this.annot.apply().then(function(n){return t.applyCallback(n,e)})},e.prototype.applyAll=function(){var t=this,e=this.pdfViewer,n=e.i18n;if(!window.confirm(n.t("viewer_:contextmenu.annot.applyConfirm")))return!1;e.getCurrentPDFDoc().applyRedaction().then(function(n){return t.applyCallback(n,e)})},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,f.convertFromNumberToHex)(t.getBorderColor()),applyFillColor:t.getApplyFillColor(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype.setApplyFillColor=function(t){return this.annot.setRedactApplyFillColor(t)},e}(r.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(48)),r=n(20),i=(l(n(3)),l(n(1))),a=n(8),s=n(990),u=n(989),c=n(49);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=(0,u.getDefaultConfig)(".fv__pdf-page-annot-handler-rect"),d=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));s.name="freetext",s.$ui.addClass("fv__pdf-page-freetext-annot-container"),s.$handler.addClass("fv__pdf-page-freetext-annot-handler-container");var u;return s.$textInput=(0,i.default)("<textarea class='fv__ui-freetext-editor "+s.annot.getIntent()+"'></textarea>"),u=s.$textInput,s.$handler.append(u),s.bindTextInputEvent(u),s}return f(e,t),e.getDefaultContextMenuConfig=function(){return p},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect()},e.prototype.setContent=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this.annot,method:"setContent",content:this.annot.getContent()}),this.annot.setContent(t).then(function(){e.pdfViewer.getMementoManager().after({host:e.annot,method:"setContent",content:e.annot.getContent()})})},e.prototype.getInnerBoundary=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.getPDFPage(),n=void 0;if(n=this.annot.getIntent()!==r.Intents.FREETEXT_TYPEWRITER?JSON.parse(JSON.stringify(this.annot.getInnerRect())):JSON.parse(JSON.stringify(this.annot.getRect())),t&&this.annot.getIntent()!=r.Intents.FREETEXT_TYPEWRITER){var o=this.annot.getBorderWidth()*this.scale*4/3;n.left+=o,n.right-=o,n.top-=o,n.bottom+=o}var i=e.getDeviceRect(n,this.scale,this.rotate);return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}},e.prototype.setInnerRect=function(t){return this.annot.setInnerRectNoAction(t)},e.prototype.setCalloutLinePoints=function(t){return this.annot.setCalloutLinePoints(t)},e.prototype.showReplyDialog=function(){var t=this.getAnnotFlag();return t.checkLockedContents()||t.checkReadOnly()||t.checkLocked()||(this.shapeControl&&this.shapeControl.deactive(),this.backup(),this.enableEditMode()),!1},e.prototype.backup=function(){},e.prototype.enableEditMode=function(){var t=this.annot,e=t.getStyleFillColor(),n=t.getDefaultAp(),o=n.textColor,i=4*n.textSize/3*this.scale,u=18.7*this.scale+"px",c=(0,a.convertFromNumberToHex)(16777215&e);0==e&&(c="white");var l=(0,a.convertFromNumberToHex)(16777215&o);0==o&&(l="black");var f=this.getInnerBoundary(!0),p=n.font||{},d=Object.assign({color:l,background:c,display:"block","font-size":i,"min-height":f.height,"line-height":1.1,fontFamily:'"'+[p.baseName,p.familyName,p.nameKey,p.name,"FoxitPDFSDKForWeb"].join('","')+'"',lineHeight:u},f);this.status="editing",this.$textInput.css(d).attr("contenteditable","true").text(t.getContent()).focus(),n.font&&(0,s.addFont)(p.nameKey||p.name,t.getWoff.bind(t)),this.annot.getIntent()==r.Intents.FREETEXT_TYPEWRITER&&this.setHeight(this.$textInput,13)},e.prototype.bindEvent=function(){var e=this;t.prototype.bindEvent.call(this),this.__off__before_delete_event&&this.__off__before_delete_event(),this.__off__before_delete_event=this.pdfViewer.getKeyboardEventBinder(c.VIEWER_BINDER).before(c.KEY_MAP_DELETE_ANNOTATION,function(t){document.activeElement==e.$textInput.get(0)&&t.stop()}),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer.getKeyboardEventBinder(c.ANNOTATION_CREATING_BINDER).on(c.KEY_MAP_ESC_CREATING_DRAWING,function(t){e.unActive()})},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.$textInput.blur()},e.prototype.unBindEvent=function(){t.prototype.unBindEvent.call(this),this.__off__before_delete_event&&this.__off__before_delete_event(),this.__off__esc__event__&&this.__off__esc__event__()},e.prototype.bindTextInputEvent=function(t){var e=this;t.on("keydown",function(t){return e.setHeight(e.$textInput,t.keyCode)}).on("blur",function(t){if("editing"==e.status){var n=e.annot.getBorderWidth()*e.scale*4/3,o=parseFloat(t.target.style.left),a=parseFloat(t.target.style.top),s=parseFloat(t.target.style.width),u=parseFloat(t.target.style.height),c={left:o,top:a,right:o+s,bottom:a+u,width:s,height:u},l=e.annot.page.reverseDeviceRect(c,e.scale);e.annot.getIntent()!=r.Intents.FREETEXT_TYPEWRITER&&(l.left-=n,l.right+=n,l.top+=n,l.bottom-=n);var f=void 0;switch(e.annot.getIntent()){case r.Intents.FREETEXT_CALLOUT:f=e.setInnerRectProperty(l);break;case r.Intents.FREETEXT_TYPEWRITER:f=e.setRectInPDF(l,!1);break;default:f=e.setInnerRect(l)}f.then(function(n){return e.setContent(t.target.value)}).then(function(n){e.pdfViewer.setActiveElement(),(0,i.default)(t.target).css({display:"none"}).removeAttr("contenteditable")}).then(function(t){return e.$textInput.css("display","none"),e.status="viewing",e.postBlur()})}})},e.prototype.postBlur=function(){},e.prototype.setHeight=function(t){var e=this;if(this.$textInput.is(":visible")){t[0].style.height=t[0].scrollTop+t[0].scrollHeight+"px";var n=this.annot.getBorderWidth()*this.scale*4/3,o=t.height()+2*n,r=this.getInnerBoundary(!0);return Math.abs(o-r.height)<4?Promise.resolve():this.setInnerRectHeight(o/(4*this.scale/3)).then(function(t){e.redraw()}).then(function(n){var o=e.getInnerBoundary(!0);t.css(o)})}},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ORIENTATION_VERTICAL="vertical",e.ORIENTATION_HORIZONTAL="horizontal",e.ORIENTATION_ALL="all"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DIR_NORTH="north",e.DIR_SOUTH="south",e.DIR_EAST="east",e.DIR_WEST="west",e.DIR_NORTH_WEST="north-west",e.DIR_NORTH_EAST="north-east",e.DIR_SOUTH_WEST="south-west",e.DIR_SOUTH_EAST="south-east"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="annotComponent",r={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(o).showReplyDialog("reply")},disabled:function(){return this.data(o).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n,r){this.data(o).showPropertiesDialog(t,e,n,r)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(o).removeAnnot()},disabled:function(){return this.data(o).deleteDisabled()}}};e.getCommonContextMenu=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:r,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachContextMenuEvent=function(t,e,n){if(r.isMobile&&(o.isSafari||r.isXiaomi||o.isUC)||r.isIPAD&&o.isSafari){var i=null,a=!1,s=void 0,u=0,c=function(t){a=!1,t.touches&&1!==t.touches.length||(u=0,s={x:t.touches[0].pageX,y:t.touches[0].pageY},i=setTimeout(function(){a=!0},600))},l=function(t){if((!t.touches||1===t.touches.length)&&s&&a){var e=t.touches[0],n=Math.pow(e.pageX-s.x,2)+Math.pow(e.pageY-s.y,2);(u=Math.max(u,n))>Math.pow(15,2)&&(clearTimeout(i),a=!1)}},f=function(n){if(s=null,a){if(!n.changedTouches||1!==n.changedTouches.length)return clearTimeout(i),void(a=!1);var o=n.changedTouches[0],r=new Event("contextmenu"),u=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce(function(t,e){return t[e]={value:o[e]},t},{});u.stopPropagation={value:function(){n.stopPropagation()}},u.preventDefault={value:function(){n.preventDefault()}};var c=Object.create(r,u);e.call(t,c)}a=!1,clearTimeout(i)};return t.addEventListener("touchstart",c,n),t.addEventListener("touchend",f,!0),t.addEventListener("touchmove",l,!0),function(){t.removeEventListener("touchstart",c,n),t.removeEventListener("touchmove",l),t.removeEventListener("touchend",f)}}return t.addEventListener("contextmenu",e,n),function(){t.removeEventListener("contextmenu",e,n)}};var o=n(83),r=n(29)},function(t,e,n){"use strict";var o=n(0),r=n(39),i=n(58),a=n(96);t.exports=function(t){o(o.S,t,{from:function(t){var e,n,o,s,u=arguments[1];return r(this),(e=void 0!==u)&&r(u),void 0==t?new this:(n=[],e?(o=0,s=i(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,o++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var o=n(0);t.exports=function(t){o(o.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";t.exports=n(87)||!n(15)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(12)[t]})},function(t,e,n){for(var o,r=n(12),i=n(46),a=n(103),s=a("typed_array"),u=a("view"),c=!(!r.ArrayBuffer||!r.DataView),l=c,f=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(o=r[p[f++]])?(i(o.prototype,s,!0),i(o.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){"use strict";var o=n(12),r=n(0),i=n(45),a=n(95),s=n(88),u=n(96),c=n(97),l=n(17),f=n(15),p=n(165),d=n(116),h=n(238);t.exports=function(t,e,n,g,m,y){var v=o[t],b=v,w=m?"set":"add",A=b&&b.prototype,_={},P=function(t){var e=A[t];i(A,t,"delete"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(y||A.forEach&&!f(function(){(new b).entries().next()}))){var O=new b,E=O[w](y?{}:-0,1)!=O,x=f(function(){O.has(1)}),C=p(function(t){new b(t)}),S=!y&&f(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});C||((b=e(function(e,n){c(e,b,t);var o=h(new v,e,b);return void 0!=n&&u(n,m,o[w],o),o})).prototype=A,A.constructor=b),(x||S)&&(P("delete"),P("has"),m&&P("get")),(S||E)&&P(w),y&&A.clear&&delete A.clear}else b=g.getConstructor(e,t,m,w),a(b.prototype,n),s.NEED=!0;return d(b,t),_[t]=b,r(r.G+r.W+r.F*(b!=v),_),y||g.setStrong(b,t,m),b}},function(t,e,n){var o=n(12).navigator;t.exports=o&&o.userAgent||""},function(t,e,n){var o=n(11),r=n(39),i=n(24)("species");t.exports=function(t,e){var n,a=o(t).constructor;return void 0===a||void 0==(n=o(a)[i])?e:r(n)}},function(t,e,n){"use strict";var o=n(46),r=n(45),i=n(15),a=n(69),s=n(24);t.exports=function(t,e,n){var u=s(t),c=n(a,u,""[t]),l=c[0],f=c[1];i(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,l),o(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){"use strict";var o=n(11);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var o=n(24)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i=[7],a=i[o]();a.next=function(){return{done:n=!0}},i[o]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){var o=n(17),r=n(57),i=n(24)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},function(t,e,n){var o=n(57);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(52),r=n(26),i=n(101);t.exports=function(t){return function(e,n,a){var s,u=o(e),c=r(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var o=n(59),r=n(12),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(87)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";n.r(e);var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};var r={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},i=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||r,this.options=e,this.debug=e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},t.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,o){return o&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,o({prefix:this.prefix+":"+e+":"},this.options))},t}());var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var o=n.observers[t].indexOf(e);o>-1&&n.observers[t].splice(o,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})},t}();function s(t){return null==t?"":""+t}function u(t,e,n){function o(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(r())return{};var a=o(i.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return r()?{}:{obj:t,k:o(i.shift())}}function c(t,e,n){var o=u(t,e,Object);o.obj[o.k]=n}function l(t,e){var n=u(t,e),o=n.obj,r=n.k;if(o)return o[r]}function f(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function d(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return p[t]}):t}var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.data=n||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r}return g(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=[t,e];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(i=t.split(".")),l(this.data,i)},e.prototype.addResource=function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=e,e=(a=t.split("."))[1]),this.addNamespaces(e),c(this.data,a,o),r.silent||this.emit("added",t,e,n,o)},e.prototype.addResources=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});o.silent||this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(o=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var s=l(this.data,a)||{};o?function t(e,n,o){for(var r in n)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?o&&(e[r]=n[r]):t(e[r],n[r],o):e[r]=n[r];return e}(s,n,r):s=h({},s,n),c(this.data,a,s),i.silent||this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?h({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(a),y={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,o,r){var i=this;return t.forEach(function(t){i.processors[t]&&(e=i.processors[t].process(e,n,o,r))}),e}},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var A=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],n,r),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=i.create("translator"),r}return w(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var i=t.split(n);(n!==o||n===o&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),t=i.join(o)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},e.prototype.translate=function(t,e){var n=this;if("object"!==(void 0===e?"undefined":b(e))&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=this.extractFromKey(t[t.length-1],e),i=r.key,a=r.namespaces,s=a[a.length-1],u=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){var l=e.nsSeparator||this.options.nsSeparator;return s+l+i}return i}var f=this.resolve(t,e),p=f&&f.res,d=f&&f.usedKey||i,h=Object.prototype.toString.apply(p),g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(p&&("string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(h)<0&&(!g||"[object Array]"!==h)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,p,e):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(o){var m="[object Array]"===h?[]:{};for(var y in p)if(Object.prototype.hasOwnProperty.call(p,y)){var w=""+d+o+y;m[y]=this.translate(w,v({},e,{joinArrays:!1,ns:a})),m[y]===w&&(m[y]=p[y])}p=m}}else if(g&&"[object Array]"===h)(p=p.join(g))&&(p=this.extendTranslation(p,t,e));else{var A=!1,_=!1;this.isValidLookup(p)||void 0===e.defaultValue||(A=!0,p=e.defaultValue),this.isValidLookup(p)||(_=!0,p=i);var P=e.defaultValue&&e.defaultValue!==p&&this.options.updateMissing;if(_||A||P){this.logger.log(P?"updateKey":"missingKey",u,s,i,P?e.defaultValue:p);var O=[],E=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&E&&E[0])for(var x=0;x<E.length;x++)O.push(E[x]);else"all"===this.options.saveMissingTo?O=this.languageUtils.toResolveHierarchy(e.lng||this.language):O.push(e.lng||this.language);var C=function(t,o){n.options.missingKeyHandler?n.options.missingKeyHandler(t,s,o,P?e.defaultValue:p,P,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,s,o,P?e.defaultValue:p,P,e),n.emit("missingKey",t,s,o,p)};if(this.options.saveMissing){var S=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&S?O.forEach(function(t){n.pluralResolver.getPluralFormsOfKey(t,i).forEach(function(e){return C([t],e)})}):C(O,i)}}p=this.extendTranslation(p,t,e,f),_&&p===i&&this.options.appendNamespaceToMissingKey&&(p=s+":"+i),_&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p},e.prototype.extendTranslation=function(t,e,n,o){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(v({},n,{interpolation:v({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=v({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset()}var a=n.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return void 0!==t&&null!==t&&s&&s.length&&!1!==n.applyPostProcessor&&(t=y.handle(s,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,r=void 0,i=void 0,a=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(o)){var s=e.extractFromKey(t,n),u=s.key;r=u;var c=s.namespaces;e.options.fallbackNS&&(c=c.concat(e.options.fallbackNS));var l=void 0!==n.count&&"string"!=typeof n.count,f=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,p=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);c.forEach(function(t){e.isValidLookup(o)||(a=t,p.forEach(function(r){if(!e.isValidLookup(o)){i=r;var a=u,s=[a];if(e.i18nFormat&&e.i18nFormat.addLookupKeys)e.i18nFormat.addLookupKeys(s,u,r,t,n);else{var c=void 0;l&&(c=e.pluralResolver.getSuffix(r,n.count)),l&&f&&s.push(a+c),f&&s.push(a+=""+e.options.contextSeparator+n.context),l&&s.push(a+=c)}for(var p=void 0;p=s.pop();)e.isValidLookup(o)||(o=e.getResource(r,t,p,n))}}))})}}),{res:o,usedKey:r,usedLng:i,usedNS:a}},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,o)},e}(a);function _(t){return t.charAt(0).toUpperCase()+t.slice(1)}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=i.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=_(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=_(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=_(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,o=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],i=function(t){t&&(n.isWhitelisted(t)?r.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),o.forEach(function(t){r.indexOf(t)<0&&i(n.formatLanguageCode(t))}),r},t}();var O=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],E={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}};var x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.languageUtils=e,this.options=n,this.logger=i.create("pluralResolver"),this.rules=function(){var t={};return O.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:E[e.fc]}})}),t}()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&e.numbers.length>1},t.prototype.getPluralFormsOfKey=function(t,e){var n=this,o=[],r=this.getRule(t);return r?(r.numbers.forEach(function(r){var i=n.getSuffix(t,r);o.push(""+e+i)}),o):o},t.prototype.getSuffix=function(t,e){var n=this,o=this.getRule(t);if(o){var r=o.noAbs?o.plurals(e):o.plurals(Math.abs(e)),i=o.numbers[r];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_"+i.toString():a():"v2"===this.options.compatibilityJSON&&2===o.numbers.length&&1===o.numbers[0]?a():this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}(),C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=i.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t}),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:d,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?f(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?f(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?f(e.nestingPrefix):e.nestingPrefixEscaped||f("$t("),this.nestingSuffix=e.nestingSuffix?f(e.nestingSuffix):e.nestingSuffixEscaped||f(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){var o=this,r=void 0,i=void 0,a=void 0;function u(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(o.formatSeparator)<0)return l(e,t);var r=t.split(o.formatSeparator),i=r.shift().trim(),a=r.join(o.formatSeparator).trim();return o.format(l(e,i),a,n)};for(this.resetRegExp(),a=0;(r=this.regexpUnescape.exec(t))&&(i=c(r[1].trim()),t=t.replace(r[0],i),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;r=this.regexp.exec(t);){if(void 0===(i=c(r[1].trim())))if("function"==typeof this.options.missingInterpolationHandler){var f=this.options.missingInterpolationHandler(t,r);i="string"==typeof f?f:""}else this.logger.warn("missed to pass in variable "+r[1]+" for interpolating "+t),i="";else"string"==typeof i||this.useRawValueToEscape||(i=s(i));if(i=this.escapeValue?u(this.escape(i)):u(i),t=t.replace(r[0],i),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return t},t.prototype.nest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,r=void 0,i=C({},n);function a(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var o=n.join(",");o=(o=this.interpolate(o,i)).replace(/'/g,'"');try{i=JSON.parse(o),e&&(i=C({},e,i))}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}for(i.applyPostProcessor=!1;o=this.nestingRegexp.exec(t);){if((r=e(a.call(this,o[1].trim(),i),i))&&o[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=s(r)),r||(this.logger.warn("missed to resolve "+o[1]+" for nesting "+t),r=""),t=t.replace(o[0],r),this.regexp.lastIndex=0}return t},t}(),D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},M=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var j=function(t){function e(n,o,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s.backend=n,s.store=o,s.languageUtils=r.languageUtils,s.options=a,s.logger=i.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(r,a.backend,a),s}return T(e,t),e.prototype.queueLoad=function(t,e,n){var o=this,r=[],i=[],a=[],s=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var a=t+"|"+e;o.store.hasResourceBundle(t,e)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?i.indexOf(a)<0&&i.push(a):(o.state[a]=1,n=!1,i.indexOf(a)<0&&i.push(a),r.indexOf(a)<0&&r.push(a),s.indexOf(e)<0&&s.push(e)))}),n||a.push(t)}),(r.length||i.length)&&this.queue.push({pending:i,loaded:{},errors:[],callback:n}),{toLoad:r,pending:i,toLoadLanguages:a,toLoadNamespaces:s}},e.prototype.loaded=function(t,e,n){var o=t.split("|"),r=M(o,2),i=r[0],a=r[1];e&&this.emit("failedLoading",i,a,e),n&&this.store.addResourceBundle(i,a,n),this.state[t]=e?-1:2;var s={};this.queue.forEach(function(n){!function(t,e,n,o){var r=u(t,e,Object),i=r.obj,a=r.k;i[a]=i[a]||[],o&&(i[a]=i[a].concat(n)),o||i[a].push(n)}(n.loaded,[i],a),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(t){s[t]||(s[t]=[]),n.loaded[t].length&&n.loaded[t].forEach(function(e){s[t].indexOf(e)<0&&s[t].push(e)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return t.length?this.backend[n](t,e,function(s,u){s&&u&&o<5?setTimeout(function(){r.read.call(r,t,e,n,o+1,2*i,a)},i):a(s,u)}):a(null,{})},e.prototype.load=function(t,e,n){var o=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var r=this.queueLoad(t,e,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(function(t){o.loadOne(t)})},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources."),"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),t.forEach(function(t){e.forEach(function(e){n.loadOne(t+"|"+e,"re")})})},e.prototype.loadOne=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t.split("|"),r=M(o,2),i=r[0],a=r[1];this.read(i,a,"read",null,null,function(o,r){o&&e.logger.warn(n+"loading namespace "+a+" for language "+i+" failed",o),!o&&r&&e.logger.log(n+"loaded namespace "+a+" for language "+i,r),e.loaded(t,o,r)})},e.prototype.saveMissing=function(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,o,null,D({},i,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,o)},e}(a);function I(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}var R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function L(){}var V=new(function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=F(this,t.call(this));if(r.options=I(n),r.services={},r.logger=i,r.modules={external:[]},o&&!r.isInitialized&&!n.isClone){var a;if(!r.options.initImmediate)return a=r.init(n,o),F(r,a);setTimeout(function(){r.init(n,o)},0)}return r}return N(e,t),e.prototype.init=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=k({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,I(e)),this.format=this.options.interpolation.format,n||(n=L),!this.options.isClone){this.modules.logger?i.init(o(this.modules.logger),this.options):i.init(null,this.options);var r=new P(this.options);this.store=new m(this.options.resources,this.options);var a=this.services;a.logger=i,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new x(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new S(this.options),a.backendConnector=new j(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t.emit.apply(t,[e].concat(o))}),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new A(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t.emit.apply(t,[e].concat(o))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var s=function(){t.changeLanguage(t.options.lng,function(e,o){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),n(e,o)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};if(this.language)o(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return o(t)});this.options.preload&&this.options.preload.forEach(function(t){return o(t)}),this.services.backendConnector.load(n,this.options.ns,e)}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&y.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var n=this,o=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(o){!function(t,o){n.translator.changeLanguage(o),o&&(n.emit("languageChanged",o),n.logger.log("languageChanged",o)),e&&e(t,function(){return n.t.apply(n,arguments)})}(o,t)})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(t):o(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var n=this,o=function t(e,o){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var s=k({},o);return"object"!==(void 0===o?"undefined":R(o))&&(s=n.options.overloadTranslationOptionHandler([e,o].concat(i))),s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,n.t(e,s)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o},e.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},e.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],o=t.filter(function(t){return n.indexOf(t)<0});if(!o.length)return e();this.options.preload=n.concat(o),this.loadResources(e)},e.prototype.dir=function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,r=k({},this.options,n,{isClone:!0}),i=new e(r);return["store","services","language"].forEach(function(e){i[e]=t[e]}),i.translator=new A(i.services,i.options),i.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.emit.apply(i,[t].concat(n))}),i.init(r,o),i.translator.options=i.options,i},e}(a));n.d(e,"changeLanguage",function(){return B}),n.d(e,"cloneInstance",function(){return U}),n.d(e,"createInstance",function(){return H}),n.d(e,"dir",function(){return W}),n.d(e,"exists",function(){return q}),n.d(e,"getFixedT",function(){return z}),n.d(e,"init",function(){return $}),n.d(e,"loadLanguages",function(){return Y}),n.d(e,"loadNamespaces",function(){return G}),n.d(e,"loadResources",function(){return K}),n.d(e,"off",function(){return Q}),n.d(e,"on",function(){return X}),n.d(e,"setDefaultNamespace",function(){return J}),n.d(e,"t",function(){return Z}),n.d(e,"use",function(){return tt});e.default=V;var B=V.changeLanguage.bind(V),U=V.cloneInstance.bind(V),H=V.createInstance.bind(V),W=V.dir.bind(V),q=V.exists.bind(V),z=V.getFixedT.bind(V),$=V.init.bind(V),Y=V.loadLanguages.bind(V),G=V.loadNamespaces.bind(V),K=V.loadResources.bind(V),Q=V.off.bind(V),X=V.on.bind(V),J=V.setDefaultNamespace.bind(V),Z=V.t.bind(V),tt=V.use.bind(V)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=e.fragments=void 0;var o=f(n(457));n(1342);var r=f(n(7)),i=f(n(456)),a=f(n(455)),s=f(n(454)),u=f(n(453)),c=f(n(452)),l=f(n(451));function f(t){return t&&t.__esModule?t:{default:t}}var p=r.default.module("mobile",[]);p.registerController(a.default),p.registerComponent(s.default),p.registerComponent(c.default),p.registerController(u.default);var d=r.default.root();d.getRegistry().registerDirective(i.default),d.getRegistry().registerDirective(l.default);e.fragments=[],e.template=(0,o.default)({})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fragments=e.template=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(459));e.template=(0,o.default)({}),e.fragments=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(173));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e.prototype.getLayoutTemplate=function(){return o.template},e.prototype.getDefaultFragments=function(){return o.fragments},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(105)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(71)),r=l(n(176)),i=l(n(135)),a=n(5),s=l(n(6)),u=l(n(138)),c=l(n(249));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=s.default.getLogger("PDFUI/ViewerInitializerPartial"),d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return f(e,t),e.depends=function(){return[r.default,i.default,u.default,c.default]},e.prototype.link=function(t,e,n,o){var r=n.appearance,i=t.getComponentByName(a.WEBPDF_VIEWER_COMPONENT_NAME);if(!i)throw new Error("<viewer/> not found in your template!");var s=this.$options,u=s.viewerOptions,c=s.keymap;u.keymap=Object.assign(u.keymap||{},c||{}),i.initPDFViewer(u);var l=i.getPDFViewer();return l.setIcons({stamp:o}),e.forEach(function(e){try{e.pdfViewerCreated(l,t)}catch(t){p.error("an error occurred when executing addon's method: ",t)}}),t.mounted(),e.forEach(function(e){try{e.afterMounted(t)}catch(t){p.error("an error occurred when executing addon's method: ",t)}}),r.afterMounted(t),l},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(71)),r=l(n(137)),i=l(n(135)),a=l(n(6)),s=l(n(138)),u=n(250),c=n(33);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=a.default.getLogger("PDFUI/ParingUIPartial"),d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return f(e,t),e.depends=function(){return[r.default,s.default,i.default]},e.prototype.construct=function(t,e){var n=e.renderTo;"string"==typeof n&&(n=document.querySelector(n)),n||(n=document.body),this.renderTo=n},e.prototype.link=function(t,e,n){var o=e.fragments,r=e.template,i=e.parser,a=e.appearance,s=this.renderTo,l=void 0;if(o=o.concat(u.DIALOG_FRAGMENTS),r)l=i.parse(r,o),s.appendChild(l.element);else{var f=s.firstElementChild;l=i.parse(f,o),f.after(l.element),f.remove()}return l.setAttribute("role","pdf-ui-root"),n.forEach(function(t){try{t.beforeMounted(l)}catch(t){p.error("an error occurred when executing addon's method: ",t)}}),a.beforeMounted(l),c.isIE10?l.localize().then(function(){return l}):(this.localize(),l)},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return t.endsWith("/")||(t+="/"),{Static:{Approved:{url:t+"stamps/"+(e=e.replace(/(\w*?)-(\w*)/,function(t,e,n){return e+"-"+n.toUpperCase()}))+"/StandardStamps/Approved.pdf",type:"pdf"},Completed:{url:t+"stamps/"+e+"/StandardStamps/Completed.pdf",type:"pdf"},Confidential:{url:t+"stamps/"+e+"/StandardStamps/Confidential.pdf",type:"pdf"},Draft:{url:t+"stamps/"+e+"/StandardStamps/Draft.pdf",type:"pdf"},Revised:{url:t+"stamps/"+e+"/StandardStamps/Revised.pdf",type:"pdf"},Emergency:{url:t+"stamps/"+e+"/StandardStamps/Emergency.pdf",type:"pdf"},Expired:{url:t+"stamps/"+e+"/StandardStamps/Expired.pdf",type:"pdf"},Final:{url:t+"stamps/"+e+"/StandardStamps/Final.pdf",type:"pdf"},Received:{url:t+"stamps/"+e+"/StandardStamps/Received.pdf",type:"pdf"},Reviewed:{url:t+"stamps/"+e+"/StandardStamps/Reviewed.pdf",type:"pdf"}},SignHere:{Accepted:{url:t+"stamps/"+e+"/SignHere/Accepted.pdf",type:"pdf"},Initial:{url:t+"stamps/"+e+"/SignHere/Initial.pdf",type:"pdf"},Rejected:{url:t+"stamps/"+e+"/SignHere/Rejected.pdf",type:"pdf"},SignHere:{url:t+"stamps/"+e+"/SignHere/SignHere.pdf",type:"pdf"},Witness:{url:t+"stamps/"+e+"/SignHere/Witness.pdf",type:"pdf"}},Dynamic:{Approved:{url:t+"stamps/"+e+"/DynamicStamps/Approved.pdf",type:"pdf"},Confidential:{url:t+"stamps/"+e+"/DynamicStamps/Confidential.pdf",type:"pdf"},Received:{url:t+"stamps/"+e+"/DynamicStamps/Received.pdf",type:"pdf"},Reviewed:{url:t+"stamps/"+e+"/DynamicStamps/Reviewed.pdf",type:"pdf"},Revised:{url:t+"stamps/"+e+"/DynamicStamps/Revised.pdf",type:"pdf"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(94)),r=a(n(1)),i=n(131);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=2,c=10,l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=o.constructor.getMultipage(),o.pageSpacing=o.constructor.getPageSpacing(),o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o}return s(e,t),e.getName=function(){return"facing-page-view-mode"},e.setMultipage=function(t){u=t},e.getMultipage=function(){return u},e.setPageSpacing=function(t){c=t},e.getPageSpacing=function(){return c},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".facing-page-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-page-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-page-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-page-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n){","margin-right: 0;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.scrollHost=n.getScrollHost();var o=this,a=f(80,function(){o.isMouseDown||!o.isWheel||o.flip||(o.scroll.call(o),o.isWheel=!1)});this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener(function(){t.isScroll=!0,a(),clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout(function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then(function(){t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())})},30)}),this.scrollHost.addEventListener("wheel",this.wheel),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(i.UIEvents.zoomToSuccess,this.adjust),this.docRender.goToPage(this.docRender.getCurrentPageIndex()),(this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]})).on("panend",function(e){return t.adjust(),!1})},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing*(e-1)/e,o=0;o<t.length;o++)t.eq(o).css({width:"calc("+100/e+"% - "+n+"px)"})},e.prototype.keyup=function(t){var e=t.keyCode;if(33===e||34===e){var n=this;setTimeout(function(){n.adjust()},50)}else 38!==e&&40!==e||this.adjust()},e.prototype.wheel=function(t){this.isWheel=!0;var e=this.docRender.viewerRender.scrollWrap;this.currentScrollTop=e.getScrollTop(),this.currentPageIndex=this.getCurrentPageIndex();var n=e.getHeight();e.getScrollLeft();if(n>this.getItems().eq(this.currentPageIndex).children(".fv__pdf-page-layout").height()){if(this.flip=!0,t.deltaY>0){this.docRender.doc.getPageCount();var o=this.currentPageIndex+2;this.docRender.goToPage(o)}else{var r=this.currentPageIndex-2;r<=0&&(r=0),this.docRender.goToPage(r)}t.preventDefault()}else this.flip=!1},e.prototype.mouseDown=function(){this.isMouseDown=!0},e.prototype.mouseUp=function(){this.isMouseDown&&this.isScroll&&this.adjust(),this.isMouseDown=!1,this.isScroll=!1},e.prototype.adjust=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getScrollLeft(),o=this.scrollHost.clientHeight,r=e+o,i=this.getCurrentPageIndex(),a=this.getItems(),s=a.eq(i),u=(a.get(i),s.outerHeight(!0)),c=s.position().top,l=c+u;e<c&&l>r?t.scrollTo(n,c):e>c&&l<r&&t.scrollTo(n,l-o)},e.prototype.scroll=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.viewerRender.scrollWrap,n=this.currentScrollTop,o=e.getScrollTop(),r=o-n,i=e.getScrollLeft(),a=this.scrollHost.clientHeight,s=this.currentPageIndex,u=this.getItems(),c=u.eq(s),l=(u.get(s),c.position().top),f=l+c.outerHeight(!0)-a;if(r>=0)if(n-f<-1){if(o<f)return;e.scrollTo(i,f)}else{var p=s+2;if(!(p<t))return;e.scrollTo(i,u.eq(p).position().top)}else if(n-l>1){if(o>l)return;e.scrollTo(i,l)}else{var d=s-2;if(!(d>-1))return;e.scrollTo(i,u.eq(d).position().top+u.eq(d).outerHeight(!0)-a)}},e.prototype.renderViewMode=function(t,e,n,o,i){var a=this,s=t.index,u=this.getMaxPageWidth(),c=this.multipage,l=(c-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:u*c*e+l});for(var f=Math.floor(s/c),p=0,d=this.docRender.doc.getPageCount(),h=this.docRender.viewerRender.scrollWrap.getHeight(),g=[],m=0;m<c;m++){var y=f*c+m;y<d&&g.push(this.docRender.getPDFDoc().getPageByIndex(y).then(function(t){p=Math.max(t.getPxHeight(),p),t.getPxHeight()}))}Promise.all(g).then(function(){var t=a.getItems(),n=p*e;n<h?(0,r.default)(t[s]).css({height:"calc("+h+"px - 1rem)"}):(0,r.default)(t[s]).css({height:n})})},e.prototype.getMaxPageWidth=function(){var t=0;return this.docRender.doc.pageCache.forEach(function(e){t=Math.max(t,e.getPxWidth())}),t},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),u=s.position().left+o,c=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(u,c)},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.doc.pageCache,n=this.getMaxPageWidth(),o=this.docRender.viewerRender.scrollWrap,r=this.multipage;return(o.getWidth()-16-r*this.pageSpacing)/r/n*e[t].getPxWidth()},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];return this.getItems().each(function(t,n){var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=e&&i.push(t)}),i},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var t=this.getItems(),e=0;e<t.length;e++)(0,r.default)(t[e]).css({width:"",height:""});this.scrollHost&&this.scrollHost.removeEventListener("wheel",this.wheel),this.scrollHost&&this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.off(i.UIEvents.zoomToSuccess,this.adjust)},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,u=[],c=0;c<t.length;c++){var l=t[c],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,y=void 0;if(d<=n&&h>n&&h<o?y=h-n:d>=n&&h<o?y=p:d<=n&&h>o?y=o-n:d>=n&&d<o&&h>o&&(y=o-d),y){var v=void 0;g<=i&&m>i&&m<a?(v=m-i,u.push({index:c,area:y*v})):g>=i&&m<a?(v=f,u.push({index:c,area:y*v})):g<=i&&m>a?(v=a-i,u.push({index:c,area:y*v})):g>=i&&g<a&&m>a&&(v=a-g,u.push({index:c,area:y*v}))}}for(var b=0,w=0;w<u.length;w++)u[w].area>b&&(b=u[w].area,s=u[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.currentPageIndex;if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+1)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.docRender.currentPageIndex;if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+1)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=l;var f=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,r)},t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23);r(n(21)),r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.textboxWidth=function(){return 100},e.textboxHeight=function(){return 20},e.calloutKneeLength=function(){return 20},e.getStateName=function(){return"createFreetext"},e.prototype.pageHandler=function(t){},e.edit=function(t,e){var n=t.annotsRender.getAnnotRender(e[0].id).component;n.active(),setTimeout(function(){n.showReplyDialog("comment")},0)},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler")},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=s(n(264)),i=s(n(640)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=(0,i.default)(),l=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return u(e,t),e.getName=function(){return"reply"},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist-reply",this.operationMode),this.element.innerHTML=c;var n=[".fv__ui-commentlist-reply-message",".fv__ui-commentlist-reply-handler",".fv__ui-commentlist-reply-title",".fv__ui-commentlist-reply-time",".fv__ui-commentlist-reply-menu","[role=reply-menu]",".fv__ui-commantlist-reply-editor .fv__ui-commentlist-editor","[action=edit-reply]",".fv__ui-commentlist-tools"].map(function(t){return e.element.querySelector(t)}),r=o(n,9),i=r[0],a=r[1],s=r[2],u=r[3],l=r[4],f=r[5],p=r[6],d=r[7],h=r[8];this.messageElement=i,this.handlerElement=a,this.titleElement=s,this.timeElement=u,this.replyMessageEditor=p,this.submitReplyBtn=d,this.toolsElement=h;var g=this.pdfUI.parseTemplate(f.content||f.innerHTML);g.localize(),l.appendChild(g.element),g.parent=this,g.resetDataScope(),this.menuComponent=g},e.prototype.receiveBroadcast=function(t){switch(t){case"scroll":this.menuComponent.isActive&&this.menuComponent.deactive()}},e.prototype.addEventListener=function(t,e){var n=this;this.handlerElement.addEventListener(t,e),this.addDestroyHook(function(){return n.handlerElement.removeEventListener(t,e)})},e.prototype.addElementEventListener=function(t,e,n){t.addEventListener(e,n),this.addDestroyHook(function(){t.removeEventListener(e,n)})},e.prototype.switchToEdit=function(){t.prototype.switchToEdit.call(this),this.replyMessageEditor.innerText=this.messageElement.innerText},e.prototype.reqFocus=function(t){t&&!t.matches(":focus")&&t.focus()},e.prototype.applyState=function(){t.prototype.applyState.call(this),"edit"===this.operationMode&&(this.replyMessageEditor.matches(":focus")||this.reqFocus(this.replyMessageEditor))},e.prototype.mounted=function(){var e=this;if(!this.isMounted){t.prototype.mounted.call(this),this.menuComponent.mounted(),["click","contextmenu","dblclick"].map(function(t){e.addEventListener(t,function(n){e.trigger(t,n),n.stopPropagation()})}),this.addElementEventListener(this.submitReplyBtn,"click",function(t){e.updateReplyMessage()}),this.addElementEventListener(this.menuComponent.element,"dblclick",function(t){t.stopPropagation()});var n=!1;this.addElementEventListener(this.element,"mousedown",function(t){n=!0}),this.addElementEventListener(this.replyMessageEditor,"blur",function(t){n?e.reqFocus(e.replyMessageEditor):e.publishMessage()}),this.addElementEventListener(this.element,"mouseup",function(t){n=!1}),this.menuComponent.controller.setParentScope(this.controller),this.pdfUI.eventEmitter.emit(a.default.appendCommentListReply,this,this.controller.data.replyItem.annot)}},e.prototype.updateReplyMessage=function(){this.trigger("reply",this.getInputReplyMessageContent())},e.prototype.publishMessage=function(){this.updateReplyMessage()},e.prototype.getInputReplyMessageContent=function(){return this.replyMessageEditor.innerText},e.prototype.setContent=function(t){this.messageElement.innerText=t||"",this.controller.applyAll(),this.menuComponent.controller.applyAll()},e.prototype.getContent=function(){return this.messageElement.innerText},e.prototype.setTime=function(t){this.timeElement.innerText=this.parent?this.parent.timeFormatter(t):""},e.prototype.setTitle=function(t){this.titleElement.innerText=t||""},e.prototype.rerenderChildren=function(){var t=this.$container.children().map(function(t){return t.removeElement(),t.element});this.layout.render(t,this.element,0,this.size())},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.pdfUI.eventEmitter.emit(a.default.destroyCommentListReply,this,this.controller.data.replyItem.annot)},e.prototype.getTitleElement=function(){return this.titleElement},e.prototype.getTimeElement=function(){return this.timeElement},e.prototype.getToolsElement=function(){return this.toolsElement},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(641)),r=c(n(264)),i=c(n(9)),a=c(n(6)),s=c(n(265)),u=n(29);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=(0,o.default)(),p={line:"fv__icon-commentlist-line",linearrow:"fv__icon-commentlist-arrow",linedimension:"fv__icon-commentlist-measure-distance",polylinedimension:"fv__icon-commentlist-measure-perimeter",polygondimension:"fv__icon-commentlist-measure-area",circle:"fv__icon-commentlist-circle",square:"fv__icon-commentlist-square",polyline:"fv__icon-commentlist-polyline",polygon:"fv__icon-commentlist-polygon",polygoncloud:"fv__icon-commentlist-cloud",fileattachment:"fv__icon-commentlist-document-pin",freetexttypewriter:"fv__icon-commentlist-typewriter",typewriter:"fv__icon-commentlist-typewriter",freetextcallout:"fv__icon-commentlist-callout",callout:"fv__icon-commentlist-callout",freetexttextbox:"fv__icon-commentlist-textbox",textbox:"fv__icon-commentlist-textbox",freetext:"fv__icon-commentlist-textbox",ink:"fv__icon-commentlist-pencil",stamp:"fv__icon-commentlist-stamp",text:"fv__icon-commentlist-note-pin",areahighlight:"fv__icon-commentlist-area-highlight",highlight:"fv__icon-commentlist-highlight",caret:"fv__icon-commentlist-insert",replace:"fv__icon-commentlist-replace",squiggly:"fv__icon-commentlist-squiggly",strikeout:"fv__icon-commentlist-strikeout",redact:"fv__icon-commentlist-redact",underline:"fv__icon-commentlist-underline"},d=a.default.getLogger("pdf-ui.CommentCardComponent"),h=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));i.selected=!1,i.hasContent=!1,i.hasStates=!1,i.operationMode="view",i.message="";var a=i.findClosestComponent(function(t){return t instanceof s.default});return i.timeFormatter=a.timeFormatter,i}return l(e,t),e.getName=function(){return"comment"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this);var e=this.element;e.classList.add("fv__ui-commentlist-comment"),e.setAttribute("z-index",-1),e.innerHTML=f,this.repliesElement=e.querySelector(".fv__ui-commentlist-replies"),this.titleElement=e.querySelector(".fv__ui-commentlist-comment-title"),this.iconElement=e.querySelector(".fv__ui-commentlist-comment-icon"),this.timeElement=e.querySelector(".fv__ui-commentlist-comment-time"),this.messageElement=e.querySelector(".fv__ui-commentlist-comment-message"),this.messageEditorElement=e.querySelector(".fv__ui-commentlist-comment-editor-area>.fv__ui-commentlist-editor"),this.addReplyContainerElement=e.querySelector(".fv__ui-commentlist-add-reply"),this.addReplyBtn=e.querySelector(".fv__ui-commentlist-comment-tools [action=add-reply]"),this.publishMessageBtn=e.querySelector(".fv__ui-commentlist-comment-tools [action=publish]"),this.commentMenu=e.querySelector("[role=comment-menu]"),this.commentMenus=e.querySelector(".fv__ui-commentlist-comment-menus"),this.handlerElement=e.querySelector(".fv__ui-commentlist-handler"),this.replyEditorElement=e.querySelector(".fv__ui-commentlist-reply-editor>.fv__ui-commentlist-editor"),this.toolsElement=e.querySelector(".fv__ui-commentlist-comment-tools");var n=e.querySelector("[role=comment-menu]"),o=e.querySelector(".fv__ui-commentlist-comment-menus"),r=this.pdfUI.parseTemplate(n.content||n.innerHTML);r.localize(),o.appendChild(r.element),r.parent=this,r.resetDataScope(),this.menuComponent=r},e.prototype.addElementEventListener=function(t,e,n){t.addEventListener(e,n),this.addDestroyHook(function(){t.removeEventListener(e,n)})},e.prototype.deselect=function(){t.prototype.deselect.call(this),this.getInputReplyContent().length>0&&this.publishReplyMessage()},e.prototype.changePeimission=function(t){32&t.getUserPermission().getValue()?this.replyEditorElement.setAttribute("contenteditable",""):this.replyEditorElement.removeAttribute("contenteditable")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.menuComponent.mounted(),this.pdfUI.getPDFDocRender().then(function(t){return e.changePeimission(t)}),this.addDestroyHook(this.getPDFUI().addViewerEventListener("permission-changed",function(t){e.getPDFUI().getPDFDocRender().then(function(t){return e.changePeimission(t)})}));var n=(new Date).getTime();this.addElementEventListener(this.handlerElement,"click",function(t){u.isIOS?(new Date).getTime()-n<300?e.trigger("dblclick",t):(n=(new Date).getTime(),e.trigger("click",t)):e.trigger("click",t)}),this.addElementEventListener(this.handlerElement,"dblclick",function(t){e.trigger("dblclick",t)}),this.addElementEventListener(this.publishMessageBtn,"click",function(t){e.publishMessage()}),this.addElementEventListener(this.addReplyBtn,"click",function(t){e.publishReplyMessage()}),this.addElementEventListener(this.commentMenus,"click",function(t){return t.stopPropagation()}),this.addElementEventListener(this.commentMenus,"dblclick",function(t){return t.stopPropagation()}),this.addElementEventListener(this.replyEditorElement,"focus",function(t){if(e.element.classList.add("focus-reply-editor"),u.isMobile){e.replyEditorElement.scrollIntoViewIfNeeded?e.replyEditorElement.scrollIntoViewIfNeeded():e.replyEditorElement.scrollIntoView({block:"nearest",behavior:"smooth",inline:"start"})}});var o=!1;this.addElementEventListener(this.replyEditorElement,"blur",function(t){var n=e.getInputReplyContent();n&&0!==n.length||e.element.classList.remove("focus-reply-editor"),o?e.reqFocus(e.replyEditorElement):e.publishReplyMessage(),o=!1}),this.addElementEventListener(this.messageEditorElement,"blur",function(t){o?e.reqFocus(e.messageEditorElement):e.publishMessage()}),this.addElementEventListener(this.messageEditorElement,"focus",function(t){if(u.isMobile){e.messageEditorElement.scrollIntoViewIfNeeded?e.messageEditorElement.scrollIntoViewIfNeeded():e.messageEditorElement.scrollIntoView({block:"nearest",behavior:"smooth",inline:"start"})}}),this.addElementEventListener(this.element,"mousedown",function(t){o=!0}),this.addElementEventListener(this.element,"mouseup",function(t){o=!1}),this.addElementEventListener(this.menuComponent.element,"dblclick",function(t){t.stopPropagation()}),this.menuComponent.controller.setParentScope(this.controller),this.pdfUI.eventEmitter.emit(i.default.appendCommentListComment,this,this.annot)},e.prototype.reqFocus=function(t){t&&!t.matches(":focus")&&t.focus()},e.prototype.receiveBroadcast=function(e,n){switch(t.prototype.receiveBroadcast.call(this,e,n),e){case"scroll":this.menuComponent.isActive&&this.menuComponent.deactive()}},e.prototype.publishMessage=function(){this.trigger("publish",this.getInputMessageContent())},e.prototype.publishReplyMessage=function(){var t=this.getInputReplyContent();t&&t.trim().length>0&&this.trigger("reply",t.trim())},e.prototype.getInputReplyContent=function(){return this.replyEditorElement.innerText.trim()},e.prototype.getInputMessageContent=function(){return this.messageEditorElement.innerText.trim()},e.prototype.focusOnReplyEditor=function(){this.replyEditorElement.focus()},e.prototype.clearReplyEditor=function(){this.replyEditorElement.innerText=""},e.prototype.setAnnotTitle=function(t){this.titleElement.innerText=t||""},e.prototype.setAnnot=function(t){if(t){this.annot=t;var e=t.getType().toLowerCase(),n=t.getIntent&&t.getIntent(),o=t.getSubject&&t.getSubject(),r=void 0;if("highlight"===e&&t.isArea())r=p.areahighlight;else{if(n&&""!==n&&(r=p[n.toLowerCase()]),!r)switch(e){case"freetext":o&&""!==o&&(r=p[o.toLowerCase()]);break;default:r=p[e]}r||d.info("icon not found for ",e)}this.iconElement.className="fv__ui-commentlist-comment-icon "+r}},e.prototype.setModifyTime=function(t){this.timeElement.innerText=this.timeFormatter(t)},e.prototype.setMessage=function(t){this.hasContent="string"==typeof t&&t.trim().length>0,this.message=t||"",this.messageElement.innerText=this.message,this.controller.applyAll(),this.menuComponent.controller.applyAll()},e.prototype.switchToEdit=function(){t.prototype.switchToEdit.call(this),this.messageEditorElement.innerText=this.message},e.prototype.applyState=function(){t.prototype.applyState.call(this),this.element.classList.remove("has-content","no-content"),this.element.classList.add(this.hasContent?"has-content":"no-content"),this.controller.applyAll(),this.menuComponent.controller.applyAll(),"edit"===this.operationMode&&this.reqFocus(this.messageEditorElement)},e.prototype.rerenderChildren=function(){var t=this.$container.children().map(function(t){return t.removeElement(),t.element});this.layout.render(t,this.repliesElement,0,this.size())},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.pdfUI.eventEmitter.emit(i.default.destroyCommentListComment,this,this.annot)},e.prototype.getTitleElement=function(){return this.titleElement},e.prototype.getTimeElement=function(){return this.timeElement},e.prototype.getToolsElement=function(){return this.toolsElement},e}(r.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=l(n(650)),i=l(n(1));n(1400);var a=l(n(54)),s=l(n(9)),u=n(32),c=n(29);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments));return n.dataURL=null,n.cursorStyle="fv__cursor-none",n}return f(e,t),e.getStateName=function(){return"pdfSign"},e.prototype.pageHandler=function(t){var e=this,n=this;this.pageRender=t;var o=t.$handler,l=o[0],f=this.hammer=new Hammer.Manager(l,{recognizers:[[Hammer.Tap],[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),p=t.getScale(),d=114*p+4,h=57*p+4,g=(0,i.default)('<img style="position: absolute;top:-'+h+"px;left:-"+d+"px;width:"+d+"px;height:"+h+'px;border:2px solid transparent"></img>');o.append(g),this.pdfViewer[0].eventEmitter.on(s.default.applicationOfInkSign,function(t){e.dataURL=t,g.prop({src:n.dataURL||n.pdfViewer[0].getInkSignManager().getCurrentInkSign().getDataURL()})}),o.addClass(this.cursorStyle),o.on("mousemove",function(t){var e=l.getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;g.css({top:o,left:n})}),o.on("mouseleave",function(t){g.css({top:-h,left:-d})}),n.pdfViewer[0].eventEmitter.on("add-inksign",function(e){if(e.pageRender!==t){var r=o.find(".fv__signature-tool-container");r&&r.remove(),g.show(),n.hammer.set({enable:!0})}}),t.getPDFPage().then(function(i){var p=t.getScale();f.on("tap",function(f){g.hide(),o.removeClass(e.cursorStyle);var d=function(t,e){var n=t.getBoundingClientRect(),o=e.srcEvent,r=(0,u.getClientX)(o),i=(0,u.getClientY)(o);return{x:r-n.left,y:i-n.top}}(l,f),h=(0,r.default)();o.append(h),n.pdfViewer[0].eventEmitter.emit("add-inksign",n);var m=o.find("#signatureInPage")[0],y=m.getContext("2d"),v=new Image,b=114*p,w=57*p;v.onload=function(){m.width=b,m.height=w,y.drawImage(v,0,0,m.width,m.height)},v.src=n.dataURL||n.pdfViewer[0].getInkSignManager().getCurrentInkSign().getDataURL();var A=o.find(".fv__signature-tool-container"),_=(A[0],o.find(".fv__signature-tool-btns")),P=0,O=0;c.isMobile&&(P=b/2,O=w/2),A.css({top:d.y-O,left:d.x-P});var E=n.moveHammer=new Hammer.Manager(m,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),x=null;E.on("panstart",function(t){x=t.center}),E.on("panmove",function(t){var e=t.center.x-x.x,n=t.center.y-x.y,r=A.css("top"),i=A.css("left"),a=parseFloat(r)+n,s=parseFloat(i)+e,u=a+A.height(),c=s+A.width();a<0&&(a=0),s<0&&(s=0),c>o.width()&&(s=o.width()-A.width()),u>o.height()&&(a=o.height()-A.height()),A.css({top:a,left:s});var l=_.outerHeight();a>l?_.css({top:-l,bottom:"unset"}):_.css({top:"unset",bottom:-l}),x=t.center}),E.on("panend",function(t){x=null});var C=o.find(".fv__signature-tool-size")[0],S=n.resizeHammer=new Hammer.Manager(C,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});function D(){var e=t.getScale(),n=parseFloat(A.css("top")),o=parseFloat(A.css("left"));A.css({top:n*(e/p),left:o*(e/p)});var r=m.width,i=m.height;m.width=r*(e/p),m.height=i*(e/p),y.drawImage(v,0,0,m.width,m.height),p=e}n.pdfViewer[0].eventEmitter.on(s.default.zoomToSuccess,function(){D()}),n.pdfViewer[0].eventEmitter.on(s.default.fitWidthResizeViewport,function(){D()});var M=null;S.on("panstart",function(t){M=t.center}),S.on("panmove",function(t){var e=t.center.x-M.x,n=t.center.y-M.y;m.width=m.width+e,m.height=m.height+n,y.drawImage(v,0,0,m.width,m.height),M=t.center}),S.on("panend",function(t){M=null}),n.hammer.set({enable:!1}),o.find(".fv__icon-screenshot-ok").on("click",function(e){var o={},r=A.width(),s=A.height();o.top=parseFloat(A.css("top")),o.left=parseFloat(A.css("left")),o.right=o.left+r,o.bottom=o.top+s;var u=function(t){var e=window.atob(t),n=e.length,o=new Uint8Array(n);for(;n--;)o[n]=e.charCodeAt(n);return o}(v.src.replace("data:image/png;base64,","")),c=i.reverseDeviceRect(o,t.getScale());i.addImage(u,c).then(function(){n.pdfViewer[0].getStateHandlerManager().switchTo(a.default.getStateName())})}),o.find(".fv__icon-screenshot-cancel").on("click",function(t){n.pdfViewer[0].getStateHandlerManager().switchTo(a.default.getStateName())})})})},e.prototype.destroyPageHandler=function(){this.dataURL=null,this.moveHammer&&this.moveHammer.destroy(),this.resizeHammer&&this.resizeHammer.destroy(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.empty()},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=c(n(4)),a=c(n(656)),s=c(n(3)),u=n(49);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return l(e,t),e.getName=function(){return"CreateStampController"},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this);var n=this.getPDFUI();n.getStateHandlerManager().then(function(t){return t.register(a.default)}),this.addDestroyHook(n.addViewerEventListener(s.default.switchStateHandler,function(t){if(t.getStateName()!=a.default.getStateName()){var n=e.component;n.isActive&&n.doDeactive()}})),this.addDestroyHook(n.addViewerEventListener(s.default.openFileSuccess,function(t){n.getPDFDocRender().then(function(t){return t.getUserPermission().getValue()}).then(function(t){return Promise.all([32&t,n.getComponentByName("create-custom-stamps")])}).then(function(t){var e=o(t,2),n=e[0],r=e[1];n?r.unlock():r.lock()})})),n.getPDFViewer().then(function(t){e.addDestroyHook(t.getKeyboardEventBinder(u.ANNOTATION_CREATING_BINDER).on(u.KEY_MAP_ESC_CREATING_DRAWING,function(t){if(e.component.isActive){var o=e.component.findClosestComponent(function(t){return"tab"===t.nodeName});o&&o.isActive&&n.getStateHandlerManager().then(function(t){var e=t.getCurrentStates();e.activedChildrenCount>0?e.activedChildrenCount=0:t.switchTo("hand")})}}))})},e.prototype.handle=function(t,e){if(e){var n=this.getPDFUI().defaultStamps[t]&&this.getPDFUI().defaultStamps[t][e],o=a.default.DefaultStampWidth,r=a.default.DefaultStampHeight;n||(n=this.getPDFUI().customStamps[t][e],o=n.width,r=n.height),this.getPDFUI().getStateHandlerManager().then(function(n){n.switchTo(a.default.getStateName()),a.default.setStampInfo(t,e,o,r)})}},r(e,null,[{key:"permission",get:function(){return 32}}]),e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=l(n(42)),i=l(n(6)),a=n(22),s=n(29);n(1412);var u=n(49),c=n(32);function l(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=i.default.getLogger("creation/complexshape/state"),h=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.type=o,r.cursorStyle="fv__cursor-crosshair",r}return p(e,t),e.prototype.pageHandler=function(t){var e=this;this.pageRender=t,this.destroyPageHooks=[];var n=t.$handler;n.addClass(this.cursorStyle);var o=n.get(0),r=s.isTouchDevice?"touchmove":"mousemove",i=s.isTouchDevice?"touchstart":"mousedown",l=this.hammer=new Hammer.Manager(o);l.add(new Hammer.Tap({event:"doubletap",taps:2})),l.add(new Hammer.Tap({event:"singletap"})),l.get("doubletap").recognizeWith("singletap"),l.get("singletap").requireFailure("doubletap"),this.creatingState=0;var f=new a.DebouncePromiseQueue,p=(this.pdfViewer.keyboard,this.pdfViewer.getKeyboardEventBinder(u.ANNOTATION_CREATING_BINDER),function(t){if(e.creatingState){var n=o.getBoundingClientRect();f.push(function(){return e.annotPromise.then(function(o){return e.adjust(o,{deviceX:(0,c.getClientX)(t)-n.left,deviceY:(0,c.getClientY)(t)-n.top})})})}}),d=function(){return o.addEventListener(r,p)},h=function(){return o.removeEventListener(r,p)};o.addEventListener(i,h),this.destroyPageHooks.push(function(){o.removeEventListener(i,h)}),l.on("singletap",function(n){var r=n.srcEvent,i=(0,c.getClientX)(r),a=(0,c.getClientY)(r),s=o.getBoundingClientRect(),u=i-s.left,l=a-s.top;t.getPDFPage().then(function(t){return e.creatingState?e.annotPromise.then(function(t){return e.addPoint(t,{deviceX:u,deviceY:l})}):(e.creatingState=1,e.create(t,{deviceX:u,deviceY:l}))}).then(d)}),l.on("doubletap",function(t){if(e.creatingState){var n=t.srcEvent,r=o.getBoundingClientRect();e.annotPromise.then(function(t){e.canBeCompleted(t)&&(h(),e.creatingState=2,e.end(t,{deviceX:(0,c.getClientX)(n)-r.left,deviceY:(0,c.getClientY)(n)-r.top}))}).then(d)}}),this.destroyPageHooks.push(function(){return l.destroy()}),this.destroyPageHooks.push(h),this.destroyPageHooks.push(function(){return f.end()})},e.prototype.create=function(t,e){var n=this,r=e.deviceX,i=e.deviceY,a=t.reverseDevicePoint([r,i],this.pageRender.scale),s=o(a,2),u=s[0],c=s[1];return this.annotPromise=t.addAnnot(this.createAnnotJson({flags:4,type:this.type,date:new Date,rect:{left:u,top:c,right:u+1,bottom:c+1},vertexes:[{x:u,y:c},{x:u,y:c}]})).then(function(t){var e=t[0],o=n.pageRender.annotsRender.getAnnotRender(e.getId()).component;return n.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),o.$ui.addClass("creating"),o})},e.prototype.addPoint=function(t,e){var n=e.deviceX,o=e.deviceY;return t.addPoint(n,o)},e.prototype.adjust=function(t,e){var n=e.deviceX,o=e.deviceY;return t.setLastPoint(n,o)},e.prototype.end=function(t,e){var n=this,o=e.deviceX,r=e.deviceY;return this.creatingState=0,this.pageRender.getPDFPage().then(function(e){var i=n.pageRender.getScale(),a=e.getPxWidth()*i,s=e.getPxHeight()*i,u=Math.max(0,Math.min(o,a)),c=Math.max(0,Math.min(r,s));return n.adjust(t,{deviceX:u,deviceY:c}).then(function(){var e=t.annot.getVertexes(),o=e.map(function(t){return t.x}),r=e.map(function(t){return t.y});Math.min.apply(Math,f(o)),Math.max.apply(Math,f(o)),Math.min.apply(Math,f(r)),Math.max.apply(Math,f(r));return n.pageRender.getPDFPage()}).then(function(){d.debug(t.getRect()),n.pdfViewer.getMementoManager().after({host:t,method:"addAnnot"}),t.$ui.removeClass("creating"),t.parent("annotsRender").activeAnnot(t.getId())})})},e.prototype.cancel=function(){this.annotPromise&&(this.creatingState=0,this.annotPromise.then(function(t){t.removeAnnot()}))},e.prototype.canBeCompleted=function(){return!0},e.prototype.createAnnotJson=function(t,e){return t},e.prototype.destroyPageHandler=function(){var t=this;this.destroyPageHooks&&this.destroyPageHooks.forEach(function(t){return t()}),this.pageRender.$handler.removeClass(this.cursorStyle),0!==this.creatingState&&this.annotPromise.then(function(e){e.removeAnnot().then(function(){t.pdfViewer.getMementoManager().getUndoStack().pop()})})},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=f(n(42)),i=f(n(6)),a=n(22),s=n(20),u=f(n(36));n(1412);var c=n(13),l=n(49);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}i.default.getLogger("state-handler/create-line-state");var d=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.LineEndingStyle.None,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.LineEndingStyle.None;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.startStyle=o,i.endStyle=r,i.cursorStyle="fv__cursor-crosshair",i}return p(e,t),e.getStateName=function(){return c.STATE_HANDLER_CREATE_LINE},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n.get(0),i=this.hammer=new Hammer.Manager(r);i.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var s=void 0,c=void 0,f=!1;this.pdfViewer.keyboard,this.pdfViewer.getKeyboardEventBinder(l.ANNOTATION_CREATING_BINDER);i.on("panstart",function(t){f=!1;var n=(0,u.default)(r,t);c=[n.x,n.y],e.pageRender.getPDFPage().then(function(t){var n=t.reverseDevicePoint(c,e.pageRender.scale),r=o(n,2),i=r[0],a=r[1];e.start(t,{left:i,top:a})}),s=new a.DebouncePromiseQueue}),i.on("panmove",function(t){if(!f){var n=[c[0]+t.deltaX,c[1]+t.deltaY];s.push(function(){return f?Promise.resolve():e.pageRender.getPDFPage().then(function(t){var r=t.reverseDevicePoint(e.correctCoord(t,n),e.pageRender.scale),i=o(r,2),a=i[0],s=i[1];return e.adjust(t,{left:a,top:s})})})}}),i.on("panend",function(t){if(!f){var n=[c[0]+t.deltaX,c[1]+t.deltaY];return s.end(),e.pageRender.getPDFPage().then(function(t){var r=t.reverseDevicePoint(e.correctCoord(t,n),e.pageRender.scale),i=o(r,2),a=i[0],s=i[1];return e.end(t,{left:a,top:s})})}}),i.on("pancancel",function(t){f||(s.end(),e.cancel())})},e.prototype.correctCoord=function(t,e){var n=this.pageRender.getScale(),o=t.getPxWidth()*n,r=t.getPxHeight()*n;return[Math.max(0,Math.min(o,e[0])),Math.max(0,Math.min(r,e[1]))]},e.prototype.start=function(t,e){var n=this,o=e.left,r=e.top;return this.annotPromise=t.addAnnot(this.createAnnotJson({flags:4,type:"line",date:new Date,rect:{left:o,right:o+1,top:r,bottom:r-1},startPoint:{x:o,y:r},startStyle:this.startStyle,endStyle:this.endStyle})).then(function(t){var e=t[0],o=n.pageRender.annotsRender.getAnnotRender(e.getId()).component;return n.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),o})},e.prototype.createAnnotJson=function(t){return t},e.prototype.adjust=function(t,e){return this.annotPromise.then(function(t){var n=t.annot,o=n.getStartPoint();Math.min(o.x,e.left),Math.min(o.y,e.top),Math.max(o.x,e.left),Math.max(o.y,e.top);return n.setEndPoint({x:e.left,y:e.top})})},e.prototype.end=function(t,e){var n=this;return this.adjust(t,e).then(function(t){return n.annotPromise}).then(function(t){return n.pdfViewer.getMementoManager().after({host:t,method:"addAnnot"}),t.parent("annotsRender").activeAnnot(t.getId()),t})},e.prototype.cancel=function(){this.annotPromise&&this.annotPromise.then(function(t){t.removeAnnot()})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler(),this.offCancelEvent&&this.offCancelEvent()},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}return t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.mult=function(e){return new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.negate=function(){return new t(-this.x,-this.y)},t.prototype.substract=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.normalize=function(){var e=this.length();return 0===e?new t(0,0):new t(this.x/e,this.y/e)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.perp=function(){return new t(this.y,-this.x)},t.prototype.segment=function(e){return{from:this,to:e,dir:new t(e.x-this.x,e.y-this.y)}},t.prototype.rotate=function(e){var n=Math.sin(e),o=Math.cos(e);return new t(this.x*o+this.y*n,-this.x*n+this.y*o)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){a.call(this,t,e,e.insertIndex||0)},e.insertAt=a;var o=r(n(25));function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(6)).default.getLogger("parser.actions.insert");function a(t,e,n){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var r=e.config;r||(i.debug("config is required for fragment components",e),r=[]),t.nodeName,Array.isArray(r)||(r=[r]);var a={};r.forEach(function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(a[t.target])throw new Error("Duplicated target name: "+t.target);a[t.target]=t});var s=this.templateParser;e.target.forEach(function(r){var i=t.querySelectorAll(r);if(i.length<1)throw new Error("target element not found: "+r);i.forEach(function(t){var r=e.template?s.parse(e.template):null;if(!r)throw new Error('invalid fragment template: "'+e.template+'"');var i=function(t){var e=r.findByName(t),n=a[t];e.forEach(function(t){return t.appendComponentOptions(n)})};for(var u in a)i(u);var c=t.children.filter(function(t){return t instanceof o.default}),l=c[n];!l||n>=c.length?t.append(r):l.before(r)})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=p(n(756)),r=n(5),i=p(n(25)),a=p(n(6)),s=p(n(18)),u=p(n(307)),c=p(n(314)),l=p(n(7)),f=(p(n(16)),p(n(194)));function p(t){return t&&t.__esModule?t:{default:t}}a.default.getLogger("UIXNodeParser");var d=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.localizer=e,this.pdfui=n,this.templateParser=o}return t.prototype.parse=function(t,e){var n=this.parseTemplateToNode(t,e);return this.parseNode(n)},t.prototype.parseTemplateToNode=function(t,e){var n=this.templateParser.parse(t);return this.parseFragments(e,n),n},t.prototype.parseFragments=function(t,e){var n=this;t.forEach(function(t){var i=o.default[t.action||r.FRAGMENT_ACTION.EXT];if(!i)throw new Error("Invalid action type: "+t.action);i.call(n,e,t)})},t.prototype.parseNode=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments[2];if(t instanceof u.default)return this.parseTextNode(t,n);var r=void 0,a=t.getParserDirectiveInstance(n,this.localizer);if(a)r=a.parseComponent(this,o);else{var c=new f.default(this,this.pdfui,this.localizer);c.appendOptions(t.componentOptions).appendInitData(o).appendVNode(t).appendParentComponent(n),t.getComponentClass().preprocess(c,this),t=c.vnode,r=c.build()}if(r){var l=r.directive;r.prelink(),l.componentPrelink();var p=t.children.filter(function(t){return t instanceof i.default}),d=r instanceof s.default;if(p.length>0&&!d)throw new Error(t.name+" is not a container type component, so it can't have child components, but actual: "+t.template);if(d)(r.acceptText()?t.children:p).forEach(function(t){var n=e.parseNode(t,r);n&&(t instanceof u.default?r.appendText(n):r.append(n))});else r.acceptText()&&t.children.forEach(function(t){var n=e.parseTextNode(t,r);r.appendText(n)});return r.postlink(),l.componentPostlink(),r}},t.prototype.parseTextNode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new c.default({viewConfig:{textContent:t.text,attrs:{},vnode:t},callback:e?e.controller:null},l.default.root(),this.localizer);return n.render(),n.prelink(),n.postlink(),n},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(18));n(1440);var r=s(n(311)),i=n(5),a=n(49);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.modal=i.backdrop||i.modal,i.appendTo&&(i.appendTo=document.querySelector(i.appendTo)),i.$hasBeenLocalized=i.isVisible,i}return u(e,t),e.getName=function(){return"layer"},e.getMetadata=function(){return{options:{visible:{type:"boolean",field:"isVisible",defaultValue:!1},backdrop:{type:"boolean",defaultValue:!1},modal:{type:"boolean",defaultValue:!1},"append-to":{type:"string",field:"appendTo"}}}},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer"),this.containerElement=document.createElement("div"),this.containerElement.classList.add("fv__ui-layer-inner"),this.element.appendChild(this.containerElement),this.modal&&(this.backdropElement=document.createElement("div"),this.backdropElement.classList.add("fv__ui-layer-modal")),this.backdrop&&this.backdropElement.classList.add("fv__ui-layer-backdrop")},e.prototype.mounted=function(){var e=this;if(t.prototype.mounted.call(this),this.backdrop){var n=this.element.parentElement;if(n){var o=getComputedStyle(n).position;""!==o&&"static"!==o||(n.style.cssText+="position: relative")}}this.isVisible&&(this.isVisible=!1,this.show()),this.pdfUI.getPDFViewer().then(function(t){e.addDestroyHook(t.getKeyboardEventBinder(a.ANNOTATION_CREATING_BINDER).on(a.KEY_MAP_ESC_CREATING_DRAWING,function(t){e.hide()}))})},e.prototype.getContainerElement=function(){return this.containerElement},e.prototype.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo;this.$hasBeenLocalized||(this.localize(),this.$hasBeenLocalized=!0),e||(e=this.getRoot().element),e.appendChild(this.element),t.prototype.show.call(this)},e.prototype.open=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo;t||(t=this.getRoot().element),this.show(t)},e.prototype.close=function(){this.trigger("beforeClose"),t.prototype.destroy.call(this),this.trigger(i.COMPONENT_EVENTS.CLOSED)},e.prototype.doShown=function(){this.showBackdrop(),t.prototype.doShown.call(this)},e.prototype.showBackdrop=function(){this.backdropElement&&this.element.parentElement&&this.element.parentElement.insertBefore(this.backdropElement,this.element)},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove()},e.prototype.doHidden=function(){t.prototype.doHidden.call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove()},e.prototype.rerenderChildren=function(){var t=this,e=this.$container.children(),n=e.filter(function(t){return t instanceof r.default}),o=e.filter(function(t){return!(t instanceof r.default)}).map(function(t){return t.removeElement(),t.element});this.layout.render(o,this.getContainerElement(),0,this.size()),n.forEach(function(e){e.removeElement(),t.element.insertBefore(e.element,t.containerElement)})},e}(o.default);e.default=c},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.title=n.title||i.attrs.title,i}return o(e,t),e.getName=function(){return"accordion-card"},e.prototype.doInsert=function(t,e){var n=this.bodyElement.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.render=function(){t.prototype.render.call(this),this.titleElement=document.createElement("span"),this.caretElement=document.createElement("i"),this.headerElement=document.createElement("div"),this.bodyElement=document.createElement("div"),this.element.classList.add("fv__ui-accordion-card"),this.headerElement.classList.add("fv__ui-accordion-card-header"),this.bodyElement.classList.add("fv__ui-accordion-card-body"),this.caretElement.classList.add("fv__icon-toolbar-caret"),this.titleElement.setAttribute("data-i18n",this.title),this.headerElement.appendChild(this.titleElement),this.headerElement.appendChild(this.caretElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(){e.isActive?e.deactive():e.active()};this.headerElement.addEventListener("click",n),this.addDestroyHook(function(t){return e.headerElement.removeEventListener("click",n)})},e.prototype.setTitle=function(t){this.title=t,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement)},e.prototype.rerenderChildren=function(){var t=this.$container.children().map(function(t){return t.removeElement(),t.element});this.layout.render(t,this.bodyElement,0,this.size())},e.prototype.active=function(){this.isVisible&&t.prototype.active.call(this)},e.prototype.doActive=function(){if(this.element.classList.add("active"),this.parent&&this.parent.singleton){var t=this.parent.lastActiveCard;t&&t!==this&&t.deactive(),this.parent.lastActiveCard=this}},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.acceptText=function(){return!0},e.prototype.appendText=function(e){t.prototype.appendText.call(this,e)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){return t=parseFloat(t),isFinite(t)?t:e},r=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.min=o(e,-1/0),this.max=o(n,1/0),this.step=o(r,1);var i=Math.min(this.min,this.max),a=Math.max(this.min,this.max);this.step<0?(this.max=i,this.min=a):0===this.step?this.max=this.min:(this.max=a,this.min=i),(this.min>this.max&&this.step>0||this.min<this.max&&this.step<0)&&(this.step=-this.step),0===this.step&&(this.step=this.min>this.max?-1:1),this.min===this.max&&(this.step=0),this.step>this.max-this.min&&(this.step=this.max-this.min)}return t.prototype.increment=function(t){return Map.min(this.max,t+this.step)},t.prototype.decrement=function(t){return Math.max(this.min,t-this.step)},t.prototype.normalizeValue=function(t){return"number"!=typeof t&&(t=parseFloat(t)),isNaN(t)?this.min:(t=Math.min(this.max,Math.max(t,this.min)),0===this.step?t:isFinite(this.min)?e(this.min+Math.round((t-this.min)/this.step)*this.step,this.step):isFinite(this.max)?e(this.max-Math.round((this.max-t)/this.step)*this.step,this.step):e(Math.round(t/this.step)*this.step,this.step));function e(t,e){var n=e.toString(),o=n.indexOf(".");if(-1!==o){var r=Math.pow(10,n.length-o-1);return Math.floor(t*r)/r}return t}},t}();e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.selectable=!0===n.selectable,i}return o(e,t),e.getName=function(){return"dropdown-item"},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.doDisable=function(){this.element.classList.add("disabled")},e.prototype.doEnable=function(){this.element.classList.remove("disabled")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-dropdown-item")},e.prototype.acceptText=function(){return!0},e.prototype.sync=function(e,n){switch(e){case"text":this.element.setAttribute("data-i18n",n),this.localize();break;default:t.prototype.sync.call(this,e,n)}},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(144));var o=i(n(16));n(1496);i(n(117));var r=i(n(108));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-class"]||a.iconCls,i.text=i.text||i.viewConfig.textContent,i}return a(e,t),e.getName=function(){return"xbutton"},e.getMetadata=function(){return{options:{text:{type:"string"},action:{type:"string"}}}},e.prototype.setText=function(t){this.text=t||this.text,this.renderText()},e.prototype.setIconCls=function(t){this.iconCls=t||this.iconCls,this.renderIcon()},e.prototype.createDOMElement=function(){var t=void 0;return this.parent instanceof r.default?(t=document.createElement("li")).classList.add("fv__ui-dropdown-button"):t=document.createElement("a"),t},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-button");var e=document.createElement("i");e.classList.add("fv__ui-button-icon"),e.classList.add(this.iconCls),this.iconCls&&(this.appendIconElement(e),this.iconElement=e)},e.prototype.renderText=function(){var t=this.textElement||(this.textElement=document.createElement("span"));return t.classList.add("fv__ui-button-text"),t.innerText="","string"==typeof this.text&&this.text.length>0?(this.appendTextElement(t),t.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach(function(e){t.appendChild(e.element)}),this.parent instanceof r.default&&t.classList.add("fv__ui-dropdown-item-text"),this.localizer.localizeElement(t),t},e.prototype.appendTextElement=function(t){this.element.appendChild(t)},e.prototype.appendIconElement=function(t){this.element.appendChild(t)},e.prototype.renderIcon=function(){var t=this.element.querySelector("i");this.iconCls?(t||(t=document.createElement("i")).classList.add("fv__ui-button-icon"),t.className=this.iconCls):t&&t.remove()},e.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},e.prototype.acceptText=function(){return!0},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){e.disabled||(e.trigger("click"),e.controller.handle(t),t.preventDefault(),t.stopPropagation())};this.element.addEventListener("click",n),this.addDestroyHook(function(){e.element.removeEventListener("click",n)})},e.prototype.triggerHandler=function(){this.element.click()},e.prototype.update=function(){t.prototype.update.call(this),this.renderText()},e.prototype.removeText=function(e){return!!t.prototype.removeText.call(this,e)&&(this.renderText(),!0)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(813));var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parser=e,this.pdfui=n,this.localizer=o,this.options={parser:e}}return t.prototype.appendOptions=function(t){return Object.assign(this.options,t),this},t.prototype.appendInitData=function(t){return this.options.$initData=Object.assign(this.options.$initData||{},t),this},t.prototype.appendVNode=function(t){return this.vnode=t,this.options.viewConfig=t.toViewConfig(),this},t.prototype.appendParentComponent=function(t){return this.parentComponent=t,this.options.parentComponent=t,this},t.prototype.build=function(){var t=this.vnode.getComponentClass(),e=this.vnode.getDirectiveInstances(this.parentComponent,this.localizer),n=new o.default({node:this.vnode,parentComponent:this.parentComponent},e);n.processComponentOptions(this.options),!this.options.callback&&this.parentComponent&&(this.options.callback=this.parentComponent.controller);var r=new t(this.options,this.vnode.module,this.localizer);r.setPDFUIInstance(this.pdfui),n.init(r),n.beforeComponentRender();try{r.render()}finally{n.afterComponentRender()}return r},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),r=function(t){return t&&t.__esModule?t:{default:t}}(n(7));var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.namespace,i=void 0===n?o.ROOT_MODULE_NAME:n,a=e.type,s=e.text;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$$options={namespace:i,type:a,text:s},this.componentOptions={},this.module=r.default._nostrictModule(i),this.namespace=i,this.text=s,this.parent=null,this.type=a}return t.NODE_TYPE_CONTAINER=function(){return"container"},t.NODE_TYPE_TEXT=function(){return"text"},t.NODE_TYPE_FRAGMENT=function(){return"fragment"},t.prototype.appendComponentOptions=function(t){this.componentOptions=t||{}},t.prototype.clone=function(){return new t(this.$$options)},t.prototype.getRoot=function(){return this.parent?this.parent.getRoot():this},t.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this},t.prototype.index=function(){return this.parent?this.parent.children.indexOf(this):-1},t.prototype.after=function(t){var e=this.index();if(-1===e)throw new Error("cannot insert node after a node that has not been appended");this.parent&&this.parent.insert(t,e+1)},t.prototype.before=function(t){var e=this.index();if(-1===e)throw new Error("cannot insert node before a node that has not been appended");this.parent&&this.parent.insert(t,e)},t.prototype.prelink=function(){},t.prototype.postlink=function(){},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(825)),r=s(n(824)),i=s(n(822)),a=s(n(814));s(n(63));function s(t){return t&&t.__esModule?t:{default:t}}var u={};function c(t){if("string"!=typeof t)throw new Error(t+" is not a valid selector");if(t=t.trim(),u[t])return u[t];var e=(new r.default).tokenize(t).map(function(t){return i.default.create(t.type,t.options)});return new a.default(e)}e.default={selectors:u,parseSelectors:function(t){var e=t.split(/\s*,\s*/).map(function(t){return c(t)});return e.length>1?e[0]:new o.default(e)},parseSelector:c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(e instanceof ArrayBuffer&&e.byteLength>o)return new Blob([e]);if(e.buffer instanceof ArrayBuffer)return t(e.buffer,n);return e};var o=52428800},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(428);var o=function(t){return t&&t.__esModule?t:{default:t}}(n(885));e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(41));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.showAt=function(t,e){(0,o.default)()},t.prototype.destroy=function(){(0,o.default)()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};if(/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(TZ)/.test(e)){var r=-parseInt(t.getTimezoneOffset()/60);r>0&&(r="+"+r),r+=n+"00"+n,e=e.replace("TZ",r)}for(var i in o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function t(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=!0;"boolean"==typeof e&&(s=e,e=r[0],r=r.slice(1));(null===e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e)&&(e={});return r.reduce(function(e,n){if(null==n)return e;for(var o in n){var r=e[o],i=n[o];if(e!==i){var u=void 0;if(s&&i&&(a(i)||(u=Array.isArray(i)))){var c=void 0;u?(u=!1,c=r&&Array.isArray(r)?r:[]):c=r&&a(r)?r:{},e[o]=t(s,c,i)}else void 0!==i&&(e[o]=i)}}return e},e)};var r={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function i(t,e){return null!=t&&{}.hasOwnProperty.call(t,e)}function a(t){if(!t||"object"!==function(t){if(null===t)return"null";switch(void 0===t?"undefined":o(t)){case"object":case"function":return r[Object.prototype.toString(t)]||"object"}return void 0===t?"undefined":o(t)}(t)||t.nodeType||null!=t&&t==t.window)return!1;if(t.constructor&&!i(t,"constructor")&&!i(t.constructor.prototype,"isPrototypeOf"))return!1;var e=void 0;for(e in t);return void 0===e||i(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.userSettingsMap=e.uiMap=void 0;var o=n(905),r=n(338);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.toString=function(t){return a.keyCodeToStr(t)},t.fromString=function(t){return a.strToKeyCode(t)},t}();e.default=i;var a=e.uiMap=new o.KeyCodeStrMap,s=e.userSettingsMap=new o.KeyCodeStrMap;!function(){var t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];n.forEach(function(e){a.define(t,e),s.define(t,e)})};t(r.KeyCodes.Unknown,"unknown"),t(r.KeyCodes.Backspace,"Backspace"),t(r.KeyCodes.Tab,"Tab"),t(r.KeyCodes.Enter,"Enter"),t(r.KeyCodes.Shift,"Shift"),t(r.KeyCodes.Ctrl,"Ctrl"),t(r.KeyCodes.Alt,"Alt"),t(r.KeyCodes.PauseBreak,"PauseBreak"),t(r.KeyCodes.CapsLock,"CapsLock"),t(r.KeyCodes.Escape,"Escape"),t(r.KeyCodes.Space,"Space"),t(r.KeyCodes.PageUp,"PageUp"),t(r.KeyCodes.PageDown,"PageDown"),t(r.KeyCodes.End,"End"),t(r.KeyCodes.Home,"Home"),t(r.KeyCodes.LeftArrow,"LeftArrow","Left"),t(r.KeyCodes.UpArrow,"UpArrow","Up"),t(r.KeyCodes.RightArrow,"RightArrow","Right"),t(r.KeyCodes.DownArrow,"DownArrow","Down"),t(r.KeyCodes.Insert,"Insert"),t(r.KeyCodes.Delete,"Delete"),t(r.KeyCodes.KEY_0,"0"),t(r.KeyCodes.KEY_1,"1"),t(r.KeyCodes.KEY_2,"2"),t(r.KeyCodes.KEY_3,"3"),t(r.KeyCodes.KEY_4,"4"),t(r.KeyCodes.KEY_5,"5"),t(r.KeyCodes.KEY_6,"6"),t(r.KeyCodes.KEY_7,"7"),t(r.KeyCodes.KEY_8,"8"),t(r.KeyCodes.KEY_9,"9"),t(r.KeyCodes.KEY_A,"A"),t(r.KeyCodes.KEY_B,"B"),t(r.KeyCodes.KEY_C,"C"),t(r.KeyCodes.KEY_D,"D"),t(r.KeyCodes.KEY_E,"E"),t(r.KeyCodes.KEY_F,"F"),t(r.KeyCodes.KEY_G,"G"),t(r.KeyCodes.KEY_H,"H"),t(r.KeyCodes.KEY_I,"I"),t(r.KeyCodes.KEY_J,"J"),t(r.KeyCodes.KEY_K,"K"),t(r.KeyCodes.KEY_L,"L"),t(r.KeyCodes.KEY_M,"M"),t(r.KeyCodes.KEY_N,"N"),t(r.KeyCodes.KEY_O,"O"),t(r.KeyCodes.KEY_P,"P"),t(r.KeyCodes.KEY_Q,"Q"),t(r.KeyCodes.KEY_R,"R"),t(r.KeyCodes.KEY_S,"S"),t(r.KeyCodes.KEY_T,"T"),t(r.KeyCodes.KEY_U,"U"),t(r.KeyCodes.KEY_V,"V"),t(r.KeyCodes.KEY_W,"W"),t(r.KeyCodes.KEY_X,"X"),t(r.KeyCodes.KEY_Y,"Y"),t(r.KeyCodes.KEY_Z,"Z"),t(r.KeyCodes.Meta,"Meta"),t(r.KeyCodes.ContextMenu,"ContextMenu"),t(r.KeyCodes.F1,"F1"),t(r.KeyCodes.F2,"F2"),t(r.KeyCodes.F3,"F3"),t(r.KeyCodes.F4,"F4"),t(r.KeyCodes.F5,"F5"),t(r.KeyCodes.F6,"F6"),t(r.KeyCodes.F7,"F7"),t(r.KeyCodes.F8,"F8"),t(r.KeyCodes.F9,"F9"),t(r.KeyCodes.F10,"F10"),t(r.KeyCodes.F11,"F11"),t(r.KeyCodes.F12,"F12"),t(r.KeyCodes.F13,"F13"),t(r.KeyCodes.F14,"F14"),t(r.KeyCodes.F15,"F15"),t(r.KeyCodes.F16,"F16"),t(r.KeyCodes.F17,"F17"),t(r.KeyCodes.F18,"F18"),t(r.KeyCodes.F19,"F19"),t(r.KeyCodes.NumLock,"NumLock"),t(r.KeyCodes.ScrollLock,"ScrollLock"),t(r.KeyCodes.US_SEMICOLON,";",";","OEM_1"),t(r.KeyCodes.US_EQUAL,"=","=","OEM_PLUS"),t(r.KeyCodes.US_COMMA,",",",","OEM_COMMA"),t(r.KeyCodes.US_MINUS,"-","-","OEM_MINUS"),t(r.KeyCodes.US_DOT,".",".","OEM_PERIOD"),t(r.KeyCodes.US_SLASH,"/","/","OEM_2"),t(r.KeyCodes.US_BACKTICK,"`","`","OEM_3"),t(r.KeyCodes.ABNT_C1,"ABNT_C1"),t(r.KeyCodes.ABNT_C2,"ABNT_C2"),t(r.KeyCodes.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),t(r.KeyCodes.US_BACKSLASH,"\\","\\","OEM_5"),t(r.KeyCodes.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),t(r.KeyCodes.US_QUOTE,"'","'","OEM_7"),t(r.KeyCodes.OEM_8,"OEM_8"),t(r.KeyCodes.OEM_102,"OEM_102"),t(r.KeyCodes.NUMPAD_0,"NumPad0"),t(r.KeyCodes.NUMPAD_1,"NumPad1"),t(r.KeyCodes.NUMPAD_2,"NumPad2"),t(r.KeyCodes.NUMPAD_3,"NumPad3"),t(r.KeyCodes.NUMPAD_4,"NumPad4"),t(r.KeyCodes.NUMPAD_5,"NumPad5"),t(r.KeyCodes.NUMPAD_6,"NumPad6"),t(r.KeyCodes.NUMPAD_7,"NumPad7"),t(r.KeyCodes.NUMPAD_8,"NumPad8"),t(r.KeyCodes.NUMPAD_9,"NumPad9"),t(r.KeyCodes.NUMPAD_MULTIPLY,"NumPad_Multiply"),t(r.KeyCodes.NUMPAD_ADD,"NumPad_Add"),t(r.KeyCodes.NUMPAD_SEPARATOR,"NumPad_Separator"),t(r.KeyCodes.NUMPAD_SUBTRACT,"NumPad_Subtract"),t(r.KeyCodes.NUMPAD_DECIMAL,"NumPad_Decimal"),t(r.KeyCodes.NUMPAD_DIVIDE,"NumPad_Divide")}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(202));var r=function(){function t(e,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctrlKey=e,this.shiftKey=n,this.altKey=o,this.metaKey=r,this.keyCode=i}return t.prototype.equals=function(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode},t.prototype.toString=function(){var t=[];return this.ctrlKey&&t.push("ctrl"),this.shiftKey&&t.push("shift"),this.altKey&&t.push("alt"),this.metaKey&&t.push("meta"),t.join("+")+"+"+o.default.toString(this.keyCode)},t}();e.default=r},function(t,e,n){"use strict";(function(e,o,r){var i=n(148);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var o=t.entry;t.entry=null;for(;o;){var r=o.callback;e.pendingcb--,r(n),o=o.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?o:i.nextTick;v.WritableState=y;var c=n(122);c.inherits=n(91);var l={deprecate:n(916)},f=n(345),p=n(147).Buffer,d=r.Uint8Array||function(){};var h,g=n(343);function m(){}function y(t,e){s=s||n(90),t=t||{};var o=e instanceof s;this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,c=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,o=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,o,r){--e.pendingcb,n?(i.nextTick(r,o),i.nextTick(O,t,e),t._writableState.errorEmitted=!0,t.emit("error",o)):(r(o),t._writableState.errorEmitted=!0,t.emit("error",o),O(t,e))}(t,n,o,e,r);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),o?u(w,t,n,a,r):w(t,n,a,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(t){if(s=s||n(90),!(h.call(v,this)||this instanceof s))return new v(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,n,o,r,i,a){e.writelen=o,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,i,e.onwrite),e.sync=!1}function w(t,e,n,o){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,o(),O(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var o=e.bufferedRequestCount,r=new Array(o),i=e.corkedRequestsFree;i.entry=n;for(var s=0,u=!0;n;)r[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;r.allBuffers=u,b(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function P(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),O(t,e)})}function O(t,e){var n=_(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(P,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(v,f),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===v&&(t&&t._writableState instanceof y)}})):h=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var o=this._writableState,r=!1,a=!o.objectMode&&function(t){return p.isBuffer(t)||t instanceof d}(t);return a&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=m),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,o){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(o,a),r=!1),r}(this,o,t,n))&&(o.pendingcb++,r=function(t,e,n,o,r,i){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n));return e}(e,o,r);o!==a&&(n=!0,r="buffer",o=a)}var s=e.objectMode?1:o.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:o,encoding:r,isBuf:n,callback:i,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,o,r,i);return u}(this,o,a,t,e,n)),r},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||A(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var o=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||function(t,e,n){e.ending=!0,O(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,o,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(111),n(918).setImmediate,n(60))},function(t,e,n){(e=t.exports=n(347)).Stream=e,e.Readable=e,e.Writable=n(204),e.Duplex=n(90),e.Transform=n(341),e.PassThrough=n(915)},function(t,e,n){"use strict";var o,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};o=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,o){var r,i,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=o?[n,a]:[a,n]:o?a.unshift(n):a.push(n),(r=c(t))>0&&a.length>r&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,function(t){console&&console.warn&&console.warn(t)}(s)}return t}function f(t,e,n){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}.bind(o);return r.listener=n,o.wrapFn=r,r}function p(t,e,n){var o=t._events;if(void 0===o)return[];var r=o[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):h(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(t,e){for(var n=new Array(e),o=0;o<e;++o)n[o]=t[o];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,r=this._events;if(void 0!==r)o=o&&void 0===r.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=r[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)i(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,o,r,i,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(o=this._events))return this;if(void 0===(n=o[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,r=i;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(o[t]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,i=Object.keys(n);for(o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=l(n(151)),i=l(n(37)),a=l(n(357)),s=(n(20),n(30)),u=l(n(74)),c=n(22);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="typewritter",s.shapeControl=new i.default(s.getShapeOptions()),s.$ui.addClass("fv__pdf-page-typewritter-annot-container"),s.$handler.addClass("fv__pdf-page-typewritter-annot-handler-container"),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s}return f(e,t),e.prototype.getShapeOptions=function(){var t=this;return{resizable:!1,start:function(){return t.onStartUpdateShape()},update:function(e,n){return t.onShapeUpdating(e,n)},moving:function(e,n,o){return t.onShapeMoving(e,n,o)},end:function(e,n){return t.onShapeUpdateEnd(e,n)},enableDiagonally:!0}},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&this.active()},e.prototype.onStartUpdateShape=function(t,e,n){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeUpdating=function(t,e){t.height<26*this.scale||t.width<26*this.scale||(this.setRect(t),this.setMargin())},e.prototype.onShapeMoving=function(t,e,n){var o=this;this.pdfViewer.config.highPerformance&&(this.isCallout||(this.editDebouncePromise=this.editDebouncePromise||new c.DebouncePromiseQueue).push(function(){return o.moveTo(t.left,t.top)}))},e.prototype.onShapeUpdateEnd=function(t,e,n){switch(this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()}),n){case a.default.ACTION_MOVE:this.moveTo(t.left,t.top);break;case a.default.ACTION_RESIZE:return this.isCallout?void 0:this.setRect(t)}},e.prototype.active=function(){t.prototype.active.call(this);var e=this._getShapeControllerBoundaryBox(),n=void 0;n=this.isCallout?this.getInnerBoundary():this.getBoundary(),this.shapeControl.active(this.$handler,n,e),this.setMargin()},e.prototype.getPropertyOptions=function(){return{opacity:this.annot.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.isCallout||this.shapeControl.setMargin(u.default.expandOffset(e,t))},e.prototype.redraw=function(){return this.moveDisabled()||this.groupMoveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e.prototype.setHeight=function(e,n){var o=this;if("typewritter"!==this.name)return t.prototype.setHeight.call(this,e);var r=this.parent("pdfPageRender").getScale()*this.annot.page.getPxWidth(),i=e.width();if(!(13==n)&&i-r+e.position().left<5){for(;0!=e[0].scrollTop;){if(!(e.position().left+1.2*i<r)){e.width(r-e.position().left);break}e.width(1.2*i),i*=1.2}if(0==e.scrollTop())return Promise.resolve()}e[0].style.height=e[0].scrollTop+e[0].scrollHeight+"px";var a=this.annot.getBorderWidth()*this.scale*4/3,s=e.height()+2*a,u={left:e.position().left-a,top:e.position().top-a,right:e.position().left+e.width()+a,bottom:e.position().top+e.height()+a,width:e.width()+2*a,height:e.height()+2*a};return Math.abs(s-u.height)<4?Promise.resolve():this.setRect(u).then(function(t){o.redraw()}).then(function(t){var n=o.getInnerBoundary(!0);e.css(n)})},e.prototype.postBlur=function(){var t=this;return this.annot.update().then(function(e){t.redraw()})},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=d(n(48)),i=d(n(37)),a=n(154),s=d(n(991)),u=d(n(3)),c=n(30),l=d(n(74)),f=n(8),p=n(22);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=(0,a.getCommonContextMenu)(),m=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.shapeControl=new i.default({start:function(t,e,n){return s.onStartUpdateShape(t,e,n)},moving:function(t,e){return s.onShapeMoving(t,e)},update:function(t,e){return s.onShapeUpdating(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)},resizable:!0,enableDiagonally:!0}),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s.editDebouncePromise=new p.DebouncePromiseQueue,s}return h(e,t),e.getDefaultContextMenuConfig=function(){return g},e.prototype.onStartUpdateShape=function(t,e,n){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.push(function(){var e=n.getRect(),o=n.getInnerRect(),r=e.left-o.left,i=e.top-o.top;return n.moveTo(t.left+r,t.top+i).then(function(t){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()})})},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.push(function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(t)).then(function(t){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()})})},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;this.editDebouncePromise.push(function(){return o.setRect(o._transformShapeOfInnerRectToOuterRect(t)).then(function(t){return o._updateShapeControllerBoundaryBox()})}),this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype._transformShapeOfInnerRectToOuterRect=function(t){var e={left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height},n=l.default.subtract(this.getRect(),this.getInnerRect()),o=l.default.on(e).add(n).extract();return{left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top}},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(this.annot);var e=this.getInnerBoundary(),n=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,e,n),this._updateShapeControlMargin();var o=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),o)},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=t.getDeviceInnerRect(n);e.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"})},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,c.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2),r=n[0],i=n[1],a=this.getInnerRect(),s=this.getRect(),u=l.default.subtract(a,s);return l.default.on({left:0,top:0,right:r,bottom:i}).add(u).extract()},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return t.prototype.render.call(this,e,n)},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,f.convertFromNumberToHex)(t.getBorderColor()),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),cloudy:!0,fillColor:t.getFillColor(),disabled:this.propertyDisabled()}},e.prototype._previewUpdatedShape=function(t,e){e.clearRect(0,0,t.width,t.height),e.strokeStyle="#759DB8",e.lineWidth=1,(0,s.default)(e,0,0,t.width,t.height),e.stroke()},e.prototype.setBorderWidth=function(t,e,n){var o=this,r=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:r}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o._handlerRerender(t)})},e.prototype.setBorderStyle=function(t,e){var n=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(t){return n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n._handlerRerender(t)})},e.prototype.setFillColor=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setFillColor",fillColor:this.annot.getFillColor()}),this.annot.setFillColor(t).then(function(t){return e.pdfViewer.getMementoManager().after({host:e,method:"setFillColor",fillColor:e.annot.getFillColor()}),e._handlerRerender(t)})},e.prototype.getInnerRect=function(){var t=this.getPDFPage(),e=this.annot.getInnerRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}},e.prototype.getInnerBoundary=function(){var t=this.getPDFPage(),e=this.annot.getInnerRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},e.prototype._handlerRerender=function(t){var e=this;return t?this.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,e),t}):t},e.prototype._updateShapeControlMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(l.default.expandOffset(e,t))},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e}(r.default);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=u(n(995));n(1681);var i=u(n(128)),a=u(n(1)),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n,s){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.annotRender=e,this.annot=this.annotRender.annot,this.pdfViewer=this.annotRender.pdfViewer;var c={};if(s)switch(c.type=s.getType(),c.type){case"TypeURI":c.uri=s.getURI();break;case"TypeGoto":c.destination=s.getDestination()}var l=(0,r.default)(c);n||(l='<dialog class="fv__dialog fv__annot-properties-dialog">'+l+"</dialog>");var f=(0,a.default)(l);this.$actionsDialog=f;var p=n||document.body;if(f.appendTo(p),this.bindChangeEvent(),this.update(c),!n||n===document.body){var d=f[0];i.default.registerDialog(d),d.showModal()}this.$gotoInput=f.find("#goto-input"),this.$gotoLeftValue=f.find(".fv__action-dialog-goto-left-value"),this.$gotoTopValue=f.find(".fv__action-dialog-goto-top-value"),this.$urlInput=f.find("#url-input");var h=this.pdfViewer.getPDFDocRender().getPDFDoc().getPageCount();if(this.$gotoInput.attr({max:h}),c&&c.type)switch(c.type){case"TypeURI":this.$urlInput.val(c.uri);break;case"TypeGoto":this.$gotoInput.val(c.destination.pageIndex+1);var g=this.pdfViewer.getPDFPageRender(c.destination.pageIndex);g.getPDFPage().then(function(t){var e=t.getDevicePoint([c.destination.left,c.destination.top],g.getScale()),n=o(e,2),r=n[0],i=n[1];u.$gotoLeftValue.html(r.toFixed(2)),u.$gotoTopValue.html(i.toFixed(2))})}}return t.prototype.update=function(t){var e=this.$actionsDialog;t&&t.type&&(e.find("#select-action [value="+t.type+"]").attr("selected",!0),e.find(".fv__action-dialog-box").css("display","none"),e.find("[data-type="+t.type+"]").css("display","block"))},t.prototype.bindChangeEvent=function(){var t=this,e=this.$actionsDialog,n=this.pdfViewer.getPDFDocRender(),r=n.viewerRender.scrollWrap;this.pdfViewer.eventEmitter.on(s.default.zoomToSuccess,function(t,e){u()}),this._unwatchScrollEvent=r.addScrollEventListener(u);var i=this;function u(){var t=function(t){for(var e=t.$container.find(".fv__pdf-view-mode-item"),n=t.viewerRender.scrollWrap,o=n.getScrollTop(),r=(n.getHeight(),n.getScrollLeft()),i=(n.getWidth(),0),s=0,u=0,c=0;c<e.length;c++){var l=e[c],f=(0,a.default)(l).width(),p=(0,a.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f;if(h>o&&m>r){i=c,u=o-d,s=r-g;break}}return{pageIndex:i,left:s,top:u}}(n);i.$gotoInput.val(t.pageIndex+1),i.$gotoLeftValue.html(t.left.toFixed(2)),i.$gotoTopValue.html(t.top.toFixed(2))}e.on("click",".fv__action-btn-cancel",function(){t.annotRender.hideActionsDialog()}).on("click",".fv__action-dialog-close-icon",function(){t.annotRender.hideActionsDialog()}).on("change","#select-action",function(t){var n=t.target.value;e.find(".fv__action-dialog-box").css("display","none"),e.find("[data-type="+n+"]").css("display","block")}).on("click",".fv__action-btn-ok",function(n){var r=e.find("#select-action").val();if("TypeURI"===r){var a=e.find("#url-input").val();t.annot.setAction(r).then(function(){t.annot.setActionData({uri:a}).then(function(){t.annotRender.hideActionsDialog()})})}else if("TypeGoto"===r){var s=t.pdfViewer.getPDFDocRender().getScale();t.annot.setAction(r).then(function(){var e={};e.pageIndex=t.$gotoInput.val()-1;var n=i.pdfViewer.getPDFPageRender(e.pageIndex);n.getPDFPage().then(function(r){var i=r.reverseDevicePoint([Number(t.$gotoLeftValue.html()),Number(t.$gotoTopValue.html())],n.getScale()),a=o(i,2),u=a[0],c=a[1];e.left=u,e.top=c,"fitWidth"===s?e.type="ZoomFitHorz":"fitHeight"===s?e.type="ZoomFitPage":(e.type="ZoomXYZ",e.zoomFactor=t.pdfViewer.getPDFPageRender(e.pageIndex).getScale()),t.annot.setActionData(e).then(function(){t.annotRender.hideActionsDialog()})})})}}).on("input","#goto-input",function(e){var n=e.target.value;t.pdfViewer.getPDFDocRender().goToPage(n-1,{x:0,y:0})})},t.prototype.close=function(){var t=this.$actionsDialog;this._unwatchScrollEvent&&this._unwatchScrollEvent(),t&&(t[0].close(),t.remove(),this.$actionsDialog=null)},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(n(125));var o=a(n(3)),r=(a(n(1)),n(20)),i=n(8);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="polygon",a}return s(e,t),e.prototype.activeMore=function(){this.$handler.addClass("fv__pdf-annot-polygon-container");var t=this.annot.getVertexes().length;this.hammerInited=this.hammerInited||this.initHammer(t)},e.prototype.updateRender=function(){var e=this;return this.annot.update().then(function(){var t=e._getShapeControllerBoundaryBox();e.shapeControl.active(e.$handler,e.getBoundary(),t)}).then(function(n){return t.prototype.updateRender.call(e)})},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,i.convertFromNumberToHex)(t.getBorderColor()),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),cloudy:!0,fillColor:t.getFillColor(),disabled:this.propertyDisabled()}},e.prototype.updateBorderProperty=function(t){switch(this.annot.getCloudIntensity()){case 1:t.find("#borderStyle-select [value=6]").attr("selected",!0);break;case 2:t.find("#borderStyle-select [value=7]").attr("selected",!0)}},e.prototype.backupProperty=function(t){if(!t)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())},e.prototype.setCloudyIntensity=function(t){var e=this;this.annot.setBorderStyle(r.BORDER_STYLE.CLOUDY,t).then(function(){return e.updateRender().then(function(){e.pdfViewer.eventEmitter.emit(o.default.updateActionAnnotation,e)})})},e}(a(n(211)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=u(n(125)),i=u(n(3)),a=u(n(1)),s=n(8);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="polyline",a}return c(e,t),e.prototype.activeMore=function(){this.$handler.addClass("fv__pdf-annot-polyLine-container");var t=this.annot.getVertexes().length;this.hammerInited=this.hammerInited||this.initHammer(t)},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,s.convertFromNumberToHex)(t.getBorderColor()),n=t.getOpacity(),o=t.getBorderWidth(),r=t.getFillColor(),i=this.propertyDisabled();return{color:e,opacity:n,fillColor:r,borderWidth:o,lineStartStyle:t.getStartStyle(),lineEndStyle:t.getEndingStyle(),disabled:i}},e.prototype.backupProperty=function(t){if(!t)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())},e.prototype.updatePoint=function(t,e){var n=this,o=(0,a.default)(e).data("index");return this.movePointAt(o,{offsetX:t.deltaX,offsetY:t.deltaY}).then(function(){n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)})},e.prototype.movePointAt=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.offsetX,i=void 0===r?0:r,a=n.offsetY,s=void 0===a?0:a,u=this.annot.page.reverseDeviceOffset([i,s],this.scale),c=o(u,2),l=c[0],f=c[1],p=this.oldVertex||this.annot.getVertexes(),d={x:p[t].x+l,y:p[t].y+f},h=this.getPDFPage();return d.x=Math.max(d.x,0),d.y=Math.max(d.y,0),d.x=Math.min(d.x,h.getWidth()),d.y=Math.min(d.y,h.getHeight()),this.annot.updateVertexes(t,d).then(function(){return e.updateRender()}).then(function(){e.shapeControl.active(e.$handler,e.getBoundary(),e._getShapeControllerBoundaryBox())})},e.prototype.setLastPoint=function(t,e){var n=this.annot.getVertexes().slice(0),r=n[n.length-1],i=this.annot.page.getDevicePoint([r.x,r.y],this.scale),a=o(i,2),s=a[0],u=a[1];t="number"==typeof t?t:s,e="number"==typeof e?e:u;var c=this.annot.page.reverseDevicePoint([t,e],this.scale),l=o(c,2),f=l[0],p=l[1];return r.x=f,r.y=p,this.setVertexes(n)},e.prototype.addPoint=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.annot.page.reverseDevicePoint([t,e],this.scale),r=o(n,2),i=r[0],a=r[1],s=this.annot.getVertexes().concat({x:i,y:a});return this.setVertexes(s)},e.prototype.setVertexes=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes();return this.annot.setVertexes(e).then(function(){return t.updateRender()}).then(function(){t.shapeControl.active(t.$handler,t.getBoundary(),t._getShapeControllerBoundaryBox())})},e.prototype.getVertexes=function(){return this.annot.getVertexes()},e.prototype.deleteVertex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes().length-1,e=this.annot.getVertexes().filter(function(e,n){return n!==t});return this.setVertexes(e)},e.prototype.updateHandlerPosition=function(){for(var t=this.$handler,e=this.scale,n=this.annot.getVertexes(),o=0;o<n.length;o++){var r=t.find("[data-index="+o+"]"),i=n[o];i=this.annot.page.getDevicePoint([i.x,i.y],e),r.css({left:i[0]+"px",top:i[1]+"px"})}},e}(r.default);e.default=l},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="strikeout",a.$ui.addClass("fv__pdf-page-strikeout-annot-container"),a.$handler.addClass("fv__pdf-page-strikeout-annot-handler-container"),a}return o(e,t),e.prototype.updateRender=function(){var t=this.annot,e=[],n=[],o=this.parent("annotsRender");if(t.isGrouped())for(var r=t.getGroupElements(),i=r.length;i--;){var a=r[i];n[i]=o.getAnnotRender(a.getId()).component,e[i]=a.update()}else n=[this],e=[t.update()];return Promise.all(e).then(function(){for(var t=[],e=n.length;e--;)t[e]=n[e].render();return Promise.all(t)})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(92)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(41));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.print=function(t,e){(0,o.default)(t,e)},t}();e.default=r},function(t,e,n){t.exports=n(1015).default},function(t,e,n){t.exports=n(1017).default},function(t,e,n){t.exports=n(1019).default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewerRender=e}return t.prototype.getScrollHost=function(){return window},t.prototype.scrollBy=function(t,e){window.scrollBy(t,e)},t.prototype.scrollTo=function(t,e){window.scrollTo(t,e)},t.prototype.getScrollOffsetTop=function(){return this.viewerRender.$ui[0].offsetTop},t.prototype.getScrollOffsetLeft=function(){return this.viewerRender.$ui[0].offsetLeft},t.prototype.getScrollY=function(){return window.scrollY||window.pageYOffset||0},t.prototype.getScrollX=function(){return window.scrollX||window.pageXOffset||0},t.prototype.getWidth=function(){return window.innerWidth-30},t.prototype.getHeight=function(){return window.innerHeight-30},t.prototype.getScrollTop=function(){return window.scrollY||window.pageYOffset||0},t.prototype.getScrollLeft=function(){return window.scrollX||window.pageXOffset||0},t.prototype.addScrollEventListener=function(t){var e=this.getScrollHost();function n(n){t(n,e)}return e.addEventListener("scroll",n),function(){return e.removeEventListener("scroll",n)}},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$handler=e,this.render=n,this.states=[]}return t.prototype.active=function(){},t.prototype.destroy=function(){},t.prototype.intoState=function(){},t.prototype.outState=function(){},t.prototype.resetState=function(){},t.prototype.setStates=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.states;this.states=t},t.prototype.getStates=function(){return this.states},t.prototype.clearStates=function(){},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(1687);var r=S(n(1)),i=S(n(1042)),a=S(n(1020)),s=S(n(43)),u=(S(n(379)),S(n(3))),c=S(n(85)),l=n(33),f=n(129),p=S(n(1011)),d=S(n(1010)),h=S(n(970)),g=S(n(958)),m=S(n(908)),y=S(n(907)),v=S(n(340)),b=S(n(902)),w=S(n(899)),A=S(n(336)),_=S(n(201)),P=S(n(898)),O=S(n(896)),E=S(n(891)),x=n(8),C=S(n(334));function S(t){return t&&t.__esModule?t:{default:t}}var D=function(){},M=function(){return-1},T="continuous-view-mode",j=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.preloadJR,i=void 0===r||r,s=(n.preloadSR,n.libPath),l=n.jr,E=n.i18n,x=n.i18nOptions,S=n.eventEmitter,j=void 0===S?new c.default:S,I=n.minScale,R=void 0===I?.1:I,k=n.maxScale,F=void 0===k?10:k,N=n.defaultScale,L=void 0===N?"fitWidth":N,V=n.preloadedPages,B=void 0===V?1:V,U=n.scaleFrequency,H=void 0===U?4:U,W=n.tileSize,q=void 0===W?3e3:W,z=n.StateHandlers,$=void 0===z?[]:z,Y=n.customs,G=void 0===Y?{}:Y,K=n.keymap,Q=void 0===K?{}:K,X=n.Viewmodes,J=void 0===X?[]:X,Z=n.enableJS,tt=n.stateHandlerConfig,et=n.watermarkConfig,nt=n.actionOptions,ot=void 0===nt?{}:nt,rt=n.defaultViewMode,it=void 0===rt?T:rt,at=n.snapshotServer,st=void 0===at?new A.default({uploadSnapshotAPIPath:"snapshot/upload"}):at;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==(s=s?(0,f.isUrl)(s)?s:(0,f.urlJoin)(location.href,s):(0,f.getCurrentPath)()).indexOf("?")&&(s=s.replace(/\?.*$/,"")),-1!==s.indexOf("#")&&(s=s.replace(/#.*$/,"")),"/"!==s[s.length-1]&&(s+="/"),this.libPath=s;(l=l||{}).licenseKey=l.licenseKey||"",l.licenseSN=l.licenseSN||"";var ut=l.workerPath||"";ut?(0,f.isUrl)(ut)||(ut=(0,f.urlJoin)(s,ut)):ut=s,l.workerPath=ut,l.enginePath=ct,l.enginePath=l.enginePath||"jr-engine/gsdk";var ct=l.enginePath;ct?(0,f.isUrl)(ct)||(ct=(0,f.urlJoin)(s,ct)):ct=s+"jr-engine/gsdk",l.enginePath=ct;var lt=l.fontPath;lt?(0,f.isUrl)(lt)||(lt=(0,f.urlJoin)(s,lt)):lt=(0,f.urlJoin)(s,"../external/brotli"),l.fontPath=lt,this.snapshotServer=st;var ft=(x=(0,_.default)({initOption:{ns:"viewer_"}},x)).path;ft=ft?(0,f.isUrl)(ft)?ft:(0,f.urlJoin)(s,ft):s+"locales",x.absolutePath=x.absolutePath||ft,this.i18n=E||(0,a.default)(x),i&&this.getWebPDFJR(),this.customs=Object.assign({closeDocBefore:D,closeDocAfter:D,getUserPermission:M},G);var pt=this;this.actionOptions=Object.assign({remoteGotoActionInit:function(){var t=window.opener;t&&(t.postMessage({isReady:!0},window.location.origin),window.addEventListener("message",function(t){if(t.source!==window){var e=t.data,n=e.foxitSdkActionType,o=e.foxitSdkActionUrl,r=e.foxitSdkActionFileName,i=e.top,a=(e.bottom,e.left),s=(e.right,e.pageIndex),c=e.zoomFactor,l=e.zoomMode;"TypeGoToR"===n&&pt.openPDFByHttpRangeRequest({range:{url:o}},{fileName:r}).then(function(){j.once(u.default.renderPageSuccess,function(){switch(l){case"ZoomXYZ":var t=c;0===t?pt.goToPage(s,i,a,0!==i):pt.zoomTo(t).then(function(){pt.goToPage(s,i,a,0!==i)});break;case"ZoomFitHorz":pt.zoomTo("fitWidth").then(function(){pt.goToPage(s,i,a,0!==i)});break;case"ZoomFitPage":pt.zoomTo("fitHeight").then(function(){pt.goToPage(s,i,a,0!==i)})}})})}},!1))}},ot),this.keyboard=new v.default;var dt=(0,b.default)();for(var ht in dt.forEach(function(t){var n=t.binder,o=t.active;e.keyboard.addEventBinder(n),o&&n.active()}),dt.forEach(function(t){var n=t.binder,o=t.deps;o&&o.map(function(t){return e.keyboard.getBinder(t)}).forEach(function(t){return n.attach(t)})}),w.default){var gt=w.default[ht];this.keyboard.setCommandBinder(ht,gt.bindTo),this.keyboard.registerKeybinding(ht,gt.shortcut)}for(var mt in Q)this.keyboard.registerUserKeybinding(mt,Q[mt]);this.viewModeManager=new p.default(this);for(var yt=0,vt=J.length;yt<vt;yt++)this.registerViewMode(J[yt]);this.config={jr:l,minScale:R,maxScale:F,defaultScale:L,tileSize:q,enableJS:Z,defaultViewMode:it,stateHandlerConfig:tt,watermarkConfig:et,preloadedPages:B,scaleFrequency:H,highPerformance:"object"===("undefined"==typeof WebAssembly?"undefined":o(WebAssembly))},this.eventEmitter=j,this.mementoManager=new O.default(this),this.annotManager=new d.default(this),this.actionManager=new h.default(this),this.JSEngine=new g.default(this),this.inkSignManager=new y.default(this),this.viewerUI=arguments[0].viewerUI||new C.default;var bt=this.stateHandlerManager=new m.default(this);this.viewerUI.prepare(this),this.customRenderManager=new P.default(this);for(var wt=0,At=$.length;wt<At;wt++)bt.register($[wt]);this.annotsEventMaps=[],this._annotMouseEventCallback=this._annotMouseEventCallback.bind(this),this._runtimeColor=["RGB",0,0,1],this._highlightControls=!0}return t.prototype._annotMouseEventCallback=function(t){this.annotsEventMaps.map(function(e){e&&e(t)})},t.prototype.startListenAnnotMouseEvent=function(){this.cleanListenAnnotMouseEvent(),document.addEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})},t.prototype.stopListenAnnotMouseEvent=function(){this.cleanListenAnnotMouseEvent(),document.removeEventListener("mouseup",this._annotMouseEventCallback)},t.prototype.addListenAnnotMouseEvent=function(t){this.annotsEventMaps.push(t)},t.prototype.cleanListenAnnotMouseEvent=function(){this.annotsEventMaps=[]},t.prototype.changeLanguage=function(t){var e=this;return new Promise(function(n,o){e.i18n.changeLanguage(t,function(t){t?o(t):n()})})},t.prototype.takeSnapshot=function(t,e,n,o,r){var i=this.getPDFPageRender(t);if(!i)throw new Error("page not found: "+t);return i.getSnapshot(e,n,o,r)},t.prototype.uploadImage=function(t){return this.snapshotServer.uploadImage(t)},t.prototype.copySnapshot=function(t){var e=document.createElement("img");e.src=t;var n=document.createElement("div");if(n.appendChild(e),n.classList.add("fv__ui-canvas-mirror"),document.body.appendChild(n),document.body.createControlRange){var o=document.body.createControlRange();o.addElement(e),o.execCommand("copy"),document.body.removeChild(n)}else{var r=window.getSelection();r.removeAllRanges();var i=document.createRange();i.selectNodeContents(n),r.addRange(i);try{document.execCommand("copy",!1,null)}catch(t){}document.body.removeChild(n)}},t.prototype.getKeyboardEventBinder=function(t){var e=this.keyboard.getBinder(t);if(!e)throw new Error("event binder not found error: "+t);return e},t.prototype.getWebPDFJR=function(){var t=this;return this.webPDFJRPromise?this.webPDFJRPromise:this.webPDFJRPromise=Promise.resolve().then(n.t.bind(null,198,7)).then(function(e){var n=new e.default(t.config.jr,t.eventEmitter);return t.webPDFJR=n,n.init().then(function(){t.eventEmitter.emit(u.default.jrLicenseSuccess)},function(e){alert(t.i18n.t(["viewer_:error.initEngine.c1","viewer_:error.initEngine.c2"][e-1]||"viewer_:error.c-1"))}),n})},t.prototype.setIcons=function(t){return this.getWebPDFJR().then(function(e){e.setIcons(t)})},t.prototype.addIcon=function(t){return this.getWebPDFJR().then(function(e){e.addIcon(t)})},t.prototype.removeIcon=function(t,e,n){return this.getWebPDFJR().then(function(o){o.removeIcon(t,e,n)})},t.prototype.init=function(t){this.$ui=(0,r.default)(t),this.pdfViewerRender=new i.default(this.$ui,this.viewModeManager.get(this.config.defaultViewMode),this);this.pdfViewerRender},t.prototype.redraw=function(t){var e=this;try{var n=this.pdfViewerRender.pdfDocRender.pagesRender;t&&n.setRenderFlags(7),n.renderVisiblePages().then(function(){"fitWidth"===n.scale&&e.eventEmitter.emit(u.default.fitWidthResizeViewport)})}catch(t){}},t.prototype.openPDFByFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];return t.name&&!n.fileName&&(n.fileName=t.name),this.close().then(function(){var t=void 0;return t=o?Promise.resolve(o):e.getWebPDFJR(),e.pdfViewerRender.rendering(),t},function(){return Promise.reject({error:-3})}).then(function(e){return e.getPDFDocByFile(t)}).then(function(t){return e.reopenPDFDoc(t,n)}).finally(function(){e.pdfViewerRender.rendered()})},t.prototype.openPDFByHttpRangeRequest=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""};if(!n.fileName&&t.range.url.endsWith(".pdf")){var o=t.range.url.lastIndexOf("/"),r=t.range.url.substring(o+1);n.fileName=r}return this.close().then(function(){var t;return t=e.getWebPDFJR(),e.pdfViewerRender.rendering(),t},function(){return Promise.reject({error:-3})}).then(function(e){return e.getPDFDocByHttpRangeRequest(t,n)}).then(function(t){return e.reopenPDFDoc(t,n)}).finally(function(){e.pdfViewerRender.rendered()})},t.prototype.createNewDoc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.close().then(function(){return e.getWebPDFJR()},function(){return Promise.reject({error:-3})}).then(function(e){return e.createNewDoc(t,n,o)}).then(function(n){return e.reopenPDFDoc(n,{password:"",fileName:t})})},t.prototype.reopenPDFDoc=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.startListenAnnotMouseEvent(),t.parse(n).then(function(t){return e.currentPDFDoc=t,e.pdfViewerRender.renderDoc(t),e.eventEmitter.emit(u.default.openFileSuccess,t),t},function(n){e.currentPDFDoc=null;var o={error:n.code,pdfDoc:t,encryptDict:n.encryptDict};return e.eventEmitter.emit(u.default.openFileFailed,o),Promise.reject(o)})},t.prototype.close=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.customs.closeDocBefore,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.customs.closeDocAfter;return this.stopListenAnnotMouseEvent(),this.currentPDFDoc?(this.eventEmitter.emit(u.default.willCloseDocument),Promise.resolve(e()).then(function(e){if(!1===e)return Promise.reject();t.currentPDFDoc=null,t.pdfViewerRender.closeOldDocRender();var n=void 0;try{n=t.pdfViewerRender.pdfDocRender}catch(t){}return n?(n.hidden(),Promise.resolve(t.pdfViewerRender.closeOldDocRender())):Promise.resolve()}).then(function(t){if(!1!==t)return n()})):Promise.resolve()},t.prototype.destroy=function(){var t=this;return this.close().then(function(){t.keyboard.destroy(),t.getWebPDFJR().then(function(t){t&&t.api.workerPromise.worker.terminate()})})},t.prototype.zoomTo=function(t){return this.pdfViewerRender&&this.pdfViewerRender.zoomTo(t)},t.prototype.zoom=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;if(this.pdfViewerRender)return this.pdfViewerRender.getScaleRatio().then(function(n){var o=t.config.minScale,r=t.config.maxScale;n===o&&Math.floor(o/e)!==o/e&&(n=Math.floor(n/e)*e);var i=Math.max(o,Math.min(r,n+e));return i=o+Math.round((i-o)/e)*e,i=Math.max(o,Math.min(r,i)),t.zoomTo(i)})},t.prototype.goToPage=function(t,e,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfViewerRender&&this.pdfViewerRender.goToPage(t,e,n,o)},t.prototype.setLayerNodeVisible=function(t,e){return this.pdfViewerRender&&this.pdfViewerRender.setLayerNodeVisible(t,e)},t.prototype.setEnableJS=function(t){this.JSEngine.setEnableJS(t)},t.prototype.getEnableJS=function(){return this.JSEngine.getEnableJS()},t.prototype.getSmartScale=function(t){var e=this.config,n=e.scaleFrequency;return 0===n?t+=l.dpr-1:t=Math.ceil((t+l.dpr-1)*n)/n,Math.min(Math.max(t,e.minScale),e.maxScale)},t.prototype.controlStateSwitch=function(t){this.pdfViewerRender&&this.pdfViewerRender.controlStateSwitch(t)},t.prototype.getStateHandlerManager=function(){return this.stateHandlerManager},t.prototype.getInkSignManager=function(){return this.inkSignManager},t.prototype.getViewModeManager=function(){return this.viewModeManager},t.prototype.getMementoManager=function(){return this.mementoManager},t.prototype.getEventEmitter=function(){return this.eventEmitter},t.prototype.getCurrentPDFDoc=function(){return this.currentPDFDoc},t.prototype.getPDFViewerRender=function(){try{return this.pdfViewerRender}catch(t){return null}},t.prototype.getDeviceCurrentPosition=function(){for(var t=this.getPDFDocRender(),e=t.$container.find(".fv__pdf-view-mode-item"),n=t.viewerRender.scrollWrap,o=n.getScrollTop(),i=n.getScrollLeft(),a=0,s=0,u=0,c=0;c<e.length;c++){var l=e[c],f=(0,r.default)(l).find(".fv__pdf-page-layout"),p=f.width(),d=f.height(),h=l.offsetTop,g=h+d,m=l.offsetLeft;if(g>o&&m+p>i){a=c,u=o-h,s=i-m;break}}return{pageIndex:a,left:s,top:u}},t.prototype.getPDFDocRender=function(){try{return this.pdfViewerRender.pdfDocRender||null}catch(t){return null}},t.prototype.getPDFPageRender=function(t){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(t)||null}catch(t){return null}},t.prototype.getAnnotRender=function(t,e){try{return this.getPDFPageRender(t).getAnnotRender(e)||null}catch(t){return null}},t.prototype.getPDFPageRenderAsync=function(t){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(t)}catch(t){return null}},t.prototype.getAnnotRenderAsync=function(t,e){try{return this.getPDFPageRenderAsync(t).getAnnotRender(e)}catch(t){return null}},t.prototype.setActiveElement=function(t){var e=this;if(t&&t.annot&&t.annot.isGrouped&&t.annot.isGrouped()){var n=!1;if(t.annot.groupElements.map(function(t){e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component==e.activeElement&&(n=!0)}),n)return}else if(this.activeElement==t)return;var o=this.activeElement;o&&(o&&o.annot&&o.annot.isGrouped&&o.annot.isGrouped()?o.annot.groupElements.map(function(t){var n=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()),o=n&&n.component;o&&o.isActive&&o.unActive&&o.unActive(),o&&o.deactive&&o.deactive()}):(o.isActive&&o.unActive&&o.unActive(),o.deactive&&o.deactive())),this.activeElement=t},t.prototype.getAnnotManager=function(){return this.annotManager},t.prototype.registerMatchRule=function(t){this.annotManager.registerMatchRule(t)},t.prototype.setUserName=function(t){return this.getWebPDFJR().then(function(e){return e.setUserName(t)})},t.prototype.getUserName=function(t){return(t?Promise.resolve(t):this.getWebPDFJR()).then(function(t){return t.getUserName()})},t.prototype.setDynamicInfoFormula=function(t,e,n){return(n?Promise.resolve(n):this.getWebPDFJR()).then(function(n){return n.setDynamicInfoFormula(t,e)})},t.prototype.printPDFDocument=function(t){var e=this,n=(t.asImage,t.endIndex),o=void 0===n?this.currentPDFDoc.getPageCount()-1:n,r=t.printType,i=void 0===r?["page"]:r,a=(t.reverse,t.shrinkToFit,t.silent,t.startIndex),u=void 0===a?0:a,c=(t.ui,t.rangeType),l=t.total,f=void 0===l?this.currentPDFDoc.getPageCount():l,p=t.fromToArray;o>=this.currentPDFDoc.getPageCount()&&(o=this.currentPDFDoc.getPageCount()-1),this.printComponent=this.printComponent||new E.default(this),this.printComponent.out();var d=this.currentPDFDoc,h=[];this.printComponent.setTotal(f),this.printComponent.showProcess();var g=0,m=this.pdfViewerRender.pdfDocRender.getFormRender(),y=m.getFormatedData("display");return d.getPDFForm().setFieldsValue(y,!0).then(function(){if("assign"===c){for(var t=0;t<p.length;t++)for(var n=function(t){var n=(0,s.default)();e.printComponent.createPagePrintHtml(t),d.getPageByIndex(t).then(function(o){var r=e.printComponent.getScale(o.getWidth(),o.getHeight());o.getPageBitmap(r,0,{x:0,y:0,width:o.getWidth()*r,height:o.getHeight()*r},i,"print").then(function(o){var r=o.buffer,i=o.width,a=o.height,s=document.createElement("canvas");s.width=i,s.height=a;var u=s.getContext("2d"),c=u.createImageData(i,a);c.data.set(new(Uint8ClampedArray||Uint8Array)(r)),u.putImageData(c,0,0),s.toBlob(function(o){e.printComponent.insertImageByIndex(t,URL.createObjectURL(o)),++g,e.printComponent.updateProcess(g),n.resolve()},"image/png")})}),h.push(n.promise)},r=p[t][0];r<p[t][1];r++)n(r);return Promise.all(h)}for(var a=function(t){var n=(0,s.default)();e.printComponent.createPagePrintHtml(t),d.getPageByIndex(t).then(function(o){var r=o.getWidth(),a=o.getHeight(),s=void 0;if(r>a){s=90;var u=r;r=a,a=u}else s=0;var c=e.printComponent.getScale(r,a);o.getPageBitmap(c,s,{x:0,y:0,width:r*c,height:a*c},i,"print").then(function(o){var r=o.buffer,i=o.width,a=o.height,s=document.createElement("canvas");s.width=i,s.height=a;var u=s.getContext("2d"),c=u.createImageData(i,a);c.data.set(new(Uint8ClampedArray||Uint8Array)(r)),u.putImageData(c,0,0),s.toBlob(function(o){e.printComponent.insertImageByIndex(t,URL.createObjectURL(o)),++g,e.printComponent.updateProcess(g),n.resolve()},"image/png")})}),h.push(n.promise)},l=u;l<=o;l++)a(l);return Promise.all(h)}).then(function(){return y=m.getFormatedData("value"),d.getPDFForm().setFieldsValue(y,!1).then(function(){e.printComponent.hideProcess(),e.printComponent.print()})})},t.prototype.highlightControls=function(){return this._highlightControls},t.prototype.getDisplayHighlightColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML";return(0,x.colorConvertor)(this._runtimeColor,e,t)},t.prototype.setRuntimeHighlight=function(t){return this.pdfViewerRender.pdfDocRender&&this.pdfViewerRender.pdfDocRender.formRender&&this.pdfViewerRender.pdfDocRender.formRender.setRuntimeHighlight(t),this._highlightControls=t},t.prototype.setRuntimeHighlightColor=function(t){return this.pdfViewerRender.pdfDocRender&&this.pdfViewerRender.pdfDocRender.formRender&&this.pdfViewerRender.pdfDocRender.formRender.setRuntimeHighlightColor(t),this._runtimeColor=t},t}();e.default=j},function(t,e,n){"use strict";var o=n(12),r=n(28),i=n(87),a=n(159),s=n(46),u=n(95),c=n(15),l=n(97),f=n(68),p=n(26),d=n(401),h=n(99).f,g=n(27).f,m=n(225),y=n(116),v="prototype",b="Wrong index!",w=o.ArrayBuffer,A=o.DataView,_=o.Math,P=o.RangeError,O=o.Infinity,E=w,x=_.abs,C=_.pow,S=_.floor,D=_.log,M=_.LN2,T=r?"_b":"buffer",j=r?"_l":"byteLength",I=r?"_o":"byteOffset";function R(t,e,n){var o,r,i,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?C(2,-24)-C(2,-77):0,f=0,p=t<0||0===t&&1/t<0?1:0;for((t=x(t))!=t||t===O?(r=t!=t?1:0,o=u):(o=S(D(t)/M),t*(i=C(2,-o))<1&&(o--,i*=2),(t+=o+c>=1?l/i:l*C(2,1-c))*i>=2&&(o++,i/=2),o+c>=u?(r=0,o=u):o+c>=1?(r=(t*i-1)*C(2,e),o+=c):(r=t*C(2,c-1)*C(2,e),o=0));e>=8;a[f++]=255&r,r/=256,e-=8);for(o=o<<e|r,s+=e;s>0;a[f++]=255&o,o/=256,s-=8);return a[--f]|=128*p,a}function k(t,e,n){var o,r=8*n-e-1,i=(1<<r)-1,a=i>>1,s=r-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(o=l&(1<<-s)-1,l>>=-s,s+=e;s>0;o=256*o+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===i)return o?NaN:c?-O:O;o+=C(2,e),l-=a}return(c?-1:1)*o*C(2,l-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function N(t){return[255&t]}function L(t){return[255&t,t>>8&255]}function V(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function B(t){return R(t,52,8)}function U(t){return R(t,23,4)}function H(t,e,n){g(t[v],e,{get:function(){return this[n]}})}function W(t,e,n,o){var r=d(+n);if(r+e>t[j])throw P(b);var i=t[T]._b,a=r+t[I],s=i.slice(a,a+e);return o?s:s.reverse()}function q(t,e,n,o,r,i){var a=d(+n);if(a+e>t[j])throw P(b);for(var s=t[T]._b,u=a+t[I],c=o(+r),l=0;l<e;l++)s[u+l]=c[i?l:e-l-1]}if(a.ABV){if(!c(function(){w(1)})||!c(function(){new w(-1)})||c(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var z,$=(w=function(t){return l(this,w),new E(d(t))})[v]=E[v],Y=h(E),G=0;Y.length>G;)(z=Y[G++])in w||s(w,z,E[z]);i||($.constructor=w)}var K=new A(new w(2)),Q=A[v].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(A[v],{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},!0)}else w=function(t){l(this,w,"ArrayBuffer");var e=d(t);this._b=m.call(new Array(e),0),this[j]=e},A=function(t,e,n){l(this,A,"DataView"),l(t,w,"DataView");var o=t[j],r=f(e);if(r<0||r>o)throw P("Wrong offset!");if(r+(n=void 0===n?o-r:p(n))>o)throw P("Wrong length!");this[T]=t,this[I]=r,this[j]=n},r&&(H(w,"byteLength","_l"),H(A,"buffer","_b"),H(A,"byteLength","_l"),H(A,"byteOffset","_o")),u(A[v],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F(W(this,4,t,arguments[1]))},getUint32:function(t){return F(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return k(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return k(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){q(this,1,t,N,e)},setUint8:function(t,e){q(this,1,t,N,e)},setInt16:function(t,e){q(this,2,t,L,e,arguments[2])},setUint16:function(t,e){q(this,2,t,L,e,arguments[2])},setInt32:function(t,e){q(this,4,t,V,e,arguments[2])},setUint32:function(t,e){q(this,4,t,V,e,arguments[2])},setFloat32:function(t,e){q(this,4,t,U,e,arguments[2])},setFloat64:function(t,e){q(this,8,t,B,e,arguments[2])}});y(w,"ArrayBuffer"),y(A,"DataView"),s(A[v],a.VIEW,!0),e.ArrayBuffer=w,e.DataView=A},function(t,e,n){"use strict";var o=n(39);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o}),this.resolve=o(e),this.reject=o(n)}(t)}},function(t,e,n){var o=n(12),r=n(223).set,i=o.MutationObserver||o.WebKitMutationObserver,a=o.process,s=o.Promise,u="process"==n(57)(a);t.exports=function(){var t,e,n,c=function(){var o,r;for(u&&(o=a.domain)&&o.exit();t;){r=t.fn,t=t.next;try{r()}catch(o){throw t?n():e=void 0,o}}e=void 0,o&&o.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||o.navigator&&o.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){r.call(o,c)};else{var f=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(o){var r={fn:o,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var o,r,i,a=n(58),s=n(420),u=n(241),c=n(245),l=n(12),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,g=l.Dispatch,m=0,y={},v=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){v.call(t.data)};p&&d||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},o(m),m},d=function(t){delete y[t]},"process"==n(57)(f)?o=function(t){f.nextTick(a(v,t,1))}:g&&g.now?o=function(t){g.now(a(v,t,1))}:h?(i=(r=new h).port2,r.port1.onmessage=b,o=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(o=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):o="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:p,clear:d}},function(t,e,n){"use strict";var o=n(86),r=n(410),i=n(114),a=n(52);t.exports=n(233)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var o=n(31),r=n(101),i=n(26);t.exports=function(t){for(var e=o(this),n=i(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var o=n(1157);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(132),r=n(24)("iterator"),i=n(114);t.exports=n(59).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){"use strict";var o=n(27),r=n(104);t.exports=function(t,e,n){e in t?o.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var o=n(114),r=n(24)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,n){var o=n(24)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var o=n(166),r=n(69);t.exports=function(t,e,n){if(o(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){"use strict";var o=n(100),r=n(104),i=n(116),a={};n(46)(a,n(24)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e,n){"use strict";var o=n(87),r=n(0),i=n(45),a=n(46),s=n(114),u=n(232),c=n(116),l=n(50),f=n(24)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,h,g,m,y){u(n,e,h);var v,b,w,A=function(t){if(!p&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",P="values"==g,O=!1,E=t.prototype,x=E[f]||E["@@iterator"]||g&&E[g],C=x||A(g),S=g?P?A("entries"):C:void 0,D="Array"==e&&E.entries||x;if(D&&(w=l(D.call(new t)))!==Object.prototype&&w.next&&(c(w,_,!0),o||"function"==typeof w[f]||a(w,f,d)),P&&x&&"values"!==x.name&&(O=!0,C=function(){return x.call(this)}),o&&!y||!p&&!O&&E[f]||a(E,f,C),s[e]=C,s[_]=d,g)if(v={values:P?C:A("values"),keys:m?C:A("keys"),entries:S},y)for(b in v)b in E||i(E,b,v[b]);else r(r.P+r.F*(p||O),e,v);return v}},function(t,e,n){var o=n(68),r=n(69);t.exports=function(t){return function(e,n){var i,a,s=String(r(e)),u=o(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var o=n(68),r=n(69);t.exports=function(t){var e=String(r(this)),n="",i=o(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var o=n(17),r=n(240).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(t,i),t}},function(t,e){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(t,e,n){var o=n(17),r=n(11),i=function(t,e){if(r(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=n(58)(Function.call,n(51).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){var o=n(12).document;t.exports=o&&o.documentElement},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(170)("keys"),r=n(103);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(12),r=n(59),i=n(87),a=n(426),s=n(27).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var o=n(17),r=n(12).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.saveAs=e.EventEmitter=e.Hammer=e.dialogPolyfill=e.i18nextXHRBackend=e.i18nextLocalStorageBackend=e.i18nextChainedBackend=e.i18next=e.jQuery=void 0;var o=p(n(1)),r=p(n(171)),i=p(n(216)),a=p(n(215)),s=p(n(214));n(130);var u=p(n(128)),c=p(n(21)),l=p(n(85));n(253),n(252);var f=n(362);function p(t){return t&&t.__esModule?t:{default:t}}e.jQuery=o.default,e.i18next=r.default,e.i18nextChainedBackend=i.default,e.i18nextLocalStorageBackend=a.default,e.i18nextXHRBackend=s.default,e.dialogPolyfill=u.default,e.Hammer=c.default,e.EventEmitter=l.default,e.saveAs=f.saveAs},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(443);Object.defineProperty(e,"MobileWebPDFComponent",{enumerable:!0,get:function(){return a(o).default}});var r=n(442);Object.defineProperty(e,"PageNavigationLayerComponent",{enumerable:!0,get:function(){return a(r).default}});var i=n(440);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"PageNavigationComponent",{enumerable:!0,get:function(){return a(i).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(172)),r=u(n(105)),i=u(n(6)),a=u(n(9)),s=n(29);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}i.default.getLogger("mobile-appearance");var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return c(e,t),e.prototype.beforeMounted=function(){document.documentElement.classList.add("fv__ui-mobile")},e.prototype.afterMounted=function(t){var e=this;this.pdfUI.addUIEventListener(a.default.fullscreenchange,function(n){n?e._handleFullscreen(t):e._handleExitFullscreen(t)});var n=!1;this.pdfUI.addViewerEventListener(a.default.openFileSuccess,function(){n=!1}),this.pdfUI.addViewerEventListener(a.default.renderPageSuccess,function(t){n||(n=!0,e.pdfUI.getPDFViewerRender().then(function(t){return t.getScaleRatio().then(function(e){t.zoomTo(e)})}))}),s.isIOS&&this._preventPageScroll()},e.prototype._preventPageScroll=function(){var t=function(t){(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.offsetWidth*e.offsetHeight;var o=e.parentElement;if(e===document.body||!o)return!1;var r=o.offsetWidth*o.offsetHeight;if(n>r){var i=window.getComputedStyle(o),a=function(t){return"auto"===t||"scroll"===t};if(a(i.overflowX)||a(i.overflowY))return!0}return t(o,r)})(t.target)||t.preventDefault()},e=function(t){0==window.scrollY&&0==document.body.scrollTop||document.body.scrollIntoView({block:"start"})};window.addEventListener("touchmove",t),window.addEventListener("touchend",e,{capture:!0}),this.pdfUI.addUIEventListener(a.default.applicationDestroyed,function(){window.removeEventListener("touchmove",t),window.removeEventListener("touchend",e)})},e.prototype._handleFullscreen=function(t){var e=t.getComponentByName("tabs").controller.currentTabName,n=t.querySelector("@toolbar [tab="+e+"]");n&&n.element.classList.remove("active")},e.prototype._handleExitFullscreen=function(t){var e=t.getComponentByName("tabs").controller.currentTabName,n=t.querySelector("@toolbar [tab="+e+"]");n&&n.element.classList.add("active")},e.prototype.getLayoutTemplate=function(){return o.template},e.prototype.getDefaultFragments=function(){return o.fragments},e.prototype.resolveFragments=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=t.fragments();n=e(n),t.fragments=function(){return n}},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(71)),r=a(n(136)),i=a(n(177));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.depends=function(){return[r.default]},e.prototype.link=function(t){return this.pdfUI.customStamps={},this.pdfUI.defaultStamps=(0,i.default)(t)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DIALOG_FRAGMENTS=void 0,e.alert=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.alert-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.alert-title",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",a=(0,r.default)();return c=c.finally(function(){return t.uiRootPromise.then(function(t){var r=t.querySelector(u+">@alert");return"string"==typeof i&&(i=document.querySelector(i)),r.setTitle(n),r.setMessage(e),r.show(i),r.on(o.COMPONENT_EVENTS.HIDDEN,a.resolve),a.promise})}),a.promise},e.prompt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-message",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"common-dialogs.prompt-title",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"body",s=(0,r.default)();return(c=c.finally(function(){return t.uiRootPromise.then(function(t){var r=t.querySelector(u+">@prompt");return"string"==typeof a&&(a=document.querySelector(a)),r.setValue(e),r.setTitle(o),r.setMessage(n),r.show(a),r.on("confirm",function(){s.resolve(r.getValue())}),r.on("cancel",s.reject),s.promise})})).catch(i.default),s.promise},e.loading=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=t.parseTemplate("<loading>",[]);n.mounted(),e instanceof a.default&&(e=e.element);return n.open(e),n};var o=n(5),r=s(n(43)),i=s(n(38)),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}var u="fv--inner-dialogs-template",c=(e.DIALOG_FRAGMENTS=[{target:"!root",action:o.FRAGMENT_ACTION.APPEND,template:'<template name="'+u+'"></template>'},{target:u,action:o.FRAGMENT_ACTION.APPEND,template:"<alert>"},{target:u,action:o.FRAGMENT_ACTION.APPEND,template:"<prompt>"}],Promise.resolve())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFromRemote=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=(0,o.default)(),r=new XMLHttpRequest;return r.onreadystatechange=function(t){var o=r.status;r.readyState===XMLHttpRequest.DONE&&(o>=200&&o<300||304===o?"json"===e&&"string"==typeof r.response?n.resolve(JSON.parse(r.response)):n.resolve(r.response):n.reject(r.response))},r.onerror=function(t){n.reject(t)},r.open("GET",t,!0),r.responseType=e,r.send(),n.promise};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(43))},function(t,e,n){var o=n(470);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(391)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){var o,r,i;!function(a){"use strict";r=[n(1)],void 0===(i="function"==typeof(o=function(t,e){var n={beforeShow:l,move:l,change:l,show:l,hide:l,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},o=[],r=!!/msie/i.exec(window.navigator.userAgent),i=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(e,n,o,r){for(var a=[],s=0;s<e.length;s++){var u=e[s];if(u){var c=tinycolor(u),l=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(n,u)?" sp-thumb-active":"";var f=c.toString(r.preferredFormat||"rgb"),p=i?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+f+'" data-color="'+c.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+p+';" /></span>')}else{a.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+o+"'>"+a.join("")+"</div>"}function c(c,l){var g=function(e,o){var r=t.extend({},n,e);return r.callbacks={move:p(r.move,o),change:p(r.change,o),show:p(r.show,o),hide:p(r.hide,o),beforeShow:p(r.beforeShow,o)},r}(l,c),m=g.flat,y=g.showSelectionPalette,v=g.localStorageKey,b=g.theme,w=g.callbacks,A=function(t,e,n){var o;return function(){var r=this,i=arguments;n&&clearTimeout(o),!n&&o||(o=setTimeout(function(){o=null,t.apply(r,i)},e))}}(Vt,10),_=!1,P=!1,O=0,E=0,x=0,C=0,S=0,D=0,M=0,T=0,j=0,I=0,R=1,k=[],F=[],N={},L=g.selectionPalette.slice(0),V=g.maxSelectionSize,B="sp-dragging",U=null,H=c.ownerDocument,W=(H.body,t(c)),q=!1,z=t(s,H).addClass(b),$=z.find(".sp-picker-container"),Y=z.find(".sp-color"),G=z.find(".sp-dragger"),K=z.find(".sp-hue"),Q=z.find(".sp-slider"),X=z.find(".sp-alpha-inner"),J=z.find(".sp-alpha"),Z=z.find(".sp-alpha-handle"),tt=z.find(".sp-input"),et=z.find(".sp-palette"),nt=z.find(".sp-initial"),ot=z.find(".sp-cancel"),rt=z.find(".sp-clear"),it=z.find(".sp-choose"),at=z.find(".sp-palette-toggle"),st=W.is("input"),ut=st&&"color"===W.attr("type")&&h(),ct=st&&!m,lt=ct?t(a).addClass(b).addClass(g.className).addClass(g.replacerClassName):t([]),ft=ct?lt:W,pt=lt.find(".sp-preview-inner"),dt=g.color||st&&W.val(),ht=!1,gt=g.preferredFormat,mt=!g.showButtons||g.clickoutFiresChange,yt=!dt,vt=g.allowEmpty&&!ut;function bt(){if(g.showPaletteOnly&&(g.showPalette=!0),at.text(g.showPaletteOnly?g.togglePaletteMoreText:g.togglePaletteLessText),g.palette){k=g.palette.slice(0),F=t.isArray(k[0])?k:[k],N={};for(var e=0;e<F.length;e++)for(var n=0;n<F[e].length;n++){var o=tinycolor(F[e][n]).toRgbString();N[o]=!0}}z.toggleClass("sp-flat",m),z.toggleClass("sp-input-disabled",!g.showInput),z.toggleClass("sp-alpha-enabled",g.showAlpha),z.toggleClass("sp-clear-enabled",vt),z.toggleClass("sp-buttons-disabled",!g.showButtons),z.toggleClass("sp-palette-buttons-disabled",!g.togglePaletteOnly),z.toggleClass("sp-palette-disabled",!g.showPalette),z.toggleClass("sp-palette-only",g.showPaletteOnly),z.toggleClass("sp-initial-disabled",!g.showInitial),z.addClass(g.className).addClass(g.containerClassName),Vt()}function wt(){if(v&&window.localStorage){try{var e=window.localStorage[v].split(",#");e.length>1&&(delete window.localStorage[v],t.each(e,function(t,e){At(e)}))}catch(t){}try{L=window.localStorage[v].split(";")}catch(t){}}}function At(e){if(y){var n=tinycolor(e).toRgbString();if(!N[n]&&-1===t.inArray(n,L))for(L.push(n);L.length>V;)L.shift();if(v&&window.localStorage)try{window.localStorage[v]=L.join(";")}catch(t){}}}function _t(){var e=Rt(),n=t.map(F,function(t,n){return u(t,e,"sp-palette-row sp-palette-row-"+n,g)});wt(),L&&n.push(u(function(){var t=[];if(g.showPalette)for(var e=0;e<L.length;e++){var n=tinycolor(L[e]).toRgbString();N[n]||t.push(L[e])}return t.reverse().slice(0,g.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",g)),et.html(n.join(""))}function Pt(){if(g.showInitial){var t=ht,e=Rt();nt.html(u([t,e],e,"sp-palette-row-initial",g))}}function Ot(){(E<=0||O<=0||C<=0)&&Vt(),P=!0,z.addClass(B),U=null,W.trigger("dragstart.spectrum",[Rt()])}function Et(){P=!1,z.removeClass(B),W.trigger("dragstop.spectrum",[Rt()])}function xt(){var t=tt.val();if(null!==t&&""!==t||!vt){var e=tinycolor(t);e.isValid()?(It(e),Lt(!0)):tt.addClass("sp-validation-error")}else It(null),Lt(!0)}function Ct(){_?Tt():St()}function St(){var e=t.Event("beforeShow.spectrum");_?Vt():(W.trigger(e,[Rt()]),!1===w.beforeShow(Rt())||e.isDefaultPrevented()||(!function(){for(var t=0;t<o.length;t++)o[t]&&o[t].hide()}(),_=!0,t(H).bind("keydown.spectrum",Dt),t(H).bind("click.spectrum",Mt),t(window).bind("resize.spectrum",A),lt.addClass("sp-active"),z.removeClass("sp-hidden"),Vt(),Ft(),ht=Rt(),Pt(),w.show(ht),W.trigger("show.spectrum",[ht])))}function Dt(t){27===t.keyCode&&Tt()}function Mt(t){2!=t.button&&(P||(mt?Lt(!0):jt(),Tt()))}function Tt(){_&&!m&&(_=!1,t(H).unbind("keydown.spectrum",Dt),t(H).unbind("click.spectrum",Mt),t(window).unbind("resize.spectrum",A),lt.removeClass("sp-active"),z.addClass("sp-hidden"),w.hide(Rt()),W.trigger("hide.spectrum",[Rt()]))}function jt(){It(ht,!0)}function It(t,e){var n,o;tinycolor.equals(t,Rt())?Ft():(!t&&vt?yt=!0:(yt=!1,n=tinycolor(t),o=n.toHsv(),T=o.h%360/360,j=o.s,I=o.v,R=o.a),Ft(),n&&n.isValid()&&!e&&(gt=g.preferredFormat||n.getFormat()))}function Rt(t){return t=t||{},vt&&yt?null:tinycolor.fromRatio({h:T,s:j,v:I,a:Math.round(100*R)/100},{format:t.format||gt})}function kt(){Ft(),w.move(Rt()),W.trigger("move.spectrum",[Rt()])}function Ft(){tt.removeClass("sp-validation-error"),Nt();var t=tinycolor.fromRatio({h:T,s:1,v:1});Y.css("background-color",t.toHexString());var e=gt;R<1&&(0!==R||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Rt({format:e}),o="";if(pt.removeClass("sp-clear-display"),pt.css("background-color","transparent"),!n&&vt)pt.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(i||1===n.alpha?pt.css("background-color",s):(pt.css("background-color","transparent"),pt.css("filter",n.toFilter())),g.showAlpha){var u=n.toRgb();u.a=0;var c=tinycolor(u).toRgbString(),l="linear-gradient(left, "+c+", "+a+")";r?X.css("filter",tinycolor(c).toFilter({gradientType:1},a)):(X.css("background","-webkit-"+l),X.css("background","-moz-"+l),X.css("background","-ms-"+l),X.css("background","linear-gradient(to right, "+c+", "+a+")"))}o=n.toString(e)}g.showInput&&tt.val(o),g.showPalette&&_t(),Pt()}function Nt(){var t=j,e=I;if(vt&&yt)Z.hide(),Q.hide(),G.hide();else{Z.show(),Q.show(),G.show();var n=t*O,o=E-e*E;n=Math.max(-x,Math.min(O-x,n-x)),o=Math.max(-x,Math.min(E-x,o-x)),G.css({top:o+"px",left:n+"px"});var r=R*S;Z.css({left:r-D/2+"px"});var i=T*C;Q.css({top:i-M+"px"})}}function Lt(t){var e=Rt(),n="",o=!tinycolor.equals(e,ht);e&&(n=e.toString(gt),At(e)),st&&W.val(n),t&&o&&(w.change(e),W.trigger("change",[e]))}function Vt(){_&&(O=Y.width(),E=Y.height(),x=G.height(),K.width(),C=K.height(),M=Q.height(),S=J.width(),D=Z.width(),m||(z.css("position","absolute"),g.offset?z.offset(g.offset):z.offset(function(e,n){var o=e.outerWidth(),r=e.outerHeight(),i=n.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,u=s.clientWidth+t(a).scrollLeft(),c=s.clientHeight+t(a).scrollTop(),l=n.offset();return l.top+=i,l.left-=Math.min(l.left,l.left+o>u&&u>o?Math.abs(l.left+o-u):0),l.top-=Math.min(l.top,l.top+r>c&&c>r?Math.abs(r+i-0):0),l}(z,ft))),Nt(),g.showPalette&&_t(),W.trigger("reflow.spectrum"))}function Bt(){Tt(),q=!0,W.attr("disabled",!0),ft.addClass("sp-disabled")}!function(){r&&z.find("*:not(input)").attr("unselectable","on");bt(),ct&&W.after(lt).hide();vt||rt.hide();if(m)W.after(z).hide();else{var e="parent"===g.appendTo?W.parent():t(g.appendTo);1!==e.length&&(e=t("body")),e.append(z)}wt(),ft.bind("click.spectrum touchstart.spectrum",function(e){q||Ct(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(W.is(":disabled")||!0===g.disabled)&&Bt();z.click(f),tt.change(xt),tt.bind("paste",function(){setTimeout(xt,1)}),tt.keydown(function(t){13==t.keyCode&&xt()}),ot.text(g.cancelText),ot.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),jt(),Tt()}),rt.attr("title",g.clearText),rt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),yt=!0,kt(),m&&Lt(!0)}),it.text(g.chooseText),it.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),r&&tt.is(":focus")&&tt.trigger("change"),tt.hasClass("sp-validation-error")||(Lt(!0),Tt())}),at.text(g.showPaletteOnly?g.togglePaletteMoreText:g.togglePaletteLessText),at.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),g.showPaletteOnly=!g.showPaletteOnly,g.showPaletteOnly||m||z.css("left","-="+($.outerWidth(!0)+5)),bt()}),d(J,function(t,e,n){R=t/S,yt=!1,n.shiftKey&&(R=Math.round(10*R)/10),kt()},Ot,Et),d(K,function(t,e){T=parseFloat(e/C),yt=!1,g.showAlpha||(R=1),kt()},Ot,Et),d(Y,function(t,e,n){if(n.shiftKey){if(!U){var o=j*O,r=E-I*E,i=Math.abs(t-o)>Math.abs(e-r);U=i?"x":"y"}}else U=null;var a=!U||"y"===U;(!U||"x"===U)&&(j=parseFloat(t/O)),a&&(I=parseFloat((E-e)/E)),yt=!1,g.showAlpha||(R=1),kt()},Ot,Et),dt?(It(dt),Ft(),gt=g.preferredFormat||tinycolor(dt).format,At(dt)):Ft();m&&St();function n(e){return e.data&&e.data.ignore?(It(t(e.target).closest(".sp-thumb-el").data("color")),kt()):(It(t(e.target).closest(".sp-thumb-el").data("color")),kt(),Lt(!0),g.hideAfterPaletteSelect&&Tt()),!1}var o=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";et.delegate(".sp-thumb-el",o,n),nt.delegate(".sp-thumb-el:nth-child(1)",o,{ignore:!0},n)}();var Ut={show:St,hide:Tt,toggle:Ct,reflow:Vt,option:function(n,o){if(n===e)return t.extend({},g);if(o===e)return g[n];g[n]=o,"preferredFormat"===n&&(gt=g.preferredFormat);bt()},enable:function(){q=!1,W.attr("disabled",!1),ft.removeClass("sp-disabled")},disable:Bt,offset:function(t){g.offset=t,Vt()},set:function(t){It(t),Lt()},get:Rt,destroy:function(){W.show(),ft.unbind("click.spectrum touchstart.spectrum"),z.remove(),lt.remove(),o[Ut.id]=null},container:z};return Ut.id=o.push(Ut)-1,Ut}function l(){}function f(t){t.stopPropagation()}function p(t,e){var n=Array.prototype.slice,o=n.call(arguments,2);return function(){return t.apply(e,o.concat(n.call(arguments)))}}function d(e,n,o,i){n=n||function(){},o=o||function(){},i=i||function(){};var a=document,s=!1,u={},c=0,l=0,f="ontouchstart"in window,p={};function d(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function h(t){if(s){if(r&&a.documentMode<9&&!t.button)return g();var o=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],i=o&&o.pageX||t.pageX,p=o&&o.pageY||t.pageY,h=Math.max(0,Math.min(i-u.left,l)),m=Math.max(0,Math.min(p-u.top,c));f&&d(t),n.apply(e,[h,m,t])}}function g(){s&&(t(a).unbind(p),t(a.body).removeClass("sp-dragging"),setTimeout(function(){i.apply(e,arguments)},0)),s=!1}p.selectstart=d,p.dragstart=d,p["touchmove mousemove"]=h,p["touchend mouseup"]=g,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||s||!1!==o.apply(e,arguments)&&(s=!0,c=t(e).height(),l=t(e).width(),u=t(e).offset(),t(a).bind(p),t(a.body).addClass("sp-dragging"),h(n),d(n))})}function h(){return t.fn.spectrum.inputTypeColorSupport()}t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=o[t(this).data("spectrum.id")];if(n){var a=n[e];if(!a)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,i):"destroy"==e?(n.destroy(),t(this).removeData("spectrum.id")):a.apply(n,i)}}),r}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),o=c(this,n);t(this).data("spectrum.id",o.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=d,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!h()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,o=Math,r=o.round,i=o.min,a=o.max,s=o.random,u=function(s,c){if(s=s||"",c=c||{},s instanceof u)return s;if(!(this instanceof u))return new u(s,c);var l=function(n){var r={r:0,g:0,b:0},s=1,u=!1,c=!1;"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var o,r=!1;if(x[n])n=x[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(o=R.rgb.exec(n))return{r:o[1],g:o[2],b:o[3]};if(o=R.rgba.exec(n))return{r:o[1],g:o[2],b:o[3],a:o[4]};if(o=R.hsl.exec(n))return{h:o[1],s:o[2],l:o[3]};if(o=R.hsla.exec(n))return{h:o[1],s:o[2],l:o[3],a:o[4]};if(o=R.hsv.exec(n))return{h:o[1],s:o[2],v:o[3]};if(o=R.hsva.exec(n))return{h:o[1],s:o[2],v:o[3],a:o[4]};if(o=R.hex8.exec(n))return{a:function(t){return T(t)/255}(o[1]),r:T(o[2]),g:T(o[3]),b:T(o[4]),format:r?"name":"hex8"};if(o=R.hex6.exec(n))return{r:T(o[1]),g:T(o[2]),b:T(o[3]),format:r?"name":"hex"};if(o=R.hex3.exec(n))return{r:T(o[1]+""+o[1]),g:T(o[2]+""+o[2]),b:T(o[3]+""+o[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(r=function(t,e,n){return{r:255*D(t,255),g:255*D(e,255),b:255*D(n,255)}}(n.r,n.g,n.b),u=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=I(n.s),n.v=I(n.v),r=function(t,e,n){t=6*D(t,360),e=D(e,100),n=D(n,100);var r=o.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),u=n*(1-(1-i)*e),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(n.h,n.s,n.v),u=!0,c="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=I(n.s),n.l=I(n.l),r=function(t,e,n){var o,r,i;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=D(t,360),e=D(e,100),n=D(n,100),0===e)o=r=i=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;o=a(u,s,t+1/3),r=a(u,s,t),i=a(u,s,t-1/3)}return{r:255*o,g:255*r,b:255*i}}(n.h,n.s,n.l),u=!0,c="hsl"),n.hasOwnProperty("a")&&(s=n.a));return s=S(s),{ok:u,format:n.format||c,r:i(255,a(r.r,0)),g:i(255,a(r.g,0)),b:i(255,a(r.b,0)),a:s}}(s);this._originalInput=s,this._r=l.r,this._g=l.g,this._b=l.b,this._a=l.a,this._roundA=r(100*this._a)/100,this._format=c.format||l.format,this._gradientType=c.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=l.ok,this._tc_id=n++};function c(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var o,r,s=a(t,e,n),u=i(t,e,n),c=(s+u)/2;if(s==u)o=r=0;else{var l=s-u;switch(r=c>.5?l/(2-s-u):l/(s+u),s){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:r,l:c}}function l(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var o,r,s=a(t,e,n),u=i(t,e,n),c=s,l=s-u;if(r=0===s?0:l/s,s==u)o=0;else{switch(s){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:r,v:c}}function f(t,e,n,o){var i=[j(r(t).toString(16)),j(r(e).toString(16)),j(r(n).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(t,e,n,o){var i=[j(function(t){return Math.round(255*parseFloat(t)).toString(16)}(o)),j(r(t).toString(16)),j(r(e).toString(16)),j(r(n).toString(16))];return i.join("")}function d(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=M(n.s),u(n)}function h(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=M(n.s),u(n)}function g(t){return u(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=M(n.l),u(n)}function y(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=a(0,i(255,n.r-r(-e/100*255))),n.g=a(0,i(255,n.g-r(-e/100*255))),n.b=a(0,i(255,n.b-r(-e/100*255))),u(n)}function v(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=M(n.l),u(n)}function b(t,e){var n=u(t).toHsl(),o=(r(n.h)+e)%360;return n.h=o<0?360+o:o,u(n)}function w(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function A(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function P(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function O(t,e,n){e=e||6,n=n||30;var o=u(t).toHsl(),r=360/n,i=[u(t)];for(o.h=(o.h-(r*e>>1)+720)%360;--e;)o.h=(o.h+r)%360,i.push(u(o));return i}function E(t,e){e=e||6;for(var n=u(t).toHsv(),o=n.h,r=n.s,i=n.v,a=[],s=1/e;e--;)a.push(u({h:o,s:r,v:i})),i=(i+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=S(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),o=r(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+o+"%)":"hsva("+e+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),o=r(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+o+"%)":"hsla("+e+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*D(this._r,255))+"%",g:r(100*D(this._g,255))+"%",b:r(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%)":"rgba("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,o=this._gradientType?"GradientType = 1, ":"";if(t){var r=u(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,o=this._a<1&&this._a>=0,r=!e&&o&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},u.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]="a"===o?t[o]:I(t[o]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:s(),g:s(),b:s()})},u.mix=function(t,e,n){n=0===n?0:n||50;var o,r=u(t).toRgb(),i=u(e).toRgb(),a=n/100,s=2*a-1,c=i.a-r.a,l=1-(o=((o=s*c==-1?s:(s+c)/(1+s*c))+1)/2),f={r:i.r*o+r.r*l,g:i.g*o+r.g*l,b:i.b*o+r.b*l,a:i.a*a+r.a*(1-a)};return u(f)},u.readability=function(t,e){var n=u(t),o=u(e),r=n.toRgb(),i=o.toRgb(),a=n.getBrightness(),s=o.getBrightness(),c=Math.max(r.r,i.r)-Math.min(r.r,i.r)+Math.max(r.g,i.g)-Math.min(r.g,i.g)+Math.max(r.b,i.b)-Math.min(r.b,i.b);return{brightness:Math.abs(a-s),color:c}},u.isReadable=function(t,e){var n=u.readability(t,e);return n.brightness>125&&n.color>500},u.mostReadable=function(t,e){for(var n=null,o=0,r=!1,i=0;i<e.length;i++){var a=u.readability(t,e[i]),s=a.brightness>125&&a.color>500,c=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&c>o||!s&&!r&&c>o)&&(r=s,o=c,n=u(e[i]))}return n};var x=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=u.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(x);function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function D(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=i(e,a(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),o.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return i(1,a(0,t))}function T(t){return parseInt(t,16)}function j(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}var R=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=u}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})})?o.apply(e,r):o)||(t.exports=i)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(94)),r=i(n(1));n(131);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=o.constructor.getMultipage(),o.pageSpacing=o.constructor.getPageSpacing(),o}return a(e,t),e.getName=function(){return"facing-cover-continuous-view-mode"},e.getMultipage=function(){return 2},e.getPageSpacing=function(){return 10},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".facing-cover-continuous-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-cover-continuous-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n - 1){","margin-right: 0;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener(function(){clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout(function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then(function(){t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())})},30)})},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing,o=n*(e-1)/e,r=0;r<t.length;r++)t.eq(r).css({width:"calc("+100/e+"% - "+o+"px)"});t.eq(0).css({marginLeft:"calc("+100/e+"% + "+n+"px)"})},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var t=this.getItems(),e=0;e<t.length;e++)(0,r.default)(t[e]).css({width:"",height:""});t.eq(0).css({marginLeft:""})},e.prototype.renderViewMode=function(t,e,n,o,r){var i=t.index,a=this.getMaxPageWidth(),s=this.getItems(),u=this.multipage,c=(u-1)*this.pageSpacing;0===i&&s.eq(0).css({"margin-left":(a*e+c)*(u-1)}),this.docRender.pagesRender.$ui.css({width:a*u*e+c});for(var l=Math.floor(i/u),f=0,p=this.docRender.doc.getPageCount(),d=[],h=0;h<u;h++){var g=l*u+h;g<p&&d.push(this.docRender.getPDFDoc().getPageByIndex(g).then(function(t){f=Math.max(t.getPxHeight(),f),t.getPxHeight()}))}Promise.all(d).then(function(){s.eq(i).css({height:f*e})}).catch(function(){})},e.prototype.getMaxPageWidth=function(){var t=0;return this.docRender.doc.pageCache.forEach(function(e){t=Math.max(t,e.getPxWidth())}),t},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.doc.pageCache,n=this.getMaxPageWidth(),o=this.docRender.viewerRender.scrollWrap,r=this.multipage;return(o.getWidth()-16-r*this.pageSpacing)/r/n*e[t].getPxWidth()},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),u=s.position().left+o,c=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(u,c)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];return this.getItems().each(function(t,n){var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=e&&i.push(t)}),i},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,u=[],c=0;c<t.length;c++){var l=t[c],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,y=void 0;if(d<=n&&h>n&&h<o?y=h-n:d>=n&&h<o?y=p:d<=n&&h>o?y=o-n:d>=n&&d<o&&h>o&&(y=o-d),y){var v=void 0;g<=i&&m>i&&m<a?(v=m-i,u.push({index:c,area:y*v})):g>=i&&m<a?(v=f,u.push({index:c,area:y*v})):g<=i&&m>a?(v=a-i,u.push({index:c,area:y*v})):g>=i&&g<a&&m>a&&(v=a-g,u.push({index:c,area:y*v}))}}for(var b=0,w=0;w<u.length;w++)u[w].area>b&&(b=u[w].area,s=u[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.currentPageIndex;if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+2)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.docRender.currentPageIndex;if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+2)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(94)),r=a(n(1)),i=n(131);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=o.constructor.getMultipage(),o.pageSpacing=o.constructor.getPageSpacing(),o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o}return s(e,t),e.getName=function(){return"facing-cover-view-mode"},e.getMultipage=function(){return 2},e.getPageSpacing=function(){return 10},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".facing-cover-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-cover-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-cover-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-cover-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n - 1){","margin-right: 0;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.scrollHost=n.getScrollHost();var o=this,a=c(80,function(){o.isMouseDown||!o.isWheel||o.flip||(o.scroll.call(o),o.isWheel=!1)});this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener(function(){t.isScroll=!0,a(),clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout(function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then(function(){t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())})},30)}),this.scrollHost.addEventListener("wheel",this.wheel),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(i.UIEvents.zoomToSuccess,this.adjust),this.docRender.goToPage(this.docRender.getCurrentPageIndex()),(this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]})).on("panend",function(e){return t.adjust(),!1})},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing,o=n*(e-1)/e,r=0;r<t.length;r++)t.eq(r).css({width:"calc("+100/e+"% - "+o+"px)"});t.eq(0).css({marginLeft:"calc("+100/e+"% + "+n+"px)"})},e.prototype.keyup=function(t){var e=t.keyCode;if(33===e||34===e){var n=this;setTimeout(function(){n.adjust()},50)}else 38!==e&&40!==e||this.adjust()},e.prototype.wheel=function(t){this.isWheel=!0;var e=this.docRender.viewerRender.scrollWrap;this.currentScrollTop=e.getScrollTop(),this.currentPageIndex=this.getCurrentPageIndex();var n=e.getHeight();e.getScrollLeft();if(n>this.getItems().eq(this.currentPageIndex).children(".fv__pdf-page-layout").height()){if(this.flip=!0,t.deltaY>0){this.docRender.doc.getPageCount();var o=this.currentPageIndex+2;this.docRender.goToPage(o)}else{var r=this.currentPageIndex-2;r<=0&&(r=0),this.docRender.goToPage(r)}t.preventDefault()}else this.flip=!1},e.prototype.mouseDown=function(){this.isMouseDown=!0},e.prototype.mouseUp=function(){this.isMouseDown&&this.isScroll&&this.adjust(),this.isMouseDown=!1,this.isScroll=!1},e.prototype.adjust=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getScrollLeft(),o=this.scrollHost.clientHeight,r=e+o,i=this.getCurrentPageIndex(),a=this.getItems(),s=a.eq(i),u=(a.get(i),s.outerHeight(!0)),c=s.position().top,l=c+u;e<c&&l>r?t.scrollTo(n,c):e>c&&l<r&&t.scrollTo(n,l-o)},e.prototype.scroll=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.viewerRender.scrollWrap,n=this.currentScrollTop,o=e.getScrollTop(),r=o-n,i=e.getScrollLeft(),a=this.scrollHost.clientHeight,s=this.currentPageIndex,u=this.getItems(),c=u.eq(s),l=(u.get(s),c.position().top),f=l+c.outerHeight(!0)-a;if(r>=0)if(n-f<-1){if(o<f)return;e.scrollTo(i,f)}else{var p=s+2;if(!(p<t))return;e.scrollTo(i,u.eq(p).position().top)}else if(n-l>1){if(o>l)return;e.scrollTo(i,l)}else{var d=s-2;if(d<0&&(d=0),!(d>-1))return;e.scrollTo(i,u.eq(d).position().top+u.eq(d).outerHeight(!0)-a)}},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var t=this.getItems(),e=0;e<t.length;e++)(0,r.default)(t[e]).css({width:"",height:""});t.eq(0).css({marginLeft:""}),this.scrollHost&&this.scrollHost.removeEventListener("wheel",this.wheel),this.scrollHost&&this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.off(i.UIEvents.zoomToSuccess,this.adjust)},e.prototype.renderViewMode=function(t,e,n,o,i){var a=t.index,s=this.getMaxPageWidth(),u=this.getItems(),c=this.multipage,l=this.docRender.viewerRender.scrollWrap.getHeight(),f=(c-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:s*c*e+f});for(var p=Math.floor(a/c),d=0,h=this.docRender.doc.getPageCount(),g=[],m=0;m<c;m++){var y=p*c+m;y<h&&g.push(this.docRender.getPDFDoc().getPageByIndex(y).then(function(t){d=Math.max(t.getPxHeight(),d),t.getPxHeight()}))}Promise.all(g).then(function(){var t=d*e;t<l?(0,r.default)(u[a]).css({height:"calc("+l+"px - 1rem)"}):(0,r.default)(u[a]).css({height:t})}).catch(function(){})},e.prototype.getMaxPageWidth=function(){var t=0;return this.docRender.doc.pageCache.forEach(function(e){t=Math.max(t,e.getPxWidth())}),t},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.doc.pageCache,n=this.getMaxPageWidth(),o=this.docRender.viewerRender.scrollWrap,r=this.multipage;return(o.getWidth()-16-r*this.pageSpacing)/r/n*e[t].getPxWidth()},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),u=s.position().left+o,c=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(u,c)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];return this.getItems().each(function(t,n){var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=e&&i.push(t)}),i},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,u=[],c=0;c<t.length;c++){var l=t[c],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,y=void 0;if(d<=n&&h>n&&h<o?y=h-n:d>=n&&h<o?y=p:d<=n&&h>o?y=o-n:d>=n&&d<o&&h>o&&(y=o-d),y){var v=void 0;g<=i&&m>i&&m<a?(v=m-i,u.push({index:c,area:y*v})):g>=i&&m<a?(v=f,u.push({index:c,area:y*v})):g<=i&&m>a?(v=a-i,u.push({index:c,area:y*v})):g>=i&&g<a&&m>a&&(v=a-g,u.push({index:c,area:y*v}))}}for(var b=0,w=0;w<u.length;w++)u[w].area>b&&(b=u[w].area,s=u[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.currentPageIndex;if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+2)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.docRender.currentPageIndex;if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+2)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=u;var c=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,r)},t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(14)),r=u(n(531)),i=u(n(3)),a=n(5),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default))}return c(e,t),e.getName=function(){return"MarqueeToolController"},e.prototype.mounted=function(){var t=this,e=this.getPDFUI();this.viewerComponent=this.getComponentByName(a.WEBPDF_VIEWER_COMPONENT_NAME),e.addViewerEventListener(i.default.marqueeZoomOut,function(e,n){t.zoomOut(e,n)}),e.addViewerEventListener(i.default.marqueeZoomIn,function(e,n){t.zoomIn(e,n)}),e.getPDFViewer().then(function(e){t.pdfViewer=e})},e.prototype.getVisibleHeightAndWidth=function(t){var e=this.viewerComponent.element.offsetHeight,n=this.viewerComponent.element.offsetWidth,o=this.pdfViewer.pdfViewerRender.pdfDocRender.getPDFPageRender(t),r=o.$handler.height(),i=o.$handler.width();return{width:Math.min(n,i),height:Math.min(e,r)}},e.prototype.zoomOut=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.pdfViewer,r=o.pdfViewerRender.pdfDocRender.getPDFPageRender(n),i=r.scale;o.zoom(-.25).then(function(){return o.pdfViewerRender.getScaleRatio()}).then(function(a){var s=i/a;if(s<e.pdfViewer.config.minScale&&(s=e.pdfViewer.config.minScale,a=i/s),0===t.width||0===t.height)e.zoomByPointer(t,a/i,n);else{var u=e.getVisibleHeightAndWidth(n),c=r.$handler.height(),l=r.$handler.width(),f=u.width,p=u.height,d=void 0,h=void 0;if(f>l)d=0;else{var g=t.left/a,m=(f-t.width/a)/2;d=Math.max(0,g-m)}if(p>c)h=0;else{var y=t.top/a,v=(p-t.height/a)/2;h=Math.max(0,y-v)}o.goToPage(n,h,d,!1)}})},e.prototype.zoomIn=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.pdfViewer,r=o.pdfViewerRender.pdfDocRender.getPDFPageRender(n).scale;if(0===t.width||0===t.height)o.zoom(.25).then(function(){return o.pdfViewerRender.getScaleRatio()}).then(function(o){e.zoomByPointer(t,o/r,n)});else{var i=this.getVisibleHeightAndWidth(n),a=i.width,s=i.height,u=a/t.width,c=s/t.height,l=Math.min(u,c),f=l*r;f>o.config.maxScale&&(l=(f=o.config.maxScale)/r);var p=void 0,d=void 0;if(c>u){d=t.left*l;var h=t.top*l,g=(s-t.height*l)/2;p=Math.max(0,h-g)}else{p=t.top*l;var m=t.left*l,y=(a-t.width*l)/2;d=Math.max(0,m-y)}o.zoomTo(f).then(function(){o.goToPage(n,p,d,!1)})}},e.prototype.zoomByPointer=function(t,e,n){var o=(0,s.default)(this.viewerComponent.element).offset(),r=t.clientX-o.left+0,i=t.clientY-o.top-8,a=(t.left-r)*e+r*e-r,u=(t.top-i)*e+i*e-i;this.pdfViewer.goToPage(n,u,a,!1)},e}(o.default);e.default=l},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$each,i=(t.$value,t.$index,t.i,o.$escape);arguments[1];return t.length&&(e+="\n",r(t,function(o,r){e+='\n<div class="fv__layer_list">\n';for(var a=0;a<o.deep;a++)e+='\n    <div class="fv__tree-icon fv__line_pc_ui"></div>\n';e+="\n\n",1==t.length?(e+="\n    ",o.children.length?e+='\n        <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugonly_pc"></div></a>\n    ':e+='\n        <div class="fv__tree-icon fv__joinonly_pc"></div>\n    ',e+="\n"):0==r?(e+="\n    ",o.children.length?(e+="\n        ",o.deep?e+='\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\n        ':e+='\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugtop_pc"></div></a>\n        ',e+="\n    "):(e+="\n        ",o.deep?e+='\n        <div class="fv__tree-icon fv__join_pc_ui"></div>\n        ':e+='\n        <div class="fv__tree-icon fv__jointop_pc_ui"></div>\n        ',e+="\n    "),e+="\n"):r==t.length-1?(e+="\n    ",o.children.length?e+='\n    <a class="fv__tree-fold-btn">\n    <div class="fv__tree-icon fv__plugbottom_pc"></div>\n    </a>\n    ':e+='\n    <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\n    ',e+="\n"):(e+="\n\n    ",o.children.length?e+='\n    <a class="fv__tree-fold-btn">\n    <div class="fv__tree-icon fv__plug_pc_ui"></div>\n    </a>\n    ':e+='\n    <div class="fv__tree-icon fv__join_pc_ui"></div>\n    ',e+="\n"),e+="\n\n",o.hasLayer&&(e+="\n",o.isLocked?(e+="\n<img ",e+='src="'+n(610)+'"',e+=' style="height:14px;"/>\n'):(e+='\n<input type="checkbox" class="fv__toggle-checkbox" id="fv__cb',e+=i(o.id),e+='" data-id=',e+=i(o.id),e+=" ",o.visible&&(e+="checked"),e+=" />\n"),e+="\n"),e+='\n<a class="fv__layer-item">\n<label for="fv__cb',e+=i(o.id),e+='">',e+=i(o.name),e+='</label>\n</a>\n</div>\n\n\n<div class="fv__layer-child fv__ly-hide">\n',function(t){e+=t}(n(257)(o.children)),e+="\n</div>\n"}),e+="\n"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=function(t){return t&&t.__esModule?t:{default:t}}(n(9)),i=n(143),a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data=null,o}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CHECK_THE_SEARCH},e.prototype.docHandler=function(t){var e=this;this.pdfViewer.eventEmitter.on(r.default.checkTheSearch,function(t,n){var o=e.data;o&&e.hideSelectMark(e.pdfViewer.getPDFDocRender().getPDFPageRender(o.pageIndex)),e.data=t,e.prevStateHandler=n;var r=e.pageRender=e.pdfViewer.getPDFDocRender().getPDFPageRender(t.pageIndex);r.getPDFPage().then(function(n){var o=r.transformRectArray(n,t.rects);e.showSelectMark(o)})}),this.pdfViewer.eventEmitter.on(r.default.zoomToSuccess,function(){o()}),this.pdfViewer.eventEmitter.on(r.default.fitWidthResizeViewport,function(){o()});var n=this;function o(){var t=n.pageRender=n.pdfViewer.getPDFDocRender().getPDFPageRender(n.data.pageIndex);t.getPDFPage().then(function(e){var o=t.transformRectArray(e,n.data.rects);n.showSelectMark(o)})}var i=this.pdfViewer.getPDFDocRender().$ui[0];(this.hammer=new Hammer.Manager(i,{recognizers:[[Hammer.Tap]]})).on("tap",function(t){e.pdfViewer.getStateHandlerManager().switchTo(e.prevStateHandler)})},e.prototype.destroyDocHandler=function(){this.hammer&&this.hammer.destroy(),this.hideSelectMark()},e.prototype.out=function(){this.destroyDocHandler()},e.prototype.showSelectMark=function(t){(0,i.appendSelectMark)(this.pageRender.$handler,t)},e.prototype.hideSelectMark=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageRender;t&&(0,i.removeSelectMark)(t.$handler)},e}(o.IStateHandler);e.default=u},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$each,i=(t.$value,t.$index,t.i,o.$escape);arguments[1];return t.length&&(e+="\n",r(t,function(o,r){e+='\n<div class="fv__bookmarks_list">\n\n';for(var a=0;a<o.deep;a++)e+='\n    <div class="fv__tree-icon fv__line_pc_ui"></div>\n';e+="\n\n",1==t.length?(e+="\n    ",o.children.length?e+='\n        <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugonly_pc"></div></a>\n    ':e+='\n        <div class="fv__tree-icon fv__joinonly_pc"></div>\n    ',e+="\n"):0==r?(e+="\n    ",o.children.length?(e+="\n        ",o.deep?e+='\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\n        ':e+='\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugtop_pc"></div></a>\n        ',e+="\n    "):(e+="\n        ",o.deep?e+='\n        <div class="fv__tree-icon fv__join_pc_ui"></div>\n        ':e+='\n        <div class="fv__tree-icon fv__jointop_pc_ui"></div>\n        ',e+="\n    "),e+="\n"):r==t.length-1?(e+="\n    ",o.children.length?e+='\n    <a class="fv__tree-fold-btn">\n    <div class="fv__tree-icon fv__plugbottom_pc"></div>\n    </a>\n    ':e+='\n    <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\n    ',e+="\n"):(e+="\n\n    ",o.children.length?e+='\n    <a class="fv__tree-fold-btn">\n    <div class="fv__tree-icon fv__plug_pc_ui"></div>\n    </a>\n    ':e+='\n    <div class="fv__tree-icon fv__join_pc_ui"></div>\n    ',e+="\n"),e+='\n\n\n<a class="fv__bookmark-item" data-page="',e+=i(o.page),e+='" data-top="',e+=i(o.top),e+='" data-left="',e+=i(o.left),e+='">\n<div class="fv__bookmark_icon"></div>\n<span style="color:',e+=i(o.color),e+=";",o.isBold&&(e+="font-weight:bold;"),o.isItalic&&(e+="font-style:italic;"),e+='">',e+=i(o.title),e+='</span>\n</a>\n</div>\n\n\n<div class="fv__bookmark-child fv__hide">\n',function(t){e+=t}(n(259)(o.children)),e+="\n</div>\n"}),e+="\n"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});d(n(18)),d(n(7));var o=d(n(628)),r=d(n(627)),i=(d(n(2)),d(n(3))),a=n(5),s=d(n(1));n(1394);var u=d(n(625)),c=n(20),l=d(n(61)),f=n(155),p=n(62);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.destroyHook=[],i.noMore=!1,i}return h(e,t),e.getName=function(){return"thumbnail-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.$html=(0,s.default)(this.element)},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.$thumbImageContainerBox=this.$html.find(".fv__thumb-image-container-box"),this.$thumbImageContainer=this.$html.find(".fv__thumb-image-container")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.$html.scroll(function(t){if(!e.noMore&&t.target.scrollHeight-t.target.offsetHeight-t.target.scrollTop<100){if(e.scrollTimer)return;e.controller.loadMore(),e.scrollTimer=setTimeout(function(t){e.scrollTimer=null},50)}});var n=this.element.querySelector(".fv__thumb-image-container"),o=this;u.default.create(n,{delay:10,scroll:!0,onStart:function(t){o.getPDFUI().getPDFViewer().then(function(t){t.$ui.hide()})},onEnd:function(t){var e=t.oldIndex,n=t.newIndex,r=o.getPDFUI();r.getPDFViewer().then(function(t){t.$ui.show()}),e!=n&&o.controller.movePageTo(e,n).then(function(t){var i=Math.min(e,n),a=Math.max(e,n);o.updateIndex(i,a),r.goToPage(n,0,0,!1)})}});navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>-1&&(document.body.ondrop=function(t){t.preventDefault(),t.stopPropagation()});var r=this.getComponentByName("fv--thumbnail-contextmenu"),s=r.getComponentByName("contextmenu-item-thumbnail-delete"),l=s.previousSiblings(),d=!!l&&l instanceof p.ContextMenuSeparatorComponent;r.on(a.COMPONENT_EVENTS.SHOWN,function(){var t=r.getCurrentTarget();o.getPDFUI().goToPage(t,0,0,!1),o.activeThumbByPageIndex(t),o.$html.find(".fv__thumb-page").length<=1?(s.hide(),d&&l.hide()):(s.show(),d&&l.show()),o.getPDFUI().getPDFDocRender().then(function(t){var e=t.getUserPermission().getValue();e&c.PDFDocPermission.Assemble||e&c.PDFDocPermission.ModifyDocument?r.enable():r.disable()})});var h=(0,f.attachContextMenuEvent)(this.element,function(t){var e=t.target.closest("[data-page-index]");if(e){var n=+e.getAttribute("data-page-index");r.setCurrentTarget(n),r.showAt(t.clientX,t.clientY),t.preventDefault()}},!0);this.addDestroyHook(h,this.getPDFUI().addViewerEventListener(i.default.willCloseDocument,function(){e.noMore=!1,e.$thumbImageContainer.html("")}))},e.prototype.updateIndex=function(t,e){for(var n=this.$html.find(".fv__thumb-page"),o=t;o<=e;o++){var r=(0,s.default)(n[o]);r.find(".fv__thumb-page-index").html(o+1),r.data("page-index",o),r.attr("data-page-index",o)}},e.prototype.appendThumb=function(t){this.$thumbImageContainer.append((0,r.default)(t))},e.prototype.appendThumbByIndex=function(t,e){var n=this.$html.find(".fv__thumb-page");if(n[e]){var o=(0,s.default)((0,r.default)(t)),i=(0,s.default)(n[e]);o.insertBefore(i);var a=n.length-1+1;this.updateIndex(e,a)}else this.$thumbImageContainer.append((0,r.default)(t))},e.prototype.removeThumb=function(t){var e=this.$html.find(".fv__thumb-page");if(e[t]){e[t].remove();var n=e.length-2;this.updateIndex(t,n)}},e.prototype.updateThumb=function(t,e){var n=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,s.default)(this.$html.find(".fv__thumb-page")[t]),i=r.find(".fv__thumb-image")[0];i.classList.remove("fv__hide"),r.find(".fv__thumb-loading").remove();var a=i.getContext("2d");i.width=e.width,i.height=e.height;var u=a.createImageData(e.width,e.height),c=new(Uint8ClampedArray||Uint8Array)(e.buffer);u.data.set(c),a.putImageData(u,0,0),o&&(r.on("click",function(t){var e=r.data("page-index");n.getPDFUI().goToPage(e,0,0,!1),n.$html.find(".fv__active").removeClass("fv__active"),r.addClass("fv__active")}),this.destroyHook.push(function(){r.off("click")}))},e.prototype.activeThumbByPageIndex=function(t){var e=this.$html.find(".fv__thumb-page");if(e[t]){this.$html.find(".fv__active").removeClass("fv__active");var n=(0,s.default)(e[t]);n.addClass("fv__active");var o=n.parents(".fv__ui-thumbnail-container"),r=o.offset().top+10,i=n.offset().top;if(i!==r){var a=o.scrollTop();o.scrollTop(a+i-r)}}},e.prototype.resizeHandler=function(){this.$thumbImageContainerBox.height()-this.element.offsetHeight<400&&this.controller.loadMore()},e.prototype.reset=function(){this.noMore=!1,this.$thumbImageContainer.html(""),this.destroy()},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()}),this.destroyHook=[]},e}(l.default.createSuperClass({template:(0,o.default)()}));e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationReviewStateAnnotAdd,function(t,n){e.getCurrentAnnot().getId()===n.getId()&&e.updateStateList()}),this.getPDFUI().addViewerEventListener(r.default.stateAnnotNameUpdated,function(t,n,o,r){e.getCurrentAnnot().getReviewStates().indexOf(t)>-1&&e.getPDFUI().getUserName().then(function(n){stateMap[n].getId()===t.getId()&&(e.component.updateState(o,r),e.component.applyState())})}))},e.prototype.updateStateList=function(){var t=this.getCurrentAnnot(),e=this.processStateData(t.getReviewStates()),n=Object.keys(e).map(function(t){return e[t]});this.component.setStates(n),this.component.applyState()},e.prototype.getCurrentAnnot=function(){return this.data.annot},e.prototype.processStateData=function(t){return t.reduce(function(t,e){var n=e.getTitle(),o=t[n];return o?o.getModifiedDateTime()<e.getModifiedDateTime()&&(t[n]=e):t[n]=e,t},{})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t=Number(t),isNaN(t)||"number"!=typeof t)return;var e=new Date,n=e.getFullYear(),o=e.getMonth(),r=e.getDate(),i=new Date(n,0,1,0,0,0,0).getTime(),a=new Date(n,o,r,0,0,0,0).getTime(),s=new Date;s.setTime(t);var u=[s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()].map(function(t){return t<10?"0"+t:t+""});return t<i?u.slice(0,3).join("-"):t<a?u.slice(1,3).join("-"):u.slice(3).join(":")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),r=s(n(639)),i=s(n(9)),a=s(n(262));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=(0,r.default)({}),l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"sidebar-panel"},e.getMetadata=function(){return{options:{timeFormatter:{type:"function",required:!1,defaultValue:a.default}}}},e.prototype.render=function(){t.prototype.render.call(this);var e=this.getPDFUI().parseTemplate(c);this.headerElement.appendChild(e.element),e.parent=this,this.menuComponent=e},e.prototype.mounted=function(){var e=this;this.menuComponent.mounted(),t.prototype.mounted.call(this);var n=function(t){e.broadcast("scroll")};this.bodyElement.addEventListener("scroll",n),this.addDestroyHook(function(t){return e.bodyElement.removeEventListener("scroll",n)});var o=this.getPDFUI();"function"!=typeof o.customShowReplyDialogHandler&&(o.customShowReplyDialogHandler=function(t,n,r){var a=t.getPDFPage().getIndex(),s=void 0;s=function(t){return"strikeout"===t.getType()&&t.isReplace&&t.isReplace()}(t.annot)?t.annot.getGroupHeader().getId():t.getId(),e.parent.isCollapsed()&&e.parent.expand(),e.active();var u=t.annot.getType();if("string"!=typeof u||"freetext"!==u.toLowerCase()){var c=e.getComponentByName("commentlist"),l=c.childAt(a),f=l.children().filter(function(t){return t.controller.data.annot.getId()===s})[0],p=function(e){l.active(),c.selectComponent(e);e.element.scrollIntoView({block:"nearest",behavior:"smooth",inline:"start"}),o.getPDFViewer().then(function(o){var r=o.getAnnotManager().getAnnotFlag(t.annot);if(r.checkReadOnly());else switch(n){case"reply":e.focusOnReplyEditor();break;case"comment":default:t.propertyDisabled()||r.checkLockedContents()||r.checkLocked()||c.editComponent(e)}})};f?p(f):o.eventEmitter.on(i.default.appendCommentListComment,function t(e,n){n.getId()===s&&(p(e),o.eventEmitter.off(i.default.appendCommentListComment,t))})}else r()},this.addDestroyHook(function(){return o.customShowReplyDialogHandler=null}))},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.menuComponent.destroy()},e}(o.SidebarPanelComponent);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(41));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.selected=!1,i.operationMode="view",i.hasStates=!1,i.isStateListHidden=!1,i}return a(e,t),e.prototype.select=function(){this.disabled||(this.selected=!0)},e.prototype.deselect=function(){this.selected=!1},e.prototype.switchToEdit=function(){this.disabled||(this.operationMode="edit")},e.prototype.switchToView=function(){this.operationMode="view"},e.prototype.setStates=function(t){this.states=t,this.hasStates=t.length>0,this.stateStatistics=t.reduce(function(t,e){var n=e.getState();return t[n]=(t[n]||0)+1,t},{})},e.prototype.updateState=function(t,e){this.stateStatistics[t]--,this.stateStatistics[e]++},e.prototype.hideStateList=function(){this.isStateListHidden=!0},e.prototype.showStateList=function(){this.isStateListHidden=!1},e.prototype.publishMessage=function(){(0,r.default)()},e.prototype.applyState=function(){if(this.element.classList.remove("view","edit","not-selected","selected","has-states","no-states"),this.element.classList.add(this.operationMode,this.hasStates?"has-states":"no-states",this.selected?"selected":"not-selected"),this.hasStates){var t=this.element.querySelector(".fv__ui-commentlist-comment-status-list");if(this.isStateListHidden)t.classList.add("fv__ui-hide");else{t.classList.remove("fv__ui-hide");var e=t.querySelectorAll("[status]");for(var n in e.forEach(function(t){t.classList.add("fv__ui-hide")}),this.stateStatistics){var o=this.stateStatistics[n],r=t.querySelector("[status="+n+"]");r&&(r.classList.remove("fv__ui-hide"),r.querySelector("[role=count]").innerText=o)}}}},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(313)),r=u(n(181)),i=u(n(180)),a=u(n(263)),s=u(n(262));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),u=i.findClosestComponent(function(t){return t instanceof a.default});return u&&!i.timeFormatter&&(i.timeFormatter=u.timeFormatter),i.timeFormatter||(i.timeFormatter=s.default),i.lastReplyComponent=null,i.lastCommentCardComponent=null,i.lastEditComponent=null,i}return c(e,t),e.getName=function(){return"comment-list"},e.getMetadata=function(){return{options:{timeFormatter:{type:"function",required:!1}}}},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist")},e.prototype.selectCommentItem=function(t){this.lastEditComponent&&this.lastEditComponent!==t&&this.lastEditComponent.publishMessage(),this.lastReplyComponent&&this.lastReplyComponent.parent!==t&&(this.lastReplyComponent.switchToView(),this.lastReplyComponent.deselect(),this.lastReplyComponent.applyState(),this.lastReplyComponent=null),this.lastCommentCardComponent&&this.lastCommentCardComponent!==t&&(this.lastCommentCardComponent.deselect(),this.lastCommentCardComponent.applyState()),this.lastCommentCardComponent=t,t.selected||(t.select(),t.applyState(),this.trigger("selectCommentItem",t))},e.prototype.selectCommentReply=function(t){this.lastReplyComponent!==t&&(this.lastEditComponent&&this.lastEditComponent!==t&&this.lastEditComponent.publishMessage(),this.lastCommentCardComponent&&t.parent!==this.lastCommentCardComponent&&(this.lastCommentCardComponent.deselect(),this.lastCommentCardComponent.applyState()),this.lastReplyComponent&&this.lastReplyComponent!==t&&(this.lastReplyComponent.deselect(),this.lastReplyComponent.applyState()),this.lastReplyComponent=t,t.parent.select(),t.parent.applyState(),this.lastCommentCardComponent=t.parent,t.select(),t.applyState(),this.trigger("selectCommentReply",t))},e.prototype.selectComponent=function(t){t instanceof r.default?this.selectCommentItem(t):t instanceof i.default&&this.selectCommentReply(t)},e.prototype.editComponent=function(t){t!==this.lastEditComponent&&this.lastEditComponent&&this.lastEditComponent.publishMessage(),t.switchToEdit(),t.applyState(),this.lastEditComponent=t},e}(o.default);e.default=l},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return o(e,t),e.getName=function(){return"ShowCreateInkSignDialogController"},e.prototype.handle=function(t){var e=this.getComponentByName("create-signature");e.update(),e.open(document.body)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateInkSignDialogController=void 0;var o=c(n(4)),r=c(n(1)),i=n(5),a=c(n(182)),s=c(n(9)),u=n(32);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.CreateInkSignDialogController=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.signPoints=[],o.signColor="#000000",o.signSize=4,o}return l(e,t),e.getName=function(){return"CreateInkSignDialogController"},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.$selectColor=(0,r.default)(this.component.getComponentByName("sign-dialog-select-color").element),this.$selectSize=(0,r.default)(this.component.getComponentByName("sign-dialog-select-size").element),this.$okBtn=(0,r.default)(this.component.getComponentByName("sign-dialog-ok-btn").element),this.$closeBtn=(0,r.default)(this.component.getComponentByName("sign-dialog-close-btn").element),this.$canvas=(0,r.default)(this.component.getComponentByName("sign-dialog-canvas").element),this.$eraser=(0,r.default)(this.component.getComponentByName("sign-dialog-select-eraser").element),this.$save=(0,r.default)(this.component.getComponentByName("sign-dialog-save").element),this.$selectColor.find("[data-color='"+this.signColor+"']").addClass("circle-active"),this.$selectSize.find("[data-size='"+this.signSize+"']").addClass("circle-active"),this._bindEvent()},e.prototype._bindEvent=function(){var t=this,e=this.hammer=new Hammer.Manager(this.$canvas[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),n=this.$canvas[0].getContext("2d");function o(t,e){var n=t.getBoundingClientRect(),o=e.srcEvent;return{x:(0,u.getClientX)(o)-n.left,y:(0,u.getClientY)(o)-n.top}}this.component.on(i.COMPONENT_EVENTS.SHOWN,function(){var e=t.$canvas.parent().width(),n=t.$canvas.parent().height();t.$canvas[0].width=e,t.$canvas[0].height=n}),n.lineWidth=this.signSize,n.strokeStyle=this.signColor,n.lineJoin="round",n.lineCap="round",e.on("panstart",function(e){var r=o(t.$canvas[0],e),i={x:r.x-e.deltaX,y:r.y-e.deltaY};n.beginPath(),n.moveTo(i.x,i.y),t.signPoints.push(i)}),e.on("panmove",function(e){var r=o(t.$canvas[0],e);n.lineTo(r.x,r.y),n.stroke(),t.signPoints.push(r)}),e.on("panend",function(t){}),this.$eraser.on("click",function(){n.clearRect(0,0,t.$canvas[0].width,t.$canvas[0].height),t.signPoints=[]}),this.$closeBtn.on("click",function(){t.component.hide()}),this.$selectColor.find(".circle").on("click",function(e){var o=e.target;o.classList.contains("color-wrapper")||(o=o.parentNode),t.$selectColor.find("[data-color]").removeClass("circle-active");var i=(0,r.default)(o);i.addClass("circle-active"),t.signColor=n.strokeStyle=i.data("color")}),this.$selectSize.find(".circle").on("click",function(e){var o=e.target;o.classList.contains("color-wrapper")||(o=o.parentNode),t.$selectSize.find("[data-size]").removeClass("circle-active");var i=(0,r.default)(o);i.addClass("circle-active"),t.signSize=n.lineWidth=i.data("size")}),this.$okBtn.on("click",function(e){if(0!==t.signPoints.length){var n=t.getPDFUI();n.getPDFViewer().then(function(e){var o=e.getInkSignManager(),r=function(t){return t.toDataURL("image/png",1)}(t.$canvas[0]);if(t.$save.is(":checked")){var i=o.addInkSign();i.setDataURL(r),o.push(i)}n.getPDFDocRender().then(function(t){return t}).then(function(t){t&&t.getUserPermission().checkModify()&&(e.getStateHandlerManager().switchTo(a.default.getStateName()),e.eventEmitter.emit(s.default.applicationOfInkSign,r))}),t.component.hide(),t.signPoints=[]})}})},e}(o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(9)),i=a(n(182));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.signatures=[],o}return s(e,t),e.getName=function(){return"InkSignListController"},e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(r.default.inkSignAdded,function(e){t.data.signatures=e.slice(0),t.digest()}),e.addViewerEventListener(r.default.inkSignDeleted,function(e){t.data.signatures=e.slice(0),t.digest()})),e.getStateHandlerManager().then(function(t){t.register(i.default)})},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"ShowCreateStampDialogController"},e.prototype.handle=function(t){var e=this.getComponentByName("create-stamp-dialog");e.update(),e.open(document.body)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(661)),r=s(n(14)),i=n(22),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o.default))}return u(e,t),e.getName=function(){return"LoupeController"},e.prototype.mounted=function(){var t=this;this.layer=this.getComponentByName("loupe-tool-dialog");var e=this.header=this.layer.element.querySelector(".fv__ui-loupe-tool-header"),n=this.footer=this.layer.element.querySelector(".loupe-tool-bottom-bar"),o=this.body=this.layer.element.querySelector(".fv__ui-loupe-body"),r=new i.DebouncePromiseQueue,s=void 0,u=function(e){t.currentRenderer=e,o.firstElementChild!==e.element&&(o.firstElementChild?o.replaceChild(e.element,o.firstElementChild):o.appendChild(e.element))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.createPageAreaRenderer,function(i){i.setDimension(255,400),o.firstElementChild?o.replaceChild(i.element,o.firstElementChild):o.appendChild(i.element),i.update(),s=t.layer.on("resize",function(t,o){var a=e.offsetHeight+n.offsetHeight;i.setDimension(t,o-a),r.push(function(t){return i.update()})})}),this.getPDFUI().addViewerEventListener(a.default.startUpdatePageAreaRenderer,function(e){if(!t.layer.isVisible){t.layer.open();var n=t.header.offsetHeight+t.footer.offsetHeight;t.layer.element.style.cssText="width: 255px;height: "+(400+n)+"px;"}u(e)}),this.getPDFUI().addViewerEventListener(a.default.switchPageAreaRenderer,function(e){t.layer.isVisible&&u(e)}),this.getPDFUI().addViewerEventListener(a.default.destroyPageAreaRenderer,function(t){s&&s()}))},e.prototype.stateIn=function(){},e.prototype.stateOut=function(){this.layer.hide()},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(9)),r=i(n(54));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.stateName="edit-image",o}return a(e,t),e.getName=function(){return"EditImageController"},e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(o.default.switchStateHandler,function(e,n){t.getPDFUI().getStateHandlerManager().then(function(o){e===o.get(t.stateName)?t.component.active():n===o.get(t.stateName)&&t.component.deactive()})}))},e.prototype.handle=function(){var t=this;this.getPDFUI().getStateHandlerManager().then(function(e){e.getCurrentStates()===e.get(t.stateName)?e.switchTo(r.default.getStateName()):e.switchTo(t.stateName)})},e}(i(n(4)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(9)),i=(a(n(663)),a(n(54)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.stateName="add-image-object",o}return s(e,t),e.getName=function(){return"AddImageController"},o(e,null,[{key:"permission",get:function(){return 8}}]),e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.registerPromise=e.getStateHandlerManager().then(function(t){return t}),this.addDestroyHook(e.addViewerEventListener(r.default.switchStateHandler,function(e,n){t.getPDFUI().getStateHandlerManager().then(function(o){e===o.get(t.stateName)?t.component.active():n===o.get(t.stateName)&&t.component.deactive()})}))},e.prototype.handle=function(t){var e=this,n=this.getPDFUI(),o=this;n.getStateHandlerManager().then(function(a){a.getCurrentStates()===a.get(e.stateName)?a.switchTo(i.default.getStateName()):n.getPDFViewer().then(function(e){a.switchTo(o.stateName);var n=URL.createObjectURL(t);e.eventEmitter.emit(r.default.addEditImage,n)})})},e}(a(n(4)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RulerIterator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(124),i=(n(367),n(152)),a=n(33);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){s(this,t),this.orientation=e.orientation,this.pixelUnit=e.orientation===i.ORIENTATION_HORIZONTAL?r.PIXEL_HORIZONTAL:r.PIXEL_VERTICAL,this.dpi=e.orientation===i.ORIENTATION_HORIZONTAL?a.dpi.x:a.dpi.y,this.setZoom(e.zoom),this.setUnit(e.unit),this.minDivisionPixels=e.minDivisionPixels||this.dpi/this.inchRate/10}return o(t,null,[{key:"SCALE_TYPE_UNIT",get:function(){return"unit"}},{key:"SCALE_TYPE_MIDDLE",get:function(){return"middle"}},{key:"SCALE_TYPE_SCALE",get:function(){return"scale"}}]),t.prototype.setUnit=function(t){this.unit=t||r.INCH,this.inchRate=function(t){return t===r.MILLIMETER?r.CENTIMETER.fromInchRate:t.fromInchRate}(t),this.scaleRate=this.unit==r.MILLIMETER?10:1},t.prototype.setZoom=function(t){this.zoom=Math.max(t,.001)},t.prototype.iterator=function(t){return new c(this,t)},t.prototype.clone=function(){return new t({dpi:this.dpi,unit:this.unit,zoom:this.zoom,minDivisionPixels:this.minDivisionPixels})},t.prototype.scaleInfo=function(){var t=this.zoom,e=this.minDivisionPixels;if(this.zoom>1)return{divisionPixels:this.unit.convertTo(1,this.pixelUnit)/10*t*this.scaleRate,division:.1};var n=this.unit.convertTo(1,this.pixelUnit)/10*t*this.scaleRate,o=Math.max(e,n),r=Math.floor(o/n);return{divisionPixels:r*n,division:r/10}},t}();e.default=u;var c=e.RulerIterator=function(){function t(e,n){s(this,t),this.ruler=e,this.length=n,this.scaleInfo=e.scaleInfo(),this.$$offset=-this.scaleInfo.divisionPixels,this.$$scale=10*-this.scaleInfo.division,this.$$countFlag=0}return t.prototype.hasNext=function(){return this.$$offset<this.length},t.prototype.next=function(){var t=void 0;switch(this.$$countFlag%10){case 0:t=u.SCALE_TYPE_SCALE,this.$$scale+=10*this.scaleInfo.division;break;case 5:t=u.SCALE_TYPE_MIDDLE;break;default:t=u.SCALE_TYPE_UNIT}return this.$$offset+=this.scaleInfo.divisionPixels,this.$$countFlag++,{type:t,scale:this.$$scale*this.ruler.scaleRate,offset:this.$$offset}},t}()},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"OpenLocalFileController"},e.prototype.handle=function(t){this.getPDFUI().openPDFByFile(t).catch(function(){})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(1));var o=i(n(4)),r=i(n(65));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"OpenRemoteFileController"},e.prototype.handle=function(){var t=this.getPDFUI();t.prompt("","toolbar.buttons.openFromUrlPrompt","toolbar.buttons.openFromUrl").then(function(e){e&&t.openPDFByHttpRangeRequest({range:{url:e}})},r.default)},e}(o.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"ZoomToScaleValueController"},e.prototype.handle=function(){this.getPDFUI().zoomTo(this.data.scale)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(142)),r=a(n(378)),i=(a(n(106)),a(n(9)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"ContinuousPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.openFileSuccess,function(t){var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then(function(t){var o=t.getViewMode().getName();n<2?e.component.disable():(e.component.enable(),o===e.viewModeName&&e.component.active())})});return this.addDestroyHook(o),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,function(){n.getPDFViewerRender().then(function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()})})),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,function(){n.getPDFViewerRender().then(function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()})})),t.prototype.mounted.call(this)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(94)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=2,u=10,c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=o.constructor.getMultipage(),o.pageSpacing=o.constructor.getPageSpacing(),o}return a(e,t),e.getName=function(){return"multipage-view-mode"},e.setMultipage=function(t){s=t},e.getMultipage=function(){return s},e.setPageSpacing=function(t){u=t},e.getPageSpacing=function(){return u},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".multipage-view-mode{","overflow:hidden;","margin:0 auto;","}",".multipage-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".multipage-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".multipage-view-mode .fv__pdf-page-layout{","width: 100%;","}",".multipage-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n){","margin-right: 0;","}",".multipage-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".multipage-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener(function(){clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout(function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then(function(){t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())})},30)})},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing*(e-1)/e,o=0;o<t.length;o++)t.eq(o).css({width:"calc("+100/e+"% - "+n+"px)"})},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var t=this.getItems(),e=0;e<t.length;e++)(0,r.default)(t[e]).css({width:"",height:""})},e.prototype.renderViewMode=function(t,e,n,o,i){var a=this,s=t.index,u=this.getMaxPageWidth(),c=this.multipage,l=(c-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:u*c*e+l});for(var f=Math.floor(s/c),p=0,d=this.docRender.doc.getPageCount(),h=[],g=0;g<c;g++){var m=f*c+g;m<d&&h.push(this.docRender.getPDFDoc().getPageByIndex(m).then(function(t){p=Math.max(t.getPxHeight(),p),t.getPxHeight()}))}Promise.all(h).then(function(){var t=a.getItems();(0,r.default)(t[s]).css({height:p*e})})},e.prototype.getPagesLayout=function(){for(var t=this.docRender.doc.pageCache,e=t.length,n=this.multipage,o=Math.ceil(e/n),r=Array(n).fill(0),i=Array(o).fill(0),a=0;a<n;a++)for(var s=a;s<e;s+=n)r[a]=Math.max(r[a],t[s].getPxWidth());for(var u=0;u<o;u++)for(var c=0;c<n;c++)t[u*n+c]&&(i[u]=Math.max(i[u],t[u*n+c].getPxHeight()));var l=[];return t.forEach(function(t,e){l.push({width:r[e%n],height:i[Math.floor(e/3)]})}),l},e.prototype.getMaxPageWidth=function(){var t=0;return this.docRender.doc.pageCache.forEach(function(e){t=Math.max(t,e.getPxWidth())}),t},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.doc.pageCache,n=this.getMaxPageWidth(),o=this.docRender.viewerRender.scrollWrap,r=this.multipage;return(o.getWidth()-16-r*this.pageSpacing)/r/n*e[t].getPxWidth()},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),u=s.position().left+o,c=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(u,c)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];this.multipage;return this.getItems().each(function(t,n){if(0>o)return!1;var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;s<=o&&s+a>=e&&i.push(t)}),i},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,u=[],c=0;c<t.length;c++){var l=t[c],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,y=void 0;if(d<=n&&h>n&&h<o?y=h-n:d>=n&&h<o?y=p:d<=n&&h>o?y=o-n:d>=n&&d<o&&h>o&&(y=o-d),y){var v=void 0;g<=i&&m>i&&m<a?(v=m-i,u.push({index:c,area:y*v})):g>=i&&m<a?(v=f,u.push({index:c,area:y*v})):g<=i&&m>a?(v=a-i,u.push({index:c,area:y*v})):g>=i&&g<a&&m>a&&(v=a-g,u.push({index:c,area:y*v}))}}for(var b=0,w=0;w<u.length;w++)u[w].area>b&&(b=u[w].area,s=u[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.currentPageIndex;if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+1)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.docRender.currentPageIndex;if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+1)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(142)),r=a(n(278)),i=(a(n(106)),a(n(9)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"ContinuousFacingPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.openFileSuccess,function(t){var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then(function(t){var o=t.getViewMode().getName();n<2?e.component.disable():(e.component.enable(),o===e.viewModeName&&e.component.active())})});return this.addDestroyHook(o),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,function(){n.getPDFViewerRender().then(function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()})})),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,function(){n.getPDFViewerRender().then(function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()})})),t.prototype.mounted.call(this)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=0,o}return a(e,t),e.getName=function(){return"GotoPageController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,t.digest()}),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,function(e){t.data.currentPageIndex=e,t.digest()}),this.getPDFUI().addViewerEventListener(r.default.pageAdded,function(e){t.data.pageNumber++}),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,function(e){t.data.pageNumber--}))},e.prototype.onchange=function(t){if("number"==typeof t)return!(t>this.data.pageNumber)&&void this.getPDFUI().getPDFDocRender().then(function(e){e.goToPage(t-1,{x:0,y:0})})},e.prototype.onkeydown=function(t){if(13==t.keyCode){var e=parseInt(this.component.element.value);NaN==e&&(e=1),e>=this.data.pageNumber?e=this.data.pageNumber:e<0&&(e=1),this.component.element.value=e,this.onchange(e)}},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o}return a(e,t),e.getName=function(){return"TotalPageTextController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,function(e){t.data.pageNumber=e.getPageCount(),t.digest()}),this.getPDFUI().addViewerEventListener(r.default.pageAdded,function(e){t.data.pageNumber++,t.digest()}),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,function(e){t.data.pageNumber--,t.digest()}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(683));function i(t){return t&&t.__esModule?t:{default:t}}e.default=o.default.ext(r.default,"SelectTextAnnotationController")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(684));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePolygonCloudController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(685));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePolygonController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(686));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePolylineController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(687));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateSquareController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=l(n(42)),i=n(22),a=(l(n(37)),n(153)),s=l(n(374));n(1412);var u=l(n(36)),c=(l(n(340)),n(49));l(n(121));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.type=o,r.cursorStyle="fv__cursor-crosshair",r}return f(e,t),e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n.get(0),a=this.hammer=new Hammer.Manager(r);a.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));this.pdfViewer.keyboard,this.pdfViewer.getKeyboardEventBinder(c.ANNOTATION_CREATING_BINDER);var s=!1,l=void 0;a.on("panstart",function(n){s=!1,e.startPoint=(0,u.default)(r,n),t.getPDFPage().then(function(t){var n=t.reverseDevicePoint([e.startPoint.x,e.startPoint.y],e.pageRender.scale),r=o(n,2),i=r[0],a=r[1];e.start(t,{left:i,top:a})}),l=new i.DebouncePromiseQueue}),a.on("panmove",function(t){s||l.push(function(){return s?Promise.resolve():e.correctPosition({x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY}).then(function(t){return e.currentPoint=t,t}).then(function(t){e.annotPromise.then(function(n){return e.adjust(n,e.startPoint,t)})})})}),a.on("panend",function(t){s||(l.end(),e.correctPosition({x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY}).then(function(t){return e.currentPoint=t,t}).then(function(t){e.annotPromise.then(function(n){return e.end(n,e.startPoint,t)})}))}),a.on("pancancel",function(t){s||(l.end(),e.annotPromise.then(function(t){return e.end(t,e.startPoint,e.currentPoint)}))})},e.prototype.correctPosition=function(t){var e=this;return this.pageRender.getPDFPage().then(function(n){var o=e.pageRender.getScale(),r=n.getPxWidth()*o,i=n.getPxHeight()*o;return{x:Math.max(0,Math.min(r,t.x)),y:Math.max(0,Math.min(i,t.y))}})},e.prototype.start=function(t,e){var n=this,o=e.left,r=e.top;return this.annotPromise=t.addAnnot({type:this.type,date:new Date,flags:4,rect:{left:o,right:o+10,top:r,bottom:r-10}}).then(function(t){var e=t[0],o=n.pageRender.annotsRender.getAnnotRender(e.getId()).component;return n.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),o.$ui.addClass("creating"),o})},e.prototype.adjust=function(t,e,n){var o=e.x,r=e.y,i=n.x,a=n.y,u=void 0,c=void 0,l=Math.abs(o-i),f=Math.abs(r-a);return s.default.isShift?(l=f=Math.min(l,f),u=i<o?o-l:o,c=a<r?r-f:r):(u=Math.min(o,i),c=Math.min(r,a)),l=Math.max(l,1),f=Math.max(f,1),t.setRect({left:u,top:c,width:l,height:f})},e.prototype.end=function(t,e,n){var o=this;return this.adjust(t,e,n).then(function(){o.pdfViewer.getMementoManager().after({host:t,method:"addAnnot"}),t.$ui.removeClass("creating"),t.parent("annotsRender").activeAnnot(t.getId())})},e.prototype.cancel=function(){this.annotPromise&&this.annotPromise.then(function(t){t.removeAnnot()})},e.prototype.currentPointDirection=function(){var t=this.startPoint.x,e=this.startPoint.y,n=this.currentPoint.x,o=this.currentPoint.y;return n<=t?o<e?a.DIR_NORTH_WEST:a.DIR_SOUTH_WEST:o<e?a.DIR_NORTH_EAST:a.DIR_SOUTH_EAST},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.offCancelEvent&&this.offCancelEvent()},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(688));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateCircleController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(689));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateArrowController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(185));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateLineController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(693));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"EraserController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(694));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateUnderlineController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(695));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateTextController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(696));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateStrikeoutController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(697));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateSquigglyController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(698));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateReplaceController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(699));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePencilController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(700));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateLinkController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(701));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateImageController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(702));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateHighlightController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(703));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateFileAttachmentController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(704));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateCaretController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(705));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateAreaHighlightController",32);e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return o(e,t),e.getName=function(){return"contextmenu-options"},e.prototype.getOptions=function(){var t=this.controller.eval(this.attrValue),e={};return e.uixSelector=t["uix-selector"]||t.uixSelector,e.cssSelector=t["css-selector"]||t.cssSelector,e.before=t.before||function(t){return!0},e},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=r(n(6)).default.getLogger("@sync"),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"sync"},e.prototype.componentPrelink=function(){var t=this,e=this.controller.watch(this.attrValue,function(e){var n=t.subName;t.component.sync(n,e)||a.warn("this property("+n+") is not supported by this component <"+t.component.nodeName+"> and data synchronization was failed. the component instance: ",t.component)});this.addDestroyHook(e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(119));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.order=-1/0,o}return a(e,t),e.getName=function(){return"process-scope"},e.prototype.processComponentOptions=function(t){t.callback||(t.callback=r.default)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(195)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){var i=n.text;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{namespace:r.ROOT_MODULE_NAME,type:o.default.NODE_TYPE_TEXT,text:i}));return a.$$options.text=i,a}return i(e,t),e.prototype.clone=function(){var t=new e(this.$$options);return t.componentOptions=this.componentOptions,t},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(41));r(n(25));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.parseRoot=function(t){(0,o.default)()},t.prototype.parse=function(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,o.default)()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(308)),r=f(n(6)),i=f(n(25)),a=n(324),s=f(n(307)),u=f(n(758)),c=f(n(7)),l=f(n(757));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=r.default.getLogger("XMLTemplateParser"),h=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.domParser=new DOMParser,n}return p(e,t),e.prototype.parseRoot=function(t){var e=this._parseTemplateChildrenElements(t);if(e.length>1)throw new Error("Multiple root element found in template: "+e.length);for(var n=e.item(0),o=n.getUIXNamespace(),r=n.getUIXNodeName(),i={},a=n.attributes.length,s=0;s<a;s++){var u=n.attributes.item(s);i[u.name]=u.value}return{namespace:o,nodeName:r,attributes:i}},e.prototype.parse=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._parseTemplateChildrenElements(t);if(e){var o=n.length;if(1!==o)throw new Error("Invalid template: quantity of root element out of bounds: "+o);var r=n[0];return this.$parseToUIXNode(r)}var i=[],a=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,p=this.$parseToUIXNode(f);p&&i.push(p)}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return i},e.prototype._parseTemplateChildrenElements=function(t){var e=void 0;if("string"==typeof t){var n=this.domParser.parseFromString(t,"text/html"),o=n.querySelector("parsererror");if(o)throw new Error("Parse template failed: "+o.innerText);(e=n.body.children).length||(e=n.head.children)}else if("undefined"!=typeof HTMLTemplateElement&&t instanceof HTMLTemplateElement)e=t.content.children;else if(t instanceof DocumentFragment)if(t.children)e=t.children;else{var r=t.childNodes[0];for(e=[];r;)r.nodeType==Node.ELEMENT_NODE&&e.push(r),r=r.nextSibling}else{if(!(t instanceof Element))throw new TypeError("Illegal argument, template must be a html text or instance of window.Element");e=[t]}return e},e.prototype.$parseToUIXNode=function(t,e,n){var o=this.$convertToUIXNode(t,e,n);if(o){o.prelink();for(var r="undefined"!=typeof HTMLTemplateElement&&t instanceof HTMLTemplateElement?t.content.firstChild:t.firstChild;r;){var i=this.$parseToUIXNode(r);i&&o.append(i),r=r.nextSibling}return o.postlink(),o}},e.prototype.$convertToUIXNode=function(t,e,n){if(t instanceof Text){var o=t.textContent.trim();if(o.length>0)return new s.default({text:o})}else{if(t instanceof HTMLElement){var r=(0,a.getUIXNamespace)(t),f=(0,a.getUIXNodeName)(t),p={},h=!0,g=!1,m=void 0;try{for(var y,v=t.attributes[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var b=y.value;p[b.name.toLowerCase()]=b.value}}catch(t){g=!0,m=t}finally{try{!h&&v.return&&v.return()}finally{if(g)throw m}}p=Object.assign(p,n);var w=c.default._nostrictModule(r);if(!w)return;if("undefined"!=typeof HTMLTemplateElement&&t instanceof HTMLTemplateElement)return new u.default({namespace:r,nodeName:f,attrs:p,template:t.outerHTML,fragmentContent:t.content});var A=t.textContent,_=w.getFragment(f);if(_){var P=this.domParser.parseFromString(_.template,"text/html"),O=P.querySelector("parsererror");if(O)throw new Error("Parse template failed: "+O.innerText);var E=P.body.children;if(1!==E.length)throw new Error("Invalid template: quantity of root element out of bounds: "+E.length);var x=E.item(0),C=x.getAttribute("name");return x.setAttribute(l.default.NEXT_NAME_ATTR,C),this.$parseToUIXNode(x,_,p)}return e?new l.default({namespace:r,nodeName:f,attrs:p,text:A,template:t.outerHTML,fragment:e}):new i.default({namespace:r,nodeName:f,text:A,attrs:p,template:t.outerHTML})}d.debug("useless node: ",t)}},e}(o.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(119));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s={input:"change",select:"change",button:"click",a:"click"},u=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return a(e,t),e.getName=function(){return"{native}"},e.getMetadata=function(){return{options:{handleon:{type:"string",required:!1}}}},e.prototype.isNative=function(){return!0},e.prototype.createDOMElement=function(){return document.createElement(this.viewConfig.nodeName)},e.prototype.acceptText=function(){return!0},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.handleon||s[this.element.nodeName]||"click",o=function(t){e.disabled||(e.controller instanceof r.default||(e.controller.handle(t),t.stopPropagation()),e.trigger(n,t))};this.element.addEventListener(n,o),this.addDestroyHook(function(){e.element.removeEventListener(n,o)})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=a(n(779)),i=a(n(189));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.title=n.title||i.attrs.title,i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconCls,delete i.attrs.title,i}return s(e,t),e.getName=function(){return"layer-header"},e.prototype.setTitle=function(t){this.title=t,this.titleElement.setAttribute("data-i18n",t),this.localizer.localizeElement(this.titleElement)},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer-header"),this.element.innerHTML=(0,r.default)(),this.iconElement=this.element.querySelector(".fv__ui-layer-header-icon"),this.titleElement=this.element.querySelector(".fv__ui-layer-header-title"),this.buttonsElement=this.element.querySelector(".fv__ui-layer-header-buttons"),this.buttonElementList=this.buttonsElement.querySelectorAll("a"),this.titleElement.setAttribute("data-i18n",this.title),this.iconCls?this.iconElement.classList.add(this.iconCls):this.iconElement.classList.add("fv__ui-hide")},e.prototype.rerenderChildren=function(){},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n={close:function(){(e.findClosestComponent(function(t){return t instanceof i.default})||e.parent).hide()}};this.buttonElementList.forEach(function(t){var o=t.getAttribute("action"),r=n[o];if(!r)throw new Error("handler of layer header button not found: "+o);t.addEventListener("click",r),e.addDestroyHook(function(){return t.removeEventListener("click",r)})})},e.prototype.getSlotContainer=function(t){switch(t){case"buttons":return this.buttonsElement}},e.prototype.sync=function(e,n){switch(e){case"title":return this.setTitle(n),!0}return t.prototype.sync.call(this,e,n)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(18));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1442);var i=void 0,a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.path=n.path||a.path||[],a.listdata?i.listdata=JSON.parse(a.listdata):i.listdata=n.listdata||{},i}return r(e,t),e.getName=function(){return"listbox"},e.prototype.createDOMElement=function(){return document.createElement("ul")},e.prototype.selectComponent=function(t,n){var o=t+"-"+n;e.setFocus(this.getComponentByName(o))},e.prototype.empty=function(){this.$container.each(function(t){return t.destroy()}),this.$container.empty()},e.prototype.updateListData=function(t){var e=this;this.empty(),t&&(this.listdata=t);var n=this;Object.keys(this.listdata).map(function(t){var o=e.path.concat(t),r="listbox-item"+Math.random().toString(36).substr(2);return e.pdfUI.parseTemplate("<listbox-item name="+r+"></listbox-item>",[{target:r,config:{root:n,path:o,listdata:e.listdata[t],callback:e.$options.callback}}])}).forEach(function(t){e.append(t),t.mounted()})},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-list-box"),this.$options.subList&&this.element.classList.add("fv__ui-sublist"),this.updateListData()},e.setFocus=function(t){i&&i.deactive(),i=t,t.active()},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(190));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1444);var s=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.singleton=!!n.singleton||"true"===i.attrs.singleton,i}return a(e,t),e.getName=function(){return"accordion"},e.prototype.doInsert=function(t,e){if(!(t instanceof r.default))throw new Error("the typeof the accordion children must be <accordion-card>");var n=this.element.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.activeAll=function(){this.$container.each(function(t){return t.active()})},e.prototype.deactiveAll=function(){this.$container.each(function(t){return t.deactive()})},e.prototype.render=function(){t.prototype.render.call(this)},e.prototype.rerenderChildren=function(){var t=document.createDocumentFragment();this.$container.each(function(e){e.removeElement(),t.appendChild(e.element)}),this.element.clear(),this.element.appendChild(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(16)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.textContent=i.viewConfig.textContent,i}return i(e,t),e.getName=function(){return"text"},e.prototype.createDOMElement=function(){return document.createTextNode("")},e.prototype.render=function(){this.localize()},e.prototype.setText=function(t){this.textContent=t+"",this.localize()},e.prototype.doActive=function(){},e.prototype.doDeactive=function(){},e.prototype.doHidden=function(){},e.prototype.doShown=function(){},e.prototype.doDisable=function(){},e.prototype.doEnable=function(){},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===r.COMPONENT_BROADCAST_LOCALIZE&&this.localize()},e.prototype.localize=function(){var t=this;return this.localizer.translate(this.textContent,{},this.textContent).then(function(e){t.element.textContent=e})},e.prototype.sync=function(e,n){switch(e){case"text":return this.setText(n),!0;default:return t.prototype.sync.call(this,e,n)}},e}(o.default);e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-cls"]||a["icon-class"],i.title=n.title||a.title,delete a.title,i}return o(e,t),e.getName=function(){return"sidebar-panel"},e.getMetadata=function(){return{options:{fullwidth:{type:"boolean",default:!1}}}},e.prototype.doInsert=function(t,e){var n=this.bodyElement.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.rerenderChildren=function(){var t=this.$container.children().map(function(t){return t.removeElement(),t.element});this.layout.render(t,this.bodyElement,0,this.size())},e.prototype.render=function(){t.prototype.render.call(this),this.ctrlElement=document.createElement("a"),this.headerElement=document.createElement("div"),this.titleElement=document.createElement("span"),this.bodyElement=document.createElement("div"),this.ctrlElement.classList.add("fv__ui-sidebar-nav-ctrl"),this.ctrlElement.innerHTML='<i class="fv__ui-sidebar-nav-icon '+this.iconCls+'"></i>',this.headerElement.classList.add("fv__ui-sidebar-panel-header"),this.titleElement.classList.add("fv__ui-sidebar-panel-title"),this.bodyElement.classList.add("fv__ui-sidebar-panel-body"),this.headerElement.appendChild(this.titleElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement),this.titleElement.setAttribute("data-i18n",this.title)},e.prototype.active=function(){this.isVisible&&t.prototype.active.call(this)},e.prototype.doActive=function(){if(this.element.classList.add("active"),this.ctrlElement.classList.add("active"),this.parent){var t=this.parent.lastActivePanel;t&&t!==this&&t.deactive(),this.parent.lastActivePanel=this,this.fullwidth&&this.parent.enableFullWidth(),this.parent.expand()}},e.prototype.doDeactive=function(){this.element.classList.remove("active"),this.ctrlElement.classList.remove("active"),this.fullwidth&&this.parent.disableFullWidth()},e.prototype.doDisable=function(){this.ctrlElement.classList.add("disabled"),t.prototype.doDisable.call(this)},e.prototype.doEnable=function(){this.ctrlElement.classList.remove("disabled"),t.prototype.doEnable.call(this)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.ctrlElement.addEventListener("click",function(t){e.isActive?e.parent.collapse():e.active()})},e.prototype.doHidden=function(){this.parent&&this.isActive&&this._activeSibling(),t.prototype.doHidden.call(this),this.ctrlElement.classList.add("fv__ui-hide")},e.prototype.doShown=function(){t.prototype.doShown.call(this),this.ctrlElement.classList.remove("fv__ui-hide")},e.prototype.removeElement=function(){this.ctrlElement.remove(),this.element.remove()},e.prototype.remove=function(){this.parent&&(this.isActive&&this._activeSibling(),t.prototype.remove.call(this))},e.prototype._activeSibling=function(){var t=this.nextSiblings();t||(t=this.parent.first()),t&&t.active()},e.prototype.updateDisableStatus=function(){this.disabled?this.ctrlElement.classList.add("disabled"):this.ctrlElement.classList.remove("disabled")},e.prototype.updateActiveStatus=function(){var t=this.isActive,e=this.$options.active;"function"==typeof e&&(t=e.call(this)),!1===t||this.active()},e.prototype.addCSSClass=function(e){e&&(t.prototype.addCSSClass.call(this,e),this.ctrlElement.classList.add(e))},e.prototype.removeCSSClass=function(e){e&&(t.prototype.removeCSSClass.call(this,e),this.ctrlElement.classList.remove(e))},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=a(n(793)),i=a(n(792));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,a)),u=n.shrinkSize||parseInt(s.viewConfig.attrs["shrink-size"]);return s.setRetainCount(n.retainCount||parseInt(s.viewConfig.attrs["retain-count"])||1),s.shrinkSize=u||(s.parent?s.parent.shrinkSize:1024),s.shrinkTitle=n.shrinkTitle||s.viewConfig.attrs["shrink-title"]||"",s.according=n.according||s.viewConfig.attrs.according||"root",s.layout=new r.default,s.btnList=new i.default(s,o,a),s.isShrinked=!1,s}return s(e,t),e.getName=function(){return"group"},e.prototype.setPDFUIInstance=function(e){t.prototype.setPDFUIInstance.call(this,e),this.btnList.setPDFUIInstance(e)},e.prototype.render=function(){t.prototype.render.call(this),this.btnList.render()},e.prototype.createDOMElement=function(){var t=document.createElement("div");return t.classList.add("fv__ui-grouplist-item"),t},e.prototype.setRetainCount=function(t){if(t<0)throw new Error("Illegal argument: retainCount must large then -1 but actual "+t);this.retainCount=t,this.rerenderChildren()},e.prototype.setShrinkTitle=function(t){this.btnList.setShrinkTitle(t),this.shrinkTitle=this.btnList.title},e.prototype.rerenderChildren=function(){var t=this;this.element.clear();var e=this.children();0===e.length?this.element.classList.add("fv__ui-is-empty"):this.element.classList.remove("fv__ui-is-empty"),e.slice(0,this.retainCount).forEach(function(e){e.removeElement(),t.element.appendChild(e.element)}),e.length<=this.retainCount||(this.btnList.empty(),this.element.appendChild(this.btnList.moreElement),e.slice(this.retainCount).forEach(function(e){t.btnList.append(e)}),this.element.appendChild(this.btnList.element))},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.btnList.mounted();var n=function(){e.updateShrinkStatus()};window.addEventListener("resize",n),this.addDestroyHook(function(){window.removeEventListener("resize",n)}),this.updateShrinkStatus()},e.prototype.updateShrinkStatus=function(){if(!(this.shrinkSize<=0)){var t=void 0;switch(this.according){case"screen":t=window.innerWidth;break;default:t=this.getRoot().element.offsetWidth}t<=this.shrinkSize?(this.element.classList.add("shrink"),this.isShrinked=!0):(this.element.classList.remove("shrink"),this.isShrinked=!1)}},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.btnList.destroy()},e}(o.default);e.default=u},function(t,e,n){"use strict";var o=a(n(7)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(62)),i=a(n(310));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.root().getRegistry();for(var u in r)s.registerComponent(r[u]);s.components[i.default.getName()]=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(82)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.ORIENTATION_HORIZONTAL,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"no";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.orientation=n,i.gap=o,i}return i(e,t),e.getName=function(){return"flow"},e.prototype.render=function(t,e){var n=document.createElement("div");n.classList.add("fv__layout-flow",this.orientation,"gap_"+this.gap);var o=t.map(function(t){var e=document.createElement("div");return e.classList.add("fv__layout-flow-item"),e.appendChild(t),e});n.append.apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o)),e.appendChild(n)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(63)),r=a(n(25)),i=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){return!0},c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.prototype.selectFrom=function(t){return t.reduce(function(t,e){return e instanceof i.default&&e.isContainer()?t.concat(e.findChildren(u,!1)):e instanceof r.default?t.concat(e.findChildren(u,!1)):t},[]).reduce(function(t,e){return-1==t.indexOf(e)&&t.push(e),t},[])},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="[\\x20\\t\\r\\n\\f]",r="(?:\\\\.|[\\w-]|[^\0-\\xa0])+";e.rWhitespace=new RegExp("^"+o+"+"),e.rDirectlyChildren=new RegExp("^"+o+"*(\\>)"+o+"*"),e.rType=new RegExp("^@("+r+")"),e.rName=new RegExp("^"+r+"(:"+r+")?"),e.rAttribute=new RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),e.rMethods=new RegExp("^::((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\(('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(.*)?)\\))"),e.rTrim=new RegExp("^"+o+"+|((?:^|[^\\\\])|(?:\\\\.)*)"+o+"+$","g"),e.rRoot=new RegExp("^!root")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={};function r(t,e){if(e in t)return t[e];var n=e.toLowerCase();if(n in t)return t[n];var r=e.replace(/[A-Z]/g,function(t,e){return 0===e?t.toLowerCase():"-"+t.toLowerCase()});return r in t?t[r]:o}function i(t,e,n){var o=void 0;if("boolean"!=typeof(o=e in t.$options?t.$options[e]:""===(o=r(t.attrs,e))||(!0===n.defaultValue?"false"!==o:"true"===o))&&(o=n.defaultValue),"boolean"!=typeof o&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");return o}function a(t,e,n){var i=void 0;if(((i=e in t.$options?t.$options[e]:r(t.attrs,e))===o||"string"!=typeof i)&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if("string"!=typeof i&&(i=n.defaultValue),"lower"===n.case?i=i.toLowerCase():"upper"===n.case&&(i=i.toUpperCase()),n.match){var a=n.match;if("string"==typeof n.match&&(a=new RegExp(a)),a instanceof RegExp&&!a.test(i))throw new Error("Illegal component parameter("+e+"): "+i+" doesn't match regex: "+a)}return i}function s(t,e,n){var i=void 0;if(((i=e in t.$options?t.$options[e]:r(t.attrs,e))===o||"string"!=typeof i)&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");"string"!=typeof i&&(i=n.defaultValue),"lower"===n.case?i=i.toLowerCase():"upper"===n.case&&(i=i.toUpperCase());var a=n.enums||[];if(-1==a.indexOf(i))throw new Error("'"+i+"' is not in list of valid values: ["+a.join(",")+"]");return i}function u(t,e,n){var o=n.min,i=n.max;isFinite(o)||(o=-1/0),isFinite(i)||(i=1/0);var a=[Math.min(o,i),Math.max(o,i)];o=a[0],i=a[1];var s=void 0;if("number"!=typeof(s=e in t.$options?Number(t.$options[e]):Number(r(t.attrs,e)))&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(("number"!=typeof s||isNaN(s))&&(s=n.defaultValue),s<o||s>i)throw new Error("Illegal component parameter("+e+"): "+s+" is out of range ["+o+", "+i+"]");return s}function c(t,e,n){var o=void 0;if("number"!=typeof(o=e in t.$options?Number(t.$options[e]):Number(r(t.attrs,e)))&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(("number"!=typeof o||isNaN(o))&&(o=n.defaultValue),isNaN(o)||!isFinite(o))throw new Error("Illegal component parameter("+e+"): "+o+" is not a valid number for <"+t.name+">");return o}function l(t,e,n){if(e in t.$options){var i=t.$options[e];if(!i&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if("function"!=typeof i)throw new Error("Illegal component parameter("+e+"): "+i+" is not a function");return i}var a=r(t.attrs,e);if(a==o&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(a!==o){var s=[];return"string"==typeof n.args?s.push(n.args):Array.isArray(n.args)&&s.push.apply(s,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.args)),function(){var e=arguments;return t.controller.eval(a,s.reduce(function(t,n,o){return t[n]=e[o],t},{$args:Array.prototype.slice.call(arguments,0)}))}}return n.defaultValue}function f(t,e,n){var i=void 0;if(void 0===(i=e in t.$options?t.$options[e]:r(t.attrs,e))&&(i=n.defaultValue),(i===o||void 0===i)&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(i!==o)return i}function p(t,e,n){return n.call(t,t,e)}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolvers=[],this.init(e)}return t.prototype.init=function(t){for(var e in t){var n=t[e],o=this.getResolver(n);this.resolvers.push({field:n.field||e,name:e,config:n,resolve:o})}},t.prototype.getResolver=function(t){if("function"==typeof t)return p;switch(t.type){case"boolean":return i;case"string":return a;case"range":return u;case"number":return c;case"function":return l;case"enum":return s;default:return f}},t.prototype.resolve=function(t){this.resolvers.forEach(function(e){t[e.field]=e.resolve(t,e.name,e.config)})},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(321)),r=i(n(16));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this._resolveMetadata(e);this.optionsResolver=new o.default(n.options)}return t.prototype._resolveMetadata=function(t){if(t===r.default)return r.default.getMetadata();var e=Object.getPrototypeOf(t.prototype).constructor,n=this._resolveMetadata(e),o=t.getMetadata();return{options:Object.assign({},n.options,o.options)}},t.prototype.resolve=function(t){this.optionsResolver.resolve(t)},t}();e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.preValue=n[o],r}return o(e,t),e.prototype.prepare=function(){var t=this.subject,e=this.part,n=Object.getOwnPropertyDescriptor(t,e);!n||n.configurable?this.inteceptGetterSetter(t,n):this.prepareTimmerWatcher(t)},e.prototype.inteceptGetterSetter=function(t,e){var n=this.part,o=t[n],r=this,i=this.hasOwnKey=!!e,a={get:function(){return i?o:Object.getPrototypeOf(t)[n]},set:function(t){i=!0;var e=o;o=t,t!==e&&r.notify(t,e)},configurable:!0};Object.defineProperty(t,n,a),e?this.addDestroyHook(function(){Object.defineProperty(t,n,e)}):this.addDestroyHook(function(){delete t[n]})},e.prototype.prepareTimmerWatcher=function(t){var e=this,n=t[key],o=setInterval(function(){var o=t[key];o!==n&&e.notify(key,o,n)},5);this.addDestroyHook(function(t){return clearInterval(o)})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(828)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUIXNamespace=i,e.getUIXNodeName=a,e.getUIXAttribute=s;var o=n(5);function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){var e=t.nodeName.toLowerCase(),n=e.indexOf(o.NAMESPACE_SEPERATOR);return n>-1?e.substring(0,n):o.ROOT_MODULE_NAME}function a(t){var e=t.nodeName.toLowerCase(),n=e.indexOf(o.NAMESPACE_SEPERATOR);return e.substring(n+1)}function s(t,e){var n=t.getUIXNamespace();return n===o.ROOT_MODULE_NAME||0===n.length?t.getAttribute(e):t.getAttribute(""+n+o.NAMESPACE_SEPERATOR+e)}HTMLElement.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),HTMLElement.prototype.getUIXNamespace=function(){return i(this)},HTMLElement.prototype.getUIXNodeName=function(){return a(this)},HTMLElement.prototype.getUIXAttribute=function(t){return s(this,t)},HTMLElement.prototype.addClass=function(t){var e;"string"==typeof t&&(e=this.classList).add.apply(e,r(t.split(" ")))},HTMLElement.prototype.removeClass=function(t){var e;"string"==typeof t&&(e=this.classList).remove.apply(e,r(t.split(" ")))},HTMLElement.prototype.clear=function(){for(var t=Array.prototype.slice.call(this.childNodes,0),e=t.length,n=0;n<e;n++){var o=t[n];this.removeChild(o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(41));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){(0,o.default)()},e}(r(n(89)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new Error("Unsupported operation!")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(t){return Object.getOwnPropertyNames(t).reduce(function(e,n){return e[n]=Object.getOwnPropertyDescriptor(t,n),e},{})});var s=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"],u=s.concat(["length","name","prototype"]),c=e.ORIGIN_PROPERTY_NAME="origin",l="$proxy_class_symbol_"+Date.now().toString(32),f=function(){function t(){a(this,t)}return t.getNoopConstructor=function(t){function e(){}return e.prototype=Object.create(t.prototype),e},t.getProxyClass=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return!0},u=void 0;if(o){u=function(t){function e(n){a(this,e);var o=r(this,t.call(this));return o[c]=n,o}return i(e,t),e}(this.getNoopConstructor(t)),ProxtClass[l]=!0}else{u=function(t){function e(){return a(this,e),r(this,t.apply(this,arguments))}return i(e,t),e}("function"==typeof n?n:this.getNoopConstructor(t));var f=this.getStaticDescriptors(t);Object.defineProperties(u,f),u[l]=!0}var p=this.getClassDescriptors(t.prototype);if("function"==typeof e)for(var d in p){var h=p[d];h&&s(d,h)&&("function"==typeof h.value&&function(){var t=h.value;h.value=o?function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.call(this,this[c],t,o)}:function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.call(this,this,t,o)}}())}return Object.defineProperties(u.prototype,p),u},t.isProxyClass=function(t){return"function"==typeof t&&t.hasOwnProperty(l)},t.getProxyObject=function(t,e,n){if(null===t||void 0===t)throw new Error("Cannot proxy a null or undefined object");var o=t.constructor;return new(this.getProxyClass(o,e,o,!0,n))(t)},t.getStaticDescriptors=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=function t(e){if(e===Object||e===Function||!e)return{};var n=Object.getPrototypeOf(e);var o=t(n);return Object.assign(o,Object.getOwnPropertyDescriptors(e))}(t);return e.forEach(function(t){try{delete n[t]}catch(e){n[t]=void 0}}),n},t.getClassDescriptors=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=function t(e){if("object"!==(void 0===e?"undefined":o(e))||null===e)return{};var n=Object.getPrototypeOf(e);var r=n===e?{}:t(n);return Object.assign(r,Object.getOwnPropertyDescriptors(e))}(t);return e.forEach(function(t){try{delete n[t]}catch(e){n[t]=void 0}}),n},t}();e.default=f},function(t,e){t.exports="data:application/vnd.ms-fontobject;charset=utf-8;base64,yA0AAPgMAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAA6K93+QAAAAAAAAAAAAAAAAAAAAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAOAFIAZQBnAHUAbABhAHIAAAAWAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAAAAABAAAACwCAAAMAMEdTVUIgiyV6AAABOAAAAFRPUy8yQG9MCAAAAYwAAABWY21hcIsI7vIAAAIIAAAB0mdseWap/oa/AAAD8AAABhRoZWFkEfTZ1wAAAOAAAAA2aGhlYQe/A8gAAAC8AAAAJGhtdHggAP/6AAAB5AAAACRsb2NhBp4H6AAAA9wAAAAUbWF4cAEaAI4AAAEYAAAAIG5hbWWhQ3MWAAAKBAAAAo5wb3N0ObP5owAADJQAAABjAAEAAAPA/8AAAAQA//r//gQCAAEAAAAAAAAAAAAAAAAAAAAJAAEAAAABAAD5d6/oXw889QALBAAAAAAA12zKrQAAAADXbMqt//r/wAQCA8AAAAAIAAIAAAAAAAAAAQAAAAkAggAHAAAAAAACAAAACgAKAAAA/wAAAAAAAAABAAAACgAwAD4AAkRGTFQADmxhdG4AGgAEAAAAAAAAAAEAAAAEAAAAAAAAAAEAAAABbGlnYQAIAAAAAQAAAAEABAAEAAAAAQAIAAEABgAAAAEAAAABA44BkAAFAAACiQLMAAAAjwKJAswAAAHrADIBCAAAAgAFAwAAAAAAAAAAAAAAAAAAAAAAAAAAAABQZkVkAEDqAeoIA8D/wABcA8AAQAAAAAEAAAAAAAAAAAAABAAAAAQAAAAEAP/6BAAAAAQAAAAEAAAABAAAAAQAAAAAAAAFAAAAAwAAACwAAAAEAAABYgABAAAAAABcAAMAAQAAACwAAwAKAAABYgAEADAAAAAEAAQAAQAA6gj//wAA6gH//wAAAAEABAAAAAEAAgADAAQABQAGAAcACAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAcAAAAAAAAAAIAADqAQAA6gEAAAABAADqAgAA6gIAAAACAADqAwAA6gMAAAADAADqBAAA6gQAAAAEAADqBQAA6gUAAAAFAADqBgAA6gYAAAAGAADqBwAA6gcAAAAHAADqCAAA6ggAAAAIAAAAAAAAADIAjAFWAdYCSAJ8As4DCgABAAAAAAOTA3cAIwAAARUUBisBFRQGKwEiJj0BIyImPQE0NjsBNTQ2OwEyFh0BMzIWA5IgF+0gF24XIO0XICAX7SAXbhcg7RcgAhttFyDuFyAgF+4gF20XIO4XICAX7iAAAAAABQAA/8AEAAPAAB8AIgAlADMAPAAAATIWFREUBiMhIiY9ASEiJjURNDY/AT4BOwEyFh0BNjMPATMBBzMXNzUjFRQGKwERITU0NgERIxUUBisBEQPJFyAgF/3cFyD+yRcgFxDpEDcX7RcgJyJJq6v+k6urcLTbIBfuASUXAjLcIBbuAuUgF/1JFyAgF6QgFwGAFzcQ6RAXIBe7F3qrAYarxrTu7hcg/pOSFzf+RAKS7Rcg/pIAB//6AAAEAgMuAAgASwBZAGcAcgB7AIEAAAEyFhQGIiY0NhcFFgYPAQYiJyUHBgcWBw4BBwYjIicmNz4BNzYzMhc2PwEnJicGIyInLgEnJjY3NjMyFx4BFxYHMh8BJTYyHwEeAQcFNiYnJiMiBwYWFxYzMgM+AScmIyIHDgEXFjMyExc1ND8BJwcGDwEfAQEnBRUHHwEFNyUHBgcCJQ4WFh0WFroBIhAFEUkIEgj+dT8EAggDBDgvTFJOMTQHBDguTFMwJwUHRkYHBScwU0wuOAQDFxkwT1JMLzgEAwgCBD8BiwgSCEkRBRD9WRocLzQ5KxYaHC80OSsbLxwaFis5NC8cGhYrOZo3EwgtFQQDBHs3AaRJ/klbCRwB7Un+12UBBgHAFh0WFh0WJeMLKQklBAXdJgIBHBssUR4wLTBGK1IeMBIIBSkqBQgSMB5RLCI9Fy0wHlEsHBwCJt0FBCUJKQtPGEseIRQYTB0i/msdTBgUIR1MGBQBgCIHFAwEGxUFAgOFEwFJJfZBNwgctyTqTwICAAAFAAAAAAOTA3cADwAfAC8ANwBbAAAlETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNjcRNCYrASIGFREUFjsBMjYBIScmJyMGBwUVFAYrAREUBiMhIiY1ESMiJj0BNDY7ATc+ATsBMhYfATMyFgGSCgglCAoKCCUICpMLCCQICwsIJAgLkgoIJQgKCgglCAr+yQEAGwQGtQYEAfYKCDc2Jf4kJTY3CAoKCLEoCC0XthctCCixCAquAZIICgoI/m4ICwsIAZIICgoI/m4ICwsIAZIICgoI/m4ICwsCP0IGAQEGVSQIC/3jMEVDLwIgCwgkCAtfFR4eFV8LAAAABQAAAAAD/AN3AAYADwA5AD4ASAAAATcnBxUzFQEmDwEGFj8BNhMVFAYjISImNRE0NjMhMhceAQ8BBicmIyEiBhURFBYzITI2PQE0PwE2FgMXASM1AQcnNzYyHwEWFAH7Q1dCNgEcCQrIChMJyAolYUT+JURhYUQB2yQfCAQHHAgKDQ3+JSY2NiYB2yY1BiQJFzek/oCkAn00pTUQLhBWEAEbQ1dDIDcBnAkKyAkTCsgK/rVsRGFhRAHbRGEOBBMHHAgDBDYm/iUmNjYmSAcFJQkKAZqk/oCkATU1pTQQEFcQLQAAAQAA/9ID7gOpACEAAAEUDgIiLgI1ND4BNxUOARUUHgIyPgI1NCYnNR4CA+5PhLbKtoRPb8B2fqc7YYiUiGE7p352wG8BwGW2hE9PhLZletSJEoMZyoNKiGE7O2GISoPKGYMSidQAAAAEAAD/wAQAA8AACAAYABsANwAAJSERIyImPQEjNzU0JiMhIgYdARQWMyEyNhMzJwURFAYjISImPQEhIiY1ETQ2MyEyFh0BFh8BHgEBtwIA7hcg25ILB/5uCAsLCAGSBwuSq6sBJSAX/dwXIP7JFyAgFwJuFiAMCekQFwkBbiAX7aUlBwsLByUHCwv+h6v0/oAXICAXWyAXAwAXICAXuwgI6RA3AAEAAAAAA1QC7wAkAAAlFA8BBiIvAQcGIi8BJjQ/AScmND8BNjIfATc2Mh8BFhQPARcWA1MQTRAuEKioEC4QTRAQqKgQEE0QLhCoqBAuEE0QEKioEM0XEE4QEKioEBBOEC0QqKgQLhBOEBCoqBAQThAuEKioEAAAAAAAEADGAAEAAAAAAAEAEgAAAAEAAAAAAAIABwASAAEAAAAAAAMAEgAZAAEAAAAAAAQAEgArAAEAAAAAAAUACwA9AAEAAAAAAAYAEgBIAAEAAAAAAAoAKwBaAAEAAAAAAAsAEwCFAAMAAQQJAAEAJACYAAMAAQQJAAIADgC8AAMAAQQJAAMAJADKAAMAAQQJAAQAJADuAAMAAQQJAAUAFgESAAMAAQQJAAYAJAEoAAMAAQQJAAoAVgFMAAMAAQQJAAsAJgGiY29udGV4dC1tZW51LWljb25zUmVndWxhcmNvbnRleHQtbWVudS1pY29uc2NvbnRleHQtbWVudS1pY29uc1ZlcnNpb24gMS4wY29udGV4dC1tZW51LWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBWAGUAcgBzAGkAbwBuACAAMQAuADAAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAQIBAwEEAQUBBgEHAQgBCQEKAANhZGQEY29weQNjdXQGZGVsZXRlBGVkaXQHbG9hZGluZwVwYXN0ZQRxdWl0AAAA"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=g(n(47)),r=g(n(881)),i=g(n(880)),a=g(n(879)),s=g(n(878)),u=g(n(877)),c=g(n(876)),l=g(n(875)),f=g(n(874)),p=g(n(872)),d=g(n(871)),h=g(n(870));function g(t){return t&&t.__esModule?t:{default:t}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.createAction=function(t,e,n,g,m){if(t)switch(t.type){case"TypeURI":return new r.default(t,this,e,n,g,m);case"TypeLaunch":return new i.default(t,this,e,n,g,m);case"TypeNamed":return new a.default(t,this,e,n,g,m);case"TypeJavaScript":return new s.default(t,this,e,n,g,m);case"TypeSubmitForm":return new u.default(t,this,e,n,g,m);case"TypeResetForm":return new c.default(t,this,e,n,g,m);case"TypeImportData":return new l.default(t,this,e,n,g,m);case"TypeGoto":return new f.default(t,this,e,n,g,m);case"TypeHide":return new p.default(t,this,e,n,g,m);case"TypeGoToR":return new d.default(t,this,e,n,g,m);case"TypeGoToE":return new h.default(t,this,e,n,g,m);default:return new o.default(t,this,e,n,g,m)}},t}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(40)),r=a(n(329)),i=n(64);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));r.action=r.engine.actionFactory.createAction(n.action,o.doc,r.api,r.eventEmitter,r);var i=r.page.doc.getPDFForm();i&&i.mapFormControl(r.info.field,r);var a=r.getField(),s=a&&a.getControl(n.objNumber);return a&&s&&!s.isEmpty()&&"display"in s.changes&&r.setDisplay(s.changes.display),r}return s(e,t),e.prototype.setDisplay=function(t){var e=this.info.flag;switch(t){case 0:e&=-2,e&=-3,e&=-33,e|=4;break;case 1:e&=-2,e&=-33,e|=6;break;case 2:e&=-2,e&=-5,e&=-3,e&=-33;break;case 3:e|=32,e|=4,e&=-3}return this.setFlagValue(e)},e.prototype.getObjNum=function(){return this.info.objNumber},e.prototype.getFlags=function(){return-66&t.prototype.getFlags.call(this)},e.prototype.getAction=function(){return this.action},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.getFieldType=function(){return this.info.fieldType},e.prototype.getField=function(){var t=this.page.getPDFDoc().getPDFForm();return t&&t.getField(this.info.field)},e.prototype.getMKProperty=function(t){switch(t){case"borderColor":return this.info.MKBorderColor;case"fillColor":return this.info.fillColor;case"normalCaption":case"downCaption":case"rolloverCaption":return this.info[t]}},e.prototype.setMKProperty=function(t,e){switch(t){case"borderColor":this.info.MKBorderColor=e;break;case"fillColor":this.info.fillColor=e;break;case"normalCaption":case"downCaption":case"rolloverCaption":this.info[t]=e}return this.updateMKProperty(t,e)},e.prototype.updateMKProperty=function(t,e){var n=this.page,o=n.getPDFDoc();return this.api.updateMKProperty(o.getId(),n.getId(),this.getId(),t,e)},e.prototype.updateUI=function(t){this.render&&this.render(t)},e.prototype.setRenderNotifier=function(t){this.render=t},e.prototype.update=function(){var e=this;return t.prototype.update.call(this).then(function(t){var n=e.page.doc.getPDFForm();n&&n.getField(e.info.field).update()})},e.prototype.getAdditionalAction=function(t){if(!this.engineActions)for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=r.default.createAction(this.info.AA[e],this);return this.engineActions[t]?this.engineActions[t]:this.getField().getAction(t)},e.prototype.getAction=function(){return this.action},e.prototype.switchAS=function(){3==this.getField().getType()&&"Off"!=this.info.ApState||(1==this.info.ApStates.length&&"Off"!=this.info.ApStates[0]&&(this.info.ApStates[1]="Off"),this.info.ApStates[0]==this.info.ApState?this.info.ApState=this.info.ApStates[1]:this.info.ApState=this.info.ApStates[0],this.getField().setValue(this.info.ApState,this))},e.prototype.setAS=function(t,e){switch(this.getField().getType()){case 3:if(e){if(e!=this){var n=this.info.ApStates.indexOf(t);i.FieldFlag.inUnison(this.getField().getFlags())?this.info.ApState=-1==n?"Off":t:this.info.ApState="Off"}}else this.info.ApStates[1]!==t?this.info.ApState="Off":this.info.ApState=t;break;default:if(e!=this){var o=this.info.ApStates.indexOf(t);this.info.ApState=-1==o?"Off":t}}var r=this.page,a=r.getPDFDoc();return this.api.setWidgetAS(a.getId(),r.getId(),this.getId(),this.info.ApState)},e.prototype.getOnAS=function(){return"Off"!=this.info.ApStates[0]?this.info.ApStates[0]:this.info.ApStates[1]},e.prototype.getAS=function(){return this.info.ApState},e.prototype.getIconObjNum=function(t){switch(t){case 0:return this.info.normalIcon;case 1:return this.info.downIcon;case 2:return this.info.rollIcon}},e.prototype.setIconObj=function(t,e){var n=void 0;switch(e){case 0:n="normalIcon",this.info.normalIcon=t;break;case 1:n="downIcon",this.info.downIcon=t;break;case 2:n="rolloverIcon",this.info.rollIcon=t}return this.updateMKProperty(n,t)},e.prototype.setAction=function(t){this.info.action=t;var e=this.page;this.action=this.engine.actionFactory.createAction(t,e.doc,this.api,this.eventEmitter,this),this.api.setAction(e.doc.getId(),e.getId(),this.getId(),t)},e.prototype.getDAFontColor=function(){return this.info.DA.fontColor},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(882));var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.page=n,this.api=n.api}return t.prototype.getId=function(){return this.id},t.prototype.findNext=function(){return this.api.textSearchFindNext(this.getId()).then(function(t){return t?new o.default(t):null})},t.prototype.findPrev=function(){return this.api.textSearchFindPrev(this.getId()).then(function(t){return t?new o.default(t):null})},t.prototype.destroy=function(){return this.api.textSearchDestroy(this.getId())},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(883)),r=f(n(19)),i=f(n(869)),a=f(n(866)),s=f(n(335)),u=f(n(865)),c=f(n(864)),l=f(n(863));f(n(197));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.engine=n,this.parameters=o,this.api=n.api,this.pageCache=[],this.pagePromiseCache=[],this.info={fileName:o.fileName},this.fieldWidgets={},this.visibleTemplates=[],this.invisibleTemplates=[]}return t.prototype.getId=function(){return this.id},t.prototype.getNameTreeIcons=function(){return this.info.icons},t.prototype.getFileName=function(){return this.info.fileName},t.prototype.parseByPassword=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={};if(n.encryptPassword&&(o.encryptPassword=n.encryptPassword),n.annotsJson){var r=s.default.JSONToFDF(n.annotsJson);o.fdf={file:r}}return n.fdf&&(o.fdf=n.fdf),n.drm&&(o.drm=n.drm),n.fileOpen&&(o.fileOpen=n.fileOpen),this.api.parsePDFDocByPassword(this.id,t,o).then(function(n){var o=n.code,r=n.info;return 0!==o?Promise.reject(n):(e.info=Object.assign(e.info,r),e.info.action&&(e.action=e.engine.actionFactory.createAction(e.info.action,e,e.api,e.engine.eventEmitter,e)),e.password=t,e.getTemplates(),e)}).then(function(){return e.getMetadata()}).then(function(){return e})},t.prototype.parse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parseByPassword(t.password,t)},t.prototype.getJsNameTree=function(){return this.info.jsNameTree},t.prototype.getMetadata=function(){var t=this;return this.metadata?Promise.resolve(this.metadata):this.api.getMetadata(this.id).then(function(e){return t.metadata=e})},t.prototype.getMetadataValue=function(t){return this.metadata[t]},t.prototype.flatten=function(t){for(var e=[],n=this.getPageCount(),o=0;o<n;o++){var r=this.getPageByIndex(o).then(function(e){return e.flatten(t)});e.push(r)}return Promise.all(e)},t.prototype.setMetadataValue=function(t,e){return this.metadata[t]=e,this.api.setMetadataValue(this.id,t,e)},t.prototype.loadPDFForm=function(){var t=this;return this.PDFForm?Promise.resolve():(this.PDFForm=new i.default(this,this.engine),this.api.loadForm(this.id).then(function(e){t.PDFForm.setFormJson(e)}))},t.prototype.getPDFForm=function(){return this.PDFForm},t.prototype.getPageCount=function(){return this.info.pageCount},t.prototype.hasForm=function(){return this.info.hasForm},t.prototype.getPermission=function(){return this.getPermissions()},t.prototype.getPermissions=function(){return this.getPermissionsSync()},t.prototype.getPermissionsSync=function(){return this.info.isOwner?4294967292:this.info.userPermissions},t.prototype.getStdCipherOptions=function(){return this.api.getStdCipherOptions(this.id)},t.prototype.getPDFDocInfo=function(){return this.api.getPDFDocInfoById(this.id)},t.prototype.getBookmarksJson=function(){return this.api.getBookmarks(this.id)},t.prototype.getRootBookmark=function(){var t=this.engine,e=this.id;return this.getBookmarksJson().then(function(n){return n?new l.default(t,e,n):null})},t.prototype.createRootBookmark=function(){var t=this.engine,e=this.id;return this.api.createRootBookmark(this.id).then(function(n){return new l.default(t,e,n)})},t.prototype.getLayerNodesJson=function(){return this.api.getLayerNodes(this.id)},t.prototype.setLayerNodeVisiable=function(t,e){var n=this;return this.api.setLayerNodeVisiable(this.id,t,e).then(function(t){return t&&n.engine.eventEmitter.emit(r.default.layerVisibleChange,n),t})},t.prototype.getPageByIndex=function(t){var e,n=this,r=this.pageCache;if(e=r[t])return Promise.resolve(e);var i=this.pagePromiseCache;return i[t]=i[t]||this.api.getPageInfoByIndex(this.id,t).then(function(e){var a=r[t]=new o.default(e,n);return delete i[t],a})},t.prototype.destroy=function(){return this.api.destroyDoc(this.getId())},t.prototype.getStream=function(t){return this.api.getPDFDocStream(this.id,t)},t.prototype.exportAnnotsToFDF=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.api.exportToFDF(this.id,t,2)},t.prototype.exportFormToFile=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Promise.resolve();return this.PDFForm||(n=this.loadPDFForm()),n.then(function(n){switch(e){case 0:return Promise.resolve(new Blob([t.PDFForm.exportFDF()],{type:"application/vnd.adobe.fdf"}));case 1:var o=t.PDFForm.exportXFDF(),r=new Blob([o],{type:"application/vnd.adobe.xfdf"});return Promise.resolve(r);case 2:var i=t.PDFForm.exportXML(),a=new Blob([i],{type:"application/xml"});return Promise.resolve(a)}})},t.prototype.exportToFDF=function(t,e){return this.api.exportToFDF(this.id,t,2).then(function(t){return new Uint8Array(t)})},t.prototype.importAnnotsFromFDF=function(t){var e=this;return this.api.importFromFDF(this.id,t,2).then(function(){for(var t=e.pageCache,n=[],o=0,r=t.length;o<r;o++){var i=t[o];i&&n.push(i.getUnloadedAnnots())}return Promise.all(n)}).then(function(){e.engine.eventEmitter.emit(r.default.annotationImported,e)})},t.prototype.importFormFromFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Promise.resolve();if(this.PDFForm||(o=this.loadPDFForm()),n){if(t instanceof Blob)o=new Promise(function(e,n){var o=new FileReader;o.readAsText(t),o.onload=function(t){var n=t.target.result;e(n)}});else if(t.slice){var r=String.fromCharCode.apply(null,new Uint8Array(t));o=Promise.resolve(r)}}else o=Promise.resolve();return o.then(function(o){return n&&(t=(0,c.default)(o)),e.api.importFromFDF(e.id,t,1).then(function(t){return e.api.getFieldsValue(e.id)}).then(function(t){return e.PDFForm.upadateValue(t)})})},t.prototype.importFromFDFFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(1===n)return this.PDFForm.importFDF();var o=t,i=!1;if(t instanceof Uint8Array&&t.length>52428800){var a=new Blob([t],{type:"arraybuffer"});o=URL.createObjectURL(a),i=!0}return this.api.importFromFDFFile(this.id,o,-1,n).then(function(t){for(var n=e.pageCache,o=[],r=0,i=n.length;r<i;r++){var a=n[r];a&&o.push(a.getUnloadedAnnots())}return Promise.all(o)}).then(function(){i&&URL.revokeObjectURL(o);var t=r.default.annotationImported;1==n&&(t=r.default.annotationImported),e.engine.eventEmitter.emit(t,e)},function(t){console.error("some error happened. Please check fdf file exists.")})},t.prototype.exportAnnotsToJSON=function(){return this.getAnnots().then(function(t){for(var e=[],n=0,o=t.length;n<o;n++)for(var r=t[n],i=0,a=r.length;i<a;i++){var s=r[i].getType();"widget"!=s&&"popup"!=s&&"watermark"!=s&&e.push(r[i].exportToJSON())}return e})},t.prototype.importAnnotsFromJSON=function(t){var e=s.default.JSONToFDF(t);return this.importAnnotsFromFDF(e)},t.prototype.getPageAnnots=function(t){return this.getPageByIndex(t).then(function(t){return t.getAnnots()})},t.prototype.getAnnots=function(){for(var t=this,e=[],n=[],o=0,r=this.getPageCount();o<r;o++)e.push(function(e){return t.getPageAnnots(e).then(function(t){n[e]=t})}(o));return Promise.all(e).then(function(){return n})},t.prototype.getTextSearch=function(t,e){return new a.default(t,e,this)},t.prototype.addAnnot=function(t,e){return this.getPageByIndex(t).then(function(t){return t.addAnnot(e)})},t.prototype.addAnnotGroup=function(t,e,n){return this.getPageByIndex(t).then(function(t){return t.addAnnotGroup(e,n)})},t.prototype.setOpenAction=function(t,e,n){var o=this;return this.api.setDocOpenAction(this.getId(),t).then(function(t){o.engine.actionFactory.createAction(t,o,o.api,o.engine.eventEmitter,o).setActionDataByIndex(e,n)})},t.prototype.setPasswordAndPermission=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967292,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.default.AES256,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.api.setPasswordAndPermission(this.id,t,e,n,o,r)},t.prototype.removeSecurity=function(){var t=this;return this.getPasswordType().then(function(e){if(3==e||0==e)return t.api.removeSecurity(t.id);throw new Error("Need owner password.")})},t.prototype.isCorrectPassword=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.checkPassword(t).then(function(t){return 0!==t})},t.prototype.checkPassword=function(t){var e=this;return this.api.checkPassword(this.id,t).then(function(t){return 3===t&&(e.info.isOwner=!0),e.engine.eventEmitter.emit(r.default.permissionChanged,e),t})},t.prototype.getUserPassword=function(t){return this.api.getUserPassword(this.id,t)},t.prototype.getPasswordType=function(){return this.api.getPasswordType(this.id)},t.prototype.setPasswordType=function(t){return this.api.setPasswordType(this.id,t)},t.prototype.getUserPermissions=function(){return this.info.userPermissions},t.prototype.makeRedactByPages=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n],r=this.getPageByIndex(o).then(function(t){var e=void 0;return e=1==t.info.rotation||3==t.info.rotation?{left:0,top:0,right:t.getHeight(),bottom:t.getWidth()}:{left:0,top:0,right:t.getWidth(),bottom:t.getHeight()},t.markRedactAnnot([e])});e.push(r)}return Promise.all(e)},t.prototype.movePageTo=function(t,e){var n=this;return this.getPageByIndex(t).then(function(o){return n.api.movePageTo(n.id,o.getId(),e).then(function(o){if(o){var i=n.pageCache[t];n.pageCache.splice(t,1),n.pageCache.splice(e,0,i);var a=Math.min(t,e),s=Math.max(t,e);n.updatePageIndex(a,s),n.engine.eventEmitter.emit(r.default.pageMoved,t,e)}return o})})},t.prototype.insertPage=function(t,e,n){var i=this;return this.api.insertPage(this.id,t,e,n).then(function(t){if(!t)return!1;i.info.pageCount++;var e=new o.default(t,i);return i.pageCache.splice(t.index,0,e),i.updatePageIndex(t.index+1,i.info.pageCount-1),i.engine.eventEmitter.emit(r.default.pageAdded,e),e})},t.prototype.removePage=function(t){var e=this;return this.api.removePage(this.id,t).then(function(n){return n&&(e.info.pageCount--,e.pageCache.splice(t,1),e.updatePageIndex(t,e.info.pageCount-1),e.engine.eventEmitter.emit(r.default.pageRemoved,t)),n})},t.prototype.updatePageIndex=function(t,e){for(var n=t;n<=e&&this.pageCache[n];n++)this.pageCache[n].info.index=n;this.pageCache.forEach(function(t){t.annots.forEach(function(t){"link"!=t.info.type&&"screen"!=t.info.type||t._update()})})},t.prototype.applyRedaction=function(){var t=this;return this.api.applyRedaction(this.id).then(function(e){if(!e)return!1;for(var n=[],o=function(o){var r=e[o],i=t.getPageByIndex(r.pageIndex).then(function(t){t.clearAnnotIds(r.removedAnnotIds);return{pageIndex:r.pageIndex,removedAnnots:r.removedAnnotIds}});n.push(i)},r=0;r<e.length;r++)o(r);return Promise.all(n)})},t.prototype.drmEncrypt=function(t){var e=this;return this.api.drmEncrypt(this.getId(),t).then(function(t){return e.info=Object.assign(e.info,t),e.engine.eventEmitter.emit(r.default.drmEncryptSuccess,e),e},function(t){return e.engine.eventEmitter.emit(r.default.drmEncryptFailed,t,e),Promise.reject(t)})},t.prototype.getTemplates=function(){var t=this;this.api.getTemplates(this.id).then(function(e){e&&(t.visibleTemplates=e.visibleArr,t.invisibleTemplates=e.invisibleArr)})},t.prototype.hideTemplate=function(t,e){var n=this,o=this;if(!e)return this.api.hideTemplate(this.id,t,e).then(function(){o.visibleTemplates.push(t);for(var e=-1,n=0;n<o.invisibleTemplates.length;n++){var r=o.invisibleTemplates[n];if(r.name===t.name&&r.objNum===t.objNum){e=n;break}}o.invisibleTemplates.splice(e,1)});for(var r=this.getPageCount(),i=function(r){n.getPageByIndex(r).then(function(i){i.info.objectNumber===t.objNum&&o.removePage(r).then(function(){return o.api.hideTemplate(n.id,t,e).then(function(){o.invisibleTemplates=o.invisibleTemplates.push(t);for(var e=-1,n=0;n<o.visibleTemplates.length;n++){var r=o.visibleTemplates[n];if(r.name===t.name&&r.objNum===t.objNum){e=n;break}}o.visibleTemplates.splice(e,1)})})})},a=0;a<r;a++)i(a)},t.prototype.spawnPage=function(t,e,n,o){return this.api.spawnPage(this.id,t,e,n,o)},t.prototype.removeTemplate=function(t){var e=this;return this.api.removeTemplate(this.id,t).then(function(n){for(var o=-1,r=0;r<e.invisibleTemplates.length;r++){if(e.invisibleTemplates[r].name===t){o=r;break}}e.invisibleTemplates.splice(o,1),o=-1;for(var i=0;i<e.visibleTemplates.length;i++){if(e.visibleTemplates[i].name===t){o=i;break}}return e.visibleTemplates.splice(o,1),Promise.resolve()})},t.prototype.getFirstPageSize=function(){return Object.assign({},this.info.firstPageSize)},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="Method not implemented.",r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.option=e}return t.prototype.loadForm=function(t){throw o},t.prototype.formFillerEvent=function(t,e,n,r){throw o},t.prototype.updateField=function(t,e,n,r){throw o},t.prototype.updateFormControl=function(t,e,n,r){throw o},t.prototype.updateMKProperty=function(t,e,n,r,i){throw o},t.prototype.setWidgetAS=function(t,e,n,r){throw o},t.prototype.setFieldValue=function(t,e,n){throw o},t.prototype.getFieldsValue=function(t){throw o},t.prototype.addControl=function(t,e,n,r,i){throw o},t.prototype.validateFieldName=function(t,e,n){throw o},t.prototype.renameField=function(t,e,n){throw o},t.prototype.removeField=function(t,e){throw o},t.prototype.removeControl=function(t,e,n){throw o},t.prototype.fixPageFields=function(t,e){throw o},t.prototype.init=function(){return Promise.resolve(!0)},t.prototype.getPDFDocIdByFile=function(t){throw o},t.prototype.getPDFDocIdByChunk=function(t,e){throw o},t.prototype.getPDFDocIdByHttpRangeRequest=function(t){throw o},t.prototype.getPDFDocIdByStream=function(t){throw o},t.prototype.parsePDFDocByPassword=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw o},t.prototype.setIcons=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];throw o},t.prototype.addIcon=function(t){throw o},t.prototype.removeIcon=function(t,e,n){throw o},t.prototype.getPDFDocInfoById=function(t){throw o},t.prototype.getMetadata=function(t){throw o},t.prototype.setMetadataValue=function(t,e,n){throw o},t.prototype.getPageInfoByIndex=function(t,e){throw o},t.prototype.getPageInfoById=function(t,e){throw o},t.prototype.getPageBitmap=function(t,e,n,r,i,a,s){throw o},t.prototype.getPageAndHighlightBitmap=function(t,e,n,r,i){throw o},t.prototype.setRenderFlag=function(t,e){throw o},t.prototype.getAnnot=function(t,e,n){throw o},t.prototype.getPageAnnotIDList=function(t,e){throw o},t.prototype.getAnnots=function(t,e,n){throw o},t.prototype.getAnnotBitmap=function(t,e,n,r,i,a){throw o},t.prototype.getAnnotBitmapByRange=function(t,e,n,r,i,a){throw o},t.prototype.getAnnotIdAtPoint=function(t,e,n,r){n.x,n.y;throw o},t.prototype.getAnnotIdAtDevicePoint=function(t,e,n,r,i){n.x,n.y;throw o},t.prototype.getCharInfoAtPoint=function(t,e,n,r){n.x,n.y;throw o},t.prototype.updateAnnotQuadPointsByCharIndex=function(t,e,n,r,i){throw o},t.prototype.setAnnotContent=function(t,e,n,r){throw o},t.prototype.setAnnotBorderColor=function(t,e,n,r){throw o},t.prototype.setAnnotBorderStyle=function(t,e,n,r,i){throw o},t.prototype.setAnnotBorderWidth=function(t,e,n,r){throw o},t.prototype.setAnnotFillColor=function(t,e,n,r){throw o},t.prototype.setAnnotOpacity=function(t,e,n,r){throw o},t.prototype.removeAnnot=function(t,e,n){throw o},t.prototype.annotAddReply=function(t,e,n,r){throw o},t.prototype.annotRemoveReply=function(t,e,n,r){throw o},t.prototype.annotRemoveAllStateAnnots=function(t,e,n){throw o},t.prototype.annotRemoveAllReply=function(t,e,n){throw o},t.prototype.setAnnotRect=function(t,e,n,r){throw o},t.prototype.getAnnotInnerRect=function(t,e,n){throw o},t.prototype.moveAnnotTo=function(t,e,n,r){throw o},t.prototype.getPDFDocStream=function(t,e){throw o},t.prototype.setAnnotEndingStyle=function(t,e,n,r,i){throw o},t.prototype.enableLineCaption=function(t,e,n,r){throw o},t.prototype.setLineStartPoint=function(t,e,n,r,i){throw o},t.prototype.setLineEndPoint=function(t,e,n,r,i){throw o},t.prototype.setAnnotLeaderLineLength=function(t,e,n,r){throw o},t.prototype.updateAnnotVertexes=function(t,e,n,r,i,a){throw o},t.prototype.setAnnotVertexes=function(t,e,n,r){throw o},t.prototype.setAnnotAPBitmap=function(t,e,n,r,i){throw o},t.prototype.setAction=function(t,e,n,r){return o},t.prototype.setAnnotInnerRect=function(t,e,n,r){r.left,r.right,r.top,r.bottom;throw o},t.prototype.setAnnotFlag=function(t,e,n,r){throw o},t.prototype.importFromFDFFile=function(t,e,n){throw o},t.prototype.importFromFDF=function(t,e,n){throw o},t.prototype.exportToFDF=function(t,e,n){throw o},t.prototype.addAnnot=function(t){throw o},t.prototype.getTextRectsAtRect=function(t,e,n){throw o},t.prototype.getTextContinuousRectsAtRect=function(t,e,n){throw o},t.prototype.getTextContinuousCharsAtRect=function(t,e,n){throw o},t.prototype.getTextSearch=function(t,e,n,r){throw o},t.prototype.textSearchFindNext=function(t){throw o},t.prototype.textSearchFindPrev=function(t){throw o},t.prototype.textSearchDestroy=function(t){throw o},t.prototype.registerSecurityCallback=function(t,e){throw o},t.prototype.destroyDoc=function(t){throw o},t.prototype.destroyPage=function(t,e){throw o},t.prototype.setPopupOpenStatus=function(t,e,n,r){throw o},t.prototype.moveCaretRectByCharIndex=function(t,e,n,r){throw o},t.prototype.setAnnotIntent=function(t,e,n,r){throw o},t.prototype.setUserName=function(t){throw o},t.prototype.getUserName=function(){throw o},t.prototype.addAnnotReviewState=function(t,e,n,r){throw o},t.prototype.addAnnotMarkedState=function(t,e,n,r){throw o},t.prototype.setStateName=function(t,e,n,r){throw o},t.prototype.setNoteOpenStatus=function(t,e,n,r){throw o},t.prototype.removeAllStateAnnots=function(t,e,n){throw o},t.prototype.setDynamicInfoFormula=function(t,e){throw o},t.prototype.getGraphicObjectsInfo=function(t,e){throw o},t.prototype.updatePageInfo=function(t,e){throw o},t.prototype.setPageRotation=function(t,e,n){throw o},t.prototype.addPageImage=function(t,e,n,r,i,a){throw o},t.prototype.addWatermark=function(t,e,n){throw o},t.prototype.getGraphicsObjectAtPoint=function(t,e,n,r,i){throw o},t.prototype.setGraphicsObjectMatrix=function(t,e,n,r){throw o},t.prototype.getGraphicsObjectBitmap=function(t,e,n,r){throw o},t.prototype.setGraphicsObjectBorderStyle=function(t,e,n,r,i){throw o},t.prototype.setGraphicsObjectBorderWidth=function(t,e,n,r){throw o},t.prototype.setGraphicsObjectBorderColor=function(t,e,n,r){throw o},t.prototype.setGraphicsObjectFillColor=function(t,e,n,r){throw o},t.prototype.setGraphicsObjectOpacity=function(t,e,n,r){throw o},t.prototype.addGraphicsObject=function(t,e,n){throw o},t.prototype.setImageObjectOpacity=function(t,e,n,r){throw o},t.prototype.setImageObjectRotation=function(t,e,n,r){throw o},t.prototype.insertSubAction=function(t,e,n,r){throw o},t.prototype.setSubAction=function(t,e,n,r){throw o},t.prototype.removeAllSubActions=function(t,e){throw o},t.prototype.removeSubAction=function(t,e,n){throw o},t.prototype.setActionData=function(t,e,n){throw o},t.prototype.removeGraphicsObject=function(t,e,n){throw o},t.prototype.removePageAllAnnot=function(t,e){throw o},t.prototype.setTextObjectChar=function(t,e,n,r){throw o},t.prototype.setTextObjectItalic=function(t,e,n,r){throw o},t.prototype.setTextObjectBold=function(t,e,n,r){throw o},t.prototype.setTextObjectFontSize=function(t,e,n,r){throw o},t.prototype.setTextObjectStandardFont=function(t,e,n,r){throw o},t.prototype.setTextObjectFontByName=function(t,e,n,r,i,a){throw o},t.prototype.getTextObjectWoff=function(t,e,n){throw o},t.prototype.getAnnotWoff=function(t,e,n){throw o},t.prototype.drmEncrypt=function(t,e){throw o},t.prototype.getActionFileStream=function(t,e,n){throw o},t.prototype.getTemplates=function(t){throw o},t.prototype.hideTemplate=function(t,e,n){throw o},t.prototype.spawnPage=function(t,e,n,r,i){throw o},t.prototype.setFieldsValue=function(t,e,n){throw o},t.prototype.removeTemplate=function(t,e){throw o},t.prototype.setUniqueId=function(t,e,n,r){return o},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(1)),r=s(n(887)),i=s(n(199)),a=s(n(3));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=new(function(t){function e(){return u(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.destroy=function(){},e}(i.default)),p=function(t){function e(){return u(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.prepare=function(e){var n=this;t.prototype.prepare.call(this,e);var o={},r={},i=function(t,i){if(i){var a=i.getStateName(),s=r[a];s&&s.destroy()}var u=t.getStateName(),c=o[u]||(t.getDefaultContextMenuConfig?t.getDefaultContextMenuConfig():void 0);r[u]=n.createContextMenu(u,e.$ui.get(0),c)};e.eventEmitter.on(a.default.switchStateHandler,i),e.eventEmitter.once(a.default.openFileSuccess,function(){i(e.getStateHandlerManager().currentStateHandler)})},e.prototype.createContextMenu=function(t,e,n){if(!n||!n.items)return f;var r=n.items,a=this.pdfViewer.i18n;for(var s in r){var p=r[s];p.nameI18nKey&&(p.name=a.t(p.nameI18nKey))}return(0,o.default)(e).contextMenu(n),new(function(t){function n(){return u(this,n),c(this,t.apply(this,arguments))}return l(n,t),n.prototype.destroy=function(){(0,o.default)(e).contextMenu("destroy")},n.prototype.showAt=function(t,n){(0,o.default)(e).contextMenu()},n}(i.default))},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(20);function r(t){var e=void 0;for(e=0;e<t.length&&!(t.charCodeAt(e)>255);e++);if(e===t.length)return t;var n="";for(n+=String.fromCharCode(254),n+=String.fromCharCode(255),e=0;e<t.length;e++)n+=String.fromCharCode(t.charCodeAt(e)>>8),n+=String.fromCharCode(255&t.charCodeAt(e));return n}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.JSONToFDF=function(e){for(var n="%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n",o=2,r="",i=0,a=e.length;i<a;i++){var s=e[i];if(s.type){var u=t.singleAnnotJSONToFDF(o,s);if(u){if(r+=o+" 0 R ",o++,s.popup){var c=t.singleAnnotJSONToFDF(o,s.popup,!0);if(!c)continue;r+=o+" 0 R ",n+=c,o++}n+=u}}}return new Blob([function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return new Uint8Array(e)}(n.replace(/\{annotsRefArray\}/,r)+"trailer\n<</Root 1 0 R>>\n%%EOF")])},t.singleAnnotJSONToFDF=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=void 0;if(n?i="Popup":n="popup"==(i=function(t){return{unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[t.toString().toLowerCase()]}(e&&e.type&&e.type.toLowerCase()||"")).toLowerCase(),!i||"link"==i.toLowerCase()||"screen"==i.toLowerCase()||"sound"==i.toLowerCase())return null;var s=e.style||"S";s=s.toUpperCase()[0];var u=e.width,c=e.color||"",l="C"==s?"C":"S",f=e.intensity,p=0===e.opacity?0:e.opacity||1,d=r(e.contents||""),h=e.flags||"print",g=h.split(",");for(var m in h=0,o.AnnotFlagsName)-1!=g.indexOf(o.AnnotFlagsName[m])&&(h|=1<<parseInt(m));var y=e.creationdate,v=e.date,b=e.name||"",w=e.page,A=(e.rect||"").replace(/,/g," "),_=r(e.subject||"subject"),P=e.title||"title",O=e["interior-color"],E=t+" 0 obj\n<</Rect ["+A+"]/M ("+v+")/Subtype /"+i+"/NM ("+b+")";if(!n&&(E+="/CA "+p+"/Contents ("+d+")/CreationDate ("+y+")/F "+h+"/Page "+w+"/Subj ("+_+")/T ("+P+")/Type /Annot",e.inreplyto)){var x=e.replyType||"Group";E+="/RT /"+(x[0].toUpperCase()+x.substr(1))+"/IRT ("+e.inreplyto+")"}(s||u)&&(s=s||"S",u=u||"0",f=f||"0",l=l||"S",E+="/BS <</S /"+s+" /W "+u+" /D ["+(e.dashes||"").replace(","," ")+"]>>/BE <</S /"+l+" /I "+f+">>");"FreeText"!=i?(c&&(E+="/C "+a(c)),O&&(E+="/IC "+a(O))):(O&&(E+="/C "+a(O)),c&&(E+="/IC "+a(c),E+="/DA ("+e.defaultappearance+")",E+="/DS (color:"+e.fontColor+")")),e.inreplyto&&(E+="/RT /Group/IRT("+e.inreplyto+")");var C="";switch(i){case"Text":case"Note":E=E.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),E+="/Name/"+e.icon;break;case"Link":return"";case"FreeText":E=E.replace(/\/C\s?\[[\s\S]*?\]/,""),O&&(E+="/C "+a(O));var S=e.defaultappearance,D=e.justification,M=e.intent||e.IT,T="/DA ("+S+")/Q "+D;if(M&&(T+="/IT /"+M),e.callout)T+="/CL  ["+e.callout.replace(/,/g," ")+"]",T+="/RD ["+e.fringe.replace(/,/g," ")+"]",T+="/LE/"+e.head;C=T;break;case"Line":var j="yes"===e.caption,I="[/"+e.head+"/"+e.tail+"]",R=e.leaderLength,k=e.start.replace(/,/g," ")+" "+e.end.replace(/,/g," "),F=e.leaderExtend,N=e.intent,L="/Cap "+j+"/LE "+I+"/LL "+R+"/L ["+k+"]/LLE "+F;N&&(L+="/IT /"+N),C=L;break;case"Square":case"Circle":C="/RD ["+e.fringe.replace(/,/g," ")+"]";break;case"Polygon":case"PolyLine":var V=e.vertices.replace(/[,|;]/g," "),B=e.intent,U="/Vertices ["+V+"]";if(B&&(U+="/IT /"+B),"PolyLine"==i)U+="/LE "+("[/"+e.head+"/"+e.tail+"]");C=U;break;case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":C="/QuadPoints ["+e.coords.replace(/,/g," ")+"]";break;case"Caret":C="/RD ["+e.fringe.replace(/,/g," ")+"]";break;case"Stamp":C="/Name/"+e.name;break;case"Ink":if("["===e.inklist[0]){var H="";e.inklist.substr(1,e.inklist.length-2).split("],[").map(function(t){H+="["+t.replace(/[,|;]/g," ")+"]"}),C="/InkList ["+H+"]"}else C="/InkList [["+e.inklist.replace(/[,|;]/g," ")+"]]";break;case"Popup":C="/Open "+("yes"==e.open?"true":"false")}return e.popup&&(C+="/Popup "+(t+1)+" 0 R"),E+C+">>\nendobj\n"},t}(),a=function(t){var e=t.match(/\#?(\w{2})(\w{2})(\w{2})/),n=parseInt(e[1],16)/255,o=parseInt(e[2],16)/255,r=parseInt(e[3],16)/255;return"["+n.toFixed(2)+" "+o.toFixed(2)+" "+r.toFixed(2)+"]"};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(43));var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.render,o=void 0===n?function(t){return t}:n,r=e.payloadFieldName,i=void 0===r?"file":r,a=e.origin,s=void 0===a?"":a,u=e.uploadSnapshotAPIPath,c=e.method,l=void 0===c?"POST":c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.render=o,this.payloadFieldName=i,this.origin=s,this.uploadSnapshotAPIPath=u,this.method=l}return t.prototype.uploadImage=function(t){var e=new XMLHttpRequest,n=(0,o.default)();return e.addEventListener("readystatechange",function(t){4==e.readyState&&(e.status>=200&&e.status<300||304==e.status?n.resolve(e.responseText):n.reject(e))}),e.open(this.method,this.origin+"/"+this.uploadSnapshotAPIPath+"?filefield="+this.payloadFieldName,!0),e.setRequestHeader("Content-Type","image/png"),e.setRequestHeader("X_File_Name","snapshot.png"),e.send(t),n.promise},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(202)),r=i(n(203));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t._readModifiers=function(t){t=t.trim().toLowerCase();var e=!1,n=!1,o=!1,r=!1,i=void 0;do{i=!1,/^ctrl[\+\-]/.test(t)&&(e=!0,t=t.substring("ctrl-".length),i=!0),/^shift[\+\-]/.test(t)&&(n=!0,t=t.substring("shift-".length),i=!0),/^alt[\+\-]/.test(t)&&(o=!0,t=t.substring("alt-".length),i=!0),/^meta[\+\-]/.test(t)&&(r=!0,t=t.substring("meta-".length),i=!0),/^win[\+\-]/.test(t)&&(r=!0,t=t.substring("win-".length),i=!0),/^cmd[\+\-]/.test(t)&&(r=!0,t=t.substring("cmd-".length),i=!0)}while(i);var a=void 0,s=t.indexOf(" ");return s>0?(a=t.substring(0,s),t=t.substring(s)):(a=t,t=""),{remains:t,ctrl:e,shift:n,alt:o,meta:r,key:a}},t.parseKeybinding=function(t){var e=this._readModifiers(t),n=o.default.fromString(e.key);return new r.default(e.ctrl,e.shift,e.alt,e.meta,n)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.KeyCodes={Unknown:0,Backspace:8,Tab:9,Enter:13,Shift:65,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,Meta:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,NumLock:144,ScrollLock:145,US_SEMICOLON:186,US_EQUAL:187,US_COMMA:188,US_MINUS:189,US_DOT:190,US_SLASH:191,US_BACKTICK:192,US_OPEN_SQUARE_BRACKET:219,US_BACKSLASH:220,US_CLOSE_SQUARE_BRACKET:221,US_QUOTE:222,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SEPARATOR:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,KEY_IN_COMPOSITION:112,ABNT_C1:113,ABNT_C2:114}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyBindingRule=void 0;!function(t){t&&t.__esModule}(n(203));function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.KeyBindingRule=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o(this,t),this.command=e,this.keybinding=n,this.priority=r}return t.prototype.equals=function(t){return this.keybinding.equals(t.keybinding)},t}();var r=function(){function t(){o(this,t),this._coreKeybindingRules=[],this._userKeybindingRules=[]}return t.prototype.registerKeyBindingRule=function(t){var e=this._coreKeybindingRules.filter(function(e){return e.equals(t)});if(e.length>0){var n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.equals(t)){if(s.command===t.command)return void(s.priority=t.priority);throw new Error("shortcut conflict: "+s.command+" and "+t.command+" has the same keybindings: "+t.keybinding.toString())}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}this._coreKeybindingRules.push(t)},t.prototype.registerUserKeyBindingsRule=function(t){var e=this._userKeybindingRules.filter(function(e){return e.equals(t)});if(e.length>0){var n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.equals(t)){if(s.command===t.command)return void(s.priority=t.priority);throw new Error("shortcut conflict: "+s.command+" and "+t.command+" has the same keybindings: "+t.keybinding.toString())}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}this._userKeybindingRules.push(t)},t.prototype.getKeyBindings=function(t){var e=this._userKeybindingRules.filter(function(e){return e.command===t}),n=this._coreKeybindingRules.filter(function(e){return e.command===t});return e.concat(n).sort(function(t,e){return t.priority>e.priority?-1:1}).reduce(function(t,e){var n=!0,o=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.equals(e))return}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return t.push(e),t},[]).map(function(t){return t.keybinding})},t.prototype.getCommandOfKeybinding=function(t){var e=this._userKeybindingRules.filter(function(e){return t.equals(e.keybinding)});if(e.length>0)return e[0].command;var n=this._coreKeybindingRules.filter(function(e){return t.equals(e.keybinding)});return n.length>0?n[0].command:void 0},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(l(n(339)),l(n(203))),i=l(n(904)),a=(l(n(337)),l(n(89))),s=n(33),u=l(n(903)),c=l(n(38));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.prepare(),n.eventBinderMap=[],n.eventBinders=[],n.commandBinderNameMap={},n.activeBinders=[],n}return f(e,t),e.prototype.setCommandBinder=function(t,e){this.commandBinderNameMap[t]=e},e.prototype.getBinder=function(t){return this.eventBinderMap[t]},e.prototype.registerKeybinding=function(t,e){var n=this.commandBinderNameMap[t];if(!n)throw new Error("binder of command not found: ",t);this.eventBinderMap[n].registerKeybinding(t,e)},e.prototype.registerUserKeybinding=function(t,e){var n=this.commandBinderNameMap[t];if(!n)throw new Error("binder of command not found: ",t);this.eventBinderMap[n].registerUserKeybinding(t,e)},e.prototype.activeBinder=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getActiveBinders(),o=this.eventBinderMap[t];return n.indexOf(o)>-1||!o?c.default:(o.active(),e&&n.forEach(function(t){return t.deactive()}),function(){o.deactive(),e&&n.forEach(function(t){return t.active()})})},e.prototype.getActiveBinders=function(){return this.activeBinders.slice(0)},e.prototype.addEventBinder=function(t,e){if(e){var n=this.eventBinderMap[e];if(!n)throw new Error("cannot found the event binder you attach to: "+e+"!");n.attach(t)}else this.eventBinders.push(t);this.eventBinderMap[t.name]=t,t.setKeyboard(this)},e.prototype.prepare=function(){var t=this,e=void 0,n=function(n){for(var i=new r.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode),a=(0,s.eventPath)(n),c=function(o){var r=a[o];if(t.eventBinders.some(function(t){var o=t.isActive&&t.acceptElement(r)&&t.hasKeybinding(i);return o&&(e=new u.default(n),t.handleKeydownEvent(i,e)),o}))return{v:void 0}},l=0;l<a.length;l++){var f=c(l);if("object"===(void 0===f?"undefined":o(f)))return f.v}},a=function(n){if(!e||!e.isStopped){for(var o=new r.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode),a=new i.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,o.keyCode,n),u=(0,s.eventPath)(n),c=function(e){var r=u[e];return t.eventBinders.some(function(t){return!(!t.acceptElement(r)||!t.isActive)&&t.handleEvent(o,a)})?"break":a.propagationStopped?(n.stopPropagation(),"break"):void 0},l=0;l<u.length;l++){if("break"===c(l))break}a.preventedDefault&&n.preventDefault()}};window.addEventListener("keydown",n),window.addEventListener("keyup",a),this.addDestroyHook(function(){return window.removeEventListener("keydown",n)}),this.addDestroyHook(function(){return window.removeEventListener("keyup",a)})},e}(a.default);e.default=p},function(t,e,n){"use strict";t.exports=i;var o=n(90),r=n(122);function i(t){if(!(this instanceof i))return new i(t);o.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),o(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(91),r.inherits(i,o),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,n){var o=this._transformState;if(o.writecb=n,o.writechunk=t,o.writeencoding=e,!o.transforming){var r=this._readableState;(o.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var n=this;o.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";var o=n(147).Buffer,r=o.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(o.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var o=n.charCodeAt(n.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},i.prototype.text=function(t,e){var n=function(t,e,n){var o=e.length-1;if(o<n)return 0;var r=a(e[o]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--o<n||-2===r)return 0;if((r=a(e[o]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--o<n||-2===r)return 0;if((r=a(e[o]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var o=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,o),t.toString("utf8",e,o)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var o=n(148);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||o.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(o.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var o=n(923),r=n(922),i=n(346);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,n,o):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|h(e,n),r=(t=s(t,o)).write(e,n);r!==o&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(o)return B(t).length;e=(""+e).toLowerCase(),o=!0}}function g(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function m(t,e,n,o,r){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,o)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,o,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,o,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,o,r){var i,a=1,s=t.length,u=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){f=!1;break}if(f)return i}return-1}function v(t,e,n,o){n=Number(n)||0;var r=t.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var a=0;a<o;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,o){return H(B(e,t.length-n),t,n,o)}function w(t,e,n,o){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,o)}function A(t,e,n,o){return w(t,e,n,o)}function _(t,e,n,o){return H(U(e),t,n,o)}function P(t,e,n,o){return H(function(t,e){for(var n,o,r,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),o=n>>8,r=n%256,i.push(r),i.push(o);return i}(e,t.length-n),t,n,o)}function O(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;r<n;){var i,a,s,u,c=t[r],l=null,f=c>239?4:c>223?3:c>191?2:1;if(r+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[r+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[r+1],a=t[r+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[r+1],a=t[r+2],s=t[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l),r+=f}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var n="",o=0;for(;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=x));return n}(o)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,o){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof o?s(t,e).fill(n,o):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,r=0,i=Math.min(n,o);r<i;++r)if(t[r]!==e[r]){n=t[r],o=e[r];break}return n<o?-1:o<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,r),r+=a.length}return o},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,o,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),e<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&e>=n)return 0;if(o>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,o>>>=0,r>>>=0,this===t)return 0;for(var i=r-o,a=n-e,s=Math.min(i,a),c=this.slice(o,r),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function C(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}function S(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}function D(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=e;i<n;++i)r+=V(t[i]);return r}function M(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,o,r,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<i)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function I(t,e,n,o){e<0&&(e=65535+e+1);for(var r=0,i=Math.min(t.length-n,2);r<i;++r)t[n+r]=(e&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function R(t,e,n,o){e<0&&(e=4294967295+e+1);for(var r=0,i=Math.min(t.length-n,4);r<i;++r)t[n+r]=e>>>8*(o?r:3-r)&255}function k(t,e,n,o,r,i){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,o,i){return i||k(t,0,n,4),r.write(t,e,n,o,23,4),n+4}function N(t,e,n,o,i){return i||k(t,0,n,8),r.write(t,e,n,o,52,8),n+8}u.prototype.slice=function(t,e){var n,o=this.length;if(t=~~t,e=void 0===e?o:~~e,t<0?(t+=o)<0&&(t=0):t>o&&(t=o),e<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var o=this[t+--e],r=1;e>0&&(r*=256);)o+=this[t+--e]*r;return o},u.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var o=e,r=1,i=this[t+--o];o>0&&(r*=256);)i+=this[t+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[e+r]=255&t;--r>=0&&(i*=256);)this[e+r]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var r,i=o-n;if(this===t&&n<e&&e<o)for(r=i-1;r>=0;--r)t[r+e]=this[r+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!u.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:B(new u(t,o).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var o=t.length,r=null,i=[],a=0;a<o;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===o){(e-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(t){return o.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,o){for(var r=0;r<o&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(60))},function(t,e,n){t.exports=n(206).EventEmitter},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e,o){var r=n(148);t.exports=b;var i,a=n(346);b.ReadableState=v;n(206).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(345),c=n(147).Buffer,l=e.Uint8Array||function(){};var f=n(122);f.inherits=n(91);var p=n(921),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var h,g=n(920),m=n(343);f.inherits(b,u);var y=["error","close","destroy","pause","resume"];function v(t,e){i=i||n(90),t=t||{};var o=e instanceof i;this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=n(342).StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function b(t){if(i=i||n(90),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,n,o,r){var i,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,O(t)}(t,a)):(r||(i=function(t,e){var n;(function(t){return c.isBuffer(t)||t instanceof l})(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(a,e)),i?t.emit("error",i):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),o?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):A(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?A(t,a,e,!1):x(t,a)):A(t,a,e,!1))):o||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function A(t,e,n,o){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),x(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,o=this._readableState;return o.objectMode?n=!0:"string"==typeof t&&((e=e||o.defaultEncoding)!==o.encoding&&(t=c.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return h||(h=n(342).StringDecoder),this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var _=8388608;function P(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=_?t=_:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(E,t):E(t))}function E(t){d("emit readable"),t.emit("readable"),M(t)}function x(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(C,t,e))}function C(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function S(t){d("readable nexttick read 0"),t.read(0)}function D(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),M(t),e.flowing&&!e.reading&&t.read(0)}function M(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var o;t<e.head.data.length?(o=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):o=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,o=1,r=n.data;t-=r.length;for(;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(a===i.length?r+=i:r+=i.slice(0,t),0===(t-=a)){a===i.length?(++o,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(a));break}++o}return e.length-=o,r}(t,e):function(t,e){var n=c.allocUnsafe(t),o=e.head,r=1;o.data.copy(n),t-=o.data.length;for(;o=o.next;){var i=o.data,a=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,a),0===(t-=a)){a===i.length?(++r,o.next?e.head=o.next:e.head=e.tail=null):(e.head=o,o.data=i.slice(a));break}++r}return e.length-=r,n}(t,e);return o}(t,e.buffer,e.decoder),n);var n}function j(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):O(this),null;if(0===(t=P(t,e))&&e.ended)return 0===e.length&&j(this),null;var o,r=e.needReadable;return d("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",r=!0),e.ended||e.reading?d("reading or ended",r=!1):r&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=P(n,e))),null===(o=t>0?T(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==o&&this.emit("data",o),o},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,e);var u=(!e||!1!==e.end)&&t!==o.stdout&&t!==o.stderr?l:b;function c(e,o){d("onunpipe"),e===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",v),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",g),p=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){d("onend"),t.end()}i.endEmitted?r.nextTick(u):n.once("end",u),t.on("unpipe",c);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,M(t))}}(n);t.on("drain",f);var p=!1;var h=!1;function g(e){d("ondata"),h=!1,!1!==t.write(e)||h||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==R(i.pipes,t))&&!p&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function m(e){d("onerror",e),b(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",v),b()}function v(){d("onfinish"),t.removeListener("close",y),b()}function b(){d("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",y),t.once("finish",v),t.emit("pipe",n),i.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var o=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)o[i].emit("unpipe",this,n);return this}var a=R(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var o=this._readableState;o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.emittedReadable=!1,o.reading?o.length&&O(this):r.nextTick(S,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(D,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,o=!1;for(var r in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){(d("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(e.push(r)||(o=!0,t.pause())))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var i=0;i<y.length;i++)t.on(y[i],this.emit.bind(this,y[i]));return this._read=function(e){d("wrapped _read",e),o&&(o=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=T}).call(this,n(60),n(111))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(8);var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.delayValue=!1,this.changePropsQueue=[],this.annot=e,this.pageIndex=n}return t.prototype._delayOrExec=function(t){this.delay?this.changePropsQueue.push(t):t()},t.prototype.destroy=function(){var t=this;this.annot.getPage().removeAnnotById(this.annot.getId()).then(function(){t.annot=null})},t.prototype.getProps=function(){var t=this,e={},n=[],o=this;return Object.getOwnPropertyNames(this.constructor.prototype).map(function(e){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);o&&!o.get||n.push(e)}),Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__).map(function(e){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype.__proto__.__proto__,e);o&&!o.get||n.push(e)}),console.log("key:",n),n.map(function(t){var n=o[t];void 0!==n?(e[t]=n,console.log("this."+t+"=",e[t])):console.log("this."+t+'="undefined"')}),e},t.prototype.setProps=function(t){var e=this,n=[];Object.getOwnPropertyNames(this.constructor.prototype).map(function(t){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);o&&!o.set||n.push(t)});var o=Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__);for(var r in o.map(function(t){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype.__proto__.__proto__,t);o&&!o.set||n.push(t)}),console.log("key:",n),this.delay=!0,t)this[r]=t[r],console.log("this."+r+"=",t[r]);this.delay=!1},t.prototype.getStateInModel=function(t){if("text"===this.annot.info.type)return"Marked"===t?[this.annot.getMarkedState(0)]:"Review"===t?[this.annot.getReviewState(0)]:void 0},o(t,[{key:"type",get:function(){return"Annotation"}},{key:"component",get:function(){return PDFJSGlobal.doc.jsEngine.PDFViewer.getPDFPageRender(this.pageIndex).annotsRender.getAnnotRender(this.name).component}},{key:"author",get:function(){return this.annot.getTitle()},set:function(t){var e=this;this._delayOrExec(function(){e.annot.setTitle(t)})}},{key:"borderEffectIntensity",get:function(){return this.annot.getCloudIntensity()},set:function(t){var e=this;this._delayOrExec(function(){e.annot.setBorderStyle(5,t)})}},{key:"borderEffectStyle",get:function(){return 5===this.annot.getBorderStyle()?"C":""},set:function(t){var e=this;this._delayOrExec(function(){if(""!==t&&"C"!==t)throw new TypeError('effectStyle either empty string or "C"');"C"===t?e.annot.setBorderStyle(5,1):e.annot.setBorderStyle(0,[])})}},{key:"contents",get:function(){return this.annot.getContent()},set:function(t){var e=this;this._delayOrExec(function(){e.annot.setContent(t)})}},{key:"creationDate",get:function(){return this.annot.getCreateDateTime()}},{key:"delay",get:function(){return this.delayValue},set:function(t){!1===t?(this.delayValue=!1,this.changePropsQueue.forEach(function(t){t&&t()}),this.changePropsQueue=[]):!0===t&&(this.delayValue=!0)}},{key:"doc",get:function(){return this.annot.page.doc}},{key:"hidden",get:function(){return 2===(this.annot.getFlags()&&2)},set:function(t){var e=this;this._delayOrExec(function(){var n=e.annot.getFlags();return t?n|=2:n&=-3,e.annot.setFlags(n)})}},{key:"inReplyTo",get:function(){return this.annot.info.IRT},set:function(t){}},{key:"intent",get:function(){return this.annot.getIntent()},set:function(t){var e=this;this._delayOrExec(function(){e.annot.setIntent(t)})}},{key:"lock",get:function(){return 128===(this.annot.getFlags()&&128)},set:function(t){var e=this;this._delayOrExec(function(){var n=e.annot.getFlags();return t?n|=128:n&=-129,e.annot.setFlags(n)})}},{key:"modDate",get:function(){return this.annot.getModifiedDateTime()},set:function(t){var e=this;this._delayOrExec(function(){e.annot.setModifiedDateTime(t)})}},{key:"name",get:function(){return this.annot.id},set:function(t){var e=this;this._delayOrExec(function(){e.annot.id=t})}},{key:"noView",get:function(){return 32===(this.annot.getFlags()&&32)},set:function(t){var e=this;this._delayOrExec(function(){var n=e.annot.getFlags();return t?n|=32:n&=-33,e.annot.setFlags(n)})}},{key:"opacity",get:function(){return this.annot.getOpacity()},set:function(t){var e=this;this._delayOrExec(function(){if(Object.prototype.toString.call(t).indexOf("Number")<0)throw new Error("only accept Number");if(t<0||t>1)throw new Error("opacity range: 0 - 1");e.annot.setOpacity(t)})}},{key:"page",get:function(){return this.annot.getPage().getIndex()},set:function(t){}},{key:"print",get:function(){return 4===(this.annot.getFlags()&&4)},set:function(t){var e=this;this._delayOrExec(function(){var n=e.annot.getFlags();return t?n|=4:n&=-5,e.annot.setFlags(n)})}},{key:"rect",get:function(){var t=this.annot.getRect(),e=t.left,n=t.right,o=t.top;return[e,t.bottom,n,o]},set:function(t){var e=this;this._delayOrExec(function(){if(!Array.isArray(t))throw new Error("only accept Array");e.annot.setRect({left:t[0],right:t[2],top:t[3],bottom:t[1]})})}},{key:"readOnly",get:function(){return 64===(this.annot.getFlags()&&64)},set:function(t){var e=this;this._delayOrExec(function(){var n=e.annot.getFlags();return t?n|=64:n&=-65,e.annot.setFlags(n)})}},{key:"refType",get:function(){this.annot.info.RT},set:function(t){var e=this;this._delayOrExec(function(){if("R"!==t&&"Group"!==t)throw new TypeError('refType should be "R" or "Group"');e.annot.info.RT=t})}},{key:"richContents",get:function(){if("Sound"===this.type||"FileAttachment"===this.type)return null},set:function(t){var e=this;this._delayOrExec(function(){"Sound"!==e.type&&e.type})}},{key:"seqNum",get:function(){return this.annot.info.objNumber}},{key:"strokeColor",get:function(){return(0,r.convertFromNumberToJSColor)(this.annot.info.borderColor)},set:function(t){var e=this;this._delayOrExec(function(){var n=(0,r.colorConvertor)(t,"int",0);e.annot.setBorderColor(n)})}},{key:"style",get:function(){return this.annot.getBorderStyle()},set:function(t){var e=this;this._delayOrExec(function(){var n=t.borderStyle,o=t.styleParam;e.annot.setBorderStyle(n,o)})}},{key:"subject",get:function(){return this.annot.getSubject()},set:function(t){var e=this;this._delayOrExec(function(){e.annot.setSubject(t)})}},{key:"toggleNoView",get:function(){return 256===(this.annot.getFlags()&&256)},set:function(t){var e=this;this._delayOrExec(function(){var n=e.annot.getFlags();return t?n|=256:n&=-257,e.annot.setFlags(n)})}},{key:"popupOpen",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type)return this.annot.getPopup().getOpenStatus()},set:function(t){var e=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&this._delayOrExec(function(){e.annot.getPopup().setOpenStatus(t).then(function(){t&&e.component.showReplyDialog("comment")})})}},{key:"popupRect",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type){var t=this.annot.getPopup().getRect(),e=t.left,n=t.right,o=t.top;return[e,t.bottom,n,o]}},set:function(t){var e=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&this._delayOrExec(function(){if(!Array.isArray(t))throw new Error("only accept Array");e.annot.getPopup().setRect({left:t[0],right:t[2],top:t[3],bottom:t[1]})})}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(64);function i(t,e){var n=t.getPDFForm(),o=n.fieldWidgets[e&&e.getName()];return!o||o.length<1?{}:n.fieldWidgets[e.getName()][0]}function a(t,e,n,o){t&&t[n].apply(t,o),e&&e.forEach(function(t){t[n].apply(t,o)})}var s=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.field=n,this.fields=o,this.targetField=this.field||this.fields[0],this._readonly="",this._required="",this._value=""}return t.prototype.setItems=function(t){return a(this.field,this.fields,"setItems",[t]),t},t.prototype.buttonGetIcon=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=i(this.jsEngine,this.targetField).getIconObjNum(t);return"number"==typeof e?{_objNum:e}:e},t.prototype.buttonSetIcon=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(this.field,this.fields,"setIconObj",[t,e])},t.prototype.browseForFileToSubmit=function(){},t.prototype.buttonGetCaption=function(t){switch(t||(t=0),t){case 0:t="normalCaption";break;case 1:t="downCaption";break;case 2:t="rolloverCaption"}return i(this.jsEngine,this.targetField).getMKProperty(t)},t.prototype.buttonImportIcon=function(t,e){var n=this;return new Promise(function(t){$("#jsBrowserFile").length>0&&$("#jsBrowserFile").remove(),$("body").append('<input id="jsBrowserFile" type="file" style="display: block;" accept="image/*"/>'),$("#jsBrowserFile").off("change").on("change",function(e){var o=e.target.files[0];if(!o)return-2;var r=new FileReader;r.readAsArrayBuffer(o),r.onload=function(){var e=new Uint8Array(r.result);n.buttonSetIcon(e,0),t(0)}}),$("#jsBrowserFile").click()})},t.prototype.buttonSetCaption=function(t,e){if(!this.jsEngine.getEvent().isSensitiveCheck){switch(e||(e=0),Array.isArray(t)&&1===t.length&&(t=t[0]),"string"!=typeof t&&(t+=""),e){case 0:e="normalCaption";break;case 1:e="downCaption";break;case 2:e="rolloverCaption"}a(this.field,this.fields,"setMKProperty",[e,t])}},t.prototype.checkThisBox=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck){var n=this.field;if(n.getType()===r.FieldType.RadioButton||n.getType()===r.FieldType.CheckBox){var o=n.getWidget(t);if(!o)return;e?n.setValue(o.getOnAS()):n.getValue()===o.getOnAS()&&n.setValue("Off",null,!0)}}},t.prototype.clearItems=function(){this.jsEngine.getEvent().isSensitiveCheck||a(this.field,this.fields,"clearItems",[])},t.prototype.defaultIsChecked=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField&&(this.targetField.getType()===r.FieldType.RadioButton||this.targetField.getType()===r.FieldType.CheckBox)){var n=this.targetField.getWidget(t);a(this.field,this.fields,"setDefaultValue",[e?n.getOnAS():"Off"])}},t.prototype.deleteItemAt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.field.getValueIndex();if(!this.jsEngine.getEvent().isSensitiveCheck){if("number"!=typeof t&&(t=parseInt(t)),void 0===t)throw"invalid parameter, expected interge.";a(this.field,this.fields,"deleteItems",[t])}},t.prototype.getArray=function(){},t.prototype.getItemAt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("number"!=typeof t&&(t=parseInt(t)),void 0===t)throw"invalid parameter, expected interge.";var n=this.targetField;if(n.getType()===r.FieldType.ListBox||n.getType()===r.FieldType.ComboBox){var o=n.getOptions();-1===t&&(t=o.length-1);var i=o[t];return e?i.value:i.lable}return""},t.prototype.insertItemAt=function(t,e,n){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var o=this.targetField;o.getType()!==r.FieldType.ListBox&&o.getType()!==r.FieldType.ComboBox||a(this.field,this.fields,"insertItemAt",[t,e,n])}},t.prototype.isBoxChecked=function(t){var e=this.targetField;if(!this.targetField)return!1;if(e.getType()===r.FieldType.RadioButton||e.getType()===r.FieldType.CheckBox){var n=e.getWidget(t);if(n)return"Off"!=n.getAS()}return!1},t.prototype.isDefaultChecked=function(t){if(!this.targetField)return!1;var e=this.targetField;if(e.getType()===r.FieldType.RadioButton||e.getType()===r.FieldType.CheckBox){var n=e.getWidget(t);if(n)return e.getDefaultValue()===n.getOnAS()}return!1},t.prototype.setFocus=function(){this.targetField&&this.targetField.focus()},o(t,[{key:"alignment",get:function(){if(this.targetField)return"";switch(this.targetField.getAlignment()){case 0:return"left";case 1:return"center";case 2:return"right"}},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck){var e=0;switch(t){case"left":e=0;break;case"center":e=1;break;case"right":e=2}return a(this.field,this.fields,"setAlignmentWithString",[e,t]),t}}},{key:"borderStyle",get:function(){return this.targetField.getBorderStyle()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setBorderStyle",[t]),t}},{key:"charLimit",get:function(){return this.targetField&&this.targetField.getMaxLength()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setMaxLength",[t]),t}},{key:"comb",get:function(){return!!r.FieldFlag.isComb(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setComb",[t]),t}},{key:"currentValueIndices",get:function(){return this.targetField&&this.targetField.getValueIndex()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setValueByIndex",[t]),t}},{key:"defaultValue",get:function(){return this.targetField&&this.targetField.getDefaultValue()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setDefaultValue",[t]),t}},{key:"display",get:function(){var t=i(this.jsEngine,this.targetField).getFlags();return 2&t?1:4&t?32&t?3:0:2},set:function(t){return a(this.field,this.fields,"setWidgetDisplay",[t]),t}},{key:"exportValues",get:function(){return this.targetField&&this.targetField.getExportValues()}},{key:"fillColor",get:function(){var t=i(this.jsEngine,this.targetField).getMKProperty("fillColor");return["RGB",t>>16&1,t>>8&1,1&t]},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setFillColor",[t]),t}},{key:"hidden",get:function(){var t=i(this.jsEngine,this.targetField).getFlags();return!!(2&t||1&t)},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setHidden",[t]),t}},{key:"highlight",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"lineWidth",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"multiline",get:function(){return!!r.FieldFlag.isMultiline(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setMultiline",[t]),t}},{key:"name",get:function(){return this.targetField&&this.targetField.getName()}},{key:"numItems",get:function(){if(!this.targetField)return 0;if(this.targetField.getType()===r.FieldType.RadioButton||this.targetField.getType()===r.FieldType.CheckBox)return this.targetField.getOptions().length;throw"invalid field type: only list box and combo box available."}},{key:"password",get:function(){return!!r.FieldFlag.isPassword(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setPassword",[t]),t}},{key:"print",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"radiosInUnison",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"readonly",get:function(){return!!r.FieldFlag.isReadOnly(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setReadonly",[t]),t}},{key:"required",get:function(){return!!r.FieldFlag.isRequired(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setRequired",[t]),t}},{key:"type",get:function(){if(!this.targetField)return"unknown";switch(this.targetField.getType()){default:case 0:return"unknown";case 1:return"button";case 2:return"checkbox";case 4:return"combobox";case 5:return"listbox";case 3:return"radiobutton";case 7:return"signature";case 6:return"text"}}},{key:"value",get:function(){return this.targetField&&this.targetField.getValue()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField)return a(this.field,this.fields,"setValue",[t]),this.targetField.getType()!==r.FieldType.RadioButton&&this.targetField.getType()!==r.FieldType.CheckBox||this.jsEngine.setStatus("calculate",this.targetField),t}},{key:"valueAsString",get:function(){return this.targetField&&this.targetField.getValue().toString()}},{key:"strokeColor",get:function(){var t=this.targetField.getBorderColor();return["RGB",t>>16&1,t>>8&1,1&t]},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setBorderColor",[t]),t}},{key:"textColor",get:function(){var t=this.targetField&&this.targetField.getDAFontColor();return["RGB",t>>16&1,t>>8&1,1&t]},set:function(t){return a(this.field,this.fields,"setDAFontColor",[t]),t}},{key:"userName",get:function(){return this.PDFFieldgetAlternateName()},set:function(t){if(this.field)return this.field.update("alternateName",t);this.fields.forEach(function(e){e.update("alternateName",t)})}},{key:"rect",get:function(){var t=i(this.jsEngine,this.targetField).getRect();return[t.left,t.top,t.right,t.bottom]},set:function(t){if(!(Object.prototype.toString.call(t).indexOf("Array")<0||t.length<4)){if(t[0]>t[2]){var e=t[0];t[0]=t[2],t[2]=e}if(t[3]>t[1]){var n=t[3];t[3]=t[1],t[1]=n}a(this.field,this.fields,"setRect",[{left:t[0],top:t[1],right:t[2],bottom:t[3]}])}}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=JSON.parse('{"yellow":["CMYK",0,0,1,0],"white":["G",1],"transparent":["T"],"red":["RGB",1,0,0],"magenta":["CMYK",0,1,0,0],"ltGray":["G",0.75],"green":["RGB",0,1,0],"gray":["G",0.5],"dkGray":["G",0.25],"cyan":["CMYK",1,0,0,0],"blue":["RGB",0,0,1],"black":["G",0]}');o.equal=function(t,e){},o.convert=function(t,e){var n,o,r;if(e==t[0])return[].concat(t);switch(t[0]){case"T":n=-1,o=-1,r=-1;break;case"G":n=o=r=t[1];break;case"RGB":n=t[1],o=t[2],r=t[3];break;case"CMYK":n=(1-t[4])*(1-t[1]),o=(1-t[4])*(1-t[2]),r=(1-t[4])*(1-t[3])}switch(e){case"T":return;case"G":return["G",(n+r+o)/3];case"RGB":return["RGB",n,o,r];case"CMYK":var i=1-n,a=1-o,s=1-r,u=Math.min(Math.min(i,a),s);return 0!=u?(temp2=Math.round(rep_v/100*u),Math.round(100*temp2),Math.round(100*(i-temp2)),Math.round(100*(a-temp2)),Math.round(100*(s-temp2))):(Math.round(100*i),Math.round(100*a),Math.round(100*s),0),["CMYK",n,o,r]}},e.default=o},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i)),s=n.getGroupHeader();return s&&"Replace"===s.getIntent()&&(a.isReplace=!0,a.caretAnnot=s),a}return o(e,t),e.prototype.onRightChangeSuccess=function(t){if(this.isReplace)return this.caretAnnot.moveRectByCharIndex(t.charIndex)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(212)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=w(n(93)),i=w(n(75)),a=n(30),s=n(112),u=w(n(1)),c=w(n(37)),l=n(974),f=n(22),p=w(n(3)),d=w(n(65)),h=n(8),g=w(n(127)),m=w(n(209)),y=n(13),v=n(153),b=(n(83),w(n(2)));function w(t){return t&&t.__esModule?t:{default:t}}function A(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var E=void 0,x=void 0,C=(0,l.getImageContextMenu)(".fv__pdf-page-annot-handler-rect"),S=(0,l.getMultiMediaContextMenu)(".fv__pdf-page-annot-handler-rect"),D=function(t){function e(){return _(this,e),P(this,t.apply(this,arguments))}return O(e,t),e.prototype._resize=function(e,n,o){e==v.DIR_NORTH||e==v.DIR_SOUTH||e==v.DIR_EAST||e==v.DIR_WEST?this.enableUniform=!1:this.enableUniform=!0,t.prototype._resize.call(this,e,n,o)},e}(c.default),M=function(t){function e(n,o,r,i){_(this,e);var a=P(this,t.call(this,n,o,r,i));a.name="screen",a.$ui.addClass("fv__pdf-page-screen-annot-container"),a.$handler.addClass("fv__pdf-page-screen-annot-handler-container"),n.action&&(a.actionViewer=a.pdfViewer.actionManager.get(n.action,a)),a.isVideoAudio=n.info.isAudioVideo,a.shapeControl=new D({start:function(t,e,n){return a.onStartUpdateShape(t,e,n)},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e,n){return a.onShapeMoving(t,e,n)},end:function(t,e,n){return a.onShapeUpdateEnd(t,e,n)},resizable:!0,enableDiagonally:!0,annotRender:i}),(a.groupMoveDisabled()||a.moveDisabled())&&a.shapeControl.disable();var s=a.pdfViewer.i18n;return b.default.i18n=function(t){return s.t(t)},a}return O(e,t),e.getDefaultContextMenuConfig=function(){return C},e.getMultiMediaContextMenuConfig=function(){return S},e.setContextMenuConfig=function(t){E=t},e.setMultiMediaContextMenuConfig=function(t){x=t},e.prototype.isMultiMedia=function(){return this.isVideoAudio},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1),s=i.getDeviceRect(o),u=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(u/r),u,c,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=this.annot;this.scale=e,this.rotate=n;var r=this.getAnnotFlag();if(r.checkInvisible()||r.checkHidden()||o.isEmpty()||o.isDeleted()||o.rectIsEmpty())return this.tileCanvas&&this.tileCanvas.hideContainer(),Promise.resolve();this.tileCanvas&&this.tileCanvas.showContainer();var s,u,c=this.getTileConfig(e,n),l=this.tileCanvas;return l?(s=l).redraw.apply(s,A(c)):(l=this.tileCanvas=new i.default(function(e,n,r,i,s,u,c,l){return t.getPDFPage().getAnnotBitmap(o.getId(),(0,a.pt2px)(u),0,{x:c*u+n*s,y:l*u+e*s,width:r,height:i})},this.$ui),this.isMultiMedia()&&this.$ui.append('<div class="fv__pdf-page-multi-media-annot-container"></div>'),(u=l).redraw.apply(u,A(c)))},e.prototype.afterRender=function(t){if(t.transformed){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale);this.$player.css({left:n.left+"px",top:n.top+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"})}}},e.prototype.onShapeRotated=function(t){t<0&&(t+=360),t<=45||t>315?t=0:t>45&&t<=135?t=270:t>135&&t<=225?t=180:t>225&&t<=315||t>-135&&t<=-45?t=90:console.warn("degree error: "+t);var e=this.annot.getRotation();return(e+=t)>=360&&(e-=360),this.setRotation(e)},e.prototype.onStartUpdateShape=function(t,e,n){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&(this.editDebouncePromise=this.editDebouncePromise||new f.DebouncePromiseQueue).push(function(){return n.setRect(t)})},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&(this.editDebouncePromise=this.editDebouncePromise||new f.DebouncePromiseQueue).push(function(){return n.moveTo(t.left,t.top)})},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;(this.editDebouncePromise=this.editDebouncePromise||new f.DebouncePromiseQueue).push(function(){return o.setRect(t)}),this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active");var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},e.prototype.getMultiMediaUrl=function(){var t=this;return this.annot.getActionPromise().then(function(e){var n=e.info;if(t.multiMediaUrl)return t.multiMediaUrl;if(n&&"TypeRendition"==n.type)for(var o=0;o<n.renditions.length;o++){var r=n.renditions[o].fileName,i=n.renditions[o].contentType;if(r){var a=r.substr(r.lastIndexOf(".")).toLowerCase();if([".mp4",".mp3",".wav",".ogg",".m4a",".mov",".avi"].indexOf(a)>-1){t.isMultiMediaAnnot=!0;var s=n.renditions[o].buffer,u=new Blob([s.buffer],{type:i}),c=URL.createObjectURL(u);t.multiMediaUrl=c,t.multiMediaFilename=r,t.actionBlob=u;break}}}return t.multiMediaUrl})},e.prototype.doAction=function(){var t=this;this.isMultiMedia()?this.getMultiMediaUrl().then(function(e){if(e){t.$handler.addClass("active"),t.$player?t.$player.show():(t.$handler.append('<div class="fv__pdf-player" style="position:absolute;" ><video src="'+e+'" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</video><button class="fv__close-video"></button></div>'),t.$player=t.$handler.find(".fv__pdf-player"),t.player=t.$handler[0].querySelector(".fv__pdf-player video"),t.$handler[0].querySelector(".fv__close-video").addEventListener("click",function(e){t.player.pause(),t.$player.hide()}));var n=t.annot.getDeviceRect(t.scale);t.$player.css({left:n.left+"px",top:n.top+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"}),t.$rect&&t.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),t.player.play()}}):this.actionViewer&&this.actionViewer.active()},e.prototype.download=function(){var t=this;if(this.isMultiMedia()){var e=(0,s.getDownloadEnv)();this.getMultiMediaUrl().then(function(n){(0,s.download)(t.actionBlob,t.multiMediaFilename,t.actionBlob.type,e)})}},e.prototype.addAction=function(t){this.actionViewer=this.pdfViewer.actionManager.get(t,this)},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=t.getDeviceRect(n);e.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"})},e.prototype.rectInit=function(){var t=this,e=this.$handler,n=(0,u.default)(this.createRectDom());e.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("singletap",function(e){t.rectSingleTap(e)}),e.on("mouseup",function(t){t.stopPropagation()}),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),n.data(l.defaultAnnotComponentKey,this),n},e.prototype.showContextMenu=function(t,e){this.contextMenu&&this.contextMenu.showAt(t,e)},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.getContextMenuConfig=function(){var t=void 0;if(this.isMultiMedia()){if(x)return x;t=this.constructor.getMultiMediaContextMenuConfig()}else{if(E)return E;t=this.constructor.getDefaultContextMenuConfig()}for(var e in t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return this.isMultiMedia()?this.constructor.setMultiMediaContextMenuConfig(t):this.constructor.setContextMenuConfig(t),t},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.$handler.removeClass("active")},e.prototype.unActiveMore=function(){},e.prototype.rectSingleTap=function(t){},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled())return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return this.pdfViewer.getMementoManager().before({host:this,method:"removeAnnot"}),Promise.resolve((e.customs.removeAnnotBefore||d.default)(this)).then(function(e){if(n.emit(p.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then(function(e){if(e)return t.pdfViewer.getMementoManager().after({host:t,method:"removeAnnot"}),n.emit(p.default.removeActionAnnotationSuccess,t);n.emit(p.default.removeActionAnnotationFailed,t)},function(){n.emit(p.default.removeActionAnnotationFailed,t)})})},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.removeAction=function(){this.actionViewer=null},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,h.convertFromNumberToHex)(t.getBorderColor());-1==e&&(e=0);var n=t.getBorderWidth(),o=t.getBorderStyle(),r=t.getRotation();return{color:e,opacity:t.getOpacity(),borderWidth:n,borderStyle:o,disabled:this.propertyDisabled(),rotation:r,borderTransparent:!0}},e.prototype.updateContextMenu=function(){var t=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete t.items.pause:delete t.items.play),this.$handler.contextMenu(t)},e.prototype.playOrPause=function(){var t=this.player;t.paused?t.play():t.pause()},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new g.default(this,document.body),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl.close(),this.updateDeleteStatus(!1)},e.prototype.showActionsDialog=function(){this.$actionsControl=new m.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},e.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},e.prototype.setBorderWidth=function(t,e,n){var o=this,r=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return t?(e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:r}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o.updateRender().then(function(){return o.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,o),t})):t})},e.prototype.setColor=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setBorderColor",color:this.annot.getBorderColor()}),this.annot.setBorderColor(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setBorderColor",color:e.annot.getBorderColor()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t})},e.prototype.setBorderStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(t){return t?(n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,n)})):t})},e.prototype.setOpacity=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.annot.getOpacity();return n&&o&&(this.pdfViewer.getMementoManager().before({host:this,method:"setOpacity",opacity:o.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setOpacity",opacity:o.commitValue})),t==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(t).then(function(t){return t?(n&&!o&&(e.pdfViewer.getMementoManager().before({host:e,method:"setOpacity",opacity:r}),e.pdfViewer.getMementoManager().after({host:e,method:"setOpacity",opacity:e.annot.getOpacity()})),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t})},e.prototype.setRotation=function(t){var e=this,n=this.annot.getRotation(),o=Math.abs(t-n);if(0==o)return!0;var r=this.annot.getRect(),i=r.right-r.left,a=r.top-r.bottom;if(90==o||270==o){var s=(i-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.pdfViewer.getMementoManager().before({host:this,method:"setRotation",rotation:this.annot.getRotation()}),this.annot.setRect(r).then(function(n){return n?e.annot.setRotation(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setRotation",rotation:e.annot.getRotation()}),e.updateRender().then(function(){return e.active(),e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t}):n})},e.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()},e.prototype.doubleTapAnnot=function(){return!1},e.prototype.tapAnnot=function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===y.STATE_HANDLER_HAND?this.doAction():t.prototype.tapAnnot.call(this,e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.contextMenu&&this.contextMenu.destroy()},e}(r.default);e.default=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(207)),r=a(n(3)),i=n(8);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="textbox",a.$ui.removeClass("fv__pdf-page-typewritter-annot-container"),a.$handler.removeClass("fv__pdf-page-typewritter-annot-handler-container"),a.$ui.addClass("fv__pdf-page-textbox-annot-container"),a.$handler.addClass("fv__pdf-page-textbox-annot-handler-container"),a}return s(e,t),e.prototype.getShapeOptions=function(){var e=t.prototype.getShapeOptions.call(this);return e.resizable=!0,e},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,i.convertFromNumberToHex)(t.getBorderColor()),n=t.getOpacity(),o=t.getBorderWidth();return{color:e,opacity:n,fillColor:t.getStyleFillColor(),borderWidth:o,cloudy:!0,disabled:this.propertyDisabled()}},e.prototype.setBorderWidth=function(t,e,n){var o=this,i=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return t?(e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:i}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o.updateRender().then(function(){return o.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,o),t})):t})},e.prototype.setFillColor=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setStyleFillColor",fillColor:this.annot.getStyleFillColor()}),this.annot.setStyleFillColor(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setStyleFillColor",fillColor:e.annot.getStyleFillColor()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,e),t})):t})},e.prototype.setBorderStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(){return n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,n)})})},e.prototype.setInnerRectHeight=function(t){var e=this,n=Object.assign({},this.annot.getInnerRect());n.bottom=n.top-t;var o=Object.assign({},this.annot.getRect());return o.bottom=o.top-t,this.annot.setInnerRect(n).then(function(t){return e.annot.setRect(o)}).then(function(t){return t?e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,e),t}):t})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.calcCalloutPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.start,o=e.end,r=e.width,i=void 0===r?o[0]+110:r,a=e.height,s=void 0===a?o[1]+30:a,u=e.rotate,c=void 0===u?0:u,l=e.borderStyle,f=e.endingStyle;o[0]=Math.max(o[0],2),o[1]=Math.max(o[1],12);var p=20,d=100;switch(c){case 1:case 3:p=100,d=20;var h=i;i=s,s=h}var g=Math.min(o[1]+p/2,s-2),m=Math.min(o[0]+d,i-2),y={left:m-d,top:g,right:m,bottom:g-p};y.left<0&&(y.left=0),y.bottom<0&&(y.bottom=0);var v=[{x:n[0],y:n[1]},{x:y.left-15,y:g-p/2},{x:y.left,y:g-p/2}];return{calloutLinePoints:v=t.checkKneePoint(0,v,y),rect:t.recalculateRect({points:v,innerRect:y,width:i,height:s,rotate:c,borderStyle:l,endingStyle:f}),innerRect:y}},t.checkKneePoint=function(e,n,o){if(e>3)return n;var i=JSON.parse(JSON.stringify(n));switch(e){case 0:i[2]={x:o.left,y:(o.top+o.bottom)/2},i[1]={x:i[2].x-15,y:i[2].y};break;case 1:i[1]={x:(o.left+o.right)/2,y:o.bottom-15},i[2]={x:i[1].x,y:o.bottom};break;case 2:i[1]={x:o.right+15,y:(o.top+o.bottom)/2},i[2]={x:o.right,y:i[1].y};break;case 3:i[1]={x:(o.left+o.right)/2,y:o.top+15},i[2]={x:i[1].x,y:o.top}}var a=r(i[2],i[0]),s=r(i[2],i[1]),u=r(i[1],i[0]),c=Math.acos((a-s-u)/(2*Math.sqrt(s)*Math.sqrt(u)));return Math.PI>c&&c>Math.PI/2?t.checkKneePoint(e+1,n,o):i},t.recalculateRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.points,n=t.innerRect,o=t.width,r=void 0===o?1e4:o,i=t.height,a=void 0===i?1e4:i,s=t.rotate,u=void 0===s?0:s,c=t.borderStyle,l=t.endingStyle;switch(u){case 1:case 3:var f=r;r=a,a=f}for(var p=1e4,d=0,h=0,g=1e4,m=0;m<3;m++)e[m].x<p&&(p=e[m].x),e[m].x>d&&(d=e[m].x),e[m].y>h&&(h=e[m].y),e[m].y<g&&(g=e[m].y);var y=0;c&&5==c.style&&(y=1==c.param?6:9);var v={left:Math.max(Math.min(p,n.left)-1,0),top:Math.max(h,n.top)+1,right:Math.min(Math.max(d,n.right)+1,r),bottom:Math.min(g,n.bottom)-1};0!==y&&(Math.abs(v.left-n.left)<2&&(v.left-=y),Math.abs(v.right-n.right)<2&&(v.right+=y),Math.abs(v.top-n.top)<2&&(v.top+=y),Math.abs(v.bottom-n.bottom)<2&&(v.bottom-=y));var b=0;switch(l){case 7:case 8:b=8;break;case 2:case 1:case 3:case 6:case 9:b=6}return 0!=b&&(v.left-=b,v.right+=b,v.top+=b,v.bottom-=b),v},t}(),r=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=f(n(151)),i=f(n(357)),a=n(30),s=f(n(3)),u=n(8),c=f(n(354)),l=n(22);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=["left","bottom","right","top"],h=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.annot=n,s.name="callout",s.$ui.removeClass("fv__pdf-page-textbox-annot-container"),s.$handler.removeClass("fv__pdf-page-textbox-annot-handler-container"),s.$ui.addClass("fv__pdf-page-callout-annot-container"),s.$handler.addClass("fv__pdf-page-callout-annot-handler-container"),s.shapeControl=new i.default({start:function(t){return s.onStartUpdateShape(t)},moving:function(t,e,n,o){return(s.editDebouncePromise=s.editDebouncePromise||new l.DebouncePromiseQueue).push(function(){return s.onShapeMoving(t,e,n,o)}),Promise.resolve()},end:function(t){return s.onShapeUpdateEnd(t)}},s,s.$handler),s.moveDisabled()&&s.shapeControl.disable(),s}return p(e,t),e.prototype.active=function(){t.prototype.active.call(this);var e,n=this._getShapeControllerBoundaryBox();e=this.getBoundary(),this.shapeControl.active(this.$rect,e,n)},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&(this.activeRect(),this.shapeControl.adjustPointControl())},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.backup=function(){this.backupProperty={points:JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}},e.prototype.onStartUpdateShape=function(t){switch(t){case i.default.ACTION_AREA:this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()});break;default:this.pdfViewer.getMementoManager().before({host:this,method:"updateCalloutPoints",rect:this.annot.getRect(),calloutLinePoints:this.annot.getCalloutLinePoints(),innerRect:this.annot.getInnerRect()})}this.backup()},e.prototype.onShapeMoving=function(t,e,n,r){var a=this.annot.page.reverseDeviceOffset([n,r],this.scale),s=o(a,2),u=s[0],c=s[1];switch(t){case i.default.ACTION_TEXT:return this.updateTextRect(u,c);case i.default.ACTION_AREA:return this.pdfViewer.config.highPerformance?this.updateRect(u,c):void(this._movePDFOffset={pdfDx:u,pdfDy:c});case i.default.ACTION_POINT:return this.updatePoint(e,u,c)}},e.prototype.onShapeUpdateEnd=function(t){var e=this;switch(t){case i.default.ACTION_AREA:this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()});break;default:this.pdfViewer.getMementoManager().after({host:this,method:"updateCalloutPoints",rect:this.annot.getRect(),calloutLinePoints:this.annot.getCalloutLinePoints(),innerRect:this.annot.getInnerRect()})}if(t===i.default.ACTION_AREA&&!this.pdfViewer.config.highPerformance){var n=this._movePDFOffset,o=n.pdfDx,r=n.pdfDy;return this.updateRect(o,r).then(function(){return e.redraw()})}return this.redraw()},e.prototype.updateRect=function(t,e){var n=this,o=Object.assign({},this.backupProperty.rect);if(o.left+=t,o.right+=t,o.bottom+=e,o.top+=e,!this.checkRect(o,!0))return Promise.resolve(!1);if(t=o.left-this.backupProperty.rect.left,e=o.top-this.backupProperty.rect.top,0==t||0==e)return Promise.resolve();var r=Object.assign({},this.backupProperty.innerRect);r.left+=t,r.right+=t,r.top+=e,r.bottom+=e;var i=JSON.parse(JSON.stringify(this.backupProperty.points));return i[0].x+=t,i[0].y+=e,i[1].x+=t,i[1].y+=e,i[2].x+=t,i[2].y+=e,this.setRectInPDF(o,!1).then(function(t){n.activeRect(),n.setInnerRect(r)}).then(function(t){n.setCalloutLinePoints(i)})},e.prototype.updateTextRect=function(t,e){var n=this,o=Object.assign({},this.backupProperty.innerRect),r=this.annot.getCalloutLinePoints();if(o.left+=t,o.right+=t,o.top+=e,o.bottom+=e,!this.checkRect(o,!0))return Promise.resolve(!1);r=c.default.checkKneePoint(0,r,o);var i=this.getPDFPage(),a=c.default.recalculateRect({points:r,innerRect:o,width:i.getWidth(),height:i.getHeight(),rotate:i.getRotation(),borderStyle:this.annot.getBorderStyleWithParam(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.setRectInPDF(a,!1).then(function(t){return n.activeRect(),n.setInnerRect(o)}).then(function(t){return n.setCalloutLinePoints(r)})},e.prototype.updatePoint=function(t,e,n){var o=this,r=this.annot.page,i=this.backupProperty.points,a=JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),s=!0,u=Object.assign({},this.backupProperty.innerRect);switch(t){case"calloutStart":a[0].x=i[0].x+e,a[0].y=i[0].y+n;if(u.left-20<a[0].x&&a[0].x<u.right+20&&u.bottom-20<a[0].y&&a[0].y<u.top+20)return Promise.resolve();break;case"calloutKnee":if(a[1].x==a[2].x){if(e=0,i[1].y<i[2].y&&i[1].y+n>=i[2].y)return Promise.resolve();if(i[1].y>i[2].y&&i[1].y+n<=i[2].y)return Promise.resolve()}else if(a[1].y==a[2].y){if(n=0,i[1].x<i[2].x&&i[1].x+e>=i[2].x)return Promise.resolve();if(i[1].x>i[2].x&&i[1].x+e<=i[2].x)return Promise.resolve()}if(i[1].x+e<0||i[1].y+n<0)return Promise.resolve();s=!1,a[1].x=i[1].x+e,a[1].y=i[1].y+n;break;default:for(var l=[].concat(d),f=0;f<this.annot.page.getRotation();f++){var p=l.shift();l.push(p)}switch(t){case"left":u[l[0]]+=g(l[0],e,n);break;case"bottom":u[l[1]]+=g(l[1],e,n);break;case"right":u[l[2]]+=g(l[2],e,n);break;case"top":u[l[3]]+=g(l[3],e,n)}}s&&(a=c.default.checkKneePoint(0,a,u));var h=c.default.recalculateRect({points:a,innerRect:u,width:r.getWidth(),height:r.getHeight(),rotate:r.getRotation(),borderStyle:this.annot.getBorderStyleWithParam(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.checkRect(h)?this.setRectInPDF(h,!1).then(function(t){return o.setInnerRect(u)}).then(function(t){o.setCalloutLinePoints(a)}).then(function(t){return o.annot.update()}).then(function(t){o.activeRect()}):Promise.resolve()},e.prototype.setEndingStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setCalloutLineEndingStyle",style:this.annot.getCalloutLineEndingStyle()}),this.annot.setCalloutLineEndingStyle(+e).then(function(){return n.pdfViewer.getMementoManager().after({host:n,method:"setCalloutLineEndingStyle",style:n.annot.getCalloutLineEndingStyle()}),n.annot.update()}).then(function(){n.activeRect(),n.redraw()})},e.prototype.setFillColor=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setStyleFillColor",fillColor:this.annot.getStyleFillColor()}),this.annot.setStyleFillColor(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setStyleFillColor",fillColor:e.annot.getStyleFillColor()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,e),t})):t})},e.prototype.setBorderWidth=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:this.annot.getBorderWidth()}),this.annot.setBorderWidth(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setBorderWidth",borderWidth:e.annot.getBorderWidth()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,e),t})):t})},e.prototype.setBorderStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(){return n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,n)})})},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,u.convertFromNumberToHex)(t.getBorderColor()),n=t.getOpacity(),o=this.annot.getStyleFillColor(),r=t.getBorderWidth(),i=this.propertyDisabled();return{color:e,opacity:n,fillColor:o,lineStartStyle:t.getCalloutLineEndingStyle(),borderWidth:r,cloudy:!0,disabled:i}},e.prototype.getCalloutPointers=function(){for(var t=this.annot.getCalloutLinePoints(),e=[],n=0;n<3;n++){var o=this.annot.page.getDevicePoint([t[n].x,t[n].y],this.scale);e.push(o)}return e},e.prototype.setInnerRectHeight=function(t){var e=JSON.parse(JSON.stringify(this.backupProperty.innerRect));return e.bottom=e.top-t,this.setInnerRectProperty(e)},e.prototype.setInnerRectProperty=function(t){var e=this,n=JSON.parse(JSON.stringify(this.backupProperty.points));n=c.default.checkKneePoint(0,n,t);var o=this.annot.page,r=c.default.recalculateRect({points:n,innerRect:t,width:o.getWidth(),height:o.getHeight(),rotate:o.getRotation(),borderStyle:this.annot.getBorderStyleWithParam(),endingStyle:this.annot.getCalloutLineEndingStyle()}),i=Promise.resolve(),a=this.annot.getRect();return Math.abs(a.top-a.bottom-r.top+r.bottom)>4&&(i=this.setRectInPDF(r,!1)),i.then(function(n){return e.setInnerRect(t)}).then(function(t){e.setCalloutLinePoints(n)})},e.prototype.checkRect=function(t,e){var n=this.annot.page.getWidth(),o=this.annot.page.getHeight();switch(this.annot.page.getRotation()){case 1:case 3:var r=n;n=o,o=r}if(e){var i=void 0;return t.left<2?(i=2-t.left,t.left+=i,t.right+=i):t.right>n-2&&(i=n-2-t.right,t.left+=i,t.right+=i),t.bottom<2?(i=2-t.bottom,t.bottom+=i,t.top+=i):t.top>o-2&&(i=o-2-t.top,t.bottom+=i,t.top+=i),!0}return!(t.left<0||t.bottom<0||t.top>o||t.right>n)},e.prototype.redraw=function(){return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e}(r.default),g=function(t,e,n){return"left"===t||"right"==t?e:n};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(1));var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.calloutRender=e,this.$ui=(0,o.default)(n),this.$ui.hide()}return t.prototype.draw=function(t,e,n){var o=this.$ui[0];o.width=e.right-e.left,o.height=e.bottom-e.top;var r=o.getContext("2d");r.clearRect(0,0,this.$ui.width(),this.$ui.height()),r.moveTo(t[0][0]-e.left,t[0][1]-e.top),r.lineTo(t[1][0]-e.left,t[1][1]-e.top),r.lineTo(t[2][0]-e.left,t[2][1]-e.top),r.strokeStyle="#5aa",r.lineWidth=2,r.stroke(),r.save();var i=n.width||n.right-n.left,a=n.height||Math.abs(n.top-n.bottom);r.rect(n.left-e.left,n.top-e.top,i,a),r.fillStyle="rgba(88, 176, 176, 0.5)",r.stroke(),r.fillRect(n.left-e.left,n.top-e.top,i,a),r.restore()},t.prototype.show=function(t,e,n){t&&this.draw(t,e,n),this.$ui.show()},t.prototype.hide=function(){this.$ui.hide()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(985)),i=l(n(65)),a=n(373),s=l(n(356)),u=n(21),c=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var f=(0,a.identity)(!0),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.start,o=void 0===n?i.default:n,a=e.update,u=void 0===a?i.default:a,c=e.interceptor,l=void 0===c?f:c,p=e.moving,d=void 0===p?i.default:p,h=e.end,g=void 0===h?i.default:h,m=arguments[1];arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var y=new DOMParser;this.whole=y.parseFromString((0,r.default)({}),"text/html").body.firstChild,this.calloutController=this.ui=this.whole.querySelector(".fv__shape-control"),this.start=o,this.update=u,this.move=d,this.interceptor=l,this.end=g,this.annot=m,this.bindMovingEvent(),this.calloutShape=new s.default(this.annot,this.calloutController.querySelector(".fv__shape-control-previewer"))}return o(t,null,[{key:"ACTION_POINT",get:function(){return"resize"}},{key:"ACTION_AREA",get:function(){return"area"}},{key:"ACTION_TEXT",get:function(){return"text"}}]),t.prototype.active=function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getBoundary();var e=arguments[2];t.append(this.calloutController),this.box=e,this.adjustPointControl(),this.calloutController.style.display="block"},t.prototype.disable=function(){this.isDisabled=!0},t.prototype.enable=function(){this.isDisabled=!1},t.prototype.deactive=function(){this.calloutController.style.display="none"},t.prototype.destroy=function(){this.calloutController.parentNode&&this.calloutController.parentNode.removeChild(this.calloutController)},t.prototype.bindMovingEvent=function(){var e=this;this._bindMoveAreaEvents(t.ACTION_AREA),this._bindMoveAreaEvents(t.ACTION_TEXT);var n=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(n).forEach(function(t){return e._bindMovePointEvents(t)})},t.prototype._bindMoveAreaEvents=function(e){var n=this,o=this.ui,r=".fv__shape-control-move-area";e==t.ACTION_TEXT&&(r=".fv__shape-control-text-area");var i=new u.Manager(o.querySelector(r));i.add(new u.Pan({direction:u.DIRECTION_ALL}));var a=void 0,s=void 0;i.on("panstart",function(t){var o=t.deltaX,r=t.deltaY;n.isDisabled||(a=o,s=r,n.showShape(),n.start(e))}),i.on("panend",function(t){n.isDisabled||(n.calloutShape.hide(),n.end(e))}),i.on("pancancel",function(t){n.isDisabled||n.cancel(e)}),i.on("panmove",function(t){var o=t.deltaX,r=t.deltaY;t.center,t.direction;if(!n.isDisabled){var i=o-a,u=r-s;n.move(e,-1,i,u).then(function(t){n.adjustPointControl(),n.showShape()})}})},t.prototype._bindMovePointEvents=function(e){var n=this,o=new u.Manager(e),r=void 0,i=void 0;switch(e.classList[2]){case"calloutStart":o.add(new u.Pan({direction:u.DIRECTION_ALL}));break;case"calloutKnee":var a=this.annot.getCalloutPointers(),s=u.DIRECTION_HORIZONTAL;a[1][0]==a[2][0]&&(s=u.DIRECTION_VERTICAL),o.add(new u.Pan({direction:s}));break;case"left":o.add(new u.Pan({direction:u.DIRECTION_HORIZONTAL}));break;case"top":o.add(new u.Pan({direction:u.DIRECTION_VERTICAL}));break;case"right":o.add(new u.Pan({direction:u.DIRECTION_HORIZONTAL}));break;case"bottom":o.add(new u.Pan({direction:u.DIRECTION_VERTICAL}))}o.on("panmove",function(o){var a=o.deltaX,s=o.deltaY;o.center,o.direction;if(!n.isDisabled){var u=a-r,c=s-i;return n.move(t.ACTION_POINT,e.classList[2],u,c).then(function(t){n.adjustPointControl(),n.showShape()}),!1}}),o.on("panstart",function(e){var o=e.deltaX,a=e.deltaY;if(!n.isDisabled)return r=o,i=a,n.showShape(),n.start(t.ACTION_POINT),!1}),o.on("pancancel",function(e){if(!n.isDisabled)return n.cancel(t.ACTION_POINT),!1}),o.on("panend",function(e){if(!n.isDisabled)return n.calloutShape.hide(),n.end(t.ACTION_POINT),!1})},t.prototype.showShape=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary();this.calloutShape.show(t,e,n)},t.prototype.adjustPointControl=function(){var t=this.ui,e=this.annot.getCalloutPointers(),n=this.annot.getRect(),o=this.annot.getInnerBoundary(),r={left:o.left-n.left,top:o.top-n.top,width:o.width,height:o.height},i=t.querySelector(".fv__shape-control-text-area");(0,c.default)(i).css(r);var a=t.querySelector(".fv__shape-control-inner-area");(0,c.default)(a).css(r);var s=t.querySelector(".fv__shape-controller.calloutStart");(0,c.default)(s).css({left:e[0][0]-n.left-4,top:e[0][1]-n.top-4}),s=t.querySelector(".fv__shape-controller.calloutKnee"),(0,c.default)(s).css({left:e[1][0]-n.left-4,top:e[1][1]-n.top-4})},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(210));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=(0,n(154).getCommonContextMenu)(),a=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="polygonCloud",a}return r(e,t),e.getDefaultContextMenuConfig=function(){return i},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=f(n(48)),i=f(n(37)),a=f(n(3)),s=n(30),u=f(n(74)),c=n(22),l=n(8);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="ink",s.$ui.addClass("pdf-page-ink-annot-container"),s.$handler.addClass("pdf-page-ink-annot-handler-container"),s.shapeControl=new i.default({start:function(){return s.onStartUpdateShape()},update:function(t,e){return s.onShapeUpdating(t,e)},moving:function(t,e,n){return s.onShapeMoving(t,e,n)},end:function(t,e){return s.onShapeUpdateEnd(t,e)},enableDiagonally:!0}),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s}return p(e,t),e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.onStartUpdateShape=function(){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeUpdating=function(t,e){this.pdfViewer.config.highPerformance&&(t.width<10&&(t.width=10),this.setRect(t),this.setMargin())},e.prototype.onShapeMoving=function(t,e,n){var o=this;this.pdfViewer.config.highPerformance&&(this.editDebouncePromise=this.editDebouncePromise||new c.DebouncePromiseQueue).push(function(){return o.moveTo(t.left,t.top)})},e.prototype.onShapeUpdateEnd=function(t,e){t.width<10&&(t.width=10),this.setRect(t),this.setMargin(),this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,l.convertFromNumberToHex)(t.getBorderColor()),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype.setBorderWidth=function(t,e,n){var o=this,r=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return t?(e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:r}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o.updateRender().then(function(){return o.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,o),t})):t})},e.prototype.getInkList=function(){return this.annot.getInkList()},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(u.default.expandOffset(e,t))},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(208)),r=a(n(37)),i=n(8);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a));return s.shapeControl=new r.default({start:function(t,e,n){return s.onStartUpdateShape(t,e,n)},moving:function(t,e){return s.onShapeMoving(t,e)},update:function(t,e){return s.onShapeUpdating(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)},resizable:!0,degree:0,enableDiagonally:!0,enableFrame:!1,previewer:!1,enableUniform:!0}),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s}return s(e,t),e.prototype.getInnerRect=function(){return this.getRect()},e.prototype.getPropertyOptions=function(){var t=this.annot;(0,i.convertFromNumberToHex)(t.getBorderColor());return{opacity:t.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),rotation:(this.annot.getRotation()+360)%360}},e.prototype.setBitmap=function(t,e){var n=this;return this.annot.setBitmap(t,e).then(function(t){return n.render(n.scale,n.rotate)})},e.prototype.updateRender=function(){return this.render()},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e.prototype.setRotation=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setRotation",rotation:this.annot.getRotation()}),this.annot.setRotation(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setRotation",rotation:e.annot.getRotation()}),e.updateRender().then(function(){var n=e.getInnerBoundary(),o=e._getShapeControllerBoundaryBox();return e.shapeControl.active(e.$handler,n,o),t})):t})},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="caret",a.$ui.addClass("fv__pdf-page-caret-annot-container"),a.$handler.addClass("fv__pdf-page-caret-annot-handler-container"),a}return o(e,t),e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$rect.addClass("active")},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&this.activeRect()},e.prototype.unActive=function(){t.prototype.unActive.call(this);var e=this.$rect;e&&e.removeClass("active")},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(48)).default);e.default=r},function(t,e,n){(function(n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){"use strict";function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){a(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,a){var s=i.URL||i.webkitURL,u=document.createElement("a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):o(u.href)?e(t,n,a):r(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(u.href)},4e4),setTimeout(function(){r(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(o(t))e(t,n,i);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){r(a)})}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var a="application/octet-stream"===t.type,s=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},c.readAsDataURL(t)}else{var l=i.URL||i.webkitURL,f=l.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){l.revokeObjectURL(f)},4e4)}});i.saveAs=a.saveAs=a,void 0!==t&&(t.exports=a)})?o.apply(e,r):o)||(t.exports=i)}).call(this,n(60))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=f(n(48)),i=f(n(37)),a=f(n(3)),s=n(30),u=f(n(74)),c=n(22),l=n(112);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="file",s.$ui.addClass("fv__pdf-page-file-annot-container"),s.$handler.addClass("fv__pdf-page-file-annot-handler-container"),s.shapeControl=new i.default({start:function(){return s.onStartUpdateShape()},moving:function(t,e,n){return s.onShapeMoving(t,e,n)},end:function(t,e){return s.onShapeUpdateEnd(t,e)},resizable:!1}),s.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s}return p(e,t),e.prototype.active=function(){t.prototype.active.call(this),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.setIconName=function(t){var e=this;return this.annot.setIconName(t).then(function(t){return t?e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t}):t})},e.prototype.createRectDom=function(){return this.shapeControl.ui},e.prototype.onStartUpdateShape=function(t,e){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeMoving=function(t,e,n){var o=this;(this.editDebouncePromise=this.editDebouncePromise||new c.DebouncePromiseQueue).push(function(){return o.moveTo(t.left,t.top)})},e.prototype.onShapeUpdateEnd=function(t,e){this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(u.default.expandOffset(e,t))},e.prototype.doubleTapAnnot=function(){this.rectDoubleTap()},e.prototype.rectDoubleTap=function(){this.download()},e.prototype.download=function(){var t=this,e=(0,l.getDownloadEnv)();this.annot.getFileattachmentStream().then(function(n){(0,l.download)(n,t.annot.getFileSpec().getFileName(),"application/octet-stream",e)})},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(n(48)),i=c(n(37)),a=n(30),s=(c(n(3)),c(n(74))),u=(n(22),c(n(75)),n(33));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="note",s.$ui.addClass("fv__pdf-page-note-annot-container"),s.$handler.addClass("fv__pdf-page-note-annot-handler-container"),s.shapeControl=new i.default({start:function(){return s.onStartUpdateShape()},moving:function(t,e,n){return s.onShapeMoving(t,e,n)},end:function(t,e){return s.onShapeUpdateEnd(t,e)},resizable:!1}),s.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s.lastMovingPromise=Promise.resolve(),s}return l(e,t),e.prototype.active=function(){t.prototype.active.call(this),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.setIconName=function(t){return this.annot.setIconName(t).then(function(t){return t})},e.prototype.createRectDom=function(){return this.shapeControl.ui},e.prototype.onStartUpdateShape=function(){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeMoving=function(t,e,n){var o=this;if(this.pdfViewer.config.highPerformance){this.lastMovingPromise=this.lastMovingPromise.finally(function(){var t=o.getGroupRenders();return Promise.all(t.map(function(t){return t.component.move(n.offsetLeft,n.offsetTop)}))})}else{var r=this._moveOffset||{},i=r.offsetLeft||0,a=r.offsetTop||0;this._moveOffset={offsetLeft:i+n.offsetLeft,offsetTop:a+n.offsetTop}}},e.prototype.onShapeUpdateEnd=function(t,e){var n=this;if(this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()}),!this.pdfViewer.config.highPerformance){var o=this._moveOffset;this._moveOffset={};this.lastMovingPromise=this.lastMovingPromise.finally(function(){var t=n.getGroupRenders();return Promise.all(t.map(function(t){return t.component.move(o.offsetLeft,o.offsetTop)}))})}},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(s.default.expandOffset(e,t))},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(t.prototype.render.call(this,e,n),1!=u.dpr&&this.tileCanvas){var o=this.getTileConfig(e,n),r=Math.max(.5,e*u.dpr/o[5]);this.tileCanvas.$container.css({transform:"scale("+r+")"})}},e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=h(n(48)),i=h(n(37)),a=h(n(994)),s=n(992),u=h(n(3)),c=n(20),l=h(n(74)),f=n(30),p=n(22),d=n(8);function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=(0,s.getCircleContextMenu)(),y=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.shapeControl=new i.default({start:function(){return s.onStartUpdateShape()},update:function(t,e){return s.onShapeUpdating(t,e)},moving:function(t,e){return s.onShapeMoving(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)}}),(s.groupMoveDisabled()||s.moveDisabled())&&s.shapeControl.disable(),s.$ui.addClass("circle-ui"),s.editDebouncePromise=new p.DebouncePromiseQueue,s}return g(e,t),e.getDefaultContextMenuConfig=function(){return m},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(this.annot);var e=this._getShapeControllerBoundaryBox(),n=this.getInnerBoundary();this.shapeControl.active(this.$handler,n,e),this._updateShapeControlMargin();var o=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),o)},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=t.getDeviceInnerRect(n);e.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"})},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox()),this._updateShapeControlMargin()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,f.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2),r=n[0],i=n[1],a=this.getInnerRect(),s=this.getRect(),u=l.default.subtract(a,s);return l.default.on({left:0,top:0,right:r,bottom:i}).add(u).extract()},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.onStartUpdateShape=function(t,e){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&(this._previewUpdatedShape(t,e),this.editDebouncePromise.push(function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(t)).then(function(t){n._updateShapeControllerBoundaryBox()})}))},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.push(function(){var e=n.getRect(),o=n.getInnerRect(),r=e.left-o.left,i=e.top-o.top;return n.moveTo(t.left+r,t.top+i).then(function(t){n._updateShapeControllerBoundaryBox()})})},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;this._previewUpdatedShape(t,e),this.editDebouncePromise.push(function(){return o.setRect(o._transformShapeOfInnerRectToOuterRect(t)).then(function(t){o._updateShapeControllerBoundaryBox()})}),this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype._transformShapeOfInnerRectToOuterRect=function(t){var e={left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height},n=l.default.subtract(this.getRect(),this.getInnerRect()),o=l.default.on(e).add(n).extract();return{left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top}},e.prototype._previewUpdatedShape=function(t,e){e.clearRect(0,0,t.width,t.height);var n=t.width/2,o=t.height/2,r=n,i=o;e.strokeStyle="#759DB8",e.lineWidth=1,(0,a.default)(e,n,o,r,i),e.stroke()},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,d.convertFromNumberToHex)(t.getBorderColor()),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),cloudy:!0,fillColor:t.getFillColor(),disabled:this.propertyDisabled()}},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return t.prototype.render.call(this,e,n)},e.prototype.setBorderWidth=function(t,e,n){var o=this,r=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:r}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o._handlerRerender(t)})},e.prototype.setBorderStyle=function(t,e){var n=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(t){return n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n._handlerRerender(t)})},e.prototype.setCloudIntencity=function(t){return this.setBorderStyle(c.BORDER_STYLE.CLOUDY,t)},e.prototype.setFillColor=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setFillColor",fillColor:this.annot.getFillColor()}),this.annot.setFillColor(t).then(function(t){return e.pdfViewer.getMementoManager().after({host:e,method:"setFillColor",fillColor:e.annot.getFillColor()}),e._handlerRerender(t)})},e.prototype.getInnerRect=function(){var t=this.getPDFPage(),e=this.annot.getInnerRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}},e.prototype.getInnerBoundary=function(){var t=this.getPDFPage(),e=this.annot.getInnerRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},e.prototype._handlerRerender=function(t){var e=this;return t?this.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,e),t}):t},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shapeControl.destroy()},e.prototype._updateShapeControlMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(l.default.expandOffset(e,t))},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this)},e}(r.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=y(n(93)),i=y(n(75)),a=n(30),s=y(n(1)),u=y(n(2)),c=y(n(37)),l=n(996),f=y(n(127)),p=y(n(3)),d=n(8),h=y(n(65)),g=y(n(209)),m=n(13);function y(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var b=(0,l.getLinkContextMenu)(w,".fv__pdf-page-annot-handler-rect"),w=l.defaultAnnotComponentKey,A=void 0,_=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));a.shapeControl=new c.default({start:function(t,e,n){return a.onStartUpdateShape(t,e,n)},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e){return a.onShapeMoving(t,e)},end:function(t,e,n){return a.onShapeUpdateEnd(t,e,n)},resizable:!0,enableDiagonally:!0}),a.name="link",a.$ui.addClass("pdf-page-link-annot-container"),a.$handler.addClass("pdf-page-link-annot-handler-container");var s=a.pdfViewer.i18n;return u.default.i18n=function(t){return s.t(t)},a.moveDisabled()&&a.shapeControl.disable(),n.action&&(a.actionViewer=a.pdfViewer.actionManager.get(n.action,a)),a}return v(e,t),e.getDefaultContextMenuConfig=function(){return b},e.setContextMenuConfig=function(t){A=t},e.prototype.actionsDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())},e.prototype.addAction=function(t){this.actionViewer=this.pdfViewer.actionManager.get(t,this)},e.prototype.removeAction=function(){this.actionViewer=null},e.prototype.onStartUpdateShape=function(t,e,n){this.pdfViewer.getMementoManager().before({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.onShapeUpdating=function(t){this.setRect(t)},e.prototype.onShapeMoving=function(t,e){this.$ui.css({left:t.left,top:t.top})},e.prototype.onShapeUpdateEnd=function(t,e,n){switch(n){case c.default.ACTION_MOVE:this.moveTo(t.left,t.top);break;case c.default.ACTION_RESIZE:this.setRect(t)}this.pdfViewer.getMementoManager().after({host:this,method:"setRect",rect:this.annot.getRect()})},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1),s=i.getDeviceRect(o),u=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(u/r),u,c,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=this.annot;if(this.scale=n,this.rotate=o,r.isEmpty()||r.isDeleted()||r.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var s=this.tileCanvas;if(!r.getBorderWidth())return s&&s.hideContainer(),Promise.resolve();var u=this.getTileConfig(n,o);return s||(s=this.tileCanvas=new i.default(function(t,n,o,i,s,u,c,l){return e.getPDFPage().getAnnotBitmap(r.getId(),(0,a.pt2px)(u),0,{x:c*u+n*s,y:l*u+t*s,width:o,height:i})},this.$ui)),s.showContainer(),(t=s).redraw.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(u))},e.prototype.active=function(){t.prototype.active.call(this),this.$handler.addClass("active"),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},e.prototype.doAction=function(){this.actionViewer&&this.actionViewer.active()},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.activeMore=function(t,e){},e.prototype.activeMoreItem=function(){},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.$handler.removeClass("active"),this.shapeControl.deactive()},e.prototype.unActiveMore=function(){},e.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.$handler.remove()},e.prototype.showContextMenu=function(){this.$rect&&this.$rect.contextmenu()},e.prototype.updateBorderProperty=function(){},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,d.convertFromNumberToHex)(t.getBorderColor()),borderWidth:t.getBorderWidth(),highlightingMode:t.getHighlightingMode(),actionType:this.$action&&this.$action.getType(),disabled:this.propertyDisabled(),minBorderWidth:0}},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new f.default(this,document.body),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl.close(),this.updateDeleteStatus(!1)},e.prototype.showActionsDialog=function(){this.$actionsControl=new g.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},e.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},e.prototype.setColor=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setBorderColor",color:this.annot.getBorderColor()}),this.annot.setBorderColor(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setBorderColor",color:e.annot.getBorderColor()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t})},e.prototype.setBorderWidth=function(t,e,n){var o=this,r=this.annot.getBorderWidth();return e&&n&&(this.pdfViewer.getMementoManager().before({host:this,method:"setBorderWidth",borderWidth:n.oldValue}),this.pdfViewer.getMementoManager().after({host:this,method:"setBorderWidth",borderWidth:n.commitValue})),this.annot.setBorderWidth(t).then(function(t){return t?(e&&!n&&(o.pdfViewer.getMementoManager().before({host:o,method:"setBorderWidth",borderWidth:r}),o.pdfViewer.getMementoManager().after({host:o,method:"setBorderWidth",borderWidth:o.annot.getBorderWidth()})),o.updateRender().then(function(){return o.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,o),t})):t})},e.prototype.setBorderStyle=function(t,e){var n=this;this.pdfViewer.getMementoManager().before({host:this,method:"setBorderStyle",borderStyle:this.annot.getBorderStyleWithParam()}),this.annot.setBorderStyle(t,e).then(function(){return n.pdfViewer.getMementoManager().after({host:n,method:"setBorderStyle",borderStyle:n.annot.getBorderStyleWithParam()}),n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,n)})})},e.prototype.setHighlightingMode=function(t){var e=this;return this.pdfViewer.getMementoManager().before({host:this,method:"setHighlightingMode",mode:this.annot.getHighlightingMode()}),this.annot.setHighlightingMode(t).then(function(t){return t?(e.pdfViewer.getMementoManager().after({host:e,method:"setHighlightingMode",mode:e.annot.getHighlightingMode()}),e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t})},e.prototype.redraw=function(){return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.destroy=function(){this.$propertiesControl=null,this.contextMenu&&this.contextMenu.destroy(),t.prototype.destroy.call(this)},e.prototype.showContextMenu=function(t,e){this.contextMenu&&this.contextMenu.showAt(t,e)},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled())return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return this.pdfViewer.getMementoManager().before({host:this,method:"removeAnnot"}),Promise.resolve((e.customs.removeAnnotBefore||h.default)(this)).then(function(e){if(n.emit(p.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then(function(e){if(e)return t.pdfViewer.getMementoManager().after({host:t,method:"removeAnnot"}),n.emit(p.default.removeActionAnnotationSuccess,t);n.emit(p.default.removeActionAnnotationFailed,t)},function(){n.emit(p.default.removeActionAnnotationFailed,t)})})},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=t.getDeviceRect(n);e.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"})},e.prototype.rectInit=function(){var t=this.$handler,e=(0,s.default)(this.createRectDom());t.append(e);var n=e[0],o=this.rectHammer=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return o.add(new Hammer.Tap({event:"doubletap",taps:2})),o.add(new Hammer.Tap({event:"singletap"})),o.get("doubletap").recognizeWith("singletap"),o.get("singletap").requireFailure("doubletap"),t.on("mouseup",function(t){t.stopPropagation()}),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,t.get(0),this.getContextMenuConfig()),e.data(w,this),e},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.getContextMenuConfig=function(){if(A)return A;var t=this.constructor.getDefaultContextMenuConfig();for(var e in this.updateContextMenuConfig(t),t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return t},e.prototype.doubleTapAnnot=function(){},e.prototype.updateContextMenuConfig=function(t){},e.prototype.tapAnnot=function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===m.STATE_HANDLER_HAND?this.doAction():t.prototype.tapAnnot.call(this,e)},e}(r.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelUnit=e.Unit=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(152),i=n(33);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=e.Unit=function(){function t(e,n){s(this,t),this.fromInchRate=e,this.name=n}return t.prototype.convertTo=function(t,e){return t/this.fromInchRate*e.fromInchRate},o(t,[{key:"isPixel",get:function(){return!1}}]),t}();e.PixelUnit=function(t){function e(n){s(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,0,"px"));switch(o.orientation=n,n){case r.ORIENTATION_HORIZONTAL:o.fromInchRate=i.dpi.x;case r.ORIENTATION_VERTICAL:o.fromInchRate=i.dpi.y}return o}return a(e,t),o(e,[{key:"isPixel",get:function(){return!0}}]),e}(u)},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="strikeout",a.$ui.addClass("fv__pdf-page-squiggly-annot-container"),a.$handler.addClass("fv__pdf-page-squiggly-annot-handler-container"),a}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(92)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="Underline",a.$ui.addClass("fv__pdf-page-Underline-annot-container"),a.$handler.addClass("fv__pdf-page-Underline-annot-handler-container"),a}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(92)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="highlight",a.$ui.addClass("fv__pdf-page-highlight-annot-container"),a.$handler.addClass("fv__pdf-page-highlight-annot-handler-container"),a}return o(e,t),e.prototype.render=function(t,e){this.scale=t,this.rotate=e;var n=this.getModel().getDeviceRect(t);return this.$ui.css({top:n.top+"px",left:n.left+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"}),Promise.resolve()},e.prototype.add=function(t,e){return this.scale=t,this.rotate=e,this.redraw()},e.prototype.redraw=function(){return this.activeRect(),this.parent("pdfPageRender").redrawContent(!0)},e.prototype.updateRender=function(){var e=this;return t.prototype.updateRender.call(this).then(function(){return e.parent("pdfPageRender").redrawContent(!0)}).then(function(){return e.render(e.scale,e.rotate)})},e.prototype.removeAnnot=function(){var e=this;return!this.deleteDisabled()&&t.prototype.removeAnnot.call(this).then(function(){e.parent("pdfPageRender").redrawContent(!0)})},e.prototype.remove=function(){t.prototype.remove.call(this),this.parent("pdfPageRender").redrawContent(!0)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(92)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(126);function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.prototype.print=function(t,e){var n,i,a,s,u,c=t.map(function(t){return"string"!==t.type?" %o":" %c"+t.value}).join("").trim(),l=t.map(function(t){switch(t.type){case"string":return t.style;default:return t.value}});switch(l.splice(0,0,c),e){case o.LEVEL_DEBUG:(n=console).debug.apply(n,r(l));break;case o.LEVEL_INFO:(i=console).info.apply(i,r(l));break;case o.LEVEL_WARN:(a=console).warn.apply(a,r(l));break;case o.LEVEL_ERROR:(s=console).error.apply(s,r(l));break;default:(u=console).log.apply(u,r(l))}},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(213)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.logLevel="warn",e.logLayout="complex",e.logAppenders=["console"],e.logOff=!1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.identity=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.default=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._ctrl=!1,this._shift=!1,this._win=!1,this.alt=!1,this._bindEvent()}return t.prototype._bindEvent=function(){var t=this;window.addEventListener("keydown",function(e){t._ctrl=e.ctrlKey,t._shift=e.shiftKey,t._alt=e.altKey,t._win=e.metaKey},!1),window.addEventListener("keyup",function(e){t._shift=16!==e.keyCode&&t._shift,t._alt=18!==e.keyCode&&t._alt,t._ctrl=17!==e.keyCode&&t._ctrl,t._win=91!==e.keyCode&&t._win},!1),window.addEventListener("blur",function(e){t._ctrl=!1,t._shift=!1,t._alt=!1,t._win=!1})},o(t,[{key:"isCtrl",get:function(){return this._ctrl}},{key:"isCtrlDown",get:function(){return this._ctrl}},{key:"isShift",get:function(){return this._shift}},{key:"isShiftDown",get:function(){return this._shift}},{key:"isWin",get:function(){return this._win}},{key:"isWinDown",get:function(){return this._win}},{key:"isAlt",get:function(){return this._alt}},{key:"isAltDown",get:function(){return this._alt}}]),t}())},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape;arguments[1];return e+='<li class="fv__replies_item"><span class="fv__replies_content">',e+=r(t.content),e+="</span>\n    ",function(t){e+=t}(n(376)(t.replies)),e+="\n</li>"}},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$each;t.$value,t.$index,arguments[1];return t.length&&(e+='\n<ul class="fv__replies_list">\n    ',r(t,function(t,o){e+="\n    ",function(t){e+=t}(n(375)(t)),e+="\n    "}),e+="\n</ul>\n"),e}},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape;arguments[1];return t.length&&(e+='\n<label class="fv__label-block-text">',e+=r(o.i18n("viewer_:dialog.replies")),e+="</label>\n",function(t){e+=t}(n(376)(t)),e+="\n"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(94)),r=i(n(1));i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"continuous-view-mode"},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this;this.docRender.$container.addClass(e.getName());var n=this.docRender.viewerRender.scrollWrap;this._unwatchScrollEvent=n.addScrollEventListener(function(){clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout(function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then(function(){t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())},function(){})},30)})},e.prototype.getDocLayoutWidth=function(){var t=0;return this.docRender.doc.pageCache.forEach(function(e){t=Math.max(e.getPxWidth(),t)}),t},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getWidth()-e.getScrollOffsetLeft()},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a[t],u=s.offsetLeft+o,c=s.offsetTop+i;this.docRender.viewerRender.scrollWrap.scrollTo(u,c)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop()-t.getScrollOffsetTop(),n=t.getHeight(),o=e+n,r=[],i=0;return this.getItems().each(function(t,n){if(i>o)return!1;var a=n.offsetHeight,s=i-0,u=i+a+8;i=u,s<=o&&u>=e&&r.push(t)}),r},e.prototype.out=function(){this.docRender.$container.removeClass(e.getName()),this._unwatchScrollEvent&&this._unwatchScrollEvent()},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=(e.getScrollLeft(),e.getWidth(),void 0),a=[],s=0;s<t.length;s++){var u=t[s],c=u.offsetTop,l=(0,r.default)(u).height(),f=c+l;c<=n&&f>n&&f<o?a.push({index:s,height:f-n}):c>=n&&f<o?a.push({index:s,height:l}):c<=n&&f>o?i=s:c>=n&&c<o&&f>o&&a.push({index:s,height:o-c})}if(null==i)for(var p=0,d=0;d<a.length;d++)a[d].height>p&&(p=a[d].height,i=a[d].index);return i},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.currentPageIndex;return e<t-1&&e++,e},e.prototype.getPrevPageIndex=function(){var t=this.docRender.currentPageIndex;return t>0&&t--,t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(43));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e}return t.prototype.getPassword=function(){var t=this,e=(0,o.default)();return setTimeout(function(){var n=prompt(t.pdfViewer.i18n.t("viewer_:tip.inputPassword"),"");if(null===n)return e.reject();e.resolve(n)},0),e.promise},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(1022));var r=4294967292,i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.permissions=e}return t.prototype.getValue=function(){return this.permissions},t.prototype.checkPrint=function(){return this.permissions&o.default.print},t.prototype.checkModify=function(){return this.permissions&o.default.modify},t.prototype.checkExtract=function(){return this.permissions&o.default.extract},t.prototype.checkAnnotForm=function(){return this.permissions&o.default.annotForm},t.prototype.checkFillForm=function(){return this.permissions&o.default.fillForm},t.prototype.checkExtractAccess=function(){return this.permissions&o.default.extractAccess},t.prototype.checkAssemble=function(){return this.permissions&o.default.assemble},t.prototype.checkPrintHigh=function(){return this.permissions&o.default.printHigh},t.prototype.checkCannotModifyAny=function(){return 0==(1323&this.permissions)},t.prototype.putCannotModifyAny=function(){return this.and(-1324)},t.prototype.checkCannotModifyExcludeAssemble=function(){return 0==(299&this.permissions)},t.prototype.putCannotModifyExcludeAssemble=function(){return this.and(-300)},t.prototype.and=function(t){return this.permissions=this.permissions&t,this},t.prototype.or=function(t){return this.permissions=this.permissions|t,this},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eCustom=e,this.pdfDocRender=n,this.doc=n.doc}return t.prototype.render=function(t){},t.prototype.destroy=function(){},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(385)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}var a=(0,o.default)(),s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$ui=(0,r.default)(e),this.docRender=n,this.viewerRender=n.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return t.prototype.rendering=function(){this.$ui.html(a)},t.prototype.rendered=function(){this.$ui.empty()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="zIndexContextMenu",r={zIndexDown:{name:"zIndexDown",nameI18nKey:"viewer_:contextmenu.annot.zIndexDown",callback:function(){this.data(o).zIndexDown()},visible:function(){return this.data(o).checkZIndexDown()}},zIndexRecover:{name:"zIndexRecover",nameI18nKey:"viewer_:contextmenu.annot.zIndexRecover",callback:function(){this.data(o).zIndexRecover()},visible:function(){return!this.data(o).checkZIndexDown()}}};e.getZIndexContextMenu=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-container",items:r,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.annotZIndexComponentKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eCustom=e,this.pdfPageRender=n}return t.prototype.render=function(t,e){},t.prototype.destroy=function(){},t}();e.default=o},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__rendering-container">\r\n    <img class="fv__rendering-svg" ',e+='src="'+n(389)+'"',e+=">\r\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(385)),r=(n(30),i(n(1)));function i(t){return t&&t.__esModule?t:{default:t}}var a=(0,o.default)(),s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$ui=(0,r.default)(e),this.pageRender=n,this.docRender=n.docRender,this.viewerRender=this.docRender.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return t.prototype.rendering=function(t){this.$ui.html(a)},t.prototype.rendered=function(){this.$ui.empty()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageMatrix=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=0;switch((arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)%360){case 0:o=0;break;case 90:o=1;break;case 180:o=2;break;case 270:o=3}return[[n,0,0,n,0,0],[0,n,-n,0,n*e,0],[-n,0,0,-1,n*t,n*e],[0,-n,n,0,0,n*t]][o]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=(b(n(1)),b(n(43))),i=n(30),a=b(n(386)),s=b(n(384)),u=(n(387),b(n(1033))),c=(n(33),b(n(1032))),l=b(n(76)),f=b(n(75)),p=b(n(21)),d=b(n(3));n(130);var h=b(n(1030)),g=b(n(1028)),m=b(n(1027)),y=b(n(1024)),v=n(32);function b(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var A=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));u.name="pdfPageRender",u.$ui=n,u.index=o,n.attr("data-index",o),u.pagesRender=i,u.docRender=i.docRender,u.viewerRender=u.docRender.viewerRender,u.$rendering=n.find(".fv__pdf-page-rendering");u.$container=n.find(".fv__pdf-page-container").attr("data-index",o);u.$annotsContainer=n.find(".fv__pdf-page-annots-container"),u.$customsContainer=n.find(".fv__pdf-page-customs-container");var c=u.$handler=n.find(".fv__pdf-page-handler-container");u.$invisible=n.find(".fv__pdf-invisible-page-container"),u.pageHandler=new h.default(c,u),u.doc=r,u.unit="pt",u.pxUnit="px",u.scale=1,u.rotate=0;var l=u.pdfViewer,f=l.customs||{};u.pdfPageRendering=new(f.PDFPageRendering||a.default)(u.$rendering[0],u),u.pageCustomRender=new(f.PageCustomRender||s.default)(n.find(".fv__pdf-custom-page-container")[0],u);l.config;return u.renderFlags=7,u.renderingDeferreds=[],u.followRenderDeferreds=[],u.watermarkConfig=null,u}return w(e,t),e.prototype.updateRenderFlags=function(t){this.renderFlags=this.renderFlags|t},e.prototype.updateRenderFlagsByScaleAndRotate=function(t,e){t!==this.scale||e!==this.rotate?this.updateRenderFlags(7):this.updateRenderFlags(0)},e.prototype.checkRenderLayoutFlags=function(){return 4==(4&this.renderFlags)},e.prototype.resetRenderLayoutFlags=function(){this.renderFlags&=-5},e.prototype.checkRenderContainerFlags=function(){return this.checkRenderContentFlags()||this.checkRenderAnnotFlags()||this.checkRebuildAnnotFlags()},e.prototype.checkRenderContentFlags=function(){return 2==(2&this.renderFlags)},e.prototype.resetRenderContentFlags=function(){this.renderFlags&=-3},e.prototype.checkRenderAnnotFlags=function(){return 1==(1&this.renderFlags)},e.prototype.resetRenderAnnotFlags=function(){this.renderFlags&=-2,this.resetRebuildAnnotFlags()},e.prototype.checkRenderCustomFlags=function(){return 16==(16&this.renderFlags)},e.prototype.resetRenderCustomFlags=function(){this.renderFlags&=-17,this.resetRebuildCustomFlags()},e.prototype.checkRebuildAnnotFlags=function(){return 8==(8&this.renderFlags)},e.prototype.resetRebuildAnnotFlags=function(){this.renderFlags&=-9},e.prototype.checkRebuildCustomFlags=function(){return 32==(32&this.renderFlags)},e.prototype.resetRebuildCustomFlags=function(){this.renderFlags&=-33},e.prototype.setStateHandler=function(t){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===t.getStateName())return;this.stateHandler.destroyPageHandler()}(this.stateHandler=new t(this.pdfViewer)).pageHandler(this)},e.prototype.updateIndex=function(t){this.index!==t&&(this.index=t,this.$ui.attr("data-index",t),this.$container.attr("data-index",t))},e.prototype.getPDFPage=function(){var t=this;return(this.pageCache=this.pageCache||new u.default(function(e){return t.doc.getPageByIndex(e).then(function(e){return t.page=e,e})})).getCache(this.index)},e.prototype.getPDFDoc=function(){return this.doc},e.prototype.getAnnotRender=function(t){try{return this.annotsRender.getAnnotRender(t)}catch(t){return null}},e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=(0,r.default)();return this.isRendering?this.followRenderDeferreds.push({deferred:n,scale:t,rotate:e}):(this.renderingDeferreds.push({deferred:n,scale:t,rotate:e}),this.isRendering=!0,this.queueRender()),n.promise},e.prototype.queueRender=function(){var t=this,e=this.renderingDeferreds.length;if(e){var n=this.renderingDeferreds[e-1],o=n.scale,r=n.rotate;this.updateRenderFlagsByScaleAndRotate(o,r),this._render(o,r).then(function(){for(var e=t.renderingDeferreds,n=0,o=e.length;n<o;n++)e[n].deferred.resolve(t);t.followRenderDeferreds.length?(t.renderingDeferreds=t.followRenderDeferreds,t.followRenderDeferreds=[],t.queueRender()):(t.renderingDeferreds=[],t.isRendering=!1)})}},e.prototype._render=function(t,e){var n=this;return this.rendering(),Promise.resolve(this.pageCustomRender.render(t,e)).then(function(o){if(!1!==o)return(n.checkRenderLayoutFlags()?n.renderLayout(t,e):Promise.resolve()).then(function(){return n.resetRenderLayoutFlags(),n.checkRenderContainerFlags()?n.renderContainer(t,e):Promise.resolve()}).then(function(){return n.scale=t,n.rotate=e,n.rendered(),n.pdfViewer.eventEmitter.emit(d.default.renderPageSuccess,n),n});n.rendered()})},e.prototype.renderLayout=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPDFPage().then(function(r){var a=(0,i.getWHByMatrix)(r.getPxWidth(),r.getPxHeight(),e,n),s=o(a,2),u=s[0],c=s[1];return Promise.all([u,c,t.pagesRender.viewMode.renderViewMode(t,e,n,u,c)])}).then(function(r){var i=o(r,2),a=i[0],s=i[1],u=t.pxUnit;t.$ui.css({width:a+u,height:s+u}),t.pdfViewer.eventEmitter.emit(d.default.pageLayoutRedraw,t,e,n)})},e.prototype.renderContainer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.renderPage(t,e)},e.prototype.getPageTileConfig=function(t,e){var n=this;return this.getPDFPage().then(function(o){var r,i,a=n.getSmartScale(t),s=n.pdfViewer.config.tileSize;return r=o.getPxWidth()*a,i=o.getPxHeight()*a,[Math.ceil(i/s),Math.ceil(r/s),r,i,s,a,t,e]})},e.prototype.renderPage=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(this.checkRenderContentFlags()?this.renderContentImage(e,n):Promise.resolve()).then(function(){return t.resetRenderContentFlags(),t.docRender.checkCannotModifyExcludeAssemble_?Promise.resolve():t.checkRebuildAnnotFlags()?t.rebuildAnnots(e):t.checkRenderAnnotFlags()?t.renderAnnots(e):Promise.resolve()}).then(function(){return t.resetRenderAnnotFlags(),t.checkRebuildCustomFlags()?t.rebuildCustoms(e):t.checkRenderCustomFlags()?t.renderCustoms(e):Promise.resolve()}).then(function(){if(t.resetRenderCustomFlags(),!t.stateHandler){var e=t.pdfViewer;(t.stateHandler=new(e.stateHandlerManager.getCurrentStates())(e)).pageHandler(t)}})},e.prototype.renderContentImage=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(e,n).then(function(e){var n=o(e,8),r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6];n[7];return t.renderContentImageByTileCanvas(r,i,a,s,u,c,l)})},e.prototype.renderContentImageByTileCanvas=function(t,e,n,o,r,i,a){var s=this,u=this.pageContentTiles;if(!u){this.pageContentTiles=u=new f.default(function(t,e,n,o,r,i){return s.getContentImageDataByTile(t,e,n,o,r,i)});var c=u.$container;c.addClass("fv__pdf-page-content-container"),this.$container.append(c)}var l=this.getWatermarkConfig()||this.docRender.getWatermarkConfig();l&&l.content&&l.type&&(this.watermark=new m.default(n,o,r,i,l.watermarkSettings,l.watermarkTextProperties)).exportDataURL({content:l.content,type:l.type}).then(function(t){var e=new Image;e.src=t,u.setUpdateCanvasMore(function(t,n,o,r,i,a){t.drawImage(e,o*a,n*a,r,i,0,0,r,i)})});return u.redraw(t,e,n,o,r,i,a)},e.prototype.renderAnnots=function(t,e){var n=this;if(this.annotsRender)return this.annotsRender.render(t,e);return this.getAnnots().then(function(t){return n.annotsRender=n.annotsRender||new c.default(n.$annotsContainer,t,n)}).then(function(n){return n.render(t,e)})},e.prototype.rebuildAnnots=function(t,e){var n=this;return this.getAnnots().then(function(t){return n.annotsRender&&(n.annotsRender.destroy(),n.annotsRender=null),n.annotsRender=n.annotsRender||new c.default(n.$annotsContainer,t,n)}).then(function(n){return n.render(t,e)})},e.prototype.renderCustoms=function(t,e){var n=this;return this.customsRender?this.customsRender.render(t,e):this.getPDFPage().then(function(t){return n.pdfViewer.customRenderManager.getPageCustomData(t)}).then(function(t){return n.customsRender&&(n.customsRender.destroy(),n.customsRender=null),n.customsRender=n.customsRender||new y.default(n.$customsContainer,t,n)}).then(function(n){return n.render(t,e)})},e.prototype.rebuildCustoms=function(t,e){var n=this;return this.getPDFPage().then(function(t){return n.pdfViewer.customRenderManager.getPageCustomData(t)}).then(function(t){return n.customsRender=n.customsRender||new y.default(n.$customsContainer,t,n)}).then(function(n){return n.render(t,e)})},e.prototype.renderAnnot=function(t,e,n){return new(this.pdfViewer.annotManager.get(t.getType()))(t,this).render(e,n)},e.prototype.rendering=function(){this.$ui.addClass("fv__rendering"),this.pdfPageRendering.rendering()},e.prototype.rendered=function(){var t=this;this.$ui.removeClass("fv__rendering"),this.pdfPageRendering.rendered(),this.openActionTrigged||this.getPDFPage().then(function(e){var n=e.getAction("open");n&&t.pdfViewer.actionManager.get(n,t).active(),t.openActionTrigged=!0})},e.prototype.bindEvent=function(t){var e=this,n=t[0],o=this.pageHammer=new p.default.Manager(n,{recognizers:[[p.default.Pan,{direction:p.default.DIRECTION_ALL}]]});o.add(new p.default.Tap({event:"doubletap",taps:2})),o.add(new p.default.Tap({event:"singletap"})),o.get("doubletap").recognizeWith("singletap"),o.get("singletap").requireFailure("doubletap"),o.on("singletap",function(t){var o=e.pdfViewer.eventEmitter,r=e.annotsRender;if(r){r.unActiveAnnot();var i=t.srcEvent,a=n.getBoundingClientRect(),s=(0,v.getClientX)(i),u=(0,v.getClientY)(i);e.getAnnotIdAtDevicePoint(s-a.left,u-a.top).then(function(e){if(e){var n=r.getAnnotRender(e);n?(o.emit(d.default.tapAnnotation,n,t),r.activeAnnot(e)):o.emit(d.default.tapPage,t)}else o.emit(d.default.tapPage,t)})}else o.emit(d.default.tapPage,t)}),o.on("doubletap",function(t){var o=e.pdfViewer.eventEmitter,r=e.annotsRender;if(r){r.unActiveAnnot();var i=t.srcEvent,a=n.getBoundingClientRect(),s=(0,v.getClientX)(i),u=(0,v.getClientY)(i);e.getAnnotIdAtDevicePoint(s-a.left,u-a.top).then(function(n){if(n){var i=r.getAnnotRender(n);i?(o.emit(d.default.doubleTapAnnotation,i,t),r.doubleTapAnnot(n)):o.emit(d.default.doubleTapPage,t,e)}else o.emit(d.default.doubleTapPage,t,e)})}else o.emit(d.default.doubleTapPage,t,e)}),o.on("press",function(t){var o=e.pdfViewer.eventEmitter,r=e.annotsRender;if(r){r.unActiveAnnot();var i=t.srcEvent,a=n.getBoundingClientRect(),s=(0,v.getClientX)(i),u=(0,v.getClientY)(i);e.getAnnotIdAtDevicePoint(s-a.left,u-a.top).then(function(e){if(e){var n=r.getAnnotRender(e);n?(o.emit(d.default.pressAnnotation,n,t),r.showContextMenu(e)):o.emit(d.default.pressPage,t)}else o.emit(d.default.pressPage,t)})}else o.emit(d.default.pressPage,t)}),n.oncontextmenu=function(t){t.preventDefault()},t.on("mouseup",function(t){if(3===t.which){var o=e.pdfViewer.eventEmitter,r=e.annotsRender;if(r){r.unActiveAnnot();var i=t,a=n.getBoundingClientRect();e.getAnnotIdAtDevicePoint(i.clientX-a.left,i.clientY-a.top).then(function(e){if(e){var n=r.getAnnotRender(e);n?(o.emit(d.default.rightClickAnnotation,n,t),r.showContextMenu(e)):o.emit(d.default.rightClickPage,t)}else o.emit(d.default.rightClickPage,t)})}else o.emit(d.default.rightClickPage,t)}})},e.prototype.destroy=function(){this.stateHandler&&this.stateHandler.out(),this.contentImageDataCache&&this.contentImageDataCache.destroy(),this.annotsRender&&this.annotsRender.destroy(),this.pageHammer&&this.pageHammer.destroy(),this.pageHandler.destroy(),this.$ui.empty()},e.prototype.getSmartScale=function(t){return this.pdfViewer.getSmartScale(t)},e.prototype.getScale=function(){return this.scale},e.prototype.getContentImageDataByTile=function(t,e,n,o,r,a){var s=this;return this.getPDFPage().then(function(u){return s.docRender.checkCannotModifyExcludeAssemble_?u.getPageBitmap((0,i.pt2px)(a),0,{x:e*r,y:t*r,width:n,height:o},["page","annot"]):u.getPageAndHighlightBitmap((0,i.pt2px)(a),0,{x:e*r,y:t*r,width:n,height:o})})},e.prototype.getAnnots=function(){return this.getPDFPage().then(function(t){return t.getAnnots()})},e.prototype.getAnnotIdAtDevicePoint=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;if(this.annotsRender)return this.getPDFPage().then(function(r){var i=n.scale,a=r.getDeviceMatrix();return a.scale(i,i),r.getAnnotIdAtDevicePoint([t,e],o,[a.a,a.b,a.c,a.d,a.e,a.f])})},e.prototype.getTextDeviceRectsAtDeviceRect=function(t){var e=this;return Promise.all([this.getPDFPage(),this.getTextRectsAtDeviceRect(t)]).then(function(t){var n=o(t,2),r=n[0],i=n[1];return e.transformRectArray(r,i)})},e.prototype.getTextDeviceContinueRectAtDeviceRect=function(t){var e=this;return Promise.all([this.getPDFPage(),this.getTextContinueRectAtDeviceRect(t)]).then(function(t){var n=o(t,2),r=n[0],i=n[1];return e.transformRectArray(r,i)})},e.prototype.getTextRectsAtDeviceRect=function(t){var e=this,n=void 0;return this.getPDFPage().then(function(o){return(n=o).reverseDeviceRect(t,e.scale)}).then(function(t){return n.getTextRectsAtRect(t)})},e.prototype.getTextContinueRectAtDeviceRect=function(t){var e=this,n=void 0;return this.getPDFPage().then(function(o){return(n=o).reverseDeviceRect(t,e.scale)}).then(function(t){return n.getTextContinuousRectsAtRect(t)})},e.prototype.getTextContinuousCharAtDeviceRect=function(t){var e=this,n=void 0;return this.getPDFPage().then(function(o){return(n=o).reverseDeviceRect(t,e.scale)}).then(function(t){return n.getTextContinuousCharsAtRect(t)})},e.prototype.reverseDeviceRect=function(t){var e=this;return this.getPDFPage().then(function(n){return n.reverseDeviceRect(t,e.scale)})},e.prototype.reverseDevicePoint=function(t){var e=o(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this.getPDFPage().then(function(t){return t.reverseDevicePoint([n,r],i)})},e.prototype.transformRectArray=function(t,e){for(var n=[],o=this.scale,r=e.length;r--;){var i=e[r];n[r]=t.getDeviceRect(i,o)}return n},e.prototype.getClientPoint=function(t,e){var n=this.$ui[0].getBoundingClientRect();return[t-n.left,e-n.top]},e.prototype.redraw=function(t){return t&&this.updateRenderFlags(7),this.render()},e.prototype.redrawContent=function(t){var e=this;return(t&&e.contentImageDataCache?e.contentImageDataCache.clear():Promise.resolve()).then(function(){return e.renderContentImage(e.scale,e.rotate)})},e.prototype.getDevicePointFromEvent=function(t){var e=this.$ui.offset();return[t.pageX-e.left,t.pageY-e.top]},e.prototype.removeAnnotRenders=function(t){return this.annotsRender&&this.annotsRender.removeAnnotRenders(t)},e.prototype.redrawAnnotRenders=function(t){for(var e=[],n=[],o=0,r=t.length;o<r;o++){var i=t[o];"highlight"===i.getType()?e.push(i):n.push(i)}return e.length&&this.renderContentImage(),this.annotsRender.redrawAnnotRenders(n)},e.prototype.movedAnnotRenders=function(t){return this.annotsRender.movedAnnotRenders(t)},e.prototype.addAnnotRenders=function(t){for(var e=[],n=0,o=t.length;n<o;n++){var r=t[n];"highlight"===r.getType()&&e.push(r)}return e.length&&this.renderContentImage(),this.annotsRender.addAnnotRenders(t)},e.prototype.getPageAreaRenderer=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new g.default(this,t,e,n,o)},e.prototype.getSnapshot=function(t,e,n,o){var i=this.getPageAreaRenderer(n,o,1,!0);return i.setPosition(t+n/2,e+o/2),i.update().then(function(t){var e=(0,r.default)();return t.toBlob(function(t){return e.resolve(t)},"image/png"),e.promise})},e.prototype.unActiveAnnotRender=function(){try{this.annotsRender.unActiveAnnot()}catch(t){}},e.prototype.activeGraphicsObject=function(t){},e.prototype.addCustomRenders=function(t){this.customsRender.addCustomRenders(t)},e.prototype.removeCustomRenders=function(t){this.customsRender.removeCustomRenders(t)},e.prototype.updateCustomRenders=function(t){this.customsRender.updateCustomRenders(t)},e.prototype.setWatermarkConfig=function(t){this.watermarkConfig=t},e.prototype.getWatermarkConfig=function(){return this.watermarkConfig},e}(l.default);e.default=A},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjZGRkIj4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPiAKICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiICAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjIiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAgLz4KICA8L3BhdGg+CiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQpIiBkPSJNMCAxMiBWMjAgSDQgVjEyeiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIgZHVyPSIxLjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuNCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiIC8+CiAgPC9wYXRoPgogIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjYiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNikiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC44IiBrZXl0aW1lcz0iMDsuMjsuNTsxIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIgY2FsY01vZGU9InNwbGluZSIgLz4KICA8L3BhdGg+Cjwvc3ZnPgo="},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1038)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$ui=(0,r.default)(e),this.pdfViewerRender=n,this.pdfViewer=n.pdfViewer}return t.prototype.rendering=function(){this.$ui.html(o.default)},t.prototype.rendered=function(){this.$ui.empty()},t}();e.default=a},function(t,e,n){var o={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,u=[],c=n(1043);function l(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(m(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function p(t,e){var n=i(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=i(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function h(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(e,t.attrs),p(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var u=s++;n=a||(a=h(e)),o=v.bind(null,n,u,!1),r=v.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=c(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){d(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return l(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&l(f(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function v(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(i).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=P(n(85)),a=P(n(219)),s=n(5);n(1673);var u=P(n(327)),c=P(n(7));n(812),n(809),n(740);P(n(6));n(708);var l=P(n(109)),f=(P(n(177)),P(n(188))),p=n(13);P(n(106)),P(n(178)),P(n(255)),P(n(254)),P(n(253));n(252);var d=P(n(43)),h=(P(n(105)),P(n(467))),g=P(n(466)),m=P(n(175)),y=P(n(176)),v=P(n(135)),b=P(n(201)),w=P(n(174)),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(250)),_=P(n(9));function P(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var E=u.default.getProxyClass(a.default,function(t,e,n){return t.pdfViewerPromise.then(function(t){return e.call.apply(e,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n)))})},null),x=[.5,.75,1,1.25,1.5,2,4,6,10],C=new h.default(g.default),S=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),r=(n=(0,b.default)({i18n:{},keymap:{},customs:(0,b.default)(!1,{defaultStateHandler:p.STATE_HANDLER_HAND,defaultExportCommentsFormat:"fdf",scalingValues:x},n.customs),viewerOptions:{},appearance:w.default,addons:[],fragments:[]},n)).viewerOptions;return o.eventEmitter=r.eventEmitter||new i.default,r.eventEmitter=r.eventEmitter||o.eventEmitter,C.construct(o,n),o.initializePromise=C.linkAll(),o.pdfViewerPromise=C.link(m.default),o.uiRootPromise=C.link(y.default),o.addonsPromise=C.link(v.default),o}return O(e,t),e.module=function(t,e){return c.default.module(t,e)},e.root=function(){return c.default.module(s.ROOT_MODULE_NAME)},e.prototype.changeLanguage=function(t){var e=this,n=this.currentLanguage;return this.currentLanguage=t,this.getPDFViewer().then(function(n){return n.changeLanguage(t).then(function(n){return e._changeI18nLanguage(t)}).then(function(t){return e.getRootComponent()}).then(function(t){var e=Date.now();return t.localize().then(function(){console.info("root component localize time: ",Date.now()-e)})})}).catch(function(t){return e.changeLanguage=n,Promise.reject(t)})},e.prototype.refreshTranslations=function(){return this.changeLanguage(this.currentLanguage)},e.prototype.addI18NResources=function(t,e,n){return this.i18n.addResourceBundle(t,e,n,!0,!0),this.refreshTranslations()},e.prototype.addKeymap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PDFUI_BINDER;return this.getPDFViewer().then(function(t){return t.keyboard}).then(function(o){o.setCommandBinder(t,n),o.registerKeybinding(t,e)})},e.prototype.addKeyboardShortcutEventListener=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PDFUI_BINDER,o=this.getKeyboardEventBinder(n).then(function(n){return n.on(t,e)});return function(){o.then(function(t){return t()})}},e.prototype._changeI18nLanguage=function(t){var e=this;return new Promise(function(n,o){e.i18n.changeLanguage(t,function(r){r?o(r):(e.getRootComponent().then(function(n){var o=e.i18n.store.toJSON(),r=Object.keys(o),i=n.element.classList;r.forEach(function(t){return i.remove("fv__ui-lang-"+t)}),i.add("fv__ui-lang-"+t)}),n())})})},e.prototype.parseTemplate=function(t,e){e&&"object"===(void 0===e?"undefined":r(e))||(e=[]),Array.isArray(e)||(e=[e]);var n=new f.default(this.localizer,this,this.templateParser).parse(t,e);if(n.getComponentByName(s.WEBPDF_VIEWER_COMPONENT_NAME))throw new Error("<viewer> component is not allowed for this API.");return n},e.prototype.alert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common-dialogs.alert-message",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.alert-title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";return A.alert(this,t,e,n)},e.prototype.prompt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.prompt-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body";return A.prompt(this,t,e,n,o)},e.prototype.loading=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return this.getRootComponent().then(function(){return A.loading(t,e)})},e.prototype.getPDFViewer=function(){return this.pdfViewerPromise},e.prototype.rerender=function(){return this.uiRootPromise.then(function(t){return t.rerender()})},e.prototype.addUIEventListener=function(t,e){var n=this;return this.eventEmitter.on(t,e),function(){n.removeUIEventListener(t,e)}},e.prototype.removeUIEventListener=function(t,e){this.eventEmitter.off(t,e)},e.prototype.addViewerEventListener=function(t,e){var n=this;return this.getPDFViewer().then(function(n){n.eventEmitter.on(t,e)}),function(){n.getPDFViewer().then(function(n){n.eventEmitter.off(t,e)})}},e.prototype.removeViewerEventListener=function(t,e){return this.getPDFViewer().then(function(n){n.eventEmitter.off(t,e)})},e.prototype.getRootComponent=function(){return this.uiRootPromise},e.prototype.getComponentByName=function(t){return this.uiRootPromise.then(function(e){return e.getComponentByName(t)})},e.prototype.getAllComponentsByName=function(t){return this.uiRootPromise.then(function(e){return e.getAllComponentsByName(t)})},e.prototype.destroy=function(){var t=this;return Promise.all([this.getPDFViewer()].concat(this.addonsPromise)).then(function(e){var n=o(e,2),r=n[0],i=n[1];return Promise.all(i.map(function(t){return Promise.resolve(t.destroy())})).then(function(e){return r.keyboard.destroy(),r.destroy().then(function(e){return t.uiRootPromise.then(function(t){return t.destroy()})}).then(function(){t.eventEmitter.emit(_.default.applicationDestroyed)})})})},e.prototype.updateToolbarStamps=function(){var t=this;this.getComponentByName("create-stamp-dropdown").then(function(e){if(e){var n=e.$options.callback;t.getComponentByName("create-custom-stamps").then(function(e){e.empty();var o=(0,l.default)("listbox"),r=t.parseTemplate('<listbox name="'+o+'"></listbox>',[{target:o,config:{subList:!0,callback:n,listdata:t.customStamps}}]);r.localize(),e.append(r),r.mounted()})}})},e.prototype.addCustomStamp=function(t,e,n,o,r,i){return t in this.customStamps||(this.customStamps[t]={}),this.customStamps[t][e]={type:n,url:o,width:r,height:i},this.updateToolbarStamps(),this.addIcon({annotType:"stamp",catagory:t,name:e,fileType:n,url:o})},e.prototype.deleteCustomStamp=function(t,e){return 1==Object.keys(this.customStamps[t]).length&&(e=""),e&&0!=e.length?delete this.customStamps[t][e]:delete this.customStamps[t],this.updateToolbarStamps(),this.removeIcon("Stamp",t,e)},e.prototype.openPDFByFile=function(e,n){var o=this;return t.prototype.openPDFByFile.call(this,e,n).catch(function(t){return 3===t.error?o.retryPassword_(t.pdfDoc,n):Promise.reject(t)})},e.prototype.retryPassword_=function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,d.default)();return this.localizer.translate("retry.inputPassword").then(function(i){var a=prompt(i,"");if(null===a)return r.reject({error:-2,pdfDoc:e});o.password=a,t.prototype.reopenPDFDoc.call(n,e,o).then(function(){r.resolve(e)},function(t){if(3!==t.error)return r.reject(t);n.retryPassword_(t.pdfDoc,o).then(function(t){r.resolve(t)},function(t){r.reject(t)})})}),r.promise},e.prototype.openPDFByHttpRangeRequest=function(e,n){var o=this;return t.prototype.openPDFByHttpRangeRequest.call(this,e,n).catch(function(t){return 3===t.error?o.retryPassword_(t.pdfDoc,n):Promise.reject(t)})},e}(E);e.default=S,C.load(S)},function(t,e){t.exports=Math.scale||function(t,e,n,o,r){return 0===arguments.length||t!=t||e!=e||n!=n||o!=o||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-o)/(n-e)+o}},function(t,e,n){var o=n(96);t.exports=function(t,e){var n=[];return o(t,!1,n.push,n,e),n}},function(t,e,n){var o=n(132),r=n(395);t.exports=function(t){return function(){if(o(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var o=n(102),r=n(52),i=n(133).f;t.exports=function(t){return function(e){for(var n,a=r(e),s=o(a),u=s.length,c=0,l=[];u>c;)i.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var o=n(26),r=n(237),i=n(69);t.exports=function(t,e,n,a){var s=String(i(t)),u=s.length,c=void 0===n?" ":String(n),l=o(e);if(l<=u||""==c)return s;var f=l-u,p=r.call(c,Math.ceil(f/c.length));return p.length>f&&(p=p.slice(0,f)),a?p+s:s+p}},function(t,e,n){"use strict";var o=n(167),r=n(17),i=n(26),a=n(58),s=n(24)("isConcatSpreadable");t.exports=function t(e,n,u,c,l,f,p,d){for(var h,g,m=l,y=0,v=!!p&&a(p,d,3);y<c;){if(y in u){if(h=v?v(u[y],y,n):u[y],g=!1,r(h)&&(g=void 0!==(g=h[s])?!!g:o(h)),g&&f>0)m=t(e,n,h,i(h.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=h}m++}y++}return m}},function(t,e,n){var o=n(99),r=n(168),i=n(11),a=n(12).Reflect;t.exports=a&&a.ownKeys||function(t){var e=o.f(i(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var o=n(68),r=n(26);t.exports=function(t){if(void 0===t)return 0;var e=o(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";var o=n(95),r=n(88).getWeak,i=n(11),a=n(17),s=n(97),u=n(96),c=n(66),l=n(53),f=n(113),p=c(5),d=c(6),h=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},y=function(t,e){return p(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var c=t(function(t,o){s(t,c,e,"_i"),t._t=e,t._i=h++,t._l=void 0,void 0!=o&&u(o,n,t[i],t)});return o(c.prototype,{delete:function(t){if(!a(t))return!1;var n=r(t);return!0===n?g(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=r(t);return!0===n?g(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var o=r(i(e),!0);return!0===o?g(t).set(e,n):o[t._i]=n,t},ufstore:g}},function(t,e,n){"use strict";var o,r=n(66)(0),i=n(45),a=n(88),s=n(422),u=n(402),c=n(17),l=n(15),f=n(113),p=a.getWeak,d=Object.isExtensible,h=u.ufstore,g={},m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(c(t)){var e=p(t);return!0===e?h(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(f(this,"WeakMap"),t,e)}},v=t.exports=n(160)("WeakMap",m,y,u,!0,!0);l(function(){return 7!=(new v).set((Object.freeze||Object)(g),7).get(g)})&&(s((o=u.getConstructor(m,"WeakMap")).prototype,y),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=v.prototype,n=e[t];i(e,t,function(e,r){if(c(e)&&!d(e)){this._f||(this._f=new o);var i=this._f[t](e,r);return"set"==t?this:i}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var o=n(405),r=n(113);t.exports=n(160)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(r(this,"Set"),t=0===t?0:t,t)}},o)},function(t,e,n){"use strict";var o=n(27).f,r=n(100),i=n(95),a=n(58),s=n(97),u=n(96),c=n(233),l=n(410),f=n(98),p=n(28),d=n(88).fastKey,h=n(113),g=p?"_s":"size",m=function(t,e){var n,o=d(e);if("F"!==o)return t._i[o];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,o){s(t,l,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=o&&u(o,n,t[c],t)});return i(l.prototype,{clear:function(){for(var t=h(this,e),n=t._i,o=t._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=h(this,e),o=m(n,t);if(o){var r=o.n,i=o.p;delete n._i[o.i],o.r=!0,i&&(i.n=r),r&&(r.p=i),n._f==o&&(n._f=r),n._l==o&&(n._l=i),n[g]--}return!!o},forEach:function(t){h(this,e);for(var n,o=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(h(this,e),t)}}),p&&o(l.prototype,"size",{get:function(){return h(this,e)[g]}}),l},def:function(t,e,n){var o,r,i=m(t,e);return i?i.v=n:(t._l=i={i:r=d(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=i),o&&(o.n=i),t[g]++,"F"!==r&&(t._i[r]=i)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=h(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var o=n(405),r=n(113);t.exports=n(160)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=o.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return o.def(r(this,"Map"),0===t?0:t,e)}},o,!0)},function(t,e,n){var o=n(11),r=n(17),i=n(221);t.exports=function(t,e){if(o(t),r(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){n(28)&&"g"!=/./g.flags&&n(27).f(RegExp.prototype,"flags",{configurable:!0,get:n(164)})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var o=n(31),r=n(101),i=n(26);t.exports=[].copyWithin||function(t,e){var n=o(this),a=i(n.length),s=r(t,a),u=r(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:r(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e,n){var o=n(39),r=n(31),i=n(134),a=n(26);t.exports=function(t,e,n,s,u){o(e);var c=r(t),l=i(c),f=a(c.length),p=u?f-1:0,d=u?-1:1;if(n<2)for(;;){if(p in l){s=l[p],p+=d;break}if(p+=d,u?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;u?p>=0:f>p;p+=d)p in l&&(s=e(s,l[p],p,c));return s}},function(t,e,n){var o=n(11);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var o=n(236),r=Math.pow,i=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),u=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),c=o(t);return r<u?c*function(t){return t+1/i-1/i}(r/u/a)*u*a:(n=(e=(1+a/i)*r)-(e-r))>s||n!=n?c*(1/0):c*n}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var o=n(17),r=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var o=n(57);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=o(t))throw TypeError(e);return+t}},function(t,e,n){var o=n(12).parseFloat,r=n(115).trim;t.exports=1/o(n(239)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=o(e);return 0===n&&"-"==e.charAt(0)?-0:n}:o},function(t,e,n){var o=n(12).parseInt,r=n(115).trim,i=n(239),a=/^[-+]?0[xX]/;t.exports=8!==o(i+"08")||22!==o(i+"0x16")?function(t,e){var n=r(String(t),3);return o(n,e>>>0||(a.test(n)?16:10))}:o},function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var o=n(39),r=n(17),i=n(420),a=[].slice,s={};t.exports=Function.bind||function(t){var e=o(this),n=a.call(arguments,1),u=function(){var o=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";s[e]=Function("F,a","return new F("+o.join(",")+")")}return s[e](t,n)}(e,o.length,o):i(e,o,t)};return r(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e,n){"use strict";var o=n(102),r=n(168),i=n(133),a=n(31),s=n(134),u=Object.assign;t.exports=!u||n(15)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=r.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?o(d).concat(l(d)):o(d),g=h.length,m=0;g>m;)f.call(d,p=h[m++])&&(n[p]=d[p]);return n}:u},function(t,e,n){var o=n(52),r=n(99).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(o(t))}},function(t,e,n){var o=n(27),r=n(11),i=n(102);t.exports=n(28)?Object.defineProperties:function(t,e){r(t);for(var n,a=i(e),s=a.length,u=0;s>u;)o.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var o=n(53),r=n(52),i=n(169)(!1),a=n(243)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&o(s,n)&&c.push(n);for(;e.length>u;)o(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){e.f=n(24)},function(t,e,n){t.exports=!n(28)&&!n(15)(function(){return 7!=Object.defineProperty(n(245)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";(function(t){if(n(1248),n(1051),n(1050),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function o(t,n,o){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:o})}o(String.prototype,"padLeft","".padStart),o(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&o(Array,t,Function.call.bind([][t]))})}).call(this,n(60))},function(t,e,n){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};n(428),n(1047),n(1046),function(t){var e=Element.prototype,n="after";e[n]||(e[n]=function(){var t,e=arguments,n=e.length,o=0,r=this,i=r.parentNode,a=Node,s=String,u=document;if(null!==i)for(;o<n;)(t=e[o])instanceof a?null!==(r=r.nextSibling)?i.insertBefore(t,r):i.appendChild(t):i.appendChild(u.createTextNode(s(t))),++o})}(),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("before")||Object.defineProperty(t,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))}),this.parentNode.insertBefore(e,this)}})}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(t){t.hasOwnProperty("prepend")||Object.defineProperty(t,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))}),this.insertBefore(e,this.firstChild)}})}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(){if(!Object.setPrototypeOf){var t=Object.prototype,e=!(o({},null)instanceof Object);Object.setPrototypeOf=e?(Object.getPrototypeOf||(Object.getPrototypeOf=function(t){if(void 0==t)throw TypeError("Cannot convert undefined or null to object");return(t=Object(t)).__proto__}),function(t,e){return function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e),t}):function(){var e=Object.getOwnPropertyNames,n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,r=Object.prototype.hasOwnProperty,i=function(t,e){return r.call(t,e)},a=Object.getPrototypeOf;return Object.getPrototypeOf=function(e){if(void 0==e)throw TypeError("Cannot convert undefined or null to object");return e=Object(e),i(e,"__proto__")?e.__proto__:a?a(e):"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?t:null},function(t,r){return Object.defineProperty(t,"__proto__",{value:r,enumerable:!1,writable:!0,configurable:!0}),function(t,r){return e(r).forEach(function(e){if(!i(t,e)){var a=n(r,e);a.configurable=!0,o(t,e,a)}}),t}(t,r)}}()}}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var o=this.toDataURL(e,n).split(",")[1];setTimeout(function(){for(var n=atob(o),r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);t(new Blob([i],{type:e||"image/png"}))})}})},function(t,e,n){var o=n(1044);(t.exports=n(392)(!1)).push([t.i,'@charset "UTF-8";\n/*!\n * jQuery contextMenu - Plugin for simple contextMenu handling\n *\n * Version: v2.7.0\n *\n * Authors: BjÃ¶rn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)\n * Web: http://swisnl.github.io/jQuery-contextMenu/\n *\n * Copyright (c) 2011-2018 SWIS BV and contributors\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n * Date: 2018-10-02T14:29:27.829Z\n */\n@-webkit-keyframes cm-spin {\n  0% {\n    -webkit-transform: translateY(-50%) rotate(0deg);\n            transform: translateY(-50%) rotate(0deg);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) rotate(359deg);\n            transform: translateY(-50%) rotate(359deg);\n  }\n}\n@-o-keyframes cm-spin {\n  0% {\n    -webkit-transform: translateY(-50%) rotate(0deg);\n         -o-transform: translateY(-50%) rotate(0deg);\n            transform: translateY(-50%) rotate(0deg);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) rotate(359deg);\n         -o-transform: translateY(-50%) rotate(359deg);\n            transform: translateY(-50%) rotate(359deg);\n  }\n}\n@keyframes cm-spin {\n  0% {\n    -webkit-transform: translateY(-50%) rotate(0deg);\n         -o-transform: translateY(-50%) rotate(0deg);\n            transform: translateY(-50%) rotate(0deg);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) rotate(359deg);\n         -o-transform: translateY(-50%) rotate(359deg);\n            transform: translateY(-50%) rotate(359deg);\n  }\n}\n\n@font-face {\n  font-family: "context-menu-icons";\n  font-style: normal; \n  font-weight: normal;\n\n  src: url('+o(n(328))+");\n  src: url("+o(n(328))+'#iefix) format("embedded-opentype"), url('+o(n(833))+') format("woff2"), url('+o(n(832))+') format("woff"), url('+o(n(831))+') format("truetype");\n}\n\n.context-menu-icon-add:before {\n  content: "\\EA01";\n}\n\n.context-menu-icon-copy:before {\n  content: "\\EA02";\n}\n\n.context-menu-icon-cut:before {\n  content: "\\EA03";\n}\n\n.context-menu-icon-delete:before {\n  content: "\\EA04";\n}\n\n.context-menu-icon-edit:before {\n  content: "\\EA05";\n}\n\n.context-menu-icon-loading:before {\n  content: "\\EA06";\n}\n\n.context-menu-icon-paste:before {\n  content: "\\EA07";\n}\n\n.context-menu-icon-quit:before {\n  content: "\\EA08";\n}\n\n.context-menu-icon::before {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 2em; \n  font-family: "context-menu-icons";\n  font-size: 1em;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1;\n  color: #2980b9;\n  text-align: center;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n       -o-transform: translateY(-50%);\n          transform: translateY(-50%);\n\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.context-menu-icon.context-menu-hover:before {\n  color: #fff;\n}\n\n.context-menu-icon.context-menu-disabled::before {\n  color: #bbb;\n}\n\n.context-menu-icon.context-menu-icon-loading:before {\n  -webkit-animation: cm-spin 2s infinite;\n       -o-animation: cm-spin 2s infinite;\n          animation: cm-spin 2s infinite;\n}\n\n.context-menu-icon.context-menu-icon--fa {\n  display: list-item;\n  font-family: inherit;\n  line-height: inherit;\n}\n.context-menu-icon.context-menu-icon--fa::before {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 2em; \n  font-family: FontAwesome;\n  font-size: 1em;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1;\n  color: #2980b9;\n  text-align: center;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n       -o-transform: translateY(-50%);\n          transform: translateY(-50%);\n\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.context-menu-icon.context-menu-icon--fa.context-menu-hover:before {\n  color: #fff;\n}\n.context-menu-icon.context-menu-icon--fa.context-menu-disabled::before {\n  color: #bbb;\n}\n\n.context-menu-icon.context-menu-icon--fa5 {\n  display: list-item;\n  font-family: inherit;\n  line-height: inherit;\n}\n.context-menu-icon.context-menu-icon--fa5 i, .context-menu-icon.context-menu-icon--fa5 svg {\n  position: absolute;\n  top: .3em; \n  left: .5em;\n  color: #2980b9;\n}\n.context-menu-icon.context-menu-icon--fa5.context-menu-hover > i, .context-menu-icon.context-menu-icon--fa5.context-menu-hover > svg {\n  color: #fff;\n}\n.context-menu-icon.context-menu-icon--fa5.context-menu-disabled i, .context-menu-icon.context-menu-icon--fa5.context-menu-disabled svg {\n  color: #bbb;\n}\n\n.context-menu-list {\n  position: absolute; \n  display: inline-block;\n  min-width: 13em;\n  max-width: 26em;\n  padding: .25em 0;\n  margin: .3em;\n  font-family: inherit;\n  font-size: inherit;\n  list-style-type: none;\n  background: #fff;\n  border: 1px solid #bebebe;\n  border-radius: .2em;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\n}\n\n.context-menu-item {\n  position: relative;\n  -webkit-box-sizing: content-box;\n     -moz-box-sizing: content-box;\n          box-sizing: content-box;\n  padding: .2em 2em;\n  color: #2f2f2f;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none; \n  background-color: #fff;\n}\n\n.context-menu-separator {\n  padding: 0; \n  margin: .35em 0;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.context-menu-item > label > input,\n.context-menu-item > label > textarea {\n  -webkit-user-select: text;\n     -moz-user-select: text;\n      -ms-user-select: text;\n          user-select: text;\n}\n\n.context-menu-item.context-menu-hover {\n  color: #fff;\n  cursor: pointer; \n  background-color: #2980b9;\n}\n\n.context-menu-item.context-menu-disabled {\n  color: #bbb;\n  cursor: default; \n  background-color: #fff;\n}\n\n.context-menu-input.context-menu-hover {\n  color: #2f2f2f; \n  cursor: default;\n}\n\n.context-menu-submenu:after {\n  position: absolute;\n  top: 50%;\n  right: .5em;\n  z-index: 1; \n  width: 0;\n  height: 0;\n  content: \'\';\n  border-color: transparent transparent transparent #2f2f2f;\n  border-style: solid;\n  border-width: .25em 0 .25em .25em;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n       -o-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n\n/**\n * Inputs\n */\n.context-menu-item.context-menu-input {\n  padding: .3em .6em;\n}\n\n/* vertically align inside labels */\n.context-menu-input > label > * {\n  vertical-align: top;\n}\n\n/* position checkboxes and radios as icons */\n.context-menu-input > label > input[type="checkbox"],\n.context-menu-input > label > input[type="radio"] {\n  position: relative;\n  top: .12em; \n  margin-right: .4em;\n}\n\n.context-menu-input > label {\n  margin: 0;\n}\n\n.context-menu-input > label,\n.context-menu-input > label > input[type="text"],\n.context-menu-input > label > textarea,\n.context-menu-input > label > select {\n  display: block;\n  width: 100%; \n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.context-menu-input > label > textarea {\n  height: 7em;\n}\n\n.context-menu-item > .context-menu-list {\n  top: .3em; \n  /* re-positioned by js */\n  right: -.3em;\n  display: none;\n}\n\n.context-menu-item.context-menu-visible > .context-menu-list {\n  display: block;\n}\n\n.context-menu-accesskey {\n  text-decoration: underline;\n}\n',""])},function(t,e,n){var o=n(430);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(391)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(43));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.transformImageToBase64FromURL=function(e){return t.getDataUrlFromImageUrlSrc(e).then(i)},t.transformImageToBase64FromBlob=function(e){if(e){var n=URL.createObjectURL(e);return t.getDataUrlFromImageUrlSrc(n).then(i).finally(function(t){URL.revokeObjectURL(n)})}},t.getDataUrlFromImageUrlSrc=function(t){var e=new Image,n=(0,o.default)();return e.onload=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),n.resolve(t.toDataURL())},e.onerror=function(e){var o=new Error("Failed to load image from "+t);o.originEvent=e,n.reject(o)},e.oncancel=function(e){var o=new Error("Load image from "+t+" has been cancelled");o.originEvent=e,n.reject(o)},e.crossOrigin="anonymous",e.src=t,n.promise},t}();function i(t){var e=t.indexOf("base64,");return t.slice(e+"base64,".length)}e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fontFamily="Microsoft YaHei",this.fontSize=50,this.content=e}return t.prototype.setFontFamily=function(t){this.fontFamily=t},t.prototype.getFontFamily=function(){return this.fontFamily},t.prototype.setFontSize=function(t){this.fontSize=t},t.prototype.getFontSize=function(){return this.fontSize},t.prototype.setContent=function(t){this.content=t},t.prototype.generateImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:114,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:57;if(!this.content)return null;var n=document.createElement("canvas");n.width=t,n.height=e;var o=n.getContext("2d");return o.font=this.fontSize+"px "+this.fontFamily,o.strokeStyle="#000000",o.textAlign="center",o.textBaseline="middle",o.fillText(this.content,n.width/2,n.height/2),o.stroke(),n.toDataURL("image/png",1)},t.prototype.importFontFamily=function(t,e){var n=document.createElement("style"),o=document.createElement("div");n.innerHTML="@font-face{font-family:"+t+";src:url("+e+")}",o.style.fontFamily=t,document.body.appendChild(n),document.body.appendChild(o),setTimeout(function(){document.body.removeChild(o)},100)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(433);Object.defineProperty(e,"TypingInkSignImageGenerator",{enumerable:!0,get:function(){return i(o).default}});var r=n(432);function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InkSignImageDataTool",{enumerable:!0,get:function(){return i(r).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(14);Object.defineProperty(e,"StatefulController",{enumerable:!0,get:function(){return function(t){return t&&t.__esModule?t:{default:t}}(o).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.currentPageNumber=1,o.currentPageCount=0,o}return a(e,t),e.getName=function(){return"PageNavigationController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,function(t){e.currentPageNumber=t,e.digest()}),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,function(t){e.component.disable()}),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,function(t){e.component.enable(),e.currentPageCount=t.getPageCount(),e.currentPageNumber=1,e.digest()})),this.getPDFUI().getPDFViewer().then(function(t){var n=t.getPDFViewerRender(),o=n.scrollWrap;e.addDestroyHook(o.addScrollEventListener(function(){var t=o.getScrollHost(),n=o.getScrollTop(),r=t.scrollHeight,i=o.getHeight(),a=void 0;a=r<=i?0:n/(r-i),e.component.setPositionRatio(a)})),e.component.on("move",function(t){var e=n.scrollWrap,o=t*(e.getScrollHost().scrollHeight-e.getHeight());e.scrollTo(e.getScrollLeft(),o)})})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(3)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.currentPageCount=0,o.currentPageNumber=1,o}return s(e,t),e.getName=function(){return"PageNavigationLayerController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,function(t){e.currentPageCount=t.getPageCount(),e.digest()}),this.component.on(i.COMPONENT_EVENTS.SHOWN,function(){e._updatePageNumber()}))},e.prototype._updatePageNumber=function(){var t=this;return this.getPDFUI().getPDFDocRender().then(function(e){if(e){var n=e.getCurrentPageIndex();t.currentPageNumber=n+1,t.digest()}})},e.prototype.confirm=function(){var t=this,e=this.getPDFUI().goToPage(this.component.getPageNumber()-1,0,0,!1);e?e.then(function(){t._updatePageNumber(),t.component.hide()}):this.component.hide()},e}(o.default);e.default=u},function(t,e,n){"use strict";var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(247)),r=s(n(7)),i=s(n(437)),a=s(n(436));function s(t){return t&&t.__esModule?t:{default:t}}Object.values(o).forEach(function(t){r.default.root().registerComponent(t)}),r.default.root().registerController(i.default),r.default.root().registerController(a.default)},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-page-nav-container" @controller="PageNavigationController as ctrl">\n    <div class="fv__ui-page-scroll-button">\n        <span>\n            <text @sync.text="ctrl.currentPageNumber"></text>\n        </span>\n        <template>\n            <layer name="nav-btn-show-page" append-to="body" class="fv__ui-page-nav-info-layer center">\n                <layer-view>\n                    <div class="fv__ui-page-nav-info">\n                        <div class="fv__ui-page-nav-info-current">\n                            <text @sync.text="ctrl.currentPageNumber"></text>\n                        </div>\n                        <span class="fv__ui-page-nav-info-sep"></span>\n                        <div class="fv__ui-page-nav-info-total">\n                            <text @sync.text="ctrl.currentPageCount"></text>\n                        </div>\n                    </div>\n                </layer-view>\n            </layer>\n            <page-nav-layer></page-nav-layer>\n        </template>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(61)),r=a(n(439)),i=a(n(21));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1251);var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.checkValues(i.orientation,i.placement),i.position=0,i.totalLength=0,i}return s(e,t),e.getName=function(){return"page-nav-button"},e.getMetadata=function(){return{options:{orientation:{type:"enum",enums:["vertical","horizontal"],defaultValue:"vertical"},placement:{type:"enum",enums:["left","top","right","bottom"],defaultValue:"right"}}}},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add(this.orientation,this.placement)},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.button=this.childAt(0),this.showPageLayer=this.getComponentByName("nav-btn-show-page")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.updatePlace();var n=new i.default.Manager(this.button.element);n.add(new i.default.Pan({direction:i.default.DIRECTION_ALL})),n.add(new i.default.Press({time:0}));var o=function(t,n){switch(e.orientation){case"vertical":return n;case"horizontal":return t}},r=0;n.on("panstart",function(t){if(!e.disabled){var n=r=o(t.deltaX,t.deltaY);e.showPageLayer.show(),e.trigger("movestart"),e._move(n)}}),n.on("panmove",function(t){if(!e.disabled){var n=o(t.deltaX,t.deltaY),a=n-r,s=e.button.element.getBoundingClientRect();switch(e.orientation){case"vertical":var u=s.top+s.height/2;t.center.y<u&&t.direction&i.default.DIRECTION_DOWN&&(a=0),t.center.y>u&&t.direction&i.default.DIRECTION_UP&&(a=0);break;case"horizontal":var c=s.left+s.width/2;t.center.x<c&&t.direction&i.default.DIRECTION_RIGHT&&(offsetX=0),t.center.x>c&&t.direction&i.default.DIRECTION_LEFT&&(offsetX=0)}if(0!=a){e._move(a);var l=0===e.totalLength?0:e.position/e.totalLength;e.trigger("move",l)}r=n}}),n.on("panend",function(){e.disabled||(e.trigger("moveend"),e.showPageLayer.hide())}),n.on("pressup",function(){e.disabled||e.querySelector("@page-nav-layer").show()}),this.addDestroyHook(function(){return n.destroy()}),this.addDestroyHook(function(){var t=0,n=0,o=requestAnimationFrame(function r(){o=requestAnimationFrame(r),function(){var o=e.element.parentElement,r=o.offsetHeight,i=o.offsetHeight;i===n&&r===t||e.updatePlace(),t=r,n=i}()});return function(){cancelAnimationFrame(o)}}())},e.prototype.setPlace=function(t,e){this.checkValues(t,e),this.orientation=t,this.placement=e,this.updatePlace()},e.prototype.setPositionRatio=function(t){this.position=this.totalLength*t;var e=this.button.element;switch(this.orientation){case"vertical":e.style.cssText+="\n                    left: 0;\n                    top: "+this.position+"px;\n                ";break;case"horizontal":e.style.cssText+="\n                    top: 0;\n                    left: "+this.position+"px;\n                "}},e.prototype.checkValues=function(t,e){if("vertical"===t&&"left"!==e&&"right"!==e||"horizontal"===t&&"top"!==e&&"bottom"!==e)throw new Error("Illegal combination of origentation and placement: "+t+", "+e+" ")},e.prototype.updatePlace=function(){var t=0===this.totalLength?0:this.position/this.totalLength,e=this.element.parentElement,n=screen.width*(20/750)*2;switch(this.orientation){case"vertical":this.totalLength=e.offsetHeight-n-this.button.element.offsetHeight;break;case"horizontal":this.totalLength=e.offsetWidth-n-this.button.element.offsetWidth}this.setPositionRatio(t)},e.prototype._move=function(t){var e=this.button.element,n=this.position+t;if(!(n<0||n>this.totalLength))switch(this.position=n,this.orientation){case"vertical":e.style.top=this.position+"px";break;case"horizontal":e.style.left=this.position+"px"}},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=u},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer modal @controller="PageNavigationLayerController as navLayer" class="center fv__ui-page-nav-layer">\n    <layer-header title="mobile.nav-layer.title"></layer-header>\n    <layer-view>\n        <label>\n            <div class="fv__ui-page-nav-label">\n                <text>mobile.nav-layer.label</text>(1-<text @sync.text="navLayer.currentPageCount"></text>):\n            </div>\n            <number class="fv__ui-page-nav-page-number" name="page-number-input" min="1" step="1" @sync.value="navLayer.currentPageNumber" @sync.max="navLayer.currentPageCount"></number>\n        </label>\n    </layer-view>\n    <layer-toolbar>\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.component.hide()">mobile.nav-layer.cancel</xbutton>\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.confirm()">mobile.nav-layer.ok</xbutton>\n    </layer-toolbar>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(61)),r=i(n(441));i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1253);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"page-nav-layer"},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.pageNumberInput=this.getComponentByName("page-number-input")},e.prototype.doShown=function(){var e=this;t.prototype.doShown.call(this),this.pageNumberInput.select(),setTimeout(function(){e.pageNumberInput.select()})},e.prototype.getPageNumber=function(){return this.pageNumberInput.getValue()},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"mobile-webpdf"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("webpdf-mobile")},e}(n(62).WebPDFComponent);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0}),n(1255);var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"adaptive-webpdf"},e.prototype.appendSlot=function(e,n){t.prototype.appendSlot.call(this,e,n),n.children().forEach(function(t){return t.element.classList.add("fv__ui-adaption-repl-webpdf")})},e.prototype.getSlotContainer=function(){return this.getContainerElement()},e}(n(62).WebPDFComponent);e.default=r},function(t,e,n){n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).templates;return e+='<adaptive-webpdf>\n    <slot @device="mobile">\n        ',e+=n.mobile,e+='\n    </slot>\n    <slot @device="desktop">\n        ',e+=n.desktop,e+="\n    </slot>\n</adaptive-webpdf>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=void 0;var o=u(n(445)),r=n(172),i=n(173),a=u(n(7)),s=u(n(444));function u(t){return t&&t.__esModule?t:{default:t}}a.default.root().registerComponent(s.default);e.template=(0,o.default)({templates:{mobile:c(r.template,"mobile"),desktop:c(i.template,"desktop")}});function c(t,e){return t.replace(/<webpdf(.*?)>/,'<div @device="'+e+'" $1>').replace(/<\/webpdf>/,"</div>")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(172);var o=s(n(105)),r=(s(n(139)),n(29)),i=(n(446),s(n(248))),a=s(n(174));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.origin=r.isMobile?new i.default(n):new a.default(n),o}return u(e,t),e.prototype.getLayoutTemplate=function(){return this.origin.getLayoutTemplate()},e.prototype.getDefaultFragments=function(){return[]},e.prototype.beforeMounted=function(t){this.origin.beforeMounted(t)},e.prototype.afterMounted=function(t){this.origin.afterMounted(t)},e.prototype.processAddon=function(t){this.origin.processAddon(t)},e}(o.default);e.default=c},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<webpdf>\n    <toolbar name="toolbar" class="fv__ui-non-ribbon-toolbar" @full-screen:fullscreen="hide">\n        <div class="fv__ui-flat-group-list-container">\n            <group-list name="home-toolbar-group-list">\n                <group name="home-tab-group-hand" retain-count="3">\n                    <hand-button></hand-button>\n                    <selection-button></selection-button>\n                    <snapshot-button></snapshot-button>\n                </group>\n                <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\n                    <open-file-dropdown></open-file-dropdown>\n                    <download-file-button></download-file-button>\n                    <pirnt:print-button></print:print-button>\n                </group>\n                <group name="home-tab-group-nav" retain-count="3">\n                    <goto-prev-page-button></goto-prev-page-button>\n                    <goto-next-page-button></goto-next-page-button>\n                    <goto-page-input></goto-page-input>\n                </group>\n                <group name="home-tab-group-zoom">\n                    <zoom-out-button></zoom-out-button>\n                    <zoom-in-button></zoom-in-button>\n                    <editable-zoom-dropdown></editable-zoom-dropdown>\n                </group>\n                <group name="home-tab-group-page" retain-count="2">\n                    <continuous-page-button></continuous-page-button>\n                    <continuous-facing-page-button></continuous-facing-page-button>\n                </group>\n                <group name="home-tab-group-magnifier">\n                    <loupe-tool-button></loupe-tool-button>\n                </group>\n                <group name="home-tab-group-marquee">\n                    <marquee-tool-button></marquee-tool-button>\n                </group>\n                <group name="home-tab-group-form" retain-count="2">\n                    <import-form-module:import-form-button></import-form-module:import-form-button>\n                    <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                </group>\n            </group-list>\n            <group-list name="comment-toolbar-group-list">\n                <group name="comment-tab-group-mark"></group>\n                <group name="comment-tab-group-text"></group>\n                <group name="comment-tab-group-drawing"></group>\n                <group name="comment-tab-group-media">\n                    <multi-media:multi-media-button></multi-media:multi-media-button>\n                </group>\n                <group name="comment-tab-group-inksign" visible=\'false\'></group>\n                <group name="password-protect-group">\n                    <password-protect:password-protect-button></password-protect:password-protect-button>\n                    <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                </group>\n                <group name="comment-tab-group-stamp"></group>\n                <group name="comment-tab-group-other" visible=\'false\'></group>\n            </group-list>\n            <group-list name="edit-toolbar-group-list">\n                <group name="edit-tab-group-mode">\n                    <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                    <add-image-button></add-image-button>\n                    <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                    <edit-image-button></edit-image-button>\n                    <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                </group>\n                <group name="edit-tab-group-font" retain-count="5">\n                    <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                    <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                    <edit-text-object:text-underline-button></edit-text-object:text-underline-button>\n                    <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                    <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\n                </group>\n                <group name="edit-tab-group-font-alignment" visible="false">\n                    <edit-text-object:align-left-button></edit-text-object:align-left-button>\n                    <edit-text-object:align-center-button></edit-text-object:align-center-button>\n                    <edit-text-object:align-justify-button></edit-text-object:align-justify-button>\n                    <edit-text-object:line-spacing-button></edit-text-object:line-spacing-button>\n                    <edit-text-object:word-spacing-button></edit-text-object:word-spacing-button>\n                    <edit-text-object:character-scale-button></edit-text-object:character-scale-button>\n                </group>\n                <group name="edit-tab-group-layer"></group>\n                <group name="edit-tab-group-redact"></group>\n            </group-list>\n            <group-list  name="protect-toolbar-group-list">\n                <group name="protect-tab-group-hand" retain-count="3">\n                    <hand-button></hand-button>\n                    <selection-button></selection-button>\n                    <zoom-dropdown></zoom-dropdown>\n                </group>\n                <group name="protect-tab-group-sign">\n                    <ink-sign-dropdown></ink-sign-dropdown>\n                </group>\n                <group name="redaction">\n                    <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                    <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                    <redaction:redaction-search-button></redaction:redaction-search-button>\n                </group>\n            </group-list>\n        </div>\n    </toolbar>\n    <div class="fv__ui-body">\n        <top-quick name="top-quick"></top-quick>\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" @full-screen:fullscreen="hide">\n            <sidebar-panel name="sidebar-bookmark" title="sidebar.bookmark.title" icon-class="fv__icon-sidebar-bookmark"></sidebar-panel>\n            <comment-list:sidebar-panel name="comment-list-sidebar-panel" title="sidebar.commentlist.title" class="fv__biz-sidebar-comment-list" icon-class="fv__icon-sidebar-comment-list">\n            </comment-list:sidebar-panel>\n            <sidebar-panel name="sidebar-thumbnail" title="sidebar.thumbnail.title" icon-class="fv__icon-sidebar-thumbnail" visible="false"></sidebar-panel>\n            <sidebar-panel name="sidebar-layers" title="sidebar.layers.title" icon-class="fv__icon-sidebar-page-manager"></sidebar-panel>\n            <sidebar-panel name="sidebar-search" title="sidebar.search.title" icon-class="fv__icon-sidebar-search"></sidebar-panel>\n            <sidebar-panel name="sidebar-attachment" title="sidebar.attachment.title" icon-class="fv__icon-sidebar-attachment" @controller="AttachmentController as attachment"></sidebar-panel>\n        </sidebar>\n        <viewer @touch-to-scroll></viewer>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <measurement-popup></measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <default-annot-contextmenu name="fv--caret-contextmenu"></default-annot-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu></media-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n    </template>\n</webpdf>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=e.fragments=void 0;var o=n(173);Object.defineProperty(e,"fragments",{enumerable:!0,get:function(){return o.fragments}});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(448));n(1257);e.template=(0,r.default)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(449));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e.prototype.getLayoutTemplate=function(){return o.template},e.prototype.getDefaultFragments=function(){return o.fragments},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(105)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(10)),r=a(n(9)),i=n(62);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"sidebar-toggler"},e.prototype.componentMounted=function(){var t=this.component,e=this.component.getPDFUI();setTimeout(function(){t.collapseTotally()});var n=t.status;this.addDestroyHook(e.addUIEventListener(r.default.fullscreenchange,function(e){if(e)n=t.status,t.collapseTotally();else{if(n!==t.$lastStatus)return;switch(n){case i.SidebarComponent.STATUS_COLLAPSED:case i.SidebarComponent.STATUS_EXPANDED:t.expand()}}}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(n(393));var o=r(n(108));r(n(9));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.align="center",i}return i(e,t),e.getName=function(){return"pageview-dropdown"},e.getMetadata=function(){return{options:{separate:{type:"boolean",defaultValue:!1}}}},e.prototype.render=function(){this.element.classList.add("fv__ui-mobile-pageview-dropdown","fv__ui-dropdown-direction-row","fv__ui-dropdown-hide-text"),t.prototype.render.call(this)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.getPDFUI().getPDFViewerRender().then(function(t){var n=t.getViewMode().getName();e.children().forEach(function(t){t.controller.viewModeName===n&&e.select(t)})}),this.element.addEventListener("click",function(t){var n=t.target.closest("[component-name]");if(n){var o=n.getComponent();e.toggler.setIconCls(o.iconCls)}},{passive:!0,capture:!0})},e}(o.default);e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"SearchToggleButtonController"},e.prototype.handle=function(){var t=this.getComponentByName("sidebar-search");t&&t.active(),this.getPDFUI().redraw()},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(61)),r=n(62);i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"sidebar-toggler-button"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.getRoot().getAllComponentsByType("sidebar");this.on("click",function(){n.forEach(function(t){switch(t.status){case r.SidebarComponent.STATUS_COLLAPSED_TOTALLY:t.$lastStatus===r.SidebarComponent.STATUS_COLLAPSED?t.collapse():t.expand();break;case r.SidebarComponent.STATUS_COLLAPSED:case r.SidebarComponent.STATUS_EXPANDED:t.collapseTotally()}}),e.getPDFUI().redraw()})},e}(o.default.createSuperClass({template:'\n        <xbutton icon-class="fv__icon-mobile-topbar-sidebar-toggler"></xbutton>\n    '}));e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.currentTabName,o}return o(e,t),e.getName=function(){return"MobileDropdownTabController"},e.prototype.postlink=function(){var t=this.component.findChildren(function(t){return t.isActive},!1)[0];t&&(this.currentTabName=t.getAttribute("tab"))},e.prototype.mounted=function(){if(this.tabsContainer=this.getComponentByName("fv--mobile-toolbar-tabs"),!this.tabsContainer)throw new Error("tabs body not found!");this.currentTabName&&this.doShowTab(this.currentTabName)},e.prototype.doShowTab=function(t){var e=this.tabsContainer.findChildren(function(e){return e.getAttribute("tab")==t})[0];e&&e.element.classList.add("active")},e.prototype.doHideTab=function(t){var e=this.tabsContainer.findChildren(function(e){return e.getAttribute("tab")==t})[0];e&&e.element.classList.remove("active")},e.prototype.toggleTab=function(t){var e=this.tabsContainer.findChildren(function(e){return e.getAttribute("tab")==t})[0].element.classList;e.contains("active")?e.remove("active"):e.add("active")},e.prototype.switchTab=function(t){var e=t.getAttribute("tab");e===this.currentTabName?this.toggleTab(e):(this.doHideTab(this.currentTabName),this.doShowTab(this.currentTabName=e))},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(108)),i=n(5),a=n(23);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return u(e,t),e.getName=function(){return"selectable-dropdown"},e.prototype.init=function(e){if(!(e instanceof r.default))throw new TypeError("@selectable-dropdown directive must be used for dropdown component");t.prototype.init.call(this,e)},e.prototype.componentPrelink=function(){var t=this;this.component.on(i.COMPONENT_EVENTS.CHILD_INSERTED,function(e){var n=void 0;n=e.isFileSelector?"change":"click",e.on(n,function(){t.component.select(e)})})},e.prototype.componentMounted=function(){var t=-1,e=this.component;switch(this.attrValue){case"none":case"":break;case"first":t=0;break;case"last":t=e.size()-1;break;default:isFinite(Number(this.attrValue))&&(t=Number(this.attrValue))}t>=0&&t<e.size()&&e.select(e.childAt(t));var n=e.children().map(function(t){return t.controller.stateName}).filter(function(t){return"string"==typeof t});e.pdfUI.addViewerEventListener(a.Events.switchStateHandler,function(t,o){var r=t.getStateName();n.indexOf(r)>-1?e.element.classList.add("selected"):e.element.classList.remove("selected")})},e}(o.default);e.default=c},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<webpdf>\n    <div class="fv__ui-mobile-header">\n        <div class="fv__ui-mobile-header-left">\n            <mobile:sidebar-toggler-button></mobile:sidebar-toggler-button>\n        </div>\n        <div class="fv__ui-mobile-header-main">\n            <dropdown name="tabs" class="fv__ui-mobile-tabs-dropdown" @selectable-dropdown="first" @controller="mobile:MobileDropdownTabController as mtabc">\n                <dropdown-button tab="comment" @on.click="mtabc.switchTab($component)" active>toolbar.tabs.comment.title</dropdown-button>\n                <dropdown-button tab="edit" visible=\'false\' @on.click="mtabc.switchTab($component)">toolbar.tabs.edit.title</dropdown-button>\n                <dropdown-button tab="protect" @on.click="mtabc.switchTab($component)">toolbar.tabs.protect.title</dropdown-button>\n            </dropdown>\n        </div>\n        <div class="fv__ui-mobile-header-right">\n            <hand-button icon-class="fv__icon-mobile-topbar-hand"></hand-button>\n            <mobile:pageview-dropdown>\n                <single-page-button></single-page-button>\n                <continuous-page-button></continuous-page-button>\n                \x3c!-- <facing-page-button></facing-page-button>\n                <continuous-facing-page-button></continuous-facing-page-button> --\x3e\n            </mobile:pageview-dropdown>\n            <xbutton icon-class="fv__icon-mobile-topbar-search" @controller="mobile:SearchToggleButtonController"></xbutton>\n            <dropdown class="fv__ui-mobile-topbar-tools-dropdown fv__ui-dropdown-hide-text">\n                <open-localfile-button></open-localfile-button>\n                <open-fromurl-button></open-fromurl-button>\n                <print:print-button></print:print-button>\n                <download-file-button></download-file-button>\n                <full-screen:toggle-full-screen-button @hide-on-device="ios"></full-screen:toggle-full-screen-button>\n                <fpmodule:file-property-button></fpmodule:file-property-button>\n            </dropdown>\n        </div>\n    </div>\n    <toolbar>\n        <div class="fv__ui-mobile-toolbar-tabs" name="fv--mobile-toolbar-tabs">\n            <div class="fv__ui-mobile-toolbar-tab" tab="comment">\n                <group-list shrink-size="-1">\n                    <group>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-text-highlight-button></create-text-highlight-button>\n                            <create-strikeout-button></create-strikeout-button>\n                            <create-underline-button></create-underline-button>\n                            <create-squiggly-button></create-squiggly-button>\n                            <create-replace-button></create-replace-button>\n                            <create-caret-button></create-caret-button>\n                        </dropdown>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-textbox-button></create-textbox-button>\n                            <create-typewriter-button></create-typewriter-button>\n                            <create-callout-button></create-callout-button>\n                        </dropdown>\n                        <create-drawings-dropdown></create-drawings-dropdown>\n                    </group>\n                    <group>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-pencil-button></create-pencil-button>\n                            <eraser-button></eraser-button>\n                        </dropdown>\n                        <stamp-dropdown align="client-center"></stamp-dropdown>\n                        <dropdown name="fv-mobile-attachment-dropdown" @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-note-button></create-note-button>\n                            <create-attachment-button></create-attachment-button>\n                            <create-image-button></create-image-button>\n                            <create-link-button></create-link-button>\n                        </dropdown>\n                    </group>\n                    <group name="fv--mobile-media-group">\n                        <multi-media:multi-media-button></multi-media:multi-media-button>\n                    </group>\n                    <group name="home-tab-group-form" class="fv__ui-form-group">\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                    </group>\n                </group-list>\n            </div>\n            <div class="fv__ui-mobile-toolbar-tab" tab="edit">\n                <group-list shrink-size="-1">\n                    <group name="edit-tab-group-mode">\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                        <add-image-button></add-image-button>\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\n                    </group>\n                    <group name="edit-tab-group-font" retain-count="6">\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                        <edit-text-object:font-style-dropdown align="right"></edit-text-object:font-style-dropdown>\n                    </group>\n                    <group name="edit-tab-group-layer" visible="false"></group>\n                    <group name="edit-tab-group-redact" visible="false"></group>\n                </group-list>\n            </div>\n            <div class="fv__ui-mobile-toolbar-tab" tab="protect">\n                <group-list shrink-size="-1" name="protect-toolbar-group-list">\n                    <group name="protect-tab-group-sign">\n                        <ink-sign-dropdown></ink-sign-dropdown>\n                    </group>\n                    <group name="password-protect-group">\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                    </group>\n                    <group name="redaction">\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\n                    </group>\n                </group-list>\n            </div>\n        </div>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" width="0.64" @mobile:sidebar-toggler>\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel></commentlist-sidebar-panel>\n            <thumbnail-sidebar-panel></thumbnail-sidebar-panel>\n            <layer-sidebar-panel></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <viewer @zoom-on-pinch @zoom-on-doubletap @touch-to-scroll></viewer>\n        <page-nav-button></page-nav-button>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <measurement-popup></measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <default-annot-contextmenu name="fv--caret-contextmenu"></default-annot-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu></media-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n    </template>\n</webpdf>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(105)),r=u(n(174)),i=u(n(248)),a=u(n(450)),s=u(n(447));function u(t){return t&&t.__esModule?t:{default:t}}e.default={simple:o.default,adaptive:s.default,ribbon:r.default,nonRibbon:a.default,mobile:i.default}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<webpdf>\n    <toolbar name="toolbar" class="fv__ui-toolbar-scrollable">\n        <tabs name="toolbar-tabs">\n            <tab title="toolbar.tabs.home.title" name="home-tab">\n                <group-list name="home-toolbar-group-list">\n                    <group name="home-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <snapshot-button></snapshot-button>\n                    </group>\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\n                        <open-file-dropdown></open-file-dropdown>\n                        <download-file-button></download-file-button>\n                        <print:print-button></print:print-button>\n                    </group>\n                    <group name="home-tab-group-nav" retain-count="3">\n                        <goto-prev-page-button></goto-prev-page-button>\n                        <goto-next-page-button></goto-next-page-button>\n                        <goto-page-input></goto-page-input>\n                    </group>\n                    <group name="home-tab-group-zoom">\n                        <zoom-out-button></zoom-out-button>\n                        <zoom-in-button></zoom-in-button>\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\n                    </group>\n                    <group name="home-tab-group-page" retain-count="1">\n                        <single-page-button></single-page-button>\n                        <continuous-page-button></continuous-page-button>\n                        <facing-page-button></facing-page-button>\n                        <continuous-facing-page-button></continuous-facing-page-button>\n                    </group>\n                    <group name="home-tab-group-magnifier">\n                        <loupe-tool-button></loupe-tool-button>\n                    </group>\n                    <group name="home-tab-group-marquee">\n                        <marquee-tool-button></marquee-tool-button>\n                    </group>\n                    <group name="home-tab-group-form" retain-count="2">\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                    </group>\n                    <group name="file-property" @require-module="fpmodule">\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\n                    </group>\n                </group-list>\n            </tab>\n            <tab title="toolbar.tabs.comment.title" name="comment-tab">\n                <group-list name="comment-toolbar-group-list">\n                    <group name="comment-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="comment-tab-group-note" retain-count="3">\n                        <create-note-button></create-note-button>                        \n                    </group>\n                    <group name="comment-tab-group-mark">\n                        <create-text-highlight-button></create-text-highlight-button>\n                        <create-strikeout-button></create-strikeout-button>\n                        <create-underline-button></create-underline-button>\n                        <create-squiggly-button></create-squiggly-button>\n                        <create-replace-button></create-replace-button>\n                        <create-caret-button></create-caret-button>\n                    </group>\n                    <group name="comment-tab-group-text">                      \n                        <create-typewriter-button></create-typewriter-button>\n                        <create-callout-button></create-callout-button>\n                        <create-textbox-button></create-textbox-button>\n                    </group>\n                    <group name="comment-tab-group-drawing" retain-count="2">\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \n                        <create-area-highlight-button></create-area-highlight-button>\n                    </group>\n                    <group name="comment-tab-group-pencil" retain-count="2">\n                        <create-pencil-button></create-pencil-button>\n                        <eraser-button></eraser-button>\n                    </group>\n                    <group name="comment-tab-group-stamp">\n                        <stamp-dropdown></stamp-dropdown>\n                    </group>\n                    <group name="comment-tab-group-measurement">\n                        <create-distance-button></create-distance-button>\n                    </group>\n                    <group name="comment-tab-group-media">\n                        <create-attachment-button></create-attachment-button>\n                        <create-image-button></create-image-button>\n                        <create-link-button></create-link-button>\n                        <multi-media:multi-media-button></multi-media:multi-media-button>\n                    </group>\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \n                    <group name="comment-tab-group-other" visible=\'false\'></group>\n                </group-list>\n            </tab>\n            <tab title="toolbar.tabs.edit.title" name="edit-tab" visible="true" @device="desktop">\n                <group-list name="edit-toolbar-group-list">\n                    <group name="edit-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="edit-tab-group-mode" retain-count="3">\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                        <add-image-button></add-image-button>\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                    </group>\n                    <group name="edit-tab-group-font" retain-count="5">\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\n                    </group>\n                    <group name="edit-tab-group-layer" visible="false"></group>\n                    <group name="edit-tab-group-redact" visible="false"></group>\n                </group-list>\n            </tab>\n            <tab title="toolbar.tabs.protect.title" name="protect-tab" visible="true">\n                <group-list name="protect-toolbar-group-list">\n                    <group name="protect-tab-group-hand" retain-count="4">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="protect-tab-group-sign" retain-count="4">\n                        <ink-sign-dropdown></ink-sign-dropdown>\n                    </group>\n                    <group name="password-protect-group" retain-count="2">\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                    </group>\n                    <group name="redaction">\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\n                    </group>\n                </group-list>\n            </tab>\n        </tabs>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel></commentlist-sidebar-panel>\n            <thumbnail-sidebar-panel></thumbnail-sidebar-panel>\n            <layer-sidebar-panel></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\n            <slot>\n                <viewer @zoom-on-wheel @touch-to-scroll></viewer>\n            </slot>\n        </distance:ruler-container>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <measurement-popup></measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <default-annot-contextmenu name="fv--caret-contextmenu"></default-annot-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu></media-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n    </template>\n</webpdf>'}},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.prototype.construct=function(t,e){var n=e.customs;t.customShowReplyDialogHandler=n.annotationDoubleTipHandler,t.customDefaultExportCommentsFormat=n.defaultExportCommentsFormat,t.customScalingValues=n.scalingValues||[],t.customs=n},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(71)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(71)),r=l(n(175)),i=l(n(278)),a=l(n(106)),s=l(n(178)),u=l(n(255)),c=l(n(254));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return f(e,t),e.depends=function(){return[r.default]},e.prototype.link=function(t){t.getViewModeManager().register(i.default),t.getViewModeManager().register(a.default),t.getViewModeManager().register(s.default),t.getViewModeManager().register(u.default),t.getViewModeManager().register(c.default)},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=s(n(43)),i=n(129),a=n(251);s(n(139));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.loadAddonsPromises=[]}return t.prototype.resolveAddonAbsPath=function(t){return t.match(/^https?:\/\/.+/)?(0,i.resolvePath)(t,"addon.info.json"):(0,i.mergePath)(t,"addon.info.json")},t.prototype.loadModule=function(t,e){var n=this;switch(void 0===t?"undefined":o(t)){case"string":var r=this.resolveAddonAbsPath(t);if(this.loadAddonsPromises[r])return this.loadAddonsPromises[r];var a=this.loadJSON(r).then(function(o){var r=o.depends,a=void 0;return a=r&&r.length>0?r.map(function(o){var r="",a=/^((\.\.(\/|\\\\))+).*/.exec(t);a&&(r=a[1]);var s=r+(0,i.resolvePath)(t,o);return n.loadModule(s,e)}):[],Promise.all(a).then(function(e){return n.loadFromaddonInfo(t,o).then(function(t){return t.depends=e,t})})});return this.loadAddonsPromises[r]=a,a;case"function":var s=t.getLoader(),u=(0,i.resolvePath)(e,"uix-addons",t.getName());return s.loadAddonInfo(u).then(function(n){return t.load(e,n)}).then(function(e){return t});default:throw new Error("Incorrect UIExtension addon: "+t)}},t.prototype.loadFromaddonInfo=function(t,e){var n=this,o=e.css,r=(e.i18n,e.scripts),a=e.library;Array.isArray(o)&&o.forEach(function(e){n.loadCSS((0,i.mergePath)(t,e))});var s=Promise.resolve();return Array.isArray(r)&&(s=r.reduce(function(t,e){return t.then(function(t){return n.loadScript(e)})},s)),(s=s.then(function(e){return n.loadScript((0,i.mergePath)(t,"index.js"))})).then(function(n){var o=window[a];if("function"!=typeof o)throw new Error("The globale variable "+a+" cannot be found! Please ensure that this module has been exported correct!");return o.load(t,e).then(function(t){return o})})},t.prototype.loadCSS=function(t){var e=this.resolveToAbsolutePath(t),n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,document.head.appendChild(n)},t.prototype.loadScript=function(t){var e=(0,r.default)(),n=document.createElement("script");return n.type="application/javascript",n.onload=function(){return e.resolve()},n.onerror=function(t){return e.reject(t)},n.src=this.resolveToAbsolutePath(t),document.head.appendChild(n),e.promise},t.prototype.loadJSON=function(t){return this.loadText(t,"json")},t.prototype.loadText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=this.resolveToAbsolutePath(t);return(0,a.getFromRemote)(n,e)},t.prototype.resolveToAbsolutePath=function(t){if(0===(t=t.trim()).indexOf("http://")||0===t.indexOf("https://"))return t;var e=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");return(0,i.resolvePath)(e,t)},t}();e.default=u},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var n,o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===i(e)&&"object"===i(t)?t.exports={hash:"dcdb2004324dcfa2581376ca9fc933e0","en-US":"877432d93b3be40bdffc468b1c7e2e44","zh-CN":"dcea7a328b36a16981c798df0b55c34a"}:(o=[],void 0===(r="function"==typeof(n=s)?n.apply(e,o):n)||(t.exports=r))}(self,function(){return{hash:"dcdb2004324dcfa2581376ca9fc933e0","en-US":"877432d93b3be40bdffc468b1c7e2e44","zh-CN":"dcea7a328b36a16981c798df0b55c34a"}})}).call(this,n(463)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(171)),r=u(n(216)),i=u(n(215)),a=u(n(214)),s=u(n(464));function u(t){return t&&t.__esModule?t:{default:t}}function c(){return{prefix:"foxit_pdf_ui_i18next_",expirationTime:6048e6,versions:s.default}}var l="ui_",f="en-US";e.default=function(t){var e=o.default.createInstance();return e.use(r.default).init(Object.assign({},{load:"currentOnly",fallbackLng:f,backend:{backends:[i.default,a.default],backendOptions:[c(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/locales",e=c();return e.loadPath=t+"/{{lng}}/{{ns}}.json?v="+s.default.hash,e}(t.absolutePath)]},defaultNS:l,ns:l},t)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=p(n(138)),r=p(n(137)),i=p(n(176)),a=p(n(135)),s=p(n(175)),u=p(n(136)),c=p(n(461)),l=p(n(460)),f=p(n(249));function p(t){return t&&t.__esModule?t:{default:t}}var d=[l.default,u.default,o.default,r.default,i.default,a.default,s.default,c.default,f.default];e.default=d},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){r(this,t),this.partialClass=e,this.partialInstance=null,this.depends=[],this.isLoaded=!1,this.isLinked=!1,this.isConstructed=!1,this.linkResult=void 0,this.constructResult=void 0}return t.prototype.load=function(t){this.isLoaded||(this.depends.forEach(function(e){e.load(t)}),this.partialClass.load(t),this.isLoaded=!0)},t.prototype.construct=function(t,e){var n;if(this.isConstructed)return this.constructResult;var r=this.depends.map(function(n){return n.construct(t,e)}),i=this.depends.map(function(t){return t.partialInstance});this.partialInstance=new this.partialClass(t,e,i),this.constructResult=(n=this.partialInstance).construct.apply(n,[t,e].concat(o(r))),this.isConstructed=!0},t.prototype.link=function(){var t=this;return this.isLinked?this.linkResult:(this.isLinked=!0,this.linkResult=Promise.all(this.depends.map(function(t){return t.link(),t.linkResult})).then(function(e){var n;return(n=t.partialInstance).link.apply(n,o(e))}))},t.prototype.findDependent=function(t){return this.depends.find(function(e){return e.origin===t})},t}(),a=function(){function t(e){var n=this;r(this,t),this.partialClasses=e,this.partialDelegators=e.map(function(t){return new i(t)}),this.partialDelegators.forEach(function(t){var r;(r=t.depends).push.apply(r,o(t.partialClass.depends().map(function(o,r){var i=e.indexOf(o);if(-1===i)throw new Error("Couldn't resolve dependency: "+o+", at pos: "+r+" of "+t.partialClass);return n.partialDelegators[i]})))})}return t.prototype.load=function(t){this.partialDelegators.forEach(function(e){return e.load(t)})},t.prototype.construct=function(t,e){this.partialDelegators.forEach(function(n){n.construct(t,e)})},t.prototype.linkAll=function(){return Promise.all(this.partialDelegators.map(function(t){return t.link()}))},t.prototype.link=function(t){var e=this.partialClasses.indexOf(t);return-1==e?Promise.reject(new Error(t+" not found in this manager.")):this.partialDelegators[e].link()},t}();e.default=a},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<webpdf>\n    <viewer></viewer>\n    <template name="template-container">\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <default-annot-contextmenu name="fv--caret-contextmenu"></default-annot-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu></media-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n    </template>\n</webpdf>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(129),r=n(251);var i=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.match(/^https?:\/\//))this.modulePath=e;else{var n=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");this.modulePath=(0,o.resolvePath)(n,e)}}return t.prototype.loadAddonInfo=function(t){return(0,r.getFromRemote)((0,o.resolvePath)(t,"addon.info.json"),"json")},t.prototype.loadI18N=function(t){var e=this;if(!t.i18n)return Promise.resolve({sources:{}});var n=t.i18n.ns,i=t.i18n.sources||{},a=Object.keys(i),s=a.map(function(t){return i[t]});return Promise.all(s.map(function(t){return(0,r.getFromRemote)((0,o.resolvePath)(e.modulePath,t),"json")})).then(function(t){return{ns:n,sources:t.reduce(function(t,e,n){return t[a[n]]=e,t},{})}})},t}();e.default=i},function(t,e,n){(t.exports=n(392)(!1)).push([t.i,"/***\nSpectrum Colorpicker v1.8.0\nhttps://github.com/bgrins/spectrum\nAuthor: Brian Grinstead\nLicense: MIT\n***/\n\n.sp-container {\n    position:absolute;\n    top:0;\n    left:0;\n    display:inline-block;\n    *display: inline;\n    *zoom: 1;\n    /* https://github.com/bgrins/spectrum/issues/40 */\n    z-index: 9999994;\n    overflow: hidden;\n}\n.sp-container.sp-flat {\n    position: relative;\n}\n\n/* Fix for * { box-sizing: border-box; } */\n.sp-container,\n.sp-container * {\n    -webkit-box-sizing: content-box;\n       -moz-box-sizing: content-box;\n            box-sizing: content-box;\n}\n\n/* http://ansciath.tumblr.com/post/7347495869/css-aspect-ratio */\n.sp-top {\n  position:relative;\n  width: 100%;\n  display:inline-block;\n}\n.sp-top-inner {\n   position:absolute;\n   top:0;\n   left:0;\n   bottom:0;\n   right:0;\n}\n.sp-color {\n    position: absolute;\n    top:0;\n    left:0;\n    bottom:0;\n    right:20%;\n}\n.sp-hue {\n    position: absolute;\n    top:0;\n    right:0;\n    bottom:0;\n    left:84%;\n    height: 100%;\n}\n\n.sp-clear-enabled .sp-hue {\n    top:33px;\n    height: 77.5%;\n}\n\n.sp-fill {\n    padding-top: 80%;\n}\n.sp-sat, .sp-val {\n    position: absolute;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n}\n\n.sp-alpha-enabled .sp-top {\n    margin-bottom: 18px;\n}\n.sp-alpha-enabled .sp-alpha {\n    display: block;\n}\n.sp-alpha-handle {\n    position:absolute;\n    top:-4px;\n    bottom: -4px;\n    width: 6px;\n    left: 50%;\n    cursor: pointer;\n    border: 1px solid black;\n    background: white;\n    opacity: .8;\n}\n.sp-alpha {\n    display: none;\n    position: absolute;\n    bottom: -14px;\n    right: 0;\n    left: 0;\n    height: 8px;\n}\n.sp-alpha-inner {\n    border: solid 1px #333;\n}\n\n.sp-clear {\n    display: none;\n}\n\n.sp-clear.sp-clear-display {\n    background-position: center;\n}\n\n.sp-clear-enabled .sp-clear {\n    display: block;\n    position:absolute;\n    top:0px;\n    right:0;\n    bottom:0;\n    left:84%;\n    height: 28px;\n}\n\n/* Don't allow text selection */\n.sp-container, .sp-replacer, .sp-preview, .sp-dragger, .sp-slider, .sp-alpha, .sp-clear, .sp-alpha-handle, .sp-container.sp-dragging .sp-input, .sp-container button  {\n    -webkit-user-select:none;\n    -moz-user-select: -moz-none;\n    -o-user-select:none;\n    user-select: none;\n}\n\n.sp-container.sp-input-disabled .sp-input-container {\n    display: none;\n}\n.sp-container.sp-buttons-disabled .sp-button-container {\n    display: none;\n}\n.sp-container.sp-palette-buttons-disabled .sp-palette-button-container {\n    display: none;\n}\n.sp-palette-only .sp-picker-container {\n    display: none;\n}\n.sp-palette-disabled .sp-palette-container {\n    display: none;\n}\n\n.sp-initial-disabled .sp-initial {\n    display: none;\n}\n\n\n/* Gradients for hue, saturation and value instead of images.  Not pretty... but it works */\n.sp-sat {\n    background-image: -webkit-gradient(linear,  0 0, 100% 0, from(#FFF), to(rgba(204, 154, 129, 0)));\n    background-image: -webkit-linear-gradient(left, #FFF, rgba(204, 154, 129, 0));\n    background-image: -moz-linear-gradient(left, #fff, rgba(204, 154, 129, 0));\n    background-image: -o-linear-gradient(left, #fff, rgba(204, 154, 129, 0));\n    background-image: -ms-linear-gradient(left, #fff, rgba(204, 154, 129, 0));\n    background-image: linear-gradient(to right, #fff, rgba(204, 154, 129, 0));\n    -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr=#FFFFFFFF, endColorstr=#00CC9A81)\";\n    filter : progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr='#FFFFFFFF', endColorstr='#00CC9A81');\n}\n.sp-val {\n    background-image: -webkit-gradient(linear, 0 100%, 0 0, from(#000000), to(rgba(204, 154, 129, 0)));\n    background-image: -webkit-linear-gradient(bottom, #000000, rgba(204, 154, 129, 0));\n    background-image: -moz-linear-gradient(bottom, #000, rgba(204, 154, 129, 0));\n    background-image: -o-linear-gradient(bottom, #000, rgba(204, 154, 129, 0));\n    background-image: -ms-linear-gradient(bottom, #000, rgba(204, 154, 129, 0));\n    background-image: linear-gradient(to top, #000, rgba(204, 154, 129, 0));\n    -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00CC9A81, endColorstr=#FF000000)\";\n    filter : progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81', endColorstr='#FF000000');\n}\n\n.sp-hue {\n    background: -moz-linear-gradient(top, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n    background: -ms-linear-gradient(top, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n    background: -o-linear-gradient(top, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n    background: -webkit-gradient(linear, left top, left bottom, from(#ff0000), color-stop(0.17, #ffff00), color-stop(0.33, #00ff00), color-stop(0.5, #00ffff), color-stop(0.67, #0000ff), color-stop(0.83, #ff00ff), to(#ff0000));\n    background: -webkit-linear-gradient(top, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n    background: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n/* IE filters do not support multiple color stops.\n   Generate 6 divs, line them up, and do two color gradients for each.\n   Yes, really.\n */\n.sp-1 {\n    height:17%;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0000', endColorstr='#ffff00');\n}\n.sp-2 {\n    height:16%;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff00', endColorstr='#00ff00');\n}\n.sp-3 {\n    height:17%;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00ff00', endColorstr='#00ffff');\n}\n.sp-4 {\n    height:17%;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00ffff', endColorstr='#0000ff');\n}\n.sp-5 {\n    height:16%;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0000ff', endColorstr='#ff00ff');\n}\n.sp-6 {\n    height:17%;\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff00ff', endColorstr='#ff0000');\n}\n\n.sp-hidden {\n    display: none !important;\n}\n\n/* Clearfix hack */\n.sp-cf:before, .sp-cf:after { content: \"\"; display: table; }\n.sp-cf:after { clear: both; }\n.sp-cf { *zoom: 1; }\n\n/* Mobile devices, make hue slider bigger so it is easier to slide */\n@media (max-device-width: 480px) {\n    .sp-color { right: 40%; }\n    .sp-hue { left: 63%; }\n    .sp-fill { padding-top: 60%; }\n}\n.sp-dragger {\n   border-radius: 5px;\n   height: 5px;\n   width: 5px;\n   border: 1px solid #fff;\n   background: #000;\n   cursor: pointer;\n   position:absolute;\n   top:0;\n   left: 0;\n}\n.sp-slider {\n    position: absolute;\n    top:0;\n    cursor:pointer;\n    height: 3px;\n    left: -1px;\n    right: -1px;\n    border: 1px solid #000;\n    background: white;\n    opacity: .8;\n}\n\n/*\nTheme authors:\nHere are the basic themeable display options (colors, fonts, global widths).\nSee http://bgrins.github.io/spectrum/themes/ for instructions.\n*/\n\n.sp-container {\n    border-radius: 0;\n    background-color: #ECECEC;\n    border: solid 1px #f0c49B;\n    padding: 0;\n}\n.sp-container, .sp-container button, .sp-container input, .sp-color, .sp-hue, .sp-clear {\n    font: normal 12px \"Lucida Grande\", \"Lucida Sans Unicode\", \"Lucida Sans\", Geneva, Verdana, sans-serif;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -ms-box-sizing: border-box;\n    box-sizing: border-box;\n}\n.sp-top {\n    margin-bottom: 3px;\n}\n.sp-color, .sp-hue, .sp-clear {\n    border: solid 1px #666;\n}\n\n/* Input */\n.sp-input-container {\n    float:right;\n    width: 100px;\n    margin-bottom: 4px;\n}\n.sp-initial-disabled  .sp-input-container {\n    width: 100%;\n}\n.sp-input {\n   font-size: 12px !important;\n   border: 1px inset;\n   padding: 4px 5px;\n   margin: 0;\n   width: 100%;\n   background:transparent;\n   border-radius: 3px;\n   color: #222;\n}\n.sp-input:focus  {\n    border: 1px solid orange;\n}\n.sp-input.sp-validation-error {\n    border: 1px solid red;\n    background: #fdd;\n}\n.sp-picker-container , .sp-palette-container {\n    float:left;\n    position: relative;\n    padding: 10px;\n    padding-bottom: 300px;\n    margin-bottom: -290px;\n}\n.sp-picker-container {\n    width: 172px;\n    border-left: solid 1px #fff;\n}\n\n/* Palettes */\n.sp-palette-container {\n    border-right: solid 1px #ccc;\n}\n\n.sp-palette-only .sp-palette-container {\n    border: 0;\n}\n\n.sp-palette .sp-thumb-el {\n    display: block;\n    position:relative;\n    float:left;\n    width: 24px;\n    height: 15px;\n    margin: 3px;\n    cursor: pointer;\n    border:solid 2px transparent;\n}\n.sp-palette .sp-thumb-el:hover, .sp-palette .sp-thumb-el.sp-thumb-active {\n    border-color: orange;\n}\n.sp-thumb-el {\n    position:relative;\n}\n\n/* Initial */\n.sp-initial {\n    float: left;\n    border: solid 1px #333;\n}\n.sp-initial span {\n    width: 30px;\n    height: 25px;\n    border:none;\n    display:block;\n    float:left;\n    margin:0;\n}\n\n.sp-initial .sp-clear-display {\n    background-position: center;\n}\n\n/* Buttons */\n.sp-palette-button-container,\n.sp-button-container {\n    float: right;\n}\n\n/* Replacer (the little preview div that shows up instead of the <input>) */\n.sp-replacer {\n    margin:0;\n    overflow:hidden;\n    cursor:pointer;\n    padding: 4px;\n    display:inline-block;\n    *zoom: 1;\n    *display: inline;\n    border: solid 1px #91765d;\n    background: #eee;\n    color: #333;\n    vertical-align: middle;\n}\n.sp-replacer:hover, .sp-replacer.sp-active {\n    border-color: #F0C49B;\n    color: #111;\n}\n.sp-replacer.sp-disabled {\n    cursor:default;\n    border-color: silver;\n    color: silver;\n}\n.sp-dd {\n    padding: 2px 0;\n    height: 16px;\n    line-height: 16px;\n    float:left;\n    font-size:10px;\n}\n.sp-preview {\n    position:relative;\n    width:25px;\n    height: 20px;\n    border: solid 1px #222;\n    margin-right: 5px;\n    float:left;\n    z-index: 0;\n}\n\n.sp-palette {\n    *width: 220px;\n    max-width: 220px;\n}\n.sp-palette .sp-thumb-el {\n    width:16px;\n    height: 16px;\n    margin:2px 1px;\n    border: solid 1px #d0d0d0;\n}\n\n.sp-container {\n    padding-bottom:0;\n}\n\n\n/* Buttons: http://hellohappy.org/css3-buttons/ */\n.sp-container button {\n  background-color: #eeeeee;\n  background-image: -webkit-linear-gradient(top, #eeeeee, #cccccc);\n  background-image: -moz-linear-gradient(top, #eeeeee, #cccccc);\n  background-image: -ms-linear-gradient(top, #eeeeee, #cccccc);\n  background-image: -o-linear-gradient(top, #eeeeee, #cccccc);\n  background-image: linear-gradient(to bottom, #eeeeee, #cccccc);\n  border: 1px solid #ccc;\n  border-bottom: 1px solid #bbb;\n  border-radius: 3px;\n  color: #333;\n  font-size: 14px;\n  line-height: 1;\n  padding: 5px 4px;\n  text-align: center;\n  text-shadow: 0 1px 0 #eee;\n  vertical-align: middle;\n}\n.sp-container button:hover {\n    background-color: #dddddd;\n    background-image: -webkit-linear-gradient(top, #dddddd, #bbbbbb);\n    background-image: -moz-linear-gradient(top, #dddddd, #bbbbbb);\n    background-image: -ms-linear-gradient(top, #dddddd, #bbbbbb);\n    background-image: -o-linear-gradient(top, #dddddd, #bbbbbb);\n    background-image: linear-gradient(to bottom, #dddddd, #bbbbbb);\n    border: 1px solid #bbb;\n    border-bottom: 1px solid #999;\n    cursor: pointer;\n    text-shadow: 0 1px 0 #ddd;\n}\n.sp-container button:active {\n    border: 1px solid #aaa;\n    border-bottom: 1px solid #888;\n    -webkit-box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\n    -moz-box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\n    -ms-box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\n    -o-box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\n    box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\n}\n.sp-cancel {\n    font-size: 11px;\n    color: #d93f3f !important;\n    margin:0;\n    padding:2px;\n    margin-right: 5px;\n    vertical-align: middle;\n    text-decoration:none;\n\n}\n.sp-cancel:hover {\n    color: #d93f3f !important;\n    text-decoration: underline;\n}\n\n\n.sp-palette span:hover, .sp-palette span.sp-thumb-active {\n    border-color: #000;\n}\n\n.sp-preview, .sp-alpha, .sp-thumb-el {\n    position:relative;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);\n}\n.sp-preview-inner, .sp-alpha-inner, .sp-thumb-inner {\n    display:block;\n    position:absolute;\n    top:0;left:0;bottom:0;right:0;\n}\n\n.sp-palette .sp-thumb-inner {\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\n.sp-palette .sp-thumb-light.sp-thumb-active .sp-thumb-inner {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIVJREFUeNpiYBhsgJFMffxAXABlN5JruT4Q3wfi/0DsT64h8UD8HmpIPCWG/KemIfOJCUB+Aoacx6EGBZyHBqI+WsDCwuQ9mhxeg2A210Ntfo8klk9sOMijaURm7yc1UP2RNCMbKE9ODK1HM6iegYLkfx8pligC9lCD7KmRof0ZhjQACDAAceovrtpVBRkAAAAASUVORK5CYII=);\n}\n\n.sp-palette .sp-thumb-dark.sp-thumb-active .sp-thumb-inner {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAMdJREFUOE+tkgsNwzAMRMugEAahEAahEAZhEAqlEAZhEAohEAYh81X2dIm8fKpEspLGvudPOsUYpxE2BIJCroJmEW9qJ+MKaBFhEMNabSy9oIcIPwrB+afvAUFoK4H0tMaQ3XtlrggDhOVVMuT4E5MMG0FBbCEYzjYT7OxLEvIHQLY2zWwQ3D+9luyOQTfKDiFD3iUIfPk8VqrKjgAiSfGFPecrg6HN6m/iBcwiDAo7WiBeawa+Kwh7tZoSCGLMqwlSAzVDhoK+6vH4G0P5wdkAAAAASUVORK5CYII=);\n}\n\n.sp-clear-display {\n    background-repeat:no-repeat;\n    background-position: center;\n    background-image: url(data:image/gif;base64,R0lGODlhFAAUAPcAAAAAAJmZmZ2dnZ6enqKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq/Hx8fLy8vT09PX19ff39/j4+Pn5+fr6+vv7+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAihAP9FoPCvoMGDBy08+EdhQAIJCCMybCDAAYUEARBAlFiQQoMABQhKUJBxY0SPICEYHBnggEmDKAuoPMjS5cGYMxHW3IiT478JJA8M/CjTZ0GgLRekNGpwAsYABHIypcAgQMsITDtWJYBR6NSqMico9cqR6tKfY7GeBCuVwlipDNmefAtTrkSzB1RaIAoXodsABiZAEFB06gIBWC1mLVgBa0AAOw==);\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"redact-contextmenu",fragment:{template:'\n            <contextmenu name="fv--redact-contextmenu">\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-apply></contextmenu-item-apply>\n                <contextmenu-item-apply-all></contextmenu-item-apply-all>\n                <contextmenu-item-place></contextmenu-item-place>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-place",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-redact-place" @controller="annot-opr:ShowRedactPlaceDialogController">contextmenu.annot.place</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-apply-all",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-apply-all" @controller="annot-opr:ApplyAllRedactController">contextmenu.annot.applyAll</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-apply",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-apply" @controller="annot-opr:ApplyRedactController">contextmenu.annot.apply</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoom-actual-size",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-zoom-actual-size" action=\'1\' @controller="zoom:ContextMenuZoomActionController">contextmenu.page.actual-size</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(256));e.default={name:"contextmenu-item-marquee-zoom",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-marquee-zoom">contextmenu.tools.marqueeZoom</contextmenu-item>',config:{target:"fv--contextmenu-item-marquee-zoom",callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-select-tool",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-select-tool" @controller="states:SelectTextAnnotationController">contextmenu.tools.selectTool</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-hand-tool",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-hand-tool" @controller="states:HandController">contextmenu.tools.handTool</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-copy-text",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-copy-text" @controller="annot-opr:CopyAnnotTextController">contextmenu.annot.copy</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-search",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-search" @controller="annot-opr:ShowSearchPanelController"  shortcut="Ctrl + F">contextmenu.page.search</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-media-download",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-media-download" @controller="annot-opr:MediaDownloadController">contextmenu.annot.download</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-annot-actions",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-annot-actions" @controller="annot-opr:ShowActionsController">contextmenu.annot.actions</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-delete-annot",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-delete-annot" @controller="annot-opr:DeleteAnnotController">contextmenu.annot.delete</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-properties",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-properties" @controller="annot-opr:ShowAnnotPropertiesController">contextmenu.annot.properties</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-reply",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-reply" @controller="annot-opr:ShowAnnotReplyController">contextmenu.annot.reply</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-nav-nextpage",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-nav-nextpage" @controller="gotoview:GotoNextPageController">contextmenu.page.nextpage</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-nav-prevpage",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-nav-prevpage" @controller="gotoview:GotoPrevPageController">contextmenu.page.prevpage</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoom-fitwidth",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-zoom-fitwidth" action="fitWidth" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitWidth</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoom-fitpage",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-zoom-fitpage" action="fitHeight" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitPage</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoomout",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-zoomout" action=\'zoomout\' @controller="zoom:ZoomInAndOutController">contextmenu.page.zoomout</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoomin",fragment:{template:'<contextmenu-item name="fv--conextmenu-item-zoomin" action=\'zoomin\' @controller="zoom:ZoomInAndOutController">contextmenu.page.zoomin</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"textmarkup-contextmenu",fragment:{template:"\n            <contextmenu name='fv--textmarkup-contextmenu'>\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-copy-text></contextmenu-item-copy-text>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"page-contextmenu",fragment:{template:'\n        <contextmenu name="fv--page-contextmenu">\n            <full-screen:contextmenu-item-fullscreen></full-screen:contextmenu-item-fullscreen>\n            <contextmenu-separator @require-modules="full-screen" @hide-on-device="ios"></contextmenu-separator>\n            <contextmenu-item-select-tool></contextmenu-item-select-tool>\n            <contextmenu-item-hand-tool></contextmenu-item-hand-tool>\n            <contextmenu-item-marquee-zoom></contextmenu-item-marquee-zoom>\n            <contextmenu-separator></contextmenu-separator>\n\n            <contextmenu-item-zoom-actual-size></contextmenu-item-zoom-actual-size>\n            <contextmenu-item-zoom-fitpage></contextmenu-item-zoom-fitpage>\n            <contextmenu-item-zoom-fitwidth></contextmenu-item-zoom-fitwidth>\n            \n            <contextmenu-separator></contextmenu-separator>\n            <print:contextmenu-item-print></print:contextmenu-item-print>\n            <contextmenu-item-search></contextmenu-item-search>\n            <contextmenu-separator @require-modules="fpmodule"></contextmenu-separator>\n            <fpmodule:contextmenu-item-file-property></fpmodule:contextmenu-item-file-property>\n        </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"media-contextmenu",fragment:{template:'\n            <contextmenu name="fv--media-contextmenu">\n                <contextmenu-item-media-download></contextmenu-item-media-download>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"freetext-contextmenu",fragment:{template:"\n            <contextmenu name='fv--freetext-contextmenu'>\n                <contextmenu-item-copy></contextmenu-item-copy>\n                <contextmenu-item-cut></contextmenu-item-cut>\n                <contextmenu-item-paste></contextmenu-item-paste>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"markup-contextmenu",fragment:{template:"\n        <contextmenu name='fv--markup-contextmenu'>\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-item-copy></contextmenu-item-copy>\n            <contextmenu-item-cut></contextmenu-item-cut>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-paste></contextmenu-item-paste>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"comment-card-contextmenu",fragment:{template:'\n            <contextmenu name="fv--comment-card-contextmenu">\n                <contextmenu-item>Reply</contextmenu-item>\n                <contextmenu-item>Copy</contextmenu-item>\n                <contextmenu-item>Paste</contextmenu-item>\n                <contextmenu-item>Delete</contextmenu-item>\n                <contextmenu-item>Properties</contextmenu-item>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"fileattachment-contextmenu",fragment:{template:'\n            <contextmenu name="fv--fileattachment-contextmenu">\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-copy></contextmenu-item-copy>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"default-annot-contextmenu",fragment:{template:'\n        <contextmenu name="fv--default-annot-contextmenu">\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"action-annot-contextmenu",fragment:{template:'\n            <contextmenu name="fv--action-annot-contextmenu">\n                <contextmenu-item-copy></contextmenu-item-copy>\n                <contextmenu-separator visible="false"></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-annot-actions></contextmenu-item-annot-actions>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-square-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreateSquareController" name="create-square" icon-class="fv__icon-toolbar-square">toolbar.buttons.square</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-polyline-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreatePolylineController" name="create-polyline" icon-class="fv__icon-toolbar-polyline">toolbar.buttons.polyline</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-polygon-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreatePolygonController" name="create-polygon" icon-class="fv__icon-toolbar-polygon">toolbar.buttons.polygon</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-line-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreateLineController" name="create-line" icon-class="fv__icon-toolbar-line">toolbar.buttons.line</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-cloud-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreatePolygonCloudController" name="create-cloud" icon-class="fv__icon-toolbar-cloud">toolbar.buttons.cloud</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-circle-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreateCircleController" name="create-circle" icon-class="fv__icon-toolbar-circle">toolbar.buttons.circle</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-arrow-dropdown-button",fragment:{template:'<dropdown-button @controller="states:CreateArrowController" name="create-arrow" icon-class="fv__icon-toolbar-arrow">toolbar.buttons.arrow</dropdown-button>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"layer-sidebar-panel",fragment:{template:'\n            <sidebar-panel name="sidebar-layers" title="sidebar.layers.title" icon-class="fv__icon-sidebar-page-manager">\n                <pdflayer-pane></pdflayer-pane>\n            </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pdflayer-pane",fragment:{template:'<layer:pdflayers @controller="layer:LayerSidebarPanelController" name="fv-layer-sidebar-panel"></layer:pdflayers>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search-sidebar-panel",fragment:{template:'\n            <sidebar-panel name="sidebar-search" title="sidebar.search.title" icon-class="fv__icon-sidebar-search" @controller="search:SearchSidebarPanelController">\n                <search-pane></search-pane>\n            </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search-pane",fragment:{template:'<search:search-panel name="fv-search-sidebar-panel" @controller="search:SearchController"></search:search-panel>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bookmark-sidebar-panel",fragment:{template:'\n        <sidebar-panel name="sidebar-bookmark" title="sidebar.bookmark.title" icon-class="fv__icon-sidebar-bookmark">\n            <bookmark></bookmark>\n        </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bookmark",fragment:{template:'<bookmark-panel name="fv-bookmark-sidebar-panel" @controller="bookmark:BookmarkSidebarPanelController"></bookmark-panel>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"thumbnail-sidebar-panel",fragment:{template:'\n        <sidebar-panel name="sidebar-thumbnail" title="sidebar.thumbnail.title"  class="fv__sidebar-thumbnail" icon-class="fv__icon-sidebar-thumbnail">\n            <thumbnails></thumbnails>\n        </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"thumbnails",fragment:{template:'<thumbnail:thumbnail-panel name="fv-thumbnail-panel" @controller="thumbnail:ThumbSidebarPanelController">\n                        <template>\n                            <contextmenu name="fv--thumbnail-contextmenu" @controller="thumbnail:ThumbnailContextMenuController as tcmc">\n                                <contextmenu-item @on.click="tcmc.rotateLeft()" name="contextmenu-item-thumbnail-rotate-left">sidebar.thumbnail.contextmenu.rotateLeft</contextmenu-item>\n                                <contextmenu-item @on.click="tcmc.rotateRight()" name="contextmenu-item-thumbnail-rotate-right">sidebar.thumbnail.contextmenu.rotateRight</contextmenu-item>\n                                <contextmenu-separator></contextmenu-separator>\n                                <contextmenu-item @on.click="tcmc.addBlankPage()" name="contextmenu-item-thumbnail-add-blank-page">sidebar.thumbnail.contextmenu.addBlankPage</contextmenu-item>\n                                <contextmenu-separator></contextmenu-separator>\n                                <contextmenu-item @on.click="tcmc.deletePage()" name="contextmenu-item-thumbnail-delete">sidebar.thumbnail.contextmenu.delete</contextmenu-item>\n                            </contextmenu>\n                        </template>\n                    </thumbnail:thumbnail-panel>'}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<comment-list:comment-list name="commentlist" @controller="comment-list:CommentListController as commentList">\n    <comment-list:comment-group @foreach="page in pages track by getId()" @controller="comment-list:CommentGroupController as commentGroup">\n        <comment-list:comment @foreach="annot in annots track by id" @controller="comment-list:CommentItemController as comment" @bind.annot="annot" @on.click="onClick" @on.dblclick="onDoubleClick" @on.publish="onPublish" @on.reply="onReply">\n            <comment-list:reply @foreach="replyItem in replies track by id" @controller="comment-list:CommentReplyController as reply"  @on.click="onClick" @on.dblclick="onDoubleClick" @on.reply="updateReplyMessage"></comment-list:reply>\n        </comment-list:comment>\n    </comment-list:comment-group>\n</comment-list:comment-list>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(516));e.default={name:"commentlist",fragment:{template:(0,o.default)()}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<comment-list:sidebar-panel name="comment-list-sidebar-panel" title="sidebar.commentlist.title" class="fv__biz-sidebar-comment-list" icon-class="fv__icon-sidebar-comment-list">\n    <commentlist></commentlist>\n</comment-list:sidebar-panel>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(518));e.default={name:"commentlist-sidebar-panel",fragment:{template:(0,o.default)()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"attachment-sidebar-panel",fragment:{template:'\n            <sidebar-panel \n                name="sidebar-attachment" \n                title="sidebar.attachment.title" \n                icon-class="fv__icon-sidebar-attachment" \n                >\n                    <attachment:attachment-panel name="fv-attachment-sidebar-panel" @controller="attachment:AttachmentSidebarPanelController as attachment"></attachment:attachment-panel>\n            </sidebar-panel>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"quick-search-tool",fragment:{template:'<quick-search:quick-search name="top-quick" @controller="quick-search:QuickSearchController"></quick-search:quick-search>'}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<dropdown @tooltip tooltip-title="toolbar.tooltip.sign.title" icon-class="fv__icon-toolbar-inksign" popup-class="fv__ui-sign-dropdown-list" class="fv__ui-sign-dropdown" text="toolbar.tooltip.sign.name">\n    <div  class="fv__ui-sign-list">\n        <div  name="signature-list" class="pdf-sign-list">\n            <inksign:signItem  @foreach="signature in signatures" @permission="8" @controller="inksign:InkSignItemController"></inksign:signItem>\n        </div>\n    </div>\n    <dropdown-button class="fv__ui-sign-item" name="create-signature-btn" icon-class="fv__icon-toolbar-add-sign" >\n        toolbar.create.sign\n    </dropdown-button>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1344);var o=a(n(522)),r=a(n(268)),i=a(n(266));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"ink-sign-dropdown",fragment:{template:(0,o.default)(),config:[{target:"signature-list",callback:r.default},{target:"create-signature-btn",callback:i.default}]}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer name="create-signature" class="fv__ui-sign-layer center" append-to="body" @draggable>\n    <div class="fv__ui-sign-dialog" @stop-drag>\n        <layer-header title="dialog.signDialog.title"></layer-header>\n        \x3c!-- <div class="fv__ui-sign-dialog-header">\n            <div class="fv__ui-sign-dialog-title" data-i18n="dialog.signDialog.title"></div>\n            <i name="sign-dialog-close-icon">Ã</i>\n        </div> --\x3e\n        <div class="fv__ui-sign-dialog-body">\n            <div class="fv__ui-sign-dialog-tools">\n                <div class="fv__ui-sign-dialog-color"  name="sign-dialog-select-color">\n                    <span class="circle color-wrapper" data-color="#000000"><i class="circle color-icon color-1"></i></span>\n                    <span class="circle color-wrapper" data-color="#000066"><i class="circle color-icon color-2"></i></span>\n                    <span class="circle color-wrapper" data-color="#330066"><i class="circle color-icon color-3"></i></span>\n                    <span class="circle color-wrapper" data-color="#0000cc"><i class="circle color-icon color-4"></i></span>\n                </div>\n                <div class="fv__ui-sign-dialog-size"  name="sign-dialog-select-size">\n                    <span class="circle color-wrapper ml-20" data-size="4"><i class="circle size-icon-1 color-5"></i></span>\n                    <span class="circle color-wrapper" data-size="6"><i class="circle size-icon-2 color-5"></i></span>\n                    <span class="circle color-wrapper" data-size="8"><i class="circle size-icon-3 color-5"></i></span>\n                    <span class="circle color-wrapper" data-size="10"><i class="circle size-icon-4 color-5"></i></span>\n                </div>\n                <div class="fv__ui-sign-dialog-eraser"><i class="fv__icon-toolbar-clear fv__ui-sign-dialog-icon ml-20" name="sign-dialog-select-eraser"></i></div>\n            </div>\n            <div class="fv__ui-sign-dialog-canvas">\n                <canvas id="createSignature" name="sign-dialog-canvas"></canvas>\n            </div>\n        </div>\n        <div class="fv__ui-sign-dialog-footer">\n            <div class="fv__ui-sign-dialog-save">\n                <label>\n                    <input id="sign-dialog-save-checkbox"  name="sign-dialog-save" type="checkbox" checked="checked"/>\n                    <span data-i18n="dialog.signDialog.save"></span>\n                </label>\n            </div>\n            <div class="fv__ui-sign-dialog-btns">\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-cancel" data-i18n="dialog.signDialog.cancel" name="sign-dialog-close-btn"></button>\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-ok" data-i18n="dialog.signDialog.ok" name="sign-dialog-ok-btn"></button>\n            </div>\n        </div>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1346);var o=function(t){return t&&t.__esModule?t:{default:t}}(n(524)),r=n(267);e.default={name:"create-ink-sign-dialog",fragment:{template:(0,o.default)(),config:{target:"create-signature",callback:r.CreateInkSignDialogController}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(183));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.default={name:"stamp-listbox",fragment:{template:'<listbox name="create-stamp-ui" catalog=""></listbox>',config:{target:"create-stamp-ui",callback:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e.prototype.mounted=function(){t.prototype.mounted.call(this);var e=this.getPDFUI().defaultStamps;"create-stamp-ui"===this.component.name&&this.component.updateListData(e)},e}(o.default)}}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer name="create-stamp-dialog" class="fv__popup-dialog center fv__ui-stamp-dialog" @resizable backdrop>\n    <layer-header title="stamp.dialog.title"></layer-header>\n    <div class="fv__popup-stamp-body">\n        <stamp:stamp-create name="create-stamp-body">\n        </stamp:stamp-create>\n    </div>\n    <layer-toolbar class="fv__ui-create-stamp-bottom-bar">\n        <div data-action="Cancle" class="fv__stamp-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.cancel</div>\n        <div data-action="OK" class="fv__stamp-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.ok</div>\n    </layer-toolbar>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(527));e.default={name:"create-stamp-dialog",fragment:{template:(0,o.default)()}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<dropdown @tooltip tooltip-title="toolbar.tooltip.stamp.title" icon-class="fv__icon-toolbar-stamp" popup-class="fv__ui-stamplist-dropdown">\n    <div class="fv__ui-stamps-list">\n        <dropdown-item name="create-custom-stamps" class="fv__ui-custom-stamps">\n        </dropdown-item>\n        <dropdown-item name="create-stamp-dropdown" class="fv__ui-template-stamps">\n            <stamp-listbox></stamp-listbox>\n        </dropdown-item>\n    </div>\n    <div>\n        <div handleon="click" class="fv__ui-custom-stamp-title" name="add-custom-stamp">\n            <xbutton icon-class="fv__icon-toolbar-stamp"></xbutton>\n            <div style=\'display:inline-block;position: absolute;\'><text>toolbar.stamp.customStamps</text></div>\n        </div>\n    </div>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(529)),r=s(n(183)),i=s(n(269)),a=s(n(177));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"stamp-dropdown",fragment:{template:(0,o.default)({stamps:a.default}),config:[{target:"create-stamp-dropdown",callback:r.default},{target:"add-custom-stamp",callback:i.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(22),i=p(n(37)),a=p(n(42)),s=p(n(21)),u=p(n(1)),c=p(n(36)),l=n(13),f=p(n(3));function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"square"));return o.pdfViewer=n,o.cursorStyle="fv__cursor-marquee",o.destroyHooks=[],o}return d(e,t),e.getStateName=function(){return l.STATE_HANDLER_MARQUEE},e.prototype.start=function(t,e){var n=e.left,o=e.top;this.shapeControl||(this.shapeControl=new i.default({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(t.$handler,{left:n,top:o,width:0,height:0},{left:n,top:o,right:n,bottom:o}))},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var i=this.hammer=new s.default.Manager(n),a=t.$handler;i.add(new s.default.Pan({direction:s.default.DIRECTION_ALL}));var l=void 0;i.on("panstart",function(o){e.startPoint=(0,c.default)(n,o);var i=e.startPoint.x,a=e.startPoint.y;e.start(t,{left:i,top:a}),l=new r.DebouncePromiseQueue}),i.on("panmove",function(t){e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},l.push(function(){return e.adjust(e.shapeControl,e.startPoint,e.currentPoint)})}),i.on("panend",function(t){if(!e.isStart){var n=o(t.pointers,1)[0];e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},e.isStart=!0,setTimeout(function(){e.isStart=!1},500),l.push(function(){return e.adjust(e.shapeControl,e.startPoint,e.currentPoint)}),l.end(),n.ctrlKey||n.metaKey||n.shiftKey?e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomOut,e.shapeControl.shape.shape,e.pageRender.index):e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomIn,e.shapeControl.shape.shape,e.pageRender.index),e.shapeControl.destroy(),e.shapeControl=null}}),i.on("pancancel",function(t){l.end(),e.shapeControl.destroy(),e.shapeControl=null});var p=function(t,o){n.addEventListener(t,o),e.destroyHooks.push(function(){n.removeEventListener(t,o)})};p("click",function(n){if(!e.isStart){e.isStart=!0,setTimeout(function(){e.isStart=!1},500);var o=n.layerX,r=n.layerY;e.start(t,{left:o,top:r}),e.shapeControl.shape.shape.clientX=n.clientX,e.shapeControl.shape.shape.clientY=n.clientY,n.ctrlKey||n.metaKey||n.shiftKey?e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomOut,e.shapeControl.shape.shape,e.pageRender.index):e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomIn,e.shapeControl.shape.shape,e.pageRender.index),e.shapeControl.destroy(),e.shapeControl=null}}),p("contextmenu",function(t){t.stopPropagation(),t.preventDefault()}),(0,u.default)(document).on("keydown",function(t){(t.ctrlKey||t.metaKey||t.shiftKey)&&a.css("cursor","-webkit-zoom-out")}),(0,u.default)(document).on("keyup",function(t){16!=t.keyCode&&17!=t.keyCode&&91!=t.keyCode||a.css("cursor","")})},e.prototype.adjust=function(t,e,n){var o,r,i=e.x,a=e.y,s=n.x,u=n.y,c=Math.abs(i-s),l=Math.abs(a-u),f={left:o=Math.min(i,s),top:r=Math.min(a,u),width:c=Math.max(c,1),height:l=Math.max(l,1)},p={left:o,top:r,right:o+c,bottom:r+l};t._applyAnnotBoundary(f),t.shape.boundary=p,t.shape.shape=f,t._updatePreviewer()},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),(0,u.default)(document).off("keydown"),(0,u.default)(document).off("keyup"),this.pageRender.$handler.off("mousedown"),this.destroyHooks.forEach(function(t){return t()})},e}(a.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(256));e.default={name:"marquee-tool-button",fragment:{template:'<xbutton \n                    name="marquee-button" \n                    icon-class="fv__icon-toolbar-marquee"\n                    class="fv__ui-toolbar-show-text-button"\n                    @tooltip\n                >toolbar.buttons.marquee</xbutton>',config:{target:"marquee-button",tooltip:{title:"toolbar.tooltip.marquee.title"},callback:o.default}}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer name="loupe-tool-dialog" append-to="body" class="fv__ui-loupe-tool-dialog" @resizable>\n    <layer-header class="fv__ui-loupe-tool-header" title="loupe.title" @draggable="{type: \'parent\'}"></layer-header>\n    <layer-view class="fv__ui-loupe-body">\n    </layer-view>\n    <layer-toolbar class="loupe-tool-bottom-bar" visible="false">\n        <dropdown name="loupe-tool-zoom-dropdown" @controller="loupe:LoupeToolScaleListController" editable="true">\n            <dropdown-button @foreach="scaleItem in scaleList track by value" @controller="loupe:LoupeToolScaleController" @bind.text="scaleItem.text"></dropdown-button>\n        </dropdown>\n        <slider name="loupe-tool-zoom-slider" min="50" max="600" step="1"></slider>\n        <checkbox name="loupe-tool-lock">loupe.lockButton</checkbox>\n    </layer-toolbar>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(533));e.default={name:"loupe-tool-dialog",fragment:{template:(0,o.default)(),config:[{target:"loupe-tool-zoom-dropdown",editOptions:{step:1,template:"${value}%"}}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(270));e.default={name:"loupe-tool-button",fragment:{template:'<xbutton \n                    name="loupe-button" \n                    icon-class="fv__icon-toolbar-magnifier"\n                    class="fv__ui-toolbar-show-text-button"\n                    @tooltip\n                >toolbar.tools.loupe</xbutton>',config:{target:"loupe-button",tooltip:{title:"toolbar.tooltip.loupe.title"},callback:o.default}}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-screenshot-area">\n    <div class="fv__ui-screenshot-dashed-box">\n    </div>\n    <div class="fv__ui-screenshot-tools">\n        <a href="javascript:;" action="ok" data-i18n="[title]screenshot.tips.ok">\n            <i class="fv__icon-screenshot-ok"></i>\n        </a>\n        <a href="javascript:;" action="cancel" data-i18n="[title]screenshot.tips.cancel">\n            <i class="fv__icon-screenshot-cancel"></i>\n        </a>\n        <a href="javascript:;" action="download" data-i18n="[title]screenshot.tips.download">\n            <i class="fv__icon-screenshot-download"></i>\n        </a>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(536));n(1348);var r=a(n(85)),i=n(49);function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,o.default)(),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.relativeElement=e,this.render(),this.eventEmitter=new r.default}return t.prototype.render=function(){var t=document.createElement("div");t.innerHTML=s,this.element=t.firstElementChild,this.screenshotBoxElement=this.element.querySelector(".fv__ui-screenshot-dashed-box"),this.buttonElements=this.element.querySelectorAll("a[action]")},t.prototype.appendTo=function(t){return t.appendChild(this.element),this.parentElement=t,this},t.prototype.mounted=function(){var t=this;this.buttonElements.forEach(function(e){var n=e.getAttribute("action");e.addEventListener("click",function(e){t.eventEmitter.emit(n,t),pdfui.getPDFViewer().then(function(t){t.getStateHandlerManager().getCurrentStates().activedChildrenCount--})})}),pdfui.getPDFViewer().then(function(e){t.__esc_event=e.getKeyboardEventBinder(i.ANNOTATION_CREATING_BINDER).on(i.KEY_MAP_ESC_CREATING_DRAWING,function(e){t.eventEmitter.emit("cancel",t)})})},t.prototype.start=function(){return pdfui.getPDFViewer().then(function(t){var e=t.getStateHandlerManager().getCurrentStates();e.activedChildrenCount?e.activedChildrenCount++:e.activedChildrenCount=1}),this.element.classList.add("handling"),this},t.prototype.end=function(){return this.element.classList.remove("handling"),this},t.prototype.destroy=function(){return this.__esc_event&&this.__esc_event(),this.element.remove(),this},t.prototype.setRect=function(t){this.currentRect=t;var e=this.relativeElement.getBoundingClientRect(),n=this.parentElement.getBoundingClientRect(),o=t.right-t.left,r=t.bottom-t.top,i=e.left-n.left+t.left+this.parentElement.scrollLeft,a=e.top-n.top+t.top+this.parentElement.scrollTop;return this.element.style.cssText+="\n            left: "+i+"px;\n            top: "+a+"px;\n            height: "+r+"px;\n        ",this.screenshotBoxElement.style.cssText+="\n            width: "+o+"px;\n        ",this},t.prototype.updateRect=function(){this.currentRect&&this.setRect(this.currentRect)},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=a(n(36)),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return s(e,t),e.getStateName=function(){return"snapshot-tool"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);n.classList.add(this.cursorStyle);var o=new Hammer.Manager(n);this.hammer=o,o.add(new Hammer.Pan),t.getPDFPage().then(function(a){e.page=a,o.on("panstart",function(o){var s=(0,r.default)(n,o),u={x:s.x+o.deltaX,y:s.y+o.deltaY},c=e._resolvePointsToRect(a,s,u);e.pdfViewer.eventEmitter.emit(i.default.createSnapshotArea,t,c),e.startPoint={x:c.left,y:c.top}}),o.on("panmove",function(n){var o={x:e.startPoint.x+n.deltaX,y:e.startPoint.y+n.deltaY},r=e._resolvePointsToRect(a,e.startPoint,o);e.pdfViewer.eventEmitter.emit(i.default.updateSnapshotArea,t,r)}),o.on("panend",function(n){var o={x:e.startPoint.x+n.deltaX,y:e.startPoint.y+n.deltaY},r=e._resolvePointsToRect(a,e.startPoint,o);e.pdfViewer.eventEmitter.emit(i.default.stabilizedSnapshotArea,t,r)})})},e.prototype._resolvePointsToRect=function(t,e,n){var o=this.pageRender.getScale(),r=t.getPxWidth()*o,i=t.getPxHeight()*o;return{left:Math.max(0,Math.min(e.x,n.x)),right:Math.min(r,Math.max(e.x,n.x)),top:Math.max(0,Math.min(e.y,n.y)),bottom:Math.min(i,Math.max(e.y,n.y))}},e.prototype.destroyPageHandler=function(){(this.hammer&&this.hammer.destroy(),this.pageRender)&&this.pageRender.$handler.get(0).classList.remove(this.cursorStyle)},e}(o.IStateHandler);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(14)),r=l(n(538)),i=l(n(537)),a=l(n(6)),s=n(112),u=(l(n(117)),l(n(9))),c=n(5);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=a.default.getLogger("SnapshotToolController"),d=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default))}return f(e,t),e.getName=function(){return"SnapshotToolController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=void 0;this.getPDFUI().getPDFViewerRender().then(function(t){e.addDestroyHook(t.scrollWrap.addScrollEventListener(function(t){n&&n.updateRect()}))});var o=this.getComponentByName(c.WEBPDF_VIEWER_COMPONENT_NAME);this.addDestroyHook(this.getPDFUI().addViewerEventListener(u.default.createSnapshotArea,function(t,r){n&&n.destroy(),(n=new i.default(t.$handler.get(0))).start(),n.appendTo(o.element),n.setRect(r),e.pdfUI.localizer.localizeRecursive(n.element),n.mounted()}),this.getPDFUI().addViewerEventListener(u.default.updateSnapshotArea,function(t,e){n.setRect(e)}),this.getPDFUI().addViewerEventListener(u.default.stabilizedSnapshotArea,function(t,o){n.setRect(o),e.getPDFUI().getPDFViewer().then(function(r){r.takeSnapshot(t.index,o.left,o.top,o.right-o.left,o.bottom-o.top).then(function(t){return r.uploadImage(t).then(function(o){n.end(),n.eventEmitter.on("cancel",function(){n.destroy()}),n.eventEmitter.on("ok",function(){r.copySnapshot(o),e.afterTakesnapshotSuccess(),n.destroy()}),n.eventEmitter.on("download",function(){(0,s.download)(t,"snapshot.png","image/png"),n.destroy()})})}).catch(function(t){return e.afterTakesnapshotFailed(t)})})}),this.getPDFUI().addViewerEventListener(u.default.beforeZoomTo,function(){n&&n.destroy()}))},e.prototype.afterTakesnapshotSuccess=function(){p.debug("take snapshot success!")},e.prototype.afterTakesnapshotFailed=function(t){throw t instanceof Error?t:new Error(t)},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={COMMENT_LIST_SIDEBAR_PANEL:"comment-list-sidebar-panel",COMMENT_LIST_EXPAND_ALL:"commentlist-expand-commentlist",COMMENT_LIST_COLLAPSE_ALL:"commentlist-collapse-commentlist",COMMENT_LIST_SHOW_ALL:"commentlist-show-all-comments",COMMENT_LIST_HIDE_ALL:"commentlist-hide-all-comments",COMMENT_PAGE_LIST:"sidebar-commentlist-pagelist",COMMENT_EXPORT_COMMENT:"commentlist-export-comment",COMMENT_IMPORT_COMMENT:"commentlist-import-comment",SNAPSHOT_BUTTON:"snapshot-button",SIDEBAR:"sidebar",BOOKMARK_SIDEBAR_PANEL:"sidebar-bookmark",THUMBNAIL_SIDEBAR_PANEL:"sidebar-thumbnail",LAYERS_SIDEBAR_PANEL:"sidebar-layers",SEARCH_SIDEBAR_PANEL:"sidebar-search",ATTACHMENT_SIDEBAR_PANEL:"sidebar-attachment",TOOLBAR:"toolbar",TOOBAR_TABS:"toolbar-tabs",HOME_TAB:"home-tab",HOME_TOOLBAR_GROUP_LIST:"home-toolbar-group-list",HOME_TOOLBAR_GROUP_0:"home-tab-group-hand",HOME_TOOLBAR_GROUP_1:"home-tab-group-io",HOME_TOOLBAR_GROUP_2:"home-tab-group-nav",HOME_TOOLBAR_GROUP_3:"home-tab-group-zoom",HOME_TOOLBAR_GROUP_4:"home-tab-group-page",HOME_TOOLBAR_GROUP_5:"home-tab-group-magnifier",HOME_TOOLBAR_GROUP_6:"home-tab-group-marquee",COMMENT_TAB:"comment-tab",COMMENT_TOOLBAR_GROUP_LIST:"comment-toolbar-group-list",COMMENT_TOOLBAR_GROUP_0:"comment-tab-group-hand",COMMENT_TOOLBAR_GROUP_1:"comment-tab-group-mark",COMMENT_TOOLBAR_GROUP_2:"comment-tab-group-text",COMMENT_TOOLBAR_GROUP_3:"comment-tab-group-drawing",COMMENT_TOOLBAR_GROUP_4:"comment-tab-group-media",COMMENT_TOOLBAR_GROUP_5:"comment-tab-group-inksign",COMMENT_TOOLBAR_GROUP_6:"comment-tab-group-stamp",COMMENT_TOOLBAR_GROUP_7:"comment-tab-group-other",EDIT_TAB:"edit-tab",EDIT_TOOLBAR_GROUP_LIST:"edit-toolbar-group-list",EDIT_TOOLBAR_GROUP_0:"edit-tab-group-hand",EDIT_TOOLBAR_GROUP_1:"edit-tab-group-mode",EDIT_TOOLBAR_GROUP_2:"edit-tab-group-font",EDIT_TOOLBAR_GROUP_3:"edit-tab-group-layer",EDIT_TOOLBAR_GROUP_4:"edit-tab-group-redact",PROTECT_TAB:"protect-tab",PROTECT_TOOLBAR_GROUP_LIST:"protect-toolbar-group-list",PROTECT_TOOLBAR_GROUP_0:"protect-tab-group-hand",PROTECT_TOOLBAR_GROUP_1:"protect-tab-group-sign"};((function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e})(n(5))).COMPONENT_NAMES=o,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(540)),r=i(n(539));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"snapshot-button",fragment:{template:'<xbutton @tooltip name="'+o.default.SNAPSHOT_BUTTON+'" icon-class="fv__icon-toolbar-snapshot">toolbar.buttons.snapshot</xbutton>',config:{target:o.default.SNAPSHOT_BUTTON,callback:r.default,tooltip:{title:"toolbar.buttons.snapshot"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(279));e.default={name:"continuous-facing-page-button",fragment:{template:'\n            <xbutton @tooltip name="continuous-facing-page" icon-class="fv__icon-toolbar-facing-continuous-page">toolbar.tools.continuous-facing</xbutton>\n        ',config:{target:"continuous-facing-page",callback:o.default,tooltip:{title:"toolbar.tools.continuous-facing"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(142)),r=a(n(178)),i=(a(n(106)),a(n(9)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"FacingPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.openFileSuccess,function(t){var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then(function(t){var o=t.getViewMode().getName();n<2?e.component.disable():(e.component.enable(),o===e.viewModeName&&e.component.active())})});return this.addDestroyHook(o),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,function(){n.getPDFViewerRender().then(function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()})})),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,function(){n.getPDFViewerRender().then(function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()})})),t.prototype.mounted.call(this)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(543));e.default={name:"facing-page-button",fragment:{template:'\n            <xbutton @tooltip name="facing-page" icon-class="fv__icon-toolbar-double-page">toolbar.tools.facing</xbutton>\n        ',config:{target:"facing-page",callback:o.default,tooltip:{title:"toolbar.tools.facing"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(277));e.default={name:"continuous-page-button",fragment:{template:'\n            <xbutton @tooltip name="continuous-page" icon-class="fv__icon-toolbar-continuous-page">toolbar.tools.continuous-page</xbutton>\n        ',config:{target:"continuous-page",callback:o.default,tooltip:{title:"toolbar.tools.continuous-page"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(142)),r=a(n(106)),i=a(n(9));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"ContinuousPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI().addViewerEventListener(i.default.openFileSuccess,function(t){var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then(function(t){var o=t.getViewMode().getName();n<2&&o!==e.viewModeName&&e.getPDFUI().getViewModeManager().then(function(t){t.switchTo(r.default.getName())})})});return this.addDestroyHook(n),t.prototype.mounted.call(this)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(546));e.default={name:"single-page-button",fragment:{template:'\n            <xbutton @tooltip name="single-page" icon-class="fv__icon-toolbar-single-page">toolbar.tools.single-page</xbutton>\n        ',config:{target:"single-page",callback:o.default,tooltip:{title:"toolbar.tools.single-page"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(141));e.default={name:"zoom-out-button",fragment:{template:'\n            <xbutton @tooltip name="zoom-out" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</xbutton>\n        ',config:{target:"zoom-out",action:"zoomout",callback:o.default,tooltip:{title:"toolbar.buttons.zoomout"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(141));e.default={name:"zoom-in-button",fragment:{template:'\n            <xbutton @tooltip name="zoom-in" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</xbutton>\n        ',config:{target:"zoom-in",action:"zoomin",callback:o.default,tooltip:{title:"toolbar.buttons.zoomin"}}}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<dropdown name="dropdown-zoom" icon-class="fv__icon-toolbar-zoom-in" class="fv__ui-dropdown-hide-text">\n    <dropdown-button name="dropdown-zoom-in" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</dropdown-button>\n    <dropdown-button name="dropdown-zoom-out" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</dropdown-button>\n    <dropdown-button name="dropdown-zoom-fitpage" icon-class="fv__icon-toolbar-fit-page">toolbar.buttons.fitHeight</dropdown-button>\n    <dropdown-button name="dropdown-zoom-fitwidth" icon-class="fv__icon-toolbar-fit-width">toolbar.buttons.fitWidth</dropdown-button>\n    <li class="fv__ui-dropdown-separator"></li>\n    <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:ZoomToScaleValueController"></dropdown-button>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(140)),r=a(n(141)),i=a(n(550));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.prototype.handle=function(){t.prototype.handle.call(this),this.component.parent.select(this.component)},e}(r.default);e.default={name:"zoom-dropdown",fragment:{template:(0,i.default)(),config:[{target:"dropdown-zoom-in",action:"zoomin",callback:u},{target:"dropdown-zoom-out",action:"zoomout",callback:u},{target:"dropdown-zoom-fitpage",action:"fitHeight",callback:o.default},{target:"dropdown-zoom-fitwidth",action:"fitWidth",callback:o.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(9)),r=i(n(4));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=i(n(6)).default.getLogger("EditableZoomDropdownController"),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"EditableZoomDropdownController"},e.prototype.prelink=function(){var t=this;this.getPDFUI().getPDFViewer().then(function(e){var n=Math.max.apply(null,t.getPDFUI().customScalingValues),o=Math.min.apply(null,t.getPDFUI().customScalingValues),r=Math.min(o,e.config.minScale),i=Math.min(n,e.config.maxScale);t.component.toggler.setMinValue(100*r),t.component.toggler.setMaxValue(100*i),t.component.setEditTemplate(function(t){var n=e.getPDFDocRender();if(!n)return t+"%";var o=n.getScale();switch(o){case"fitWidth":case"fitHeight":return"toolbar.buttons."+o;default:return t+"%"}})}),this.component.on("change",function(e){var n=t.component.querySelectorAll('dropdown-button[iconCls=""]');s.debug(n),t.getPDFUI().zoomTo(e/100)});var e=function(){t.getPDFUI().getPDFViewerRender().then(function(t){return t.getScaleRatio()}).then(function(e){var n=Math.round(1e4*e)/100;t.component.setEditValue(n)})};this.addDestroyHook(this.getPDFUI().addViewerEventListener(o.default.beforeZoomTo,function(e){if("number"==typeof e){var n=Math.round(1e4*e)/100;t.component.setEditValue(n)}}),this.getPDFUI().addViewerEventListener(o.default.zoomToSuccess,e),this.getPDFUI().addViewerEventListener(o.default.openFileSuccess,e))},e}(r.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"EditableZoomActionController"},e.prototype.handle=function(){var e=this;t.prototype.handle.call(this),this.getPDFUI().getPDFViewerRender().then(function(t){return t.getScaleRatio()}).then(function(t){e.component.parent.setEditValue(100*t)})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(140)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(553)),r=i(n(552));function i(t){return t&&t.__esModule?t:{default:t}}n(1350),e.default={name:"editable-zoom-dropdown",fragment:{template:'\n        <dropdown name="editable-zoom-dropdown" class="fv__ui-editable_zoom_dropdown" editable="true">\n            <dropdown-button icon-class="fv__icon-toolbar-fit-page" name="editable-zoom-dropdown-fitpage">toolbar.buttons.fitHeight</dropdown-button>\n            <dropdown-button icon-class="fv__icon-toolbar-fit-width" name="editable-zoom-dropdown-fitwidth">toolbar.buttons.fitWidth</dropdown-button>\n            <li class="fv__ui-dropdown-separator"></li>\n            <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:EditableZoomToScaleValueController"></dropdown-button>\n        </dropdown>\n    ',config:[{target:"editable-zoom-dropdown-fitpage",action:"fitHeight",callback:o.default},{target:"editable-zoom-dropdown-fitwidth",action:"fitWidth",callback:o.default},{target:"editable-zoom-dropdown",editOptions:{type:"number",min:25,max:600,step:1,value:50,template:"${value}%"},callback:r.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(272));e.default={name:"add-image-button",fragment:{template:'<file-selector @tooltip name="image-tool" icon-class="fv__icon-edit-add-image" accept="image/*"></file-selector>',config:{target:"image-tool",isFileSelector:!0,callback:o.default,tooltip:{title:"toolbar.tooltip.add-image.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(271));e.default={name:"edit-image-button",fragment:{template:'<xbutton name="edit-image-button" icon-class="fv__icon-edit-add-image"></xbutton>',config:{target:"edit-image-button",callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(282));e.default={name:"selection-button",fragment:{template:'<xbutton name="selection-text-annotation" @tooltip icon-class="fv__icon-toolbar-select"></xbutton>',config:[{target:"selection-text-annotation",tooltip:{title:"toolbar.tooltip.select.title"},callback:o.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(292));e.default={name:"create-underline-button",fragment:{template:'<xbutton name="create-underline" @tooltip icon-class="fv__icon-toolbar-underline">toolbar.create.underline</xbutton>',config:{target:"create-underline",tooltip:{title:"toolbar.tooltip.underline.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(293));e.default={name:"create-note-button",fragment:{template:'<xbutton name="create-text" @tooltip icon-class="fv__icon-toolbar-note">toolbar.create.note</xbutton>',config:{target:"create-text",tooltip:{title:"toolbar.tooltip.note.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(294));e.default={name:"create-strikeout-button",fragment:{template:'<xbutton name="create-strikeout" @tooltip icon-class="fv__icon-toolbar-strikeout">toolbar.create.strikeout</xbutton>',config:{target:"create-strikeout",tooltip:{title:"toolbar.tooltip.strikeout.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(295));e.default={name:"create-squiggly-button",fragment:{template:'<xbutton name="create-squiggly" @tooltip icon-class="fv__icon-toolbar-squiggly">toolbar.create.squiggly</xbutton>',config:{target:"create-squiggly",tooltip:{title:"toolbar.tooltip.squiggly.title"},callback:o.default}}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<dropdown name="create-shape-dropdown" class="fv__ui-dropdown-hide-text">\n    <dropdown-button name="create-square" icon-class="fv__icon-toolbar-square">toolbar.buttons.square</dropdown-button>\n    <dropdown-button name="create-circle" icon-class="fv__icon-toolbar-circle">toolbar.buttons.circle</dropdown-button>\n    <dropdown-button name="create-line" icon-class="fv__icon-toolbar-line">toolbar.buttons.line</dropdown-button>\n    <dropdown-button name="create-arrow" icon-class="fv__icon-toolbar-arrow">toolbar.buttons.arrow</dropdown-button>\n    <dropdown-button name="create-polygon" icon-class="fv__icon-toolbar-polygon">toolbar.buttons.polygon</dropdown-button>\n    <dropdown-button name="create-polyline" icon-class="fv__icon-toolbar-polyline">toolbar.buttons.polyline</dropdown-button>\n    <dropdown-button name="create-cloud" icon-class="fv__icon-toolbar-cloud">toolbar.buttons.cloud</dropdown-button>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=h(n(562)),i=h(n(290)),a=h(n(289)),s=h(n(288)),u=h(n(286)),c=h(n(284)),l=h(n(283)),f=h(n(285)),p=h(n(4)),d=h(n(118));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=function(){function t(){m(this,t)}return t.prototype.stateIn=function(){this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.component.parent.element.classList.remove("selected")},t}();e.default={name:"create-drawings-dropdown",fragment:{template:(0,r.default)(),config:[{target:"create-shape-dropdown",callback:function(t){function e(){return m(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return g(e,t),e.prototype.postlink=function(){this.component.select(this.component.childAt(0))},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(p.default)},{target:"create-line",callback:d.default.mixin(i.default,y)},{target:"create-arrow",callback:d.default.mixin(a.default,y)},{target:"create-circle",callback:d.default.mixin(s.default,y)},{target:"create-square",callback:d.default.mixin(u.default,y)},{target:"create-polyline",callback:d.default.mixin(f.default,y)},{target:"create-polygon",callback:d.default.mixin(c.default,y)},{target:"create-cloud",callback:d.default.mixin(l.default,y)}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(296));e.default={name:"create-replace-button",fragment:{template:'<xbutton name="create-replace" @tooltip icon-class="fv__icon-toolbar-replace">toolbar.create.replace</xbutton>',config:{target:"create-replace",tooltip:{title:"toolbar.tooltip.replace.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(297));e.default={name:"create-pencil-button",fragment:{template:'<xbutton name="pencil-tool" @tooltip icon-class="fv__icon-toolbar-pencil">toolbar.buttons.pencil</xbutton>',config:{target:"pencil-tool",tooltip:{title:"toolbar.tooltip.pencil.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(298));e.default={name:"create-link-button",fragment:{template:'<xbutton name="create-link" @tooltip icon-class="fv__icon-toolbar-link" >toolbar.create.link</xbutton>',config:{target:"create-link",tooltip:{title:"toolbar.tooltip.link.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(299));e.default={name:"create-image-button",fragment:{template:'<xbutton name="create-image" @tooltip icon-class="fv__icon-toolbar-image">toolbar.create.image</xbutton>',config:{target:"create-image",tooltip:{title:"toolbar.tooltip.image.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(300));e.default={name:"create-text-highlight-button",fragment:{template:'<xbutton name="create-highlight" @tooltip icon-class="fv__icon-toolbar-text-highlight">toolbar.create.highlight</xbutton>',config:{target:"create-highlight",tooltip:{title:"toolbar.tooltip.highlight.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=s(n(21)),i=s(n(179)),a=(s(n(1)),n(32));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return u(e,t),e.getStateName=function(){return"createFreeTextBox"},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass("fv__create-stamp-state-handler "+this.cursorStyle);var n=e[0];(this.hammer=new r.default.Manager(n,{recognizers:[[r.default.Tap]]})).on("tap",function(e){var r=n.getBoundingClientRect(),s=e.srcEvent,u=(0,a.getClientX)(s),c=(0,a.getClientY)(s),l=[u-r.left,c-r.top],f=l[0],p=l[1];return t.getPDFPage().then(function(e){var n=e.reverseDevicePoint([f,p],t.scale),r=o(n,2),i=r[0],a=r[1],s=100,u=20;switch(e.getRotation()){case 1:case 3:var c=s;s=u,u=c}var l={type:"freetext",rect:{left:i,right:i+s,top:a+u/2,bottom:a-u/2},subject:"Textbox",page:0,"interior-color":16777215,rotate:e.getRotation(),flags:4};return e.addAnnot(l)}).then(function(e){var n=e[0],o=t.annotsRender.getAnnotRender(n.getId()).component;return t.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),i.default.edit(t,e)})})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler "+this.cursorStyle),this.__removeHandlerMouseEvent__&&this.__removeHandlerMouseEvent__()},e.prototype.out=function(){this.destroyPageHandler()},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(569));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateTextboxController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(570));e.default={name:"create-textbox-button",fragment:{template:'<xbutton name="freetext-textbox" @tooltip icon-class="fv__icon-toolbar-textbox" >toolbar.create.textbox</xbutton>',config:{target:"freetext-textbox",tooltip:{title:"toolbar.tooltip.textbox.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(21)),r=l(n(179)),i=l(n(356)),a=l(n(354)),s=l(n(1)),u=l(n(36)),c=n(32);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=void 0,d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return f(e,t),e.getStateName=function(){return"createFreeTextCallout"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass("fv__create-callout-state-handler "+this.cursorStyle),this.shapeDom=n.find(".fv__create-callout-canvas"),0==this.shapeDom.length&&(this.shapeDom=(0,s.default)('<canvas class="fv__create-callout-state-canvas" style="position:absolute"></canvas>'),n.append(this.shapeDom));var r=n[0],l=this.hammer=new o.default.Manager(r,{recognizers:[[o.default.Pan,{direction:o.default.DIRECTION_ALL}]]});this.calloutShape=this.calloutShape||new i.default(null,this.shapeDom);var f=void 0;l.on("panstart",function(e){var n=(0,u.default)(r,e);n=t.page.reverseDevicePoint([n.x,n.y],t.scale),p||(p=n)}).on("panend",function(t){p=null,e.addAnnot(f),e.calloutShape.hide()}).on("panmove",function(n){if(p){var o=t.page,i=r.getBoundingClientRect(),u=n.srcEvent,l=(0,c.getClientX)(u),d=(0,c.getClientY)(u),h=t.page.reverseDevicePoint([l-i.left,d-i.top],t.scale),g=a.default.calcCalloutPosition({start:p,end:h,width:o.getWidth(),height:o.getHeight(),rotate:o.getRotation(),borderStyle:{style:0},endingStyle:0});f=g;for(var m=[],y=0;y<3;y++)m.push(o.getDevicePoint([f.calloutLinePoints[y].x,f.calloutLinePoints[y].y],t.scale));var v=o.getDeviceRect(f.rect,t.scale),b=o.getDeviceRect(f.innerRect,t.scale);(0,s.default)(e.shapeDom).css({left:v.left,top:v.top}),e.calloutShape.show(m,v,b)}})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-callout-state-handler "+this.cursorStyle),p&&(p=null,this.calloutShape.hide())},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.addAnnot=function(t){var e=this.pageRender;return e.getPDFPage().then(function(e){var n=Object.assign({},{type:"freetext",intent:"FreeTextCallout",subject:"FreeTextCallout","interior-color":16777215,rotate:e.getRotation(),flags:4},t);return e.addAnnot(n)}).then(function(t){var n=t[0],o=e.annotsRender.getAnnotRender(n.getId()).component;return e.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),e.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),r.default.edit(e,t)})},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(572));function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(14)).default.ext(o.default,"CreateCalloutController",32);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(573));e.default={name:"create-callout-button",fragment:{template:'<xbutton name="freetext-callout" @tooltip icon-class="fv__icon-toolbar-callout" >toolbar.create.callout</xbutton>',config:{target:"freetext-callout",tooltip:{title:"toolbar.tooltip.callout.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=s(n(179)),i=s(n(21)),a=n(32);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return u(e,t),e.getStateName=function(){return"createFreeTextTypewriter"},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass("fv__create-stamp-state-handler "+this.cursorStyle);var n=e[0];(this.hammer=new i.default.Manager(n,{recognizers:[[i.default.Tap]]})).on("tap",function(e){var i=n.getBoundingClientRect(),s=e.srcEvent,u=(0,a.getClientX)(s),c=(0,a.getClientY)(s),l=[u-i.left,c-i.top],f=l[0],p=l[1];return t.getPDFPage().then(function(e){var n=e.reverseDevicePoint([f,p],t.scale),r=o(n,2),i=r[0],a=r[1],s=100,u=20;switch(e.getRotation()){case 1:case 3:var c=s;s=u,u=c}var l={type:"freetext",intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",rect:{left:i,right:i+s,top:a,bottom:a-u},page:0,contents:"",rotate:e.getRotation(),flags:4};return e.addAnnot(l)}).then(function(e){var n=e[0],o=t.annotsRender.getAnnotRender(n.getId()).component;return t.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),r.default.edit(t,e)})})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler "+this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(575));function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(14)).default.ext(o.default,"CreateTypewriterController",32);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(576));e.default={name:"create-typewriter-button",fragment:{template:'<xbutton name="freetext-typewriter" @tooltip icon-class="fv__icon-toolbar-typewriter" >toolbar.create.typewriter</xbutton>',config:{target:"freetext-typewriter",tooltip:{title:"toolbar.tooltip.typewriter.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(291));e.default={name:"eraser-button",fragment:{template:'<xbutton name="eraser-tool" @tooltip icon-class="fv__icon-toolbar-eraser">toolbar.buttons.eraser</xbutton>',config:{target:"eraser-tool",tooltip:{title:"toolbar.tooltip.eraser.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-distance-button",fragment:{template:'<xbutton @tooltip name="create-distance-btn" icon-class="fv__icon-toolbar-distance" @controller="distance:CreateDistanceController">toolbar.buttons.distance</xbutton>',config:{target:"create-distance-btn",tooltip:{title:"toolbar.buttons.distance"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(302));e.default={name:"create-caret-button",fragment:{template:'<xbutton name="create-caret" @tooltip icon-class="fv__icon-toolbar-insert">toolbar.create.caret</xbutton>',config:{target:"create-caret",tooltip:{title:"toolbar.tooltip.caret.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(303));e.default={name:"create-area-highlight-button",fragment:{template:'<xbutton name="create-area-highlight" @tooltip icon-class="fv__icon-toolbar-area-highlight">toolbar.create.areahighlight</xbutton>',config:{target:"create-area-highlight",tooltip:{title:"toolbar.tooltip.areaHighlight.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(301));e.default={name:"create-attachment-button",fragment:{template:'<xbutton name="create-fileattachment" @tooltip icon-class="fv__icon-toolbar-attachment">toolbar.create.fileattachment</xbutton>',config:{target:"create-fileattachment",tooltip:{title:"toolbar.tooltip.fileattachment.title"},callback:o.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"open-fromurl-button",fragment:{template:'\n            <xbutton \n                icon-class="fv__icon-toolbar-open-url" \n                accept=".pdf" \n                @controller="file:OpenRemoteFileController" \n                @tooltip tooltip-title="toolbar.buttons.openFromUrl"\n            >toolbar.buttons.openFromUrl</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"open-localfile-button",fragment:{template:'\n            <file-selector \n                icon-class="fv__icon-toolbar-open" \n                accept=".pdf" \n                @controller="file:OpenLocalFileController" \n                @tooltip tooltip-title="toolbar.buttons.openfile"\n            >toolbar.buttons.openfile</file-selector>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(274)),r=i(n(275));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"open-file-dropdown",fragment:{template:'\n            <dropdown name="open-file-button-list" icon-class="fv__icon-toolbar-open" @cannotBeDisabled>\n                <dropdown-button icon-class="fv__icon-toolbar-open" name="open-local-file" accept=".pdf" @cannotBeDisabled>toolbar.buttons.openfile</dropdown-button>\n                <dropdown-button icon-class="fv__icon-toolbar-open-url" name="open-from-url" accept=".pdf" @cannotBeDisabled>toolbar.buttons.openFromUrl</dropdown-button>\n            </dropdown>\n        ',config:[{target:"open-local-file",isFileSelector:!0,callback:o.default},{target:"open-from-url",callback:r.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"goto-next-page-button",fragment:{template:'\n            <xbutton \n                @tooltip\n                icon-class="fv__icon-toolbar-next-page"\n                name="goto-next-page"\n                @controller="gotoview:GotoNextPageController"\n            ></xbutton>\n        ',config:{target:"goto-next-page",tooltip:{title:"toolbar.tooltip.nextPage.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"goto-prev-page-button",fragment:{template:'\n            <xbutton\n                @tooltip\n                icon-class="fv__icon-toolbar-prev-page"\n                name="goto-prev-page"\n                @controller="gotoview:GotoPrevPageController"\n            ></xbutton>\n        ',config:{target:"goto-prev-page",tooltip:{title:"toolbar.tooltip.previousPage.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hand-button",fragment:{template:'<xbutton @tooltip name="hand-tool" icon-class="fv__icon-toolbar-hand" @controller="states:HandController"></xbutton>',config:{target:"hand-tool",tooltip:{title:"toolbar.tooltip.hand.title"}}}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-toolbar-gotopage">\n    <number min="1" @bind.attr.max="pageNumber" @bind.value="currentPageIndex" name="gotopage-input" @on.change="onchange" @on.keydown="onkeydown"></number> \n    <span class="fv__ui-toolbar-gotopage-sep">/</span> \n    <text @bind.text="pageNumber" name="gotopage-total">0</text>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(589)),r=a(n(280)),i=a(n(281));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"goto-page-input",fragment:{template:(0,o.default)(),config:[{target:"gotopage-input",callback:r.default},{target:"gotopage-total",callback:i.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"download-file-button",fragment:{template:'<xbutton @tooltip name="download-file-button" icon-class="fv__icon-toolbar-download" @controller="file:DownloadFileController">toolbar.buttons.download</xbutton>',config:{target:"download-file-button",tooltip:{title:"toolbar.buttons.download"}}}}},function(t,e,n){"use strict";var o=zt(n(7)),r=zt(n(591)),i=zt(n(590)),a=zt(n(588)),s=zt(n(587)),u=zt(n(586)),c=zt(n(585)),l=zt(n(584)),f=zt(n(583)),p=zt(n(582)),d=zt(n(581)),h=zt(n(580)),g=zt(n(579)),m=zt(n(578)),y=zt(n(577)),v=zt(n(574)),b=zt(n(571)),w=zt(n(568)),A=zt(n(567)),_=zt(n(566)),P=zt(n(565)),O=zt(n(564)),E=zt(n(563)),x=zt(n(561)),C=zt(n(560)),S=zt(n(559)),D=zt(n(558)),M=zt(n(557)),T=zt(n(556)),j=zt(n(555)),I=zt(n(554)),R=zt(n(551)),k=zt(n(549)),F=zt(n(548)),N=zt(n(547)),L=zt(n(545)),V=zt(n(544)),B=zt(n(542)),U=zt(n(541)),H=zt(n(535)),W=zt(n(534)),q=zt(n(532)),z=zt(n(530)),$=zt(n(528)),Y=zt(n(526)),G=zt(n(525)),K=zt(n(523)),Q=zt(n(521)),X=zt(n(520)),J=zt(n(519)),Z=zt(n(517)),tt=zt(n(515)),et=zt(n(514)),nt=zt(n(513)),ot=zt(n(512)),rt=zt(n(511)),it=zt(n(510)),at=zt(n(509)),st=zt(n(508)),ut=zt(n(507)),ct=zt(n(506)),lt=zt(n(505)),ft=zt(n(504)),pt=zt(n(503)),dt=zt(n(502)),ht=zt(n(501)),gt=zt(n(500)),mt=zt(n(499)),yt=zt(n(498)),vt=zt(n(497)),bt=zt(n(496)),wt=zt(n(495)),At=zt(n(494)),_t=zt(n(493)),Pt=zt(n(492)),Ot=zt(n(491)),Et=zt(n(490)),xt=zt(n(489)),Ct=zt(n(488)),St=zt(n(487)),Dt=zt(n(486)),Mt=zt(n(485)),Tt=zt(n(484)),jt=zt(n(483)),It=zt(n(482)),Rt=zt(n(481)),kt=zt(n(480)),Ft=zt(n(479)),Nt=zt(n(478)),Lt=zt(n(477)),Vt=zt(n(476)),Bt=zt(n(475)),Ut=zt(n(474)),Ht=zt(n(473)),Wt=zt(n(472)),qt=zt(n(471));function zt(t){return t&&t.__esModule?t:{default:t}}var $t=o.default.root();[a.default,U.default,s.default,u.default,i.default,r.default,c.default,l.default,f.default,p.default,d.default,h.default,g.default,m.default,y.default,v.default,b.default,w.default,A.default,_.default,P.default,O.default,E.default,x.default,C.default,S.default,D.default,M.default,T.default,j.default,I.default,R.default,k.default,F.default,N.default,L.default,V.default,B.default,H.default,W.default,q.default,$.default,z.default,Y.default,G.default,K.default,Q.default,X.default,J.default,Z.default,tt.default,et.default,nt.default,ot.default,rt.default,it.default,at.default,st.default,ut.default,ct.default,lt.default,ft.default,pt.default,dt.default,ht.default,gt.default,mt.default,yt.default,vt.default,bt.default,wt.default,At.default,_t.default,Pt.default,qt.default,Ot.default,Et.default,Bt.default,xt.default,Ct.default,Dt.default,St.default,Mt.default,Tt.default,jt.default,It.default,Rt.default,kt.default,Ft.default,Nt.default,Lt.default,Vt.default,Ut.default,Ht.default,Wt.default].forEach(function(t){Array.isArray(t)||(t=[t]),t.forEach(function(t){$t.registerFragment(t.name,t.fragment)})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(79)),r=a(n(72)),i=a(n(150));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ShowRedactPlaceDialogController"},e.prototype.useable=function(t){return!t.moveDisabled()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.component.element.addEventListener("mousedown",function(t){e.currentMouseX=t.pageX,e.currentMouseY=t.pageY})},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof r.default){var e=t.getCurrentTarget();e instanceof i.default&&e.showPlaceMarkDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(79)),r=a(n(150)),i=a(n(72));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ApplyAllRedactController"},e.prototype.useable=function(t){return!t.assembleDocDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof i.default){var e=t.getCurrentTarget();e instanceof r.default&&e.applyAll()}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(79)),r=a(n(150)),i=a(n(72));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ApplyRedactController"},e.prototype.useable=function(t){return!t.assembleDocDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof i.default){var e=t.getCurrentTarget();e instanceof r.default&&e.apply()}},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"ShowSearchPanelController"},e.prototype.handle=function(){this.root.querySelectorAll("sidebar-search")[0].active()},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(72)),r=n(23);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"CopyAnnotTextController"},e.prototype.visibility=function(t){return!(t.isArea&&t.isArea()&&t.isReplace&&t.isReplace())},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();e instanceof r.TextMarkupAnnotComponent&&e.copyText()}},e}(i(n(79)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(79)),r=n(23),i=n(62);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"MediaDownloadController"},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof i.ContextMenuComponent){var e=t.getCurrentTarget();e instanceof r.ScreenComponent&&e.download()}},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(72)),r=n(23);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"ShowActionsController"},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();(e instanceof r.ScreenComponent||e instanceof r.LinkAnnotComponent)&&e.showActionsDialog()}},e}(i(n(79)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(72)),r=n(23);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"DeleteAnnotController"},e.prototype.useable=function(t){return!t.deleteDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();e instanceof r.AnnotComponent&&e.removeAnnot()}},e}(i(n(79)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(72)),i=n(23);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ShowAnnotPropertiesController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.component.element.addEventListener("mousedown",function(t){e.currentMouseX=t.pageX,e.currentMouseY=t.pageY})},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof r.default){var e=t.getCurrentTarget();e instanceof i.AnnotComponent&&e.showPropertiesDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(72)),r=n(23);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"ShowAnnotReplyController"},e.prototype.useable=function(t){return!t.replyDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();e instanceof r.MarkupAnnotComponent&&e.showReplyDialog("reply")}},e}(i(n(79)).default);e.default=s},function(t,e,n){"use strict";var o=h(n(7)),r=h(n(602)),i=h(n(601)),a=h(n(600)),s=h(n(599)),u=h(n(598)),c=h(n(597)),l=h(n(596)),f=h(n(595)),p=h(n(594)),d=h(n(593));function h(t){return t&&t.__esModule?t:{default:t}}var g=o.default.module("annot-opr",[]);g.registerController(r.default),g.registerController(i.default),g.registerController(a.default),g.registerController(s.default),g.registerController(u.default),g.registerController(c.default),g.registerController(l.default),g.registerController(f.default),g.registerController(p.default),g.registerController(d.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(10)),r=a(n(6)),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("@zoom-on-doubletap");var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"zoom-on-doubletap"},e.prototype.findNearScaleValueIndex=function(t){for(var e=this.component.getPDFUI().customScalingValues,n=Math.abs(t-e[0]),o=0,r=1;r<e.length;r++){var i=e[r],a=Math.abs(t-i);a<n&&(o=r,n=a)}return o},e.prototype.componentPrelink=function(){var t=this,e=this.component.getPDFUI();e.getPDFViewer().then(function(n){var o=Promise.resolve(),r=n.getPDFViewerRender(),a=function(n){var i=e.customScalingValues;o=o.finally(function(e){return r.getScaleRatio().then(function(e){var o=t.findNearScaleValueIndex(e);if(o!=i.length-1){var a=i[o],s=a;return a<=e&&(s=i[o+1]),r.zoomAt(s,n.center)}})})};n.getEventEmitter().on(i.default.doubleTapPage,a),t.addDestroyHook(function(){n.getEventEmitter().off(i.default.doubleTapPage,a)})})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(10)),r=a(n(6)),i=n(22);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("@zoom-on-pinch");var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"zoom-on-pinch"},e.prototype.findNearScaleValueIndex=function(t){for(var e=this.component.getPDFUI().customScalingValues,n=Math.abs(t-e[0]),o=0,r=1;r<e.length;r++){var i=e[r],a=Math.abs(t-i);a<n&&(o=r,n=a)}return o},e.prototype.componentPrelink=function(){var t=this,e=this.component.element;this.component.getPDFUI().getPDFViewer().then(function(n){var o=n.getPDFViewerRender(),r=new Hammer.Manager(e);r.add(new Hammer.Pinch);var a=void 0;r.on("pinchstart",function(t){a=o.getScaleRatio(),t.preventDefault()});var s=new i.DebouncePromiseQueue;r.on("pinchmove",function(t){s.push(function(){return a.then(function(e){var n=e*t.scale;return o.zoomAt(n,t.center).then(function(t){return a})})})}),t.addDestroyHook(function(){r.destroy()})})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=r(n(6)).default.getLogger("@zoom-on-wheel"),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"zoom-on-wheel"},e.prototype.findNearScaleValueIndex=function(t){for(var e=this.component.getPDFUI().customScalingValues,n=Math.abs(t-e[0]),o=0,r=1;r<e.length;r++){var i=e[r],a=Math.abs(t-i);a<n&&(o=r,n=a)}return o},e.prototype.componentPrelink=function(){var t=this,e=this.component.element,n=this.component.getPDFUI(),o=Promise.resolve(),r=function(e){if(e.ctrlKey){var r=n.customScalingValues;o=o.finally(function(o){return n.getPDFViewerRender().then(function(o){return o.getScaleRatio().then(function(o){var i=t.findNearScaleValueIndex(o),s=r[i],u=s;if(e.deltaY>0){if(a.debug("mousewheel to zoom out"),0==i)return;s>=o&&(u=r[i-1])}else{if(a.debug("mousewheel to zoom in"),i==r.length-1)return;s<=o&&(u=r[i+1])}return a.debug("scale from ",o,"to",u),n.zoomTo(u)})})}),e.preventDefault()}};e.addEventListener("wheel",r),this.addDestroyHook(function(){e.removeEventListener("wheel",r)})},e}(o.default);e.default=s},function(t,e,n){"use strict";var o=s(n(606)),r=s(n(7)),i=s(n(605)),a=s(n(604));function s(t){return t&&t.__esModule?t:{default:t}}r.default.root().getRegistry().registerDirective(o.default),r.default.root().getRegistry().registerDirective(i.default),r.default.root().getRegistry().registerDirective(a.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(4)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"SidebarController"},e.prototype.postlink=function(){var t=this;this.getPDFUI().getKeyboardEventBinder(r.PDFUI_BINDER).then(function(e){t.addDestroyHook(e.before(r.KEY_MAP_CLOSE_SIDEBAR,function(e){t.component.collapse(),e.preventDefault()}),e.before(r.KEY_MAP_OPEN_SIDEBAR,function(e){t.component.expand(),e.preventDefault()}))})},e.prototype.initResize=function(){},e}(o.default);e.default=a},function(t,e,n){"use strict";var o=r(n(608));function r(t){return t&&t.__esModule?t:{default:t}}r(n(7)).default.module("sidebar",[]).getRegistry().registerController(o.default)},function(t,e){t.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAJ9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNi0wMS0yOVQxMDoyNjoyOSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDMtMjhUMTM6MzI6MjIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMDMtMjhUMTM6MzI6MjIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MGZjMDQ2NzAtYTgzMS04YTRiLWIyZmUtZTQ0NTcxMThiOGYxIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZWM2NzgxZmItYzMzOC02NTRjLWE2OGMtOTRkZDY0NDRmYTM3IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTkwYjZiMzItZTNiZi1kZDRkLWI5ODYtNTExMWY0ZWJlNWU0Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphOTBiNmIzMi1lM2JmLWRkNGQtYjk4Ni01MTExZjRlYmU1ZTQiIHN0RXZ0OndoZW49IjIwMTYtMDEtMjlUMTA6MjY6MjkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMGU2MDEwYi00Y2YxLTc5NDQtYWM1ZC04NGQxZmM1ZTA4MjciIHN0RXZ0OndoZW49IjIwMTktMDMtMjhUMTM6MzE6NDUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWQwYzUyNzgtY2M2MS0wNzQ0LTkyYTktNjc0ZTgzOGQ5ODhkIiBzdEV2dDp3aGVuPSIyMDE5LTAzLTI4VDEzOjMyOjIyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjBmYzA0NjcwLWE4MzEtOGE0Yi1iMmZlLWU0NDU3MTE4YjhmMSIgc3RFdnQ6d2hlbj0iMjAxOS0wMy0yOFQxMzozMjoyMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphZDBjNTI3OC1jYzYxLTA3NDQtOTJhOS02NzRlODM4ZDk4OGQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6YTkwYjZiMzItZTNiZi1kZDRkLWI5ODYtNTExMWY0ZWJlNWU0IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTkwYjZiMzItZTNiZi1kZDRkLWI5ODYtNTExMWY0ZWJlNWU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+RflQ9wAAAQRJREFUOI2VkkFOwzAQRd84KbSiKt3U4ha5CDkBYdkd4iBcISytSmwJ4hzNKRCuxKJSEaooZoFb2sSG5q88nj/P/k7EOUdTtirugBtg4Lc+gFLn5rbplSbAVsULcOHLlQg4x5mvFzo3et+v9ou35+uZH970UnWuczOcXJrhaS8ZAJ/AZPFUPERvYKviCxCdG2nl+uk7wOnc7A5WDY8Aq9AwgAjv3hOOAJAmsokBeolq9VqPGD/9MNV2Lt1u+HxRvT5etZgQiNBVaaxxojNG2RSAZV2ytnXQF73BKJui+mNUf7wDdQIcSIK/xd+AZX3/u56X3QFrOw+ujwYcq+hXALBV8S/gG9FjTF98q97dAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(16)),r=s(n(7)),i=s(n(257)),a=(s(n(2)),s(n(3)),s(n(1)));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1378),n(1352);var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.destroyHook=[],i}return u(e,t),e.getName=function(){return"pdflayers"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv__ui-layer-container"),this.$html=(0,a.default)(this.element),this.events()},e.prototype.rending=function(){},e.prototype.mounted=function(){t.prototype.mounted.call(this)},e.prototype.events=function(){var t=this,e=this.getPDFUI();this.$html.on("click",".fv__tree-fold-btn",function(t){t.preventDefault();var e=(0,a.default)(t.currentTarget).parent().next(),n=(0,a.default)(t.currentTarget).find(".fv__tree-icon");e.hasClass("fv__ly-hide")?(n.hasClass("fv__plug_pc_ui")?n.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):n.hasClass("fv__plugbottom_pc")?n.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):n.hasClass("fv__plugtop_pc")?n.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):n.hasClass("fv__plugonly_pc")&&n.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),e.removeClass("fv__ly-hide")):(n.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(n.data("last-class")),e.addClass("fv__ly-hide"))}),this.$html.on("change",".fv__toggle-checkbox",function(t){e.getCurrentPDFDoc().then(function(e){if(e){var n=t.currentTarget,o=(0,a.default)(n),r=o.data("id");e.setLayerNodeVisiable(r,n.checked);var i=o.parent().next().find(".fv__toggle-checkbox");n.checked?i.removeAttr("disabled"):i.attr("disabled","disabled")}})}),this.destroyHook.push(function(){t.$html.off("click",".fv__tree-fold-btn")},function(){t.$html.off("click",".fv__toggle-checkbox")})},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.element.innerHTML=(0,i.default)(t);var e=(0,a.default)(".fv__toggle-checkbox:not(:checked)");e.each(function(t){(0,a.default)(e[t]).parent().next().find(".fv__toggle-checkbox").attr("disabled","disabled")})},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(o.default);e.default=c,r.default.root().getRegistry().registerComponent(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(3)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o}return s(e,t),e.getName=function(){return"LayerSidebarPanelController"},e.prototype.mounted=function(){var t=this;this.loaded=!1;var e=this.getPDFUI(),n=this.getComponentByName("sidebar-layers");this.destroyHook.push(e.addViewerEventListener(r.default.openFileSuccess,function(e){t.loaded=!1,t.currentDoc=e,n.isActive&&t.updateLayer()}),e.addViewerEventListener(r.default.willCloseDocument,function(){t.component.update([])})),n.on(i.COMPONENT_EVENTS.ACTIVE,function(e){!t.loaded&&t.currentDoc&&t.updateLayer()})},e.prototype.updateLayer=function(){var t=this;this.currentDoc.getLayerNodesJson().then(function(e){t.loaded=!0,t.layerNodes=e,t.component.update(e.children)})},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(o.default);e.default=u},function(t,e,n){"use strict";var o=a(n(7)),r=a(n(612)),i=a(n(611));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("layer",[]);s.registerComponent(i.default),s.registerController(r.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(6)),r=a(n(4)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=o.default.getLogger("biz.sidebar.comment-list"),c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o}return s(e,t),e.getName=function(){return"SearchController"},e.prototype.mounted=function(){var t=this,e=this.getPDFUI();e.getKeyboardEventBinder(i.PDFUI_BINDER).then(function(e){e.before(i.KEY_MAP_OPEN_QUICK_SEARCH,function(e){t.getComponentByName("sidebar-search").active(),e.preventDefault()})}),this.destroyHook.push(e.addViewerEventListener(Event.openFileSuccess,function(e){t.currentDoc=e,u.info(e),t.component.update()}),e.addViewerEventListener(Event.annotationAdd,function(){t.component.update()}),e.addViewerEventListener(Event.annotationReplyAdd,function(){t.component.update()}))},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(258));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"SearchSidebarPanelController"},e.prototype.postlink=function(){this.getPDFUI().getStateHandlerManager().then(function(t){return t.register(r.default),t});var t=this.component.childAt(0);this.component.on("active",function(){t.active()}),this.component.on("deactive",function(){t.deactive()})},e}(o.default);e.default=s},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$each,r=t.list,i=(t.$value,t.$index,o.$escape);return n(r,function(t,n){e+='\n<div class="fv__search-panel-result-list-item" data-index="',e+=i(t.startIndex+n),e+='">\n    <input type="checkbox" class="fv__search-redaction-checkbox fv__search-redaction-mode" />\n    <span class="fv__search-panel-result-list-item-p">p',e+=i(t.pageIndex+1),e+='</span>\n    <span class="fv__search-panel-result-list-item-before">',e+=i(t.before),e+='</span>\n    <mark class="fv__search-panel-result-list-item-mark">',e+=i(t.mark),e+='</mark>\n    <span class="fv__search-panel-result-list-item-after">',e+=i(t.after),e+="</span>\n</div>\n"}),e}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='\x3c!--<div class="fv__search-panel-sub-title" data-i18n=\'sidebar.search.panel.subTitle\'></div>--\x3e\n\n<div class="fv__search-panel-form-container">\n    <form class="fv__search-panel-form">\n        <input type="search" class="fv__search-panel-form-input" name="pattern"/>\n        <xbutton type="submit" class="fv__search-panel-form-submit"></xbutton>\n        <div class="fv__search-panel-form-more">\n            <i class="fv__search-panel-form-more-icon"></i>\n            <ul class="fv__search-panel-form-dropdown">\n                <li class="fv__search-panel-form-dropdown-item">\n                    <label class="fv__search-panel-form-label">\n                        <input type="checkbox" name="flags" value="2" class="fv__search-panel-form-checkbox fv__search-panel-form-checkbox-2">\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-2" data-i18n="sidebar.search.panel.flag2"></span>\n                    </label>\n                </li>\n                <li class="fv__search-panel-form-dropdown-item">\n                    <label class="fv__search-panel-form-label">\n                        <input type="checkbox" name="flags" value="1" class="fv__search-panel-form-checkbox fv__search-panel-form-checkbox-1">\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-1" data-i18n="sidebar.search.panel.flag1"></span>\n                    </label>\n                </li>\n            </ul>\n        </div>\n    </form>\n    <div class="fv__search-panel-result-container">\n        <div class="fv__search-redaction-mode fv__search-redaction-checkall">\n            <label>\n            <input type="checkbox" class="fv__search-redaction-checkbox-checkall" /> \n            <span data-i18n="sidebar.search.panel.checkAll"></span>\n            </label>\n        </div>\n        <div class="fv__search-panel-result-list"></div>\n        <div class="fv__search-panel-result-find-more" data-i18n="sidebar.search.panel.findMore"></div>\n        <div class="fv__search-panel-result-no-more" data-i18n="sidebar.search.panel.noMore"></div>\n    </div>\n    <div class="fv__search-redaction-mode-container fv__search-redaction-mode">\n        <a class="fv__search-redaction-mark-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.markRedaction"></a>\n        <a class="fv__search-redaction-quit-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.quitRedaction"></a>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=l(n(16)),i=l(n(7)),a=l(n(617)),s=l(n(616));l(n(2));n(1382);var u=l(n(9)),c=l(n(258));n(23);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.searchList=[],i.minFoundCount=60,i}return f(e,t),e.getName=function(){return"search-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv__ui-search-container"),this.element.innerHTML=(0,a.default)(),this.eSubTitle=this.element.querySelector(".fv__search-panel-sub-title"),this.eLabel1=this.element.querySelector(".fv__search-panel-form-label-text-1"),this.eLabel2=this.element.querySelector(".fv__search-panel-form-label-text-2"),this.eForm=this.element.querySelector(".fv__search-panel-form"),this.eDropdown=this.element.querySelector(".fv__search-panel-form-more"),this.eDropdownIcon=this.eDropdown.querySelector(".fv__search-panel-form-more-icon"),this.eInput=this.element.querySelector(".fv__search-panel-form-input"),this.eButton=this.element.querySelector(".fv__search-panel-form-submit"),this.eFlag1=this.element.querySelector(".fv__search-panel-form-checkbox-1"),this.eFlag2=this.element.querySelector(".fv__search-panel-form-checkbox-2"),this.eFindContainer=this.element.querySelector(".fv__search-panel-result-container"),this.eFindList=this.eFindContainer.querySelector(".fv__search-panel-result-list"),this.eFindMore=this.eFindContainer.querySelector(".fv__search-panel-result-find-more"),this.eNoMore=this.eFindContainer.querySelector(".fv__search-panel-result-no-more"),this.eMarkSearchApply=this.element.querySelector(".fv__search-redaction-mark-btn"),this.eQuitSearchMode=this.element.querySelector(".fv__search-redaction-quit-btn"),this.eCheckAllBtn=this.element.querySelector(".fv__search-redaction-checkbox-checkall")},e.prototype.activeRedactionMode=function(){this.element.querySelectorAll(".fv__search-redaction-checkbox").forEach(function(t){t.checked=!1}),this.element.classList.add("fv__search-redaction-active")},e.prototype.quitRedactionMode=function(){this.element.classList.remove("fv__search-redaction-active")},e.prototype.updateFound=function(t){this.eFindList.innerHTML="",this.eFindList.innerHTML=(0,s.default)(t),this.updateHasMoreRender(t.hasMore),this.searchList=this.searchList.concat(t.list)},e.prototype.updateHasMoreRender=function(t){var e=void 0,n=void 0;t?(e="has-more",n="no-more"):(e="no-more",n="has-more"),this.eFindContainer.classList.add(e),this.eFindContainer.classList.remove(n)},e.prototype.updateMore=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=(0,s.default)(t);n.children.length;)e.appendChild(n.children[0]);n=null,this.eFindList.appendChild(e),this.searchList=this.searchList.concat(t.list),this.updateHasMoreRender(t.hasMore)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=void 0;this.element.addEventListener("click",n=function(t){e.eDropdown.classList.remove("fv__open")}),this.addDestroyHook(function(t){return function(){e.element.removeEventListener("click",t)}}(n)),this.eDropdownIcon.addEventListener("click",n=function(t){t.stopPropagation(),e.eDropdown.classList.toggle("fv__open")}),this.addDestroyHook(function(t){return function(){e.eDropdownIcon.removeEventListener("click",t)}}(n)),this.eForm.addEventListener("submit",n=function(t){if(t.preventDefault(),!e.searchIng){e.searchIng=!0;var n=e.getFormData();if(!n.pattern)return!1;e.createAndFindTextSearch(n.pattern,n.flags).finally(function(){e.searchIng=!1})}}),this.addDestroyHook(function(t){return function(){e.eForm.removeEventListener("submit",t)}}(n)),this.eButton.addEventListener("click",n=function(t){t.preventDefault();var n=e.getFormData();if(!n.pattern)return!1;e.createAndFindTextSearch(n.pattern,n.flags)}),this.addDestroyHook(function(t){return function(){e.eButton.removeEventListener("click",t)}}(n)),this.eFindMore.addEventListener("click",n=function(t){e.searchIng||(e.searchIng=!0,e.findMore().finally(function(){e.searchIng=!1}))}),this.addDestroyHook(function(t){return function(){e.eFindMore.removeEventListener("click",t)}}(n)),this.eFindList.addEventListener("click",n=function(t){t.stopPropagation();var n=t.target,r=t.currentTarget;for(e.autoSetCheckAllBtn();!n.classList.contains("fv__search-panel-result-list-item");){if(n===r){n=null;break}n=n.parentNode}if(n){var i=e.eFindList.getElementsByClassName("fv__search-panel-result-list-item-active")[0];i&&i.classList.remove("fv__search-panel-result-list-item-active"),n.classList.add("fv__search-panel-result-list-item-active");var a=n.getAttribute("data-index"),s=e.getPDFUI();s.getPDFViewer().then(function(t){var n=e.searchList[a].rects,r=n[0].top,i=n[0].left,s=n[0].right,u=n[0].bottom;n.map(function(t){r=Math.max(t.top,r),u=Math.min(t.bottom,u),i=Math.min(t.left,i),s=Math.max(t.right,s)});var c=e.searchList[a].pageIndex,l=t.pdfViewerRender.scrollWrap,p=l.getScrollTop(),d=p+l.getHeight(),h=l.getScrollLeft(),g=h+l.getWidth(),m=t.getPDFPageRender(c);m.getPDFPage().then(function(e){var n=e.getDevicePoint([i,r],m.getScale()),a=o(n,2),s=a[0],u=a[1],l=m.$ui[0].offsetTop+u,y=m.$ui[0].offsetLeft+s;l<p||l>d||y<h||y>g?t.getPDFDocRender().goToPage(c,{x:s,y:u}).then(function(){f()}):f()})});var l=e}function f(){s.getStateHandlerManager().then(function(t){var e=t.getCurrentStates();t.switchTo(c.default.getStateName()),s.getPDFViewer().then(function(t){t.eventEmitter.emit(u.default.checkTheSearch,l.searchList[a],e)})})}}),this.addDestroyHook(function(t){return function(){e.eFindList.removeEventListener("click",t)}}(n)),this.eMarkSearchApply.addEventListener("click",n=function(t){e.element.querySelectorAll(".fv__search-redaction-checkbox").forEach(function(t){if(!1!==t.checked){var n=t.parentNode.getAttribute("data-index"),o=e.searchList[n].rects,r=e.searchList[n].pageIndex;e.getPDFUI().getPDFViewer().then(function(t){t.getPDFPageRender(r).getPDFPage().then(function(t){return t.markRedactAnnot(o)})})}})}),this.addDestroyHook(function(t){return function(){e.eMarkSearchApply.removeEventListener("click",t)}}(n)),this.eQuitSearchMode.addEventListener("click",n=function(t){e.quitRedactionMode()}),this.addDestroyHook(function(t){return function(){e.eQuitSearchMode.removeEventListener("click",t)}}(n)),this.eCheckAllBtn.addEventListener("click",n=function(t){e.element.querySelectorAll(".fv__search-redaction-checkbox").forEach(function(e){e.checked=t.target.checked})}),this.addDestroyHook(function(t){return function(){e.eCheckAllBtn.removeEventListener("click",t)}}(n));var r=this.getPDFUI();this.addDestroyHook(r.addViewerEventListener(u.default.willCloseDocument,function(){e.resetTextSearch(),e.resetViewer()}))},e.prototype.autoSetCheckAllBtn=function(){for(var t=this.element.querySelectorAll(".fv__search-redaction-checkbox"),e=0;e<t.length;e++){if(!t[e].checked)return void(this.eCheckAllBtn.checked=!1)}this.eCheckAllBtn.checked=!0},e.prototype.getFormData=function(){return{pattern:this.eInput.value,flags:0|(this.eFlag1.checked?this.eFlag1.value:0)|(this.eFlag2.checked?this.eFlag2.value:0)}},e.prototype.createAndFindTextSearch=function(t,e){var n=this;this.resetTextSearch();var o=this.getPDFUI();return o?o.getCurrentPDFDoc().then(function(n){if(n)return n.getTextSearch(t,e)}).then(function(t){return n.textSearch=t,t?t.findNexts():[]}).then(function(t){if(n.searchList=[],n.updateFound(n.formatFindNexts(t)),t.hasMore)return n.findNextAtLeast(n.minFoundCount-n.searchList.length)}):Promise.resolve()},e.prototype.formatFindNexts=function(t){for(var e=t.list,n=[],o=e.length;o--;){var r=e[o],i=r.getSentence(),a=r.getPageIndex(),s=r.getSentenceStartIndex(),u=r.getStartCharIndex(),c=r.getEndCharIndex()-u+1,l=i.slice(0,s),f=i.slice(s,s+c),p=i.slice(s+c);n[o]={pageIndex:a,before:l,mark:f,after:p,startIndex:this.searchList.length,rects:r.getRects()}}return{hasMore:t.hasMore,list:n}},e.prototype.findMore=function(){var t=this;return this.textSearch?this.findNextAtLeast(this.minFoundCount).then(function(){t.eCheckAllBtn.checked=!1}):Promise.resolve()},e.prototype.resetTextSearch=function(){this.textSearch=null,this.eFindList.innerHTML="",this.eFindContainer.classList.remove("fv__loading","has-more","no-more"),this.eCheckAllBtn.checked=!1},e.prototype.resetViewer=function(){this.eInput.value=""},e.prototype.doActive=function(){t.prototype.doActive.call(this),this.eInput.focus()},e.prototype.findNextAtLeast=function(t){var e=this;if(t<=0)return Promise.resolve();var n=this.searchList.length;return this.textSearch.findNexts().then(function(o){if(e.updateMore(e.formatFindNexts(o)),o.hasMore){var r=e.searchList.length;if(!(r-n>=t))return e.findNextAtLeast(t-(r-n))}})},e}(r.default);e.default=p,i.default.root().getRegistry().registerComponent(p)},function(t,e,n){"use strict";var o=s(n(7)),r=s(n(618)),i=s(n(615)),a=s(n(614));function s(t){return t&&t.__esModule?t:{default:t}}var u=o.default.module("search",[]);u.registerComponent(r.default),u.registerController(a.default),u.registerController(i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(3)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o}return s(e,t),e.getName=function(){return"BookmarkSidebarPanelController"},e.prototype.mounted=function(){var t=this;this.loaded=!1;var e=this.getPDFUI(),n=this.getComponentByName("sidebar-bookmark");this.destroyHook.push(e.addViewerEventListener(r.default.openFileSuccess,function(e){t.loaded=!1,t.currentDoc=e,n.isActive&&t.updateBookmarks()})),n.on(i.COMPONENT_EVENTS.ACTIVE,function(e){!t.loaded&&t.currentDoc&&t.updateBookmarks()}),this.addDestroyHook(e.addViewerEventListener(r.default.pageMoved,function(e,n){t.loaded&&t.currentDoc&&t.updateBookmarks()}),e.addViewerEventListener(r.default.pageAdded,function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()}),e.addViewerEventListener(r.default.pageRemoved,function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()}),e.addViewerEventListener(r.default.bookmarkAdded,function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()}),e.addViewerEventListener(r.default.bookmarkUpdated,function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()}),e.addViewerEventListener(r.default.bookmarkRemoved,function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()}),e.addViewerEventListener(r.default.willCloseDocument,function(){t.component.update([])}))},e.prototype.updateBookmarks=function(){var t=this;this.currentDoc.getBookmarksJson().then(function(e){t.loaded=!0,e?t.component.update(e.children):t.component.update([])})},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(16)),r=s(n(7)),i=s(n(259)),a=(s(n(2)),s(n(3)),s(n(1)));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1386);var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.destroyHook=[],i}return u(e,t),e.getName=function(){return"bookmark-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv__ui-bookmark-container"),this.$html=(0,a.default)(this.element),this.events()},e.prototype.rending=function(){},e.prototype.mounted=function(){t.prototype.mounted.call(this)},e.prototype.events=function(){var t=this;this.$html.on("click",".fv__tree-fold-btn",function(t){t.preventDefault();var e=(0,a.default)(t.currentTarget).parent().next(),n=(0,a.default)(t.currentTarget).find(".fv__tree-icon");e.hasClass("fv__hide")?(n.hasClass("fv__plug_pc_ui")?n.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):n.hasClass("fv__plugbottom_pc")?n.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):n.hasClass("fv__plugtop_pc")?n.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):n.hasClass("fv__plugonly_pc")&&n.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),e.removeClass("fv__hide")):(n.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(n.data("last-class")),e.addClass("fv__hide"))}),this.$html.on("click",".fv__bookmark-item",function(e){e.preventDefault(),(0,a.default)(".fv__bookmark-item").removeClass("fv__active"),(0,a.default)(e.currentTarget).addClass("fv__active");var n=(0,a.default)(e.currentTarget).data("page"),o=((0,a.default)(e.currentTarget).data("left"),(0,a.default)(e.currentTarget).data("top")),r=t.getPDFUI();n<0||(0==o?r.goToPage(n,o,0,!1):r.goToPage(n,o))}),this.destroyHook.push(function(){t.$html.off("click",".fv__tree-fold-btn")},function(){t.$html.off("click",".fv__bookmark-item")})},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.element.innerHTML=(0,i.default)(t)},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(o.default);e.default=c,r.default.root().getRegistry().registerComponent(c)},function(t,e,n){"use strict";var o=a(n(7)),r=a(n(621)),i=a(n(620));function a(t){return t&&t.__esModule?t:{default:t}}n(1386);var s=o.default.module("bookmark",[]);s.registerComponent(r.default),s.registerController(i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(260));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"ThumbnailContextMenuController"},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.thumbnailCtrl=this.component.getClosestComponentByType(r.default.getName()).controller},e.prototype.rotateLeft=function(){var t=this.component.getCurrentTarget();this.thumbnailCtrl.rotatePage(t,"left")},e.prototype.rotateRight=function(){var t=this.component.getCurrentTarget();this.thumbnailCtrl.rotatePage(t,"right")},e.prototype.addBlankPage=function(){var t=this.component.getCurrentTarget();this.thumbnailCtrl.insertBlankPageAfterIndex(t)},e.prototype.deletePage=function(){var t=this.getPDFUI().localizer.translateSync("sidebar.thumbnail.removePageConfirm");if(confirm(t)){var e=this.component.getCurrentTarget();this.thumbnailCtrl.deletePageByIndex(e)}},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(3)),i=n(5);n(29);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o.onceLoadCount=20,o}return s(e,t),e.getName=function(){return"ThumbSidebarPanelController"},e.prototype.mounted=function(){var t=this,e=this.component.parent.parent,n=this.getPDFUI(),o=this.onceLoadCount;this.loaded=!1;var a=this.component.parent;n.addViewerEventListener(r.default.openFileSuccess,function(e){t.loaded=!1,t.component.reset(),t.currentPDFDoc=e,t.pageCount=t.currentPDFDoc.getPageCount(),t.lastLoadPageIndex=0,t.onceLoadCount=20;var n=Math.min(o,t.pageCount);a.isActive&&(t.addThumbContainers(n),t.component.activeThumbByPageIndex(0))}),n.addViewerEventListener(r.default.pageNumberChange,function(e){t.component.activeThumbByPageIndex(e-1),t.digest()}),a.on(i.COMPONENT_EVENTS.ACTIVE,function(e){if(t.loaded)t.component.resizeHandler();else{var r=Math.min(o,t.pageCount);t.addThumbContainers(r)}n.getPDFDocRender().then(function(e){t.component.activeThumbByPageIndex(e.currentPageIndex)})}),e.on(i.COMPONENT_EVENTS.RESIZE,function(e){a.isActive&&t.component.resizeHandler()})},e.prototype.addThumbContainers=function(t){this.loaded=!0;for(var e=0;e<t;e++)this.lastLoadPageIndex=e,this.addThumbContainer(e)},e.prototype.addThumbContainer=function(t){var e=this,n={pageNum:t+1};this.component.appendThumb(n),this.currentPDFDoc.getPageByIndex(t).then(function(n){n.getThumb().then(function(n){e.component.updateThumb(t,n)})})},e.prototype.addThumbContainerByIndex=function(t){var e=this,n={pageNum:t+1};this.lastLoadPageIndex++,this.component.appendThumbByIndex(n,t),this.currentPDFDoc.getPageByIndex(t).then(function(n){n.getThumb().then(function(n){e.component.updateThumb(t,n)})})},e.prototype.removeThumbByIndex=function(t){this.lastLoadPageIndex--,this.component.removeThumb(t)},e.prototype.loadMore=function(){if(!this.component.noMore)for(var t=0;t<=this.onceLoadCount;t++){if(this.lastLoadPageIndex++,200==this.lastLoadPageIndex?this.onceLoadCount*=2:800==this.lastLoadPageIndex&&(this.onceLoadCount*=2),this.lastLoadPageIndex>=this.pageCount){this.component.noMore=!0;break}this.addThumbContainer(this.lastLoadPageIndex)}},e.prototype.rotatePage=function(t,e){var n=this;this.getPDFUI().getPDFViewer().then(function(o){var r=o.getPDFPageRender(t),i=void 0,a=r.page;"right"==e?4==(i=a.info.rotation+1)&&(i=0):-1==(i=a.info.rotation-1)&&(i=3),a.setRotation(i).then(function(e){r.rotate=i,a.getThumb().then(function(e){n.component.updateThumb(t,e,!1)}),n.getPDFUI().getPDFViewer().then(function(t){t.getPDFDocRender().pagesRender.renderVisiblePages()})})})},e.prototype.movePageTo=function(t,e){return this.currentPDFDoc.movePageTo(t,e).then(function(t){return t})},e.prototype.insertBlankPageAfterIndex=function(t){var e=this;this.getPDFUI().getPDFViewer().then(function(n){var o=e.currentPDFDoc,r=n.getPDFPageRender(t).page,i=t+1;o.insertPage(i,r.info.width,r.info.height).then(function(t){t&&(e.pageCount=e.currentPDFDoc.getPageCount(),e.addThumbContainerByIndex(i))})})},e.prototype.deletePageByIndex=function(t){var e=this;this.currentPDFDoc.removePage(t).then(function(n){n&&(e.pageCount=e.currentPDFDoc.getPageCount(),e.removeThumbByIndex(t))})},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(o.default);e.default=u},function(t,e,n){var o,r;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(i){"use strict";void 0===(r="function"==typeof(o=i)?o.call(e,n,e,t):o)||(t.exports=r)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,o,r,i,a,s,u,c,l,f,p,d,h,g,m,y,v,b,w,A,_,P,O,E,x,C,S=[],D=!1,M=!1,T=!1,j=[],I=!1,R=!1,k=[],F=/\s+/g,N="Sortable"+(new Date).getTime(),L=window,V=L.document,B=L.parseInt,U=L.setTimeout,H=L.jQuery||L.Zepto,W=L.Polymer,q={capture:!1,passive:!1},z=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),$=!!navigator.userAgent.match(/Edge/i),Y=!!navigator.userAgent.match(/firefox/i),G=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),K=!!navigator.userAgent.match(/iP(ad|od|hone)/i),Q=$||z?"cssFloat":"float",X="draggable"in V.createElement("div"),J=function(){if(z)return!1;var t=V.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),Z=!1,tt=!1,et=Math.abs,nt=Math.min,ot=Math.max,rt=[],it=function(t,e){var n=Ot(t),o=B(n.width)-B(n.paddingLeft)-B(n.paddingRight)-B(n.borderLeftWidth)-B(n.borderRightWidth),r=Tt(t,0,e),i=Tt(t,1,e),a=r&&Ot(r),s=i&&Ot(i),u=a&&B(a.marginLeft)+B(a.marginRight)+Ht(r).width,c=s&&B(s.marginLeft)+B(s.marginRight)+Ht(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&"none"!==a.float){var l="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=o&&"none"===n[Q]||i&&"none"===n[Q]&&u+c>o)?"vertical":"horizontal"},at=function(t,e,n,o,r){var i=Ht(n),a="vertical"===o?i.left:i.top,s="vertical"===o?i.right:i.bottom,u="vertical"===o?t:e;return a<u&&u<s},st=function(t,e){if(!t||!t.getBoundingClientRect)return ut();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Ot(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===V.body)return ut();if(o||e)return n;o=!0}}}while(n=n.parentNode);return ut()},ut=function(){return z?V.documentElement:V.scrollingElement},ct=function(t,e,n){t.scrollLeft+=e,t.scrollTop+=n},lt=Nt(function(t,e,n,o){if(e.scroll){var r=n?n[N]:window,i=e.scrollSensitivity,a=e.scrollSpeed,l=t.clientX,f=t.clientY,p=ut(),d=!1;u!==n&&(ft(),s=e.scroll,c=e.scrollFn,!0===s&&(s=st(n,!0),u=s));var h=0,g=s;do{var m,y,v,b,A,_,P,O,E,x=g,C=Ht(x),M=C.top,T=C.bottom,j=C.left,I=C.right,R=C.width,k=C.height;if(m=x.scrollWidth,y=x.scrollHeight,v=Ot(x),O=x.scrollLeft,E=x.scrollTop,x===p?(_=R<m&&("auto"===v.overflowX||"scroll"===v.overflowX||"visible"===v.overflowX),P=k<y&&("auto"===v.overflowY||"scroll"===v.overflowY||"visible"===v.overflowY)):(_=R<m&&("auto"===v.overflowX||"scroll"===v.overflowX),P=k<y&&("auto"===v.overflowY||"scroll"===v.overflowY)),b=_&&(et(I-l)<=i&&O+R<m)-(et(j-l)<=i&&!!O),A=P&&(et(T-f)<=i&&E+k<y)-(et(M-f)<=i&&!!E),!S[h])for(var F=0;F<=h;F++)S[F]||(S[F]={});S[h].vx==b&&S[h].vy==A&&S[h].el===x||(S[h].el=x,S[h].vx=b,S[h].vy=A,clearInterval(S[h].pid),!x||0==b&&0==A||(d=!0,S[h].pid=setInterval(function(){o&&0===this.layer&&(vt.active._emulateDragOver(!0),vt.active._onTouchMove(w,!0));var e=S[this.layer].vy?S[this.layer].vy*a:0,n=S[this.layer].vx?S[this.layer].vx*a:0;"function"==typeof c&&"continue"!==c.call(r,n,e,t,w,S[this.layer].el)||ct(S[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&g!==p&&(g=st(g,!1)));D=d}},30),ft=function(){S.forEach(function(t){clearInterval(t.pid)}),S=[]},pt=function(t){function e(t,n){return function(o,r,i,a){var s=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,r,i,a),n)(o,r,i,a);var u=(n?o:r).options.group.name;return!0===t||"string"==typeof t&&t===u||t.join&&t.indexOf(u)>-1}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},dt=function(e){t&&t.parentNode&&t.parentNode[N]&&t.parentNode[N]._computeIsAligned(e)},ht=function(){!J&&n&&Ot(n,"display","none")},gt=function(){!J&&n&&Ot(n,"display","")};V.addEventListener("click",function(t){if(T)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),T=!1,!1},!0);var mt,yt=function(e){if(t){var n=function(t,e){for(var n=0;n<j.length;n++)if(!jt(j[n])){var o=Ht(j[n]),r=j[n][N].options.emptyInsertThreshold,i=t>=o.left-r&&t<=o.right+r,a=e>=o.top-r&&e<=o.bottom+r;if(r&&i&&a)return j[n]}}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(n){var o={};for(var r in e)o[r]=e[r];o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[N]._onDragOver(o)}}};function vt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Lt({},e),t[N]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return it(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:B(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==vt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var o in n)!(o in e)&&(e[o]=n[o]);for(var r in pt(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&X,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?At(t,"pointerdown",this._onTapStart):(At(t,"mousedown",this._onTapStart),At(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(At(t,"dragover",this),At(t,"dragenter",this)),j.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function bt(t,e,n,o){if(t){n=n||V;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Ft(t,e):Ft(t,e))||o&&t===n)return t;if(t===n)break}while(t=wt(t))}return null}function wt(t){return t.host&&t!==V&&t.host.nodeType?t.host:t.parentNode}function At(t,e,n){t.addEventListener(e,n,!z&&q)}function _t(t,e,n){t.removeEventListener(e,n,!z&&q)}function Pt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(F," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(F," ")}}function Ot(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return V.defaultView&&V.defaultView.getComputedStyle?n=V.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function Et(t){var e="";do{var n=Ot(t,"transform");n&&"none"!==n&&(e=n+" "+e)}while(t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function xt(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function Ct(t,e,n,r,i,a,s,u,c,l,f){var p,d=(t=t||e[N]).options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||z||$?(p=V.createEvent("Event")).initEvent(n,!0,!0):p=new CustomEvent(n,{bubbles:!0,cancelable:!0}),p.to=i||e,p.from=a||e,p.item=r||e,p.clone=o,p.oldIndex=s,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=l,p.originalEvent=f,p.pullMode=g?g.lastPutMode:void 0,e&&e.dispatchEvent(p),d[h]&&d[h].call(t,p)}function St(t,e,n,o,r,i,a,s){var u,c,l=t[N],f=l.options.onMove;return!window.CustomEvent||z||$?(u=V.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=e,u.from=t,u.dragged=n,u.draggedRect=o,u.related=r||e,u.relatedRect=i||Ht(e),u.willInsertAfter=s,u.originalEvent=a,t.dispatchEvent(u),f&&(c=f.call(l,u,a)),c}function Dt(t){t.draggable=!1}function Mt(){Z=!1}function Tt(e,o,r){for(var i=0,a=0,s=e.children;a<s.length;){if("none"!==s[a].style.display&&s[a]!==n&&s[a]!==t&&bt(s[a],r.draggable,e,!1)){if(i===o)return s[a];i++}a++}return null}function jt(t){for(var e=t.lastElementChild;e&&(e===n||"none"===Ot(e,"display"));)e=e.previousElementSibling;return e||null}function It(e){return kt(t)<kt(e)?1:-1}function Rt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function kt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||t===o||e&&!Ft(t,e)||n++;return n}function Ft(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function Nt(t,e){return function(){if(!mt){var n=arguments,o=this;mt=U(function(){1===n.length?t.call(o,n[0]):t.apply(o,n),mt=void 0},e)}}}function Lt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Vt(t){return W&&W.dom?W.dom(t).cloneNode(!0):H?H(t).clone(!0)[0]:t.cloneNode(!0)}function Bt(t){return U(t,0)}function Ut(t){return clearTimeout(t)}function Ht(t,e,n,o){if(t.getBoundingClientRect||t===L){var r,i,a,s,u,c,l;if(t!==L&&t!==ut()?(i=(r=t.getBoundingClientRect()).top,a=r.left,s=r.bottom,u=r.right,c=r.height,l=r.width):(i=0,a=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,l=window.innerWidth),o&&t!==L&&(n=n||t.parentNode,!z))do{if(n&&n.getBoundingClientRect&&"none"!==Ot(n,"transform")){var f=n.getBoundingClientRect();i-=f.top+B(Ot(n,"border-top-width")),a-=f.left+B(Ot(n,"border-left-width")),s=i+r.height,u=a+r.width;break}}while(n=n.parentNode);if(e&&t!==L){var p=Et(n||t),d=p&&p.a,h=p&&p.d;p&&(s=(i/=h)+(c/=h),u=(a/=d)+(l/=d))}return{top:i,left:a,bottom:s,right:u,width:l,height:c}}}function Wt(t,e){for(var n=st(t,!0),o=Ht(t)[e];n;){var r=Ht(n)[e];if(!("top"===e||"left"===e?o>=r:o<=r))return n;if(n===ut())break;n=st(n,!1)}return!1}function qt(t){var e=0,n=0,o=ut();if(t)do{var r=Et(t),i=r.a,a=r.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}return vt.prototype={constructor:vt,_computeIsAligned:function(e){var o;if(n&&!J?(ht(),o=V.elementFromPoint(e.clientX,e.clientY),gt()):o=e.target,o=bt(o,this.options.draggable,this.el,!1),!tt&&t&&t.parentNode===this.el){for(var r=this.el.children,i=0;i<r.length;i++)bt(r[i],this.options.draggable,this.el,!1)&&r[i]!==o&&(r[i].sortableMouseAligned=at(e.clientX,e.clientY,r[i],this._getDirection(e,null),this.options));bt(o,this.options.draggable,this.el,!0)||(_=null),tt=!0,U(function(){tt=!1},30)}},_getDirection:function(e,n){return"function"==typeof this.options.direction?this.options.direction.call(this,e,n,t):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,o,r=this,i=this.el,s=this.options,u=s.preventOnFilter,c=e.type,l=e.touches&&e.touches[0],f=(l||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||f,d=s.filter;if(function(t){rt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var o=e[n];o.checked&&rt.push(o)}}(i),!t&&!(/mousedown|pointerdown/.test(c)&&0!==e.button||s.disabled||p.isContentEditable||(f=bt(f,s.draggable,i,!1),a===f))){if(n=kt(f),o=kt(f,s.draggable),"function"==typeof d){if(d.call(this,e,f,this))return Ct(r,p,"filter",f,i,i,n,void 0,o),void(u&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some(function(t){if(t=bt(p,t.trim(),i,!1))return Ct(r,t,"filter",f,i,i,n,void 0,o),!0})))return void(u&&e.cancelable&&e.preventDefault());s.handle&&!bt(p,s.handle,i,!1)||this._prepareDragStart(e,l,f,n,o)}}},_handleAutoScroll:function(e,n){if(t&&this.options.scroll){var o=e.clientX,r=e.clientY,i=V.elementFromPoint(o,r),a=this;if(n||$||z||G){lt(e,a.options,i,n);var s=st(i,!0);!D||m&&o===y&&r===v||(m&&clearInterval(m),m=setInterval(function(){if(t){var i=st(V.elementFromPoint(o,r),!0);i!==s&&(s=i,ft(),lt(e,a.options,s,n))}},10),y=o,v=r)}else{if(!a.options.bubbleScroll||st(i,!0)===ut())return void ft();lt(e,a.options,st(i,!1),!1)}}},_prepareDragStart:function(n,o,s,u,c){var f,d=this,g=d.el,m=d.options,y=g.ownerDocument;s&&!t&&s.parentNode===g&&(r=g,e=(t=s).parentNode,i=t.nextSibling,a=s,h=m.group,l=u,p=c,b={target:t,clientX:(o||n).clientX,clientY:(o||n).clientY},this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,t.style["will-change"]="all",t.style.transition="",t.style.transform="",f=function(){d._disableDelayedDragEvents(),!Y&&d.nativeDraggable&&(t.draggable=!0),d._triggerDragStart(n,o),Ct(d,r,"choose",t,r,r,l,void 0,p),Pt(t,m.chosenClass,!0)},m.ignore.split(",").forEach(function(e){xt(t,e.trim(),Dt)}),At(y,"dragover",yt),At(y,"mousemove",yt),At(y,"touchmove",yt),At(y,"mouseup",d._onDrop),At(y,"touchend",d._onDrop),At(y,"touchcancel",d._onDrop),Y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,t.draggable=!0),!m.delay||m.delayOnTouchOnly&&!o||this.nativeDraggable&&($||z)?f():(At(y,"mouseup",d._disableDelayedDrag),At(y,"touchend",d._disableDelayedDrag),At(y,"touchcancel",d._disableDelayedDrag),At(y,"mousemove",d._delayedDragTouchMoveHandler),At(y,"touchmove",d._delayedDragTouchMoveHandler),m.supportPointer&&At(y,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=U(f,m.delay)))},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;ot(et(e.clientX-this._lastX),et(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){t&&Dt(t),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;_t(t,"mouseup",this._disableDelayedDrag),_t(t,"touchend",this._disableDelayedDrag),_t(t,"touchcancel",this._disableDelayedDrag),_t(t,"mousemove",this._delayedDragTouchMoveHandler),_t(t,"touchmove",this._delayedDragTouchMoveHandler),_t(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||("touch"==e.pointerType?e:null),!this.nativeDraggable||n?this.options.supportPointer?At(V,"pointermove",this._onTouchMove):At(V,n?"touchmove":"mousemove",this._onTouchMove):(At(t,"dragend",this),At(r,"dragstart",this._onDragStart));try{V.selection?Bt(function(){V.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e,n){if(M=!1,r&&t){this.nativeDraggable&&(At(V,"dragover",this._handleAutoScroll),At(V,"dragover",dt));var o=this.options;!e&&Pt(t,o.dragClass,!1),Pt(t,o.ghostClass,!0),Ot(t,"transform",""),vt.active=this,e&&this._appendGhost(),Ct(this,r,"start",t,r,r,l,void 0,p,void 0,n)}else this._nulling()},_emulateDragOver:function(e){if(w){if(this._lastX===w.clientX&&this._lastY===w.clientY&&!e)return;this._lastX=w.clientX,this._lastY=w.clientY,ht();for(var n=V.elementFromPoint(w.clientX,w.clientY),o=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(w.clientX,w.clientY))!==o;)o=n;if(o)do{if(o[N])if(o[N]._onDragOver({clientX:w.clientX,clientY:w.clientY,target:n,rootEl:o})&&!this.options.dragoverBubble)break;n=o}while(o=o.parentNode);t.parentNode[N]._computeIsAligned(w),gt()}},_onTouchMove:function(t,e){if(b){var o=this.options,r=o.fallbackTolerance,i=o.fallbackOffset,a=t.touches?t.touches[0]:t,s=n&&Et(n),u=n&&s&&s.a,c=n&&s&&s.d,l=K&&x&&qt(x),f=(a.clientX-b.clientX+i.x)/(u||1)+(l?l[0]-k[0]:0)/(u||1),p=(a.clientY-b.clientY+i.y)/(c||1)+(l?l[1]-k[1]:0)/(c||1),d=t.touches?"translate3d("+f+"px,"+p+"px,0)":"translate("+f+"px,"+p+"px)";if(!vt.active&&!M){if(r&&nt(et(a.clientX-this._lastX),et(a.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}!e&&this._handleAutoScroll(a,!0),A=!0,w=a,Ot(n,"webkitTransform",d),Ot(n,"mozTransform",d),Ot(n,"msTransform",d),Ot(n,"transform",d),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!n){var e=this.options.fallbackOnBody?V.body:r,o=Ht(t,!0,e,!K),i=(Ot(t),this.options);if(K){for(x=e;"static"===Ot(x,"position")&&"none"===Ot(x,"transform")&&x!==V;)x=x.parentNode;if(x!==V){var a=Ht(x,!0);o.top-=a.top,o.left-=a.left}x!==V.body&&x!==V.documentElement?(x===V&&(x=ut()),o.top+=x.scrollTop,o.left+=x.scrollLeft):x=ut(),k=qt(x)}Pt(n=t.cloneNode(!0),i.ghostClass,!1),Pt(n,i.fallbackClass,!0),Pt(n,i.dragClass,!0),Ot(n,"box-sizing","border-box"),Ot(n,"margin",0),Ot(n,"top",o.top),Ot(n,"left",o.left),Ot(n,"width",o.width),Ot(n,"height",o.height),Ot(n,"opacity","0.8"),Ot(n,"position",K?"absolute":"fixed"),Ot(n,"zIndex","100000"),Ot(n,"pointerEvents","none"),e.appendChild(n)}},_onDragStart:function(e,n){var i=this,a=e.dataTransfer,s=i.options;(o=Vt(t)).draggable=!1,o.style["will-change"]="",this._hideClone(),Pt(o,i.options.chosenClass,!1),i._cloneId=Bt(function(){i.options.removeCloneOnHide||r.insertBefore(o,t),Ct(i,r,"clone",t)}),!n&&Pt(t,s.dragClass,!0),n?(T=!0,i._loopId=setInterval(i._emulateDragOver,50)):(_t(V,"mouseup",i._onDrop),_t(V,"touchend",i._onDrop),_t(V,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(i,a,t)),At(V,"drop",i),Ot(t,"transform","translateZ(0)")),M=!0,i._dragStartId=Bt(i._dragStarted.bind(i,n,e)),At(V,"selectstart",i),G&&Ot(V.body,"user-select","none")},_onDragOver:function(n){var o,a,s,u=this.el,c=n.target,f=this.options,d=f.group,m=vt.active,y=h===d,v=f.sort,b=this;if(!Z){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),A=!0,c=bt(c,f.draggable,u,!0),t.contains(n.target)||c.animated)return q(!1);if(c!==t&&(T=!1),m&&!f.disabled&&(y?v||(s=!r.contains(t)):g===this||(this.lastPutMode=h.checkPull(this,m,t,n))&&d.checkPut(this,m,t,n))){var w=this._getDirection(n,c);if(o=Ht(t),s)return this._hideClone(),e=r,i?r.insertBefore(t,i):r.appendChild(t),q(!0);var x=jt(u);if(!x||function(t,e,n){var o=Ht(jt(n)),r="vertical"===e?t.clientY:t.clientX,i="vertical"===e?t.clientX:t.clientY,a="vertical"===e?o.bottom:o.right,s="vertical"===e?o.left:o.top,u="vertical"===e?o.right:o.bottom;return"vertical"===e?i>u+10||i<=u&&r>a&&i>=s:r>a&&i>s||r<=a&&i>u+10}(n,w,u)&&!x.animated){if(x&&u===n.target&&(c=x),c&&(a=Ht(c)),y?m._hideClone():m._showClone(this),!1!==St(r,u,t,o,c,a,n,!!c))return u.appendChild(t),e=u,C=null,z(),q(!0)}else if(c&&c!==t&&c.parentNode===u){var S,D=0,M=c.sortableMouseAligned,j=t.parentNode!==u,k="vertical"===w?"top":"left",F=Wt(c,"top")||Wt(t,"top"),L=F?F.scrollTop:void 0;if(_!==c&&(O=null,S=Ht(c)[k],I=!1),function(e,n,o){var r=e===t&&C||Ht(e),i=n===t&&C||Ht(n),a="vertical"===o?r.left:r.top,s="vertical"===o?r.right:r.bottom,u="vertical"===o?r.width:r.height,c="vertical"===o?i.left:i.top,l="vertical"===o?i.right:i.bottom,f="vertical"===o?i.width:i.height;return a===c||s===l||a+u/2===c+f/2}(t,c,w)&&M||j||F||f.invertSwap||"insert"===O||"swap"===O?("swap"!==O&&(R=f.invertSwap||j),D=function(e,n,o,r,i,a,s){var u=Ht(n),c="vertical"===o?e.clientY:e.clientX,l="vertical"===o?u.height:u.width,f="vertical"===o?u.top:u.left,p="vertical"===o?u.bottom:u.right,d=Ht(t),h=!1;if(!a)if(s&&E<l*r)if(!I&&(1===P?c>f+l*i/2:c<p-l*i/2)&&(I=!0),I)h=!0;else{"vertical"===o?d.top:d.left,"vertical"===o?d.bottom:d.right;if(1===P?c<f+E:c>p-E)return-1*P}else if(c>f+l*(1-r)/2&&c<p-l*(1-r)/2)return It(n);if((h=h||a)&&(c<f+l*i/2||c>p-l*i/2))return c>f+l/2?1:-1;return 0}(n,c,w,f.swapThreshold,null==f.invertedSwapThreshold?f.swapThreshold:f.invertedSwapThreshold,R,_===c),O="swap"):(D=It(c),O="insert"),0===D)return q(!1);C=null,_=c,P=D,a=Ht(c);var B=c.nextElementSibling,H=!1,W=St(r,u,t,o,c,a,n,H=1===D);if(!1!==W)return 1!==W&&-1!==W||(H=1===W),Z=!0,U(Mt,30),y?m._hideClone():m._showClone(this),H&&!B?u.appendChild(t):c.parentNode.insertBefore(t,H?B:c),F&&ct(F,0,L-F.scrollTop),e=t.parentNode,void 0===S||R||(E=et(S-Ht(c)[k])),z(),q(!0)}if(u.contains(t))return q(!1)}return!1}function q(e){return e&&(y?m._hideClone():m._showClone(b),m&&(Pt(t,g?g.options.ghostClass:m.options.ghostClass,!1),Pt(t,f.ghostClass,!0)),g!==b&&b!==vt.active?g=b:b===vt.active&&(g=null),o&&b._animate(o,t),c&&a&&b._animate(a,c)),(c===t&&!t.animated||c===u&&!c.animated)&&(_=null),f.dragoverBubble||n.rootEl||c===V||(b._handleAutoScroll(n),t.parentNode[N]._computeIsAligned(n),!e&&yt(n)),!f.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function z(){Ct(b,r,"change",c,u,r,l,kt(t),p,kt(t,f.draggable),n)}},_animate:function(e,n){var o=this.options.animation;if(o){var r=Ht(n);if(n===t&&(C=r),1===e.nodeType&&(e=Ht(e)),e.left+e.width/2!==r.left+r.width/2||e.top+e.height/2!==r.top+r.height/2){var i=Et(this.el),a=i&&i.a,s=i&&i.d;Ot(n,"transition","none"),Ot(n,"transform","translate3d("+(e.left-r.left)/(a||1)+"px,"+(e.top-r.top)/(s||1)+"px,0)"),this._repaint(n),Ot(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Ot(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=U(function(){Ot(n,"transition",""),Ot(n,"transform",""),n.animated=!1},o)}},_repaint:function(t){return t.offsetWidth},_offMoveEvents:function(){_t(V,"touchmove",this._onTouchMove),_t(V,"pointermove",this._onTouchMove),_t(V,"dragover",yt),_t(V,"mousemove",yt),_t(V,"touchmove",yt)},_offUpEvents:function(){var t=this.el.ownerDocument;_t(t,"mouseup",this._onDrop),_t(t,"touchend",this._onDrop),_t(t,"pointerup",this._onDrop),_t(t,"touchcancel",this._onDrop),_t(V,"selectstart",this)},_onDrop:function(a){var s=this.el,u=this.options;M=!1,D=!1,R=!1,I=!1,clearInterval(this._loopId),clearInterval(m),ft(),clearTimeout(mt),mt=void 0,clearTimeout(this._dragStartTimer),Ut(this._cloneId),Ut(this._dragStartId),_t(V,"mousemove",this._onTouchMove),this.nativeDraggable&&(_t(V,"drop",this),_t(s,"dragstart",this._onDragStart),_t(V,"dragover",this._handleAutoScroll),_t(V,"dragover",dt)),G&&Ot(V.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),a&&(A&&(a.cancelable&&a.preventDefault(),!u.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(r===e||g&&"clone"!==g.lastPutMode)&&o&&o.parentNode&&o.parentNode.removeChild(o),t&&(this.nativeDraggable&&_t(t,"dragend",this),Dt(t),t.style["will-change"]="",Pt(t,g?g.options.ghostClass:this.options.ghostClass,!1),Pt(t,this.options.chosenClass,!1),Ct(this,r,"unchoose",t,e,r,l,null,p,null,a),r!==e?(f=kt(t),d=kt(t,u.draggable),f>=0&&(Ct(null,e,"add",t,e,r,l,f,p,d,a),Ct(this,r,"remove",t,e,r,l,f,p,d,a),Ct(null,e,"sort",t,e,r,l,f,p,d,a),Ct(this,r,"sort",t,e,r,l,f,p,d,a)),g&&g.save()):t.nextSibling!==i&&(f=kt(t),d=kt(t,u.draggable),f>=0&&(Ct(this,r,"update",t,e,r,l,f,p,d,a),Ct(this,r,"sort",t,e,r,l,f,p,d,a))),vt.active&&(null!=f&&-1!==f||(f=l,d=p),Ct(this,r,"end",t,e,r,l,f,p,d,a),this.save()))),this._nulling()},_nulling:function(){r=t=e=n=i=o=a=s=u=S.length=m=y=v=b=w=A=f=l=_=P=C=g=h=vt.active=null,rt.forEach(function(t){t.checked=!0}),rt.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)bt(t=n[o],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Rt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var r=n.children[o];bt(r,this.options.draggable,n,!1)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return bt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&pt(n)},destroy:function(){var t=this.el;t[N]=null,_t(t,"mousedown",this._onTapStart),_t(t,"touchstart",this._onTapStart),_t(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(_t(t,"dragover",this),_t(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),j.splice(j.indexOf(this.el),1),this.el=t=null},_hideClone:function(){o.cloneHidden||(Ot(o,"display","none"),o.cloneHidden=!0,o.parentNode&&this.options.removeCloneOnHide&&o.parentNode.removeChild(o))},_showClone:function(e){"clone"===e.lastPutMode?o.cloneHidden&&(r.contains(t)&&!this.options.group.revertClone?r.insertBefore(o,t):i?r.insertBefore(o,i):r.appendChild(o),this.options.group.revertClone&&this._animate(t,o),Ot(o,"display",""),o.cloneHidden=!1):this._hideClone()}},At(V,"touchmove",function(t){(vt.active||M)&&t.cancelable&&t.preventDefault()}),vt.utils={on:At,off:_t,css:Ot,find:xt,is:function(t,e){return!!bt(t,e,t,!1)},extend:Lt,throttle:Nt,closest:bt,toggleClass:Pt,clone:Vt,index:kt,nextTick:Bt,cancelNextTick:Ut,detectDirection:it,getChild:Tt},vt.create=function(t,e){return new vt(t,e)},vt.version="1.9.0",vt})},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjZGRkIj4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPiAKICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiICAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjIiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAgLz4KICA8L3BhdGg+CiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQpIiBkPSJNMCAxMiBWMjAgSDQgVjEyeiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIgZHVyPSIxLjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuNCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiIC8+CiAgPC9wYXRoPgogIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjYiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNikiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC44IiBrZXl0aW1lcz0iMDsuMjsuNTsxIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIgY2FsY01vZGU9InNwbGluZSIgLz4KICA8L3BhdGg+Cjwvc3ZnPgo="},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape;return e+='<div class="fv__thumb-page" data-page-index="',e+=r(t.pageNum-1),e+='">\n    <div class="fv__thumb-page-container">\n        <img class="fv__thumb-loading" ',e+='src="'+n(626)+'"',e+=' />\n        <canvas class="fv__thumb-image fv__hide"></canvas>\n        <div class="fv__thumb-page-index">',e+=r(t.pageNum),e+="</div>\n    </div>\n</div>"}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='\x3c!--\n<div class="fv__thumb-icon-container">\n    <span class="fv__thumb-icon fv__thumb-rotate"></span>\n    <span class="fv__thumb-icon fv__thumb-insert-blank"></span>\n    <span class="fv__thumb-icon fv__thumb-insert-file"></span>\n    <span class="fv__thumb-icon fv__thumb-move"></span>\n    <span class="fv__thumb-icon fv__thumb-duplicate"></span>\n    <span class="fv__thumb-icon fv__thumb-delete"></span>\n</div>\n--\x3e\n<div class="fv__ui-thumbnail-container">\n    <div class="fv__thumb-image-container-box">\n        <div class="fv__thumb-image-container">\n\n        </div>\n        <div style="clear:both;"></div>\n    </div>\n</div>'}},function(t,e,n){"use strict";var o=s(n(7)),r=s(n(260)),i=s(n(624)),a=s(n(623));function s(t){return t&&t.__esModule?t:{default:t}}var u=o.default.module("thumbnail",[]);u.registerComponent(r.default),u.registerController(i.default),u.registerController(a.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(4)),i=n(112);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"CommentListMenuController"},e.prototype.expandAll=function(){this.getComponentByName("commentlist").activeAll()},e.prototype.collapseAll=function(){this.getComponentByName("commentlist").deactiveAll()},e.prototype.changePeimission=function(t){var e=this;this.getPDFUI().getPDFDocRender().then(function(t){var n=t.getUserPermission().getValue();["commentlist-import-comment","commentlist-export-comment"].map(function(t){n&e.constructor.permission?e.component.getComponentByName(t).unlock():e.component.getComponentByName(t).lock()})})},e.prototype.importComment=function(t){var e=this;switch(t.type){case"application/json":var n=new FileReader;n.onloadend=function(t){var o=JSON.parse(n.result);e.getPDFUI().getCurrentPDFDoc().then(function(t){return t.importAnnotsFromJSON(o)})},n.readAsText(t,"utf8");break;case"application/vnd.fdf":case"application/vnd.xfdf":case"application/vnd.adobe.xfdf":this.getPDFUI().getCurrentPDFDoc().then(function(e){return e.importAnnotsFromFDF(t)})}},e.prototype.exportComment=function(){var t=this,e=(0,i.getDownloadEnv)();this.getPDFUI().getCurrentPDFDoc().then(function(n){switch(t.getPDFUI().customDefaultExportCommentsFormat){case"xfdf":return n.exportAnnotsToFDF(1).then(function(t){(0,i.download)(t,"comments.xfdf","application/vnd.xfdf",e,!0)});case"json":return n.exportAnnotsToJSON().then(function(t){var n=JSON.stringify(t);(0,i.download)([n],"comments.json","application/json",e,!0)});case"fdf":default:return n.exportAnnotsToFDF(0).then(function(t){(0,i.download)(t,"comments.fdf","application/vnd.adobe.fdf",e,!0)})}})},e.prototype.exportCommentToXFDF=function(){var t=(0,i.getDownloadEnv)();this.getPDFUI().getCurrentPDFDoc().then(function(e){return e.exportAnnotsToFDF(1).then(function(e){(0,i.download)(e,"comments.xfdf","application/vnd.xfdf",t,!0)})})},e.prototype.exportCommentToFDF=function(){var t=(0,i.getDownloadEnv)();this.getPDFUI().getCurrentPDFDoc().then(function(e){return e.exportAnnotsToFDF(0).then(function(e){(0,i.download)(e,"comments.fdf","application/vnd.adobe.fdf",t,!0)})})},e.prototype.exportCommentToJSON=function(){var t=(0,i.getDownloadEnv)();this.getPDFUI().getCurrentPDFDoc().then(function(e){return e.exportAnnotsToJSON().then(function(e){var n=JSON.stringify(e);(0,i.download)([n],"comments.json","application/json",t,!0)})})},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(r.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return o(e,t),e.getName=function(){return"CommentStatesController"},e.prototype.setState=function(t,e){t.addReviewState(e)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return o(e,t),e.getName=function(){return"ReplyDropdownMenuController"},e.prototype.mounted=function(){var t=this;this.pdfUI.getPDFViewer().then(function(e){var n=e.getAnnotManager().getAnnotFlag(t.data.replyItem.annot),o=t.component.getComponentByName("commentlist-reply-menu-edit"),r=t.component.getComponentByName("commentlist-reply-menu-delete");n.checkReadOnly()?(o.disable(),r.disable()):(o.enable(),r.enable())});var e=this.component.getComponentByName("commentlist-reply-menu-copy");this.watch("$component.parent.getContent()",function(t){t&&t.length>0?e.enable():e.disable()})},e.prototype.copyText=function(t){var e=document.createElement("textarea");e.value=t.annot.getContent(),document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),document.body.removeChild(e)},e.prototype.editText=function(){var t=this.component.parent;t.switchToEdit(),t.applyState()},e.prototype.deleteReply=function(t){var e=this,n=this.getPDFUI(),o=t.annot;n.getPDFViewer().then(function(t){t.getMementoManager().before({host:e.data.annot,method:"deleteReply",replyAnnot:o,pdfViewer:t}),t.getMementoManager().after({host:e.data.annot,method:"deleteReply",replyAnnot:o,pdfViewer:t})}),o.getPDFPage().removeAnnot(o)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return o(e,t),e.getName=function(){return"CommentDropdownMenuController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.data.annot;this.pdfUI.getPDFViewer().then(function(t){var o=t.getAnnotManager().getAnnotFlag(n),r=e.component.getComponentByName("delete-comment-menu");o.checkLocked()||o.checkReadOnly()?r.disable():r.enable();var i=e.component.getComponentByName("edit-comment-menu");o.checkLockedContents()||o.checkReadOnly()||o.checkLocked()?i.disable():i.enable()});var o=this.component.getComponentByName("copy-comment-text-menu");this.watch("$component.parent.hasContent",function(t){t?o.enable():o.disable()})},e.prototype.copyText=function(){var t=document.createElement("textarea");t.value=this.data.annot.getContent(),document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),document.body.removeChild(t)},e.prototype.editText=function(){var t=this.component.parent;t.switchToEdit(),t.applyState()},e.prototype.deleteComment=function(){var t=this.data.annot,e=t.getPDFPage().getIndex();this.getPDFUI().getPDFPageRender(e).then(function(e){return e.getAnnotRender(t.getId())}).then(function(t){t.component.removeAnnot()})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(261)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"CommentReplyController"},e.prototype.getCurrentAnnot=function(){return this.data.replyItem.annot},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.component.setContent(this.data.replyItem.content),this.component.setTitle(this.data.replyItem.title),this.component.setTime(this.data.replyItem.time),this.updateStateList(),this.component.applyState(),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationUpdated,function(t){t.forEach(function(t){e.data.replyItem.annot.getId()===t.getId()&&e.annotUpdated(t)})}))},e.prototype.annotUpdated=function(t){this.component.setTime(t.getModifiedDateTime()||t.getCreateDateTime()),this.component.setContent(t.getContent())},e.prototype.onClick=function(t){this.data.commentList.component.selectComponent(this.component)},e.prototype.onDoubleClick=function(t){var e=this,n=this.data.commentList.component;this.pdfUI.getPDFViewer().then(function(t){var o=t.getAnnotManager().getAnnotFlag(e.data.replyItem.annot);32&t.getPDFDocRender().getUserPermission().getValue()&&!o.checkReadOnly()&&n.editComponent(e.component)})},e.prototype.updateReplyMessage=function(t){var e=this,n=this.data.replyItem.annot;this.pdfUI.getMementoManager().then(function(t){t.before({host:n,method:"setContent",content:n.getContent()})}),n.setContent(t).then(function(){e.pdfUI.getMementoManager().then(function(t){t.after({host:n,method:"setContent",content:n.getContent()})})}),this.component.setContent(t),this.component.switchToView(),this.component.applyState()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.annots=[],o}return s(e,t),e.getName=function(){return"CommentGroupController"},e.prototype.mounted=function(){var t=this;this.updateAnnotations();var e=this.data.page,n=this.getPDFUI();this.addDestroyHook(n.addViewerEventListener(r.default.annotationAdd,function(n,o){e===o&&t.updateAnnotations()}),n.addViewerEventListener(r.default.annotationImported,function(){var e=n.addViewerEventListener(r.default.visiblePagesRenderCompleted,function(){e(),t.updateAnnotations()})}),n.addViewerEventListener(r.default.redactAnnotApplyed,function(){t.updateAnnotations()}),n.addViewerEventListener(r.default.annotationRemoved,function(n){-1!==n.map(function(t){return t.page.getIndex()}).indexOf(e.getIndex())&&t.updateAnnotations()}),this.watch("page.info.index",function(e){t.component.setPageNumber(e+1)}))},e.prototype.updateAnnotations=function(){var t=this,e=this.data.page;e.getAnnots().then(function(n){n=t._filterAnnotationData(n),t.component.setPageData(e.getIndex()+1,n),t.data.annots=n,t.digest()})},e.prototype._filterAnnotationData=function(t){var e=[],n=[];(t=t.filter(function(t){return t.isMarkup()&&!function(t){return"popup"===t}(t.getType())&&!function(t){return"widget"===t}(t.getType())&&t.getReplies&&(!t.isStateAnnot||!t.isStateAnnot())})).forEach(function(t){var o=t.getReplies();e.push.apply(e,a(o)),e.forEach(function t(n){if(!n&&n.getReplies){var o=n.getReplies();e.push.apply(e,a(o)),o.forEach(t)}}),n.push.apply(n,a(t.getReviewStates())),n.push.apply(n,a(t.getMarkedStates()))});var o=t.filter(function(t){return-1===e.indexOf(t)&&-1===n.indexOf(t)});return o.forEach(function(t){"Replace"===t.getIntent()&&t.groupElements.forEach(function(e){if(e!==t){var n=o.indexOf(e);n>-1&&o.splice(n,1)}})}),o},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(3)),r=s(n(261)),i=n(29),a=n(83);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.replies=o.flatReplies(o.data.annot),o}return u(e,t),e.getName=function(){return"CommentItemController"},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this);var n=this.data.annot;function r(t){return"strikeout"===t.getType()&&t.isReplace&&t.isReplace()}this.annotUpdated(n),this.addDestroyHook(this.getPDFUI().addViewerEventListener(o.default.annotationIDUpdated,function(t,n){var o=e.data.replies.filter(function(t){return t.id===n});o.length>0&&(o[0].id=t,e.data.replies=e.data.replies.slice(0),e.digest())}),this.getPDFUI().addViewerEventListener(o.default.annotationReplyAdd,function(t,n){e.data.annot.getId()===n.getId()&&(e.data.replies=e.flatReplies(n,[]),e.digest())}),this.getPDFUI().addViewerEventListener(o.default.annotationRemoved,function(t){var n=e.data.replies.map(function(t){return t.id}),o=!1;t.forEach(function(t){var r=n.indexOf(t.getId());r>-1&&(e.data.replies.splice(r,1),o=!0)}),o&&(e.data.replies=e.data.replies.slice(0),e.digest())}),this.getPDFUI().addViewerEventListener(o.default.updateActionAnnotation,function(t){e.data.annot.getId()===t.getId()&&(e.data.replies=e.flatReplies(t.annot,[]),e.digest())}),this.getPDFUI().addViewerEventListener(o.default.activeAnnotation,function(t){var n=e.data.commentList.component,o=void 0,i=t.getPDFAnnot();o=r(i)?t.component.annot.getGroupHeader().getId():i.getId(),e.data.annot.getId()===o&&(n.selectComponent(e.component),e.scrollToThis())}),this.getPDFUI().addViewerEventListener(o.default.unActiveAnnotation,function(t){var n=void 0,o=t.getPDFAnnot();n=r(o)?t.component.annot.getGroupHeader().getId():o.getId(),e.data.annot.getId()===n&&(e.component.deselect(),e.component.children().forEach(function(t){t.deselect(),t.applyState()}),e.component.applyState())}),this.getPDFUI().addViewerEventListener(o.default.annotationUpdated,function(t){t.forEach(function(t){n.getId()===t.getId()&&e.annotUpdated(t)})}))},e.prototype.scrollToThis=function(){this.component.parent.active();if(i.isMobile&&a.isSafari){var t=this.component.element.offsetTop,e=this.component.getClosestComponentByType("comment-list").element.parentElement;e.scrollTop=t-(e.offsetHeight-this.component.element.offsetHeight)/2}else this.component.element.scrollIntoView({block:"nearest",behavior:"smooth",inline:"start"})},e.prototype.annotUpdated=function(t){var e=this;this.component.setAnnot(t),this.component.setModifyTime(t.getModifiedDateTime()||t.getCreateDateTime()),this.component.setMessage(t.getContent()),this.component.setAnnotTitle(t.getTitle()),this.updateStateList(),this.component.applyState(),this.pdfUI.getPDFViewer().then(function(n){var o=n.getAnnotManager().getAnnotFlag(t),r=e.component.addReplyContainerElement;o.checkReadOnly()||"freetext"==t.getType()?r.classList.add("fv__ui-hide"):r.classList.remove("fv__ui-hide")})},e.prototype.flatReplies=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.getReplies().reduce(function(n,o){return o.isDeleted()?n:(n.push({id:o.getId(),rel:o.getTitle()+" to "+t.getTitle(),title:o.getTitle(),content:o.getContent(),time:o.getModifiedDateTime()||o.getCreateDateTime(),annot:o,parent:t}),e.flatReplies(o,n),n)},n)},e.prototype.onClick=function(){this.data.commentList.component.selectComponent(this.component)},e.prototype.onDoubleClick=function(){var t=this,e=this.data.commentList.component;this.pdfUI.getPDFViewer().then(function(n){var o=n.getPDFDocRender().getUserPermission().getValue(),r=n.getAnnotManager().getAnnotFlag(t.data.annot);32&o&&!r.checkLockedContents()&&!r.checkLocked()&&!r.checkReadOnly()&&e.editComponent(t.component)})},e.prototype.onPublish=function(t){var e=this,n=this.data.annot;if(t===n.getContent())return this.component.switchToView(),void this.component.applyState();var o=this.getPDFUI();o.getMementoManager().then(function(t){t.before({host:n,method:"setContent",content:n.getContent()})}),n.setContent(t).then(function(r){o.getMementoManager().then(function(t){t.after({host:n,method:"setContent",content:n.getContent()})}),e.component.setMessage(t),e.component.setModifyTime(n.getModifiedDateTime()),e.component.switchToView(),e.component.applyState()})},e.prototype.onReply=function(t){var e=this,n=this.getPDFUI();this.data.annot.addReply(t).then(function(t){n.getPDFViewer().then(function(n){n.getMementoManager().before({host:e.data.annot,method:"addReply",replyAnnot:t,component:e.component,pdfViewer:n}),n.getMementoManager().after({host:e.data.annot,method:"addReply",replyAnnot:t,component:e.component,pdfViewer:n})}),e.component.clearReplyEditor()})},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.data.annot.getPDFPage().getIndex();this.getPDFUI().getPDFPageRender(n).then(function(t){var n=void 0,o=e.data.annot.getGroupElements();if(o&&o.length>0)n=o.some(function(e){var n=t.getAnnotRender(e.getId());if(!n)return!1;var o=n.getComponent();return o&&o.isActive});else{var r=t.getAnnotRender(e.data.annot.getId());n=r&&r.component.isActive}n&&(t.getAnnotRender(e.data.annot.getId()).active(),e.data.commentList.component.selectComponent(e.component),e.scrollToThis())})},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),r=i(n(4));i(n(181)),i(n(180));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=i(n(6)).default.getLogger("comment list"),u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pages=[],o.pageMap={},o}return a(e,t),e.getName=function(){return"CommentListController"},e.prototype.addPage=function(t){var e=t.getIndex();this.pageMap[e]||(this.pageMap[e]=t,this.updatePageList(),this.digest())},e.prototype.clearPages=function(){this.pageMap={},this.data.pages=[],this.digest()},e.prototype.switchPage=function(t,e){if(t<e){for(var n=this.pageMap[t],o=t;o<e;o++)this.pageMap[o+1]?this.pageMap[o]=this.pageMap[o+1]:delete this.pageMap[o];n?this.pageMap[e]=n:delete this.pageMap[e]}else{for(var r=this.pageMap[t],i=t;i>e;i--)this.pageMap[i-1]?this.pageMap[i]=this.pageMap[i-1]:delete this.pageMap[i-1];r?this.pageMap[e]=r:delete this.pageMap[e]}this.updatePageList(),this.digest()},e.prototype.removePage=function(t){delete this.pageMap[t],this.refreshPageIndex(),this.updatePageList(),this.digest()},e.prototype.updatePageList=function(){var t=this;this.data.pages=Object.keys(this.pageMap).map(function(e){return t.pageMap[e]}).sort(function(t,e){return t.getIndex()>e.getIndex()?1:-1})},e.prototype.refreshPageIndex=function(){var t=this;this.pageMap=Object.keys(this.pageMap).map(function(e){return t.pageMap[e]}).reduce(function(t,e){return t[e.getIndex()]=e,t},{}),this.updatePageList()},e.prototype.mounted=function(){var t=this,e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(o.default.openFileSuccess,function(e){t.clearPages()}),e.addViewerEventListener(o.default.renderPageSuccess,function(e){t.refreshPageIndex(),t.addPage(e.page)}),e.addViewerEventListener(o.default.openingFile,function(){t.clearPages()}),e.addViewerEventListener(o.default.pageMoved,function(e,n){t.switchPage(e,n),s.debug("page moved",Object.assign({},t.pageMap))}),e.addViewerEventListener(o.default.pageAdded,function(e){t.refreshPageIndex(),t.addPage(e),s.debug("page added",Object.assign({},t.pageMap))}),e.addViewerEventListener(o.default.pageRemoved,function(e){t.removePage(e),s.debug("page removed",Object.assign({},t.pageMap))}),e.addViewerEventListener(o.default.willCloseDocument,function(){t.clearPages()}),this.component.on("selectCommentItem",function(e){t._activeAnnot(e.controller.data.annot)}),this.component.on("selectCommentReply",function(e){t._activeAnnot(e.parent.controller.data.annot)}))},e.prototype.selectComponent=function(t){this.component.selectComponent(t)},e.prototype._activeAnnot=function(t){var e=t.getPDFPage().getIndex();this.getPDFUI().getPDFViewer().then(function(n){if(!n.getPDFDocRender().getUserPermission().checkCannotModifyExcludeAssemble()){var o=n.getPDFPageRender(e).getAnnotRender(t.getId());if(!o.component.isActive){o.active();var r=o.component.$rect;if(r||(r=o.component.$ui),r&&r.length>0){var i=r.get(0);i.scrollIntoViewIfNeeded?i.scrollIntoViewIfNeeded():i.scrollIntoView({block:"nearest",behavior:"smooth",inline:"start"})}}}})},e}(r.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.pageNumber="",i.annotationCount=0,i}return o(e,t),e.getName=function(){return"comment-group"},e.prototype.setPageData=function(t,e){this.pageNumber=t,this.annotationCount=e.length,this.updateTitle()},e.prototype.setPageNumber=function(t){this.pageNumber=t,this.updateTitle()},e.prototype.updateTitle=function(){this.titleElement.setAttribute("i18n-options",JSON.stringify({pageNumber:this.pageNumber})),this.countElement.innerText=this.annotationCount,0===this.annotationCount?this.element.classList.add("fv__ui-commentlist-group-hide"):this.element.classList.remove("fv__ui-commentlist-group-hide"),this.localizer.localizeElement(this.titleElement)},e.prototype.render=function(){t.prototype.render.call(this),this.titleElement.setAttribute("data-i18n","sidebar.commentlist.page-title"),this.element.classList.add("fv__ui-commentlist-group-hide");var e=document.createElement("span");e.classList.add("fv__ui-commentlist-group-count"),this.headerElement.appendChild(e),this.countElement=e,this.element.classList.add("fv__ui-commentlist-group")},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(190)).default);e.default=r},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more" @controller="comment-list:CommentListMenuController">\n    <dropdown-button name="commentlist-expand-commentlist" icon-class="fv__icon-sidebar-expand-comment-list" @on.click="expandAll">sidebar.commentlist.dropdown.expand-cl</dropdown-button>\n    <dropdown-button name="commentlist-collapse-commentlist" icon-class="fv__icon-sidebar-collapse-comment-list" @on.click="collapseAll">sidebar.commentlist.dropdown.collapse-cl</dropdown-button>\n    \x3c!-- <dropdown-button name="commentlist-show-all-comments" icon-class="fv__icon-sidebar-show-all-comments">sidebar.commentlist.dropdown.show-all</dropdown-button>\n    <dropdown-button name="commentlist-hide-all-comments" icon-class="fv__icon-sidebar-hide-all-comments">sidebar.commentlist.dropdown.hide-all</dropdown-button> --\x3e\n    <dropdown-button name="commentlist-import-comment" icon-class="fv__icon-sidebar-import-comment" @trigon.close.disable @trigon.open.enable file-selector="true" accept=".fdf,.xfdf,.json" @on.change="importComment">sidebar.commentlist.dropdown.import-comment</dropdown-button>\n    <dropdown-item>\n        <dropdown  icon-class="fv__icon-sidebar-export-comment" name="commentlist-export-comment" text="sidebar.commentlist.dropdown.export-comment" @trigon.close.disable @trigon.open.enable>\n            <dropdown-button icon-class="fv__icon-sidebar-export-comment-xfdf" @on.click="exportCommentToXFDF">XFDF</dropdown-button>\n            <dropdown-button icon-class="fv__icon-sidebar-export-comment-fdf" @on.click="exportCommentToFDF">FDF</dropdown-button>\n            <dropdown-button icon-class="fv__icon-sidebar-export-comment-json" @on.click="exportCommentToJSON">JSON</dropdown-button>\n         </dropdown>\n    </dropdown-item>\n    \x3c!--<dropdown-button name="commentlist-export-comment" icon-class="fv__icon-sidebar-export-comment" @trigon.close.disable @trigon.open.enable @on.click="exportComment">sidebar.commentlist.dropdown.export-comment</dropdown-button>--\x3e\n</dropdown>'}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-commentlist-reply-inner">\n    <div class="fv__ui-commentlist-reply-handler">\n        <div class="fv__ui-commentlist-reply-header">\n            <span class="fv__ui-commentlist-reply-title" role="reply-title"></span>\n            <span class="fv__ui-commentlist-reply-time"><span class="font10" role="reply-time"></span></span>\n            <div class="fv__ui-commentlist-reply-menu">\n                <template role="reply-menu">\n                    <dropdown name="reply-item-menu" icon-class="fv__icon-sidebar-more" @controller="comment-list:ReplyDropdownMenuController as rdmc" @single-active=\'comment-list-dropdown-menu\'>\n                        <dropdown-button name="commentlist-reply-menu-copy" icon-class="fv__icon-comment-item-menu-copy" @on.click="rdmc.copyText(replyItem)">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\n                        <dropdown-button name="commentlist-reply-menu-edit" icon-class="fv__icon-comment-item-menu-edit" @on.click="rdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\n                        <dropdown-button name="commentlist-reply-menu-delete" icon-class="fv__icon-comment-item-menu-delete" @on.click="rdmc.deleteReply(replyItem)">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\n                        <dropdown-item>\n                            <dropdown @controller="comment-list:CommentStatesController as csc" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states" icon-class="fv__icon-comment-item-menu-settings">\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">None</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">Accepted</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">Rejected</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">Cancelled</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">Completed</dropdown-button>\n                                \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(replyItem.annot, \'deferred\')">Deferred</dropdown-button>\n                                <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(replyItem.annot, \'future\')">Future</dropdown-button> --\x3e\n                            </dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </template>\n            </div>\n        </div>\n        <div class="fv__ui-commentlist-reply-content">\n            <div class="fv__ui-commentlist-reply-message"></div>\n\n            <ul class="fv__ui-commentlist-comment-status-list">\n                <li status="accepted">\n                    <i class="fv__icon-comment-state-accepted"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="rejected">\n                    <i class="fv__icon-comment-state-regected"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="cancelled">\n                    <i class="fv__icon-comment-state-cancelled"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="completed">\n                    <i class="fv__icon-comment-state-completed"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="deferred">\n                    <i class="fv__icon-comment-state-deferred"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="future">\n                    <i class="fv__icon-comment-state-future"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-reply-edit">\n        <div class="fv__ui-commantlist-reply-editor">\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\n        </div>\n        <div class="fv__ui-commentlist-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="edit-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n</div>'}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-commentlist-comment-inner">\n    <div class="fv__ui-commentlist-handler">\n        <div class="fv__ui-commentlist-comment-header">\n            <div class="fv__ui-commentlist-comment-icon-container">\n                <i class="fv__ui-commentlist-comment-icon"></i>\n            </div>\n            <div class="fv__ui-commentlist-comment-summary-head">\n                <span class="fv__ui-commentlist-comment-title"></span>\n                <span class="fv__ui-commentlist-comment-time"><span class="font10"></span></span>\n                <div class="fv__ui-commentlist-comment-menus">\n                    <template role="comment-menu">\n                        <dropdown name="comment-item-menu" icon-class="fv__icon-sidebar-more" @permission="32" @controller="comment-list:CommentDropdownMenuController as cdmc" @single-active=\'comment-list-dropdown-menu\'>\n                            <dropdown-button name="copy-comment-text-menu" icon-class="fv__icon-comment-item-menu-copy" @on.click="cdmc.copyText()">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\n                            <dropdown-button name="edit-comment-menu" icon-class="fv__icon-comment-item-menu-edit" @on.click="cdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\n                            <dropdown-button name="delete-comment-menu" icon-class="fv__icon-comment-item-menu-delete" @on.click="cdmc.deleteComment()" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\n                            <dropdown-item>\n                                <dropdown @controller="comment-list:CommentStatesController as csc" icon-class="fv__icon-comment-item-menu-settings" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states">\n                                    <dropdown-button @on.click="csc.setState(annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">None</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">Accepted</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">Rejected</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">Cancelled</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">Completed</dropdown-button>\n                                    \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(annot, \'deferred\')">Deferred</dropdown-button>\n                                    <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(annot, \'future\')">Future</dropdown-button> --\x3e\n                                </dropdown>\n                            </dropdown-item>\n                        </dropdown>\n                    </template>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-commentlist-comment-body">\n            <div class="fv__ui-commentlist-comment-content">\n                <div class="fv__ui-commentlist-comment-message">\n                </div>\n                <div class="fv__ui-commentlist-comment-no-content">\n                    <span data-i18n="sidebar.commentlist.card.add-content"></span>\n                </div>\n                <ul class="fv__ui-commentlist-comment-status-list">\n                    <li status="accepted">\n                        <i class="fv__icon-comment-state-accepted"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="rejected">\n                        <i class="fv__icon-comment-state-regected"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="cancelled">\n                        <i class="fv__icon-comment-state-cancelled"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="completed">\n                        <i class="fv__icon-comment-state-completed"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="deferred">\n                        <i class="fv__icon-comment-state-deferred"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="future">\n                        <i class="fv__icon-comment-state-future"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-comment-editor">\n        <div class="fv__ui-commentlist-comment-editor-area">\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\n        </div>\n        <div class="fv__ui-commentlist-comment-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="publish" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-replies"></div>\n    <div class="fv__ui-commentlist-add-reply">\n        <div class="fv__ui-commentlist-reply-editor">\n            <div contenteditable class="fv__ui-commentlist-editor" data-i18n="[placeholder]sidebar.commentlist.card.add-reply"></div>\n        </div>\n        <div class="fv__ui-commentlist-comment-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="add-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commentListModule=void 0,n(1396);var o=y(n(7)),r=y(n(265)),i=y(n(638)),a=y(n(181)),s=y(n(637)),u=y(n(636)),c=y(n(635)),l=y(n(180)),f=y(n(634)),p=y(n(633)),d=y(n(632)),h=y(n(631)),g=y(n(263)),m=y(n(630));function y(t){return t&&t.__esModule?t:{default:t}}var v=(e.commentListModule=o.default.module("comment-list",[])).getRegistry();v.registerComponent(r.default),v.registerComponent(i.default),v.registerComponent(a.default),v.registerComponent(l.default),v.registerComponent(g.default),v.registerController(s.default),v.registerController(u.default),v.registerController(c.default),v.registerController(f.default),v.registerController(m.default),v.registerController(p.default),v.registerController(d.default),v.registerController(h.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(3)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o.pageMap={},o.fileAttachments=[],o}return s(e,t),e.getName=function(){return"AttachmentSidebarPanelController"},e.prototype.postlink=function(){this.component.parent.hide()},e.prototype.addPage=function(t){var e=this,n=t.info.index;this.pageMap[n]||(this.pageMap[n]=t,t.getAnnots().then(function(t){t.map(function(t){"fileattachment"===t.getType()&&e.fileAttachments.push(t)})}).then(function(){e.fileAttachments.length>0&&(e.loaded&&e.component.update(e.fileAttachments),e.component.parent.show())}))},e.prototype.clearPages=function(){this.pageMap={},this.fileAttachments=[],this.component.parent.hide()},e.prototype.mounted=function(){var t=this;this.loaded=!1;var e=this.getPDFUI(),n=this.getComponentByName("sidebar-attachment");this.destroyHook.push(e.addViewerEventListener(r.default.openFileSuccess,function(e){t.loaded=!1,t.currentDoc=e}),e.addViewerEventListener(r.default.willCloseDocument,function(e){t.clearPages()}),e.addViewerEventListener(r.default.renderPageSuccess,function(e){t.addPage(e.page)}),e.addViewerEventListener(r.default.annotationAdd,function(e,n){var o=t.fileAttachments.length;"fileattachment"===e[0].getType()&&(t.fileAttachments.push(e[0]),t.component.update(t.fileAttachments),0===o&&1===t.fileAttachments.length&&t.component.parent.show())}),e.addViewerEventListener(r.default.annotationRemoved,function(e){for(var n=void 0,o=0;o<e.length;o++)"fileattachment"===e[o].getType()&&(n=e[o]);n&&t.fileAttachments.map(function(e,o){e.getId()===n.getId()&&(t.fileAttachments.splice(o,1),t.component.update(t.fileAttachments),0===t.fileAttachments.length&&t.component.parent.hide())})}),e.addViewerEventListener(r.default.annotationImported,function(e){var n=e.pageCache.length;t.clearPages();for(var o=0;o<n;o++)e.getPageByIndex(o).then(function(e){t.addPage(e)})})),n.on(i.COMPONENT_EVENTS.ACTIVE,function(e){!t.loaded&&t.currentDoc&&(t.loaded=!0,t.component.update(t.fileAttachments))})},e.prototype.destroy=function(){this.destroyHook.forEach(function(t){return t()})},e}(o.default);e.default=u},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).i,r=o.$escape;e+='<div class="fv__attachment-operation"></div>\n<ul class="fv__attachment-list">\n';for(n=0;n<t.length;n++)e+='\n    <li class="fv__attachment-list-item" data-attachmentindex="',e+=r(n),e+='">\n        <i class="fv__ui-attachment-icon fv__icon-attachment-item-file"></i>\n        <span class="fv__ui-attachment-file-name" title=',e+=r(t[n].name),e+=">",e+=r(t[n].name),e+="</span>\n    </li>\n";return e+="\n</ul>\n"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(16));n(1398);var r=a(n(644)),i=a(n(21));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.annots=[],i}return s(e,t),e.getName=function(){return"attachment-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.update(),this.element.innerHTML=(0,r.default)(),this.element.addClass("fv__ui-attachment-container")},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];this.annots=t,t.map(function(t){e.push({name:t.getFileSpec()&&t.getFileSpec().getFileName(),size:t.getFileSpec()&&t.getFileSpec().getFileSize()})}),this.element.innerHTML=(0,r.default)(e)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=new i.default.Manager(this.element);n.add(new i.default.Tap({event:"doubletap",taps:2})),n.on("doubletap",function(t){t.preventDefault(),e.dbclick(t)})},e.prototype.dbclick=function(t){for(var e=t.target,n=t.currentTarget;!e.classList.contains("fv__attachment-list-item");){if(e===n){e=null;break}e=e.parentNode}if(e){var o=e.getAttribute("data-attachmentindex"),r=this.annots[o];this.getPDFUI().getPDFPageRender(r.getPDFPage().getIndex()).then(function(t){t.getAnnotRender(r.getId()).component.download()})}},e}(o.default);e.default=u},function(t,e,n){"use strict";var o=i(n(645)),r=i(n(643));function i(t){return t&&t.__esModule?t:{default:t}}var a=i(n(7)).default.module("attachment",[]);a.registerController(r.default),a.registerComponent(o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(6)),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=r.default.getLogger("biz.quick-search"),c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"QuickSearchController"},e.prototype.mounted=function(){var t=this,e=this.component;this.getPDFUI().getPDFViewer().then(function(n){var o=n.getCurrentPDFDoc();o&&(t.currentPDFDoc=o,e.trigger("pdf-doc-change",o)),n.eventEmitter.on(i.default.openFileSuccess,function(n){n!==t.currentPDFDoc&&(t.currentPDFDoc=n,e.trigger("pdf-doc-change",n))})}),this.component.on("pdf-doc-change",function(t){}),this.component.element.addEventListener("scroll",function(){t.renderMoreComments()})},e.prototype.handle=function(){u.info("c.handle")},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(16));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=r(n(6)).default.getLogger("biz.quick-search"),s=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return i(e,t),e.getName=function(){return"quick-search"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv-quick-search-container");var e=document.createElement("div");e.className="fv-quick-search-container",this.eCommentListContainer=e,this.element.appendChild(e)},e.prototype.renderCommentListContainer=function(){},e.prototype.renderMoreComments=function(){},e.prototype.update=function(){},e.prototype.destroy=function(){a.info("c.destroy")},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(7)),r=a(n(648)),i=a(n(647));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("quick-search",[]);s.registerComponent(r.default),s.registerController(i.default),e.default=s},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__signature-tool-container">\n    <div class="fv__signature-tool-btns">\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-ok"></i></div>\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-cancel"></i></div>\n    </div>\n    <div class="fv__signature-tool-border">\n        <canvas id="signatureInPage" width="114" height="57"></canvas>\n        <div class="fv__signature-tool-size">\n            <i class="fv__signature-tool-size-circle"></i>\n        </div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(4)),r=a(n(182)),i=a(n(9));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"InkSignItemController"},e.prototype.mounted=function(){t.prototype.mounted.call(this);var e=this.getPDFUI();this.component.on("delete",function(t){e.getPDFViewer().then(function(e){e.getInkSignManager().delete(t)})}),this.component.on("switch",function(t){e.getPDFViewer().then(function(e){e.getInkSignManager().setCurrentInkSign(t),e.getStateHandlerManager().switchTo(r.default.getStateName());var n=e.getInkSignManager().getCurrentInkSign();e.eventEmitter.emit(i.default.applicationOfInkSign,n.dataURL)})})},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"signItem"},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.element.children[0]&&this.element.children[0].classList.add("disabled")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.element.innerHTML='<div class="fv__ui-sign-item"><i class="fv__ui-sign-icon fv__icon-toolbar-delete-sign"></i></div>',this.element.getElementsByClassName("fv__ui-sign-item")[0].appendChild(function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),o=new Image;return o.onload=function(){e.width=114,e.height=57,n.drawImage(o,0,0,114,57)},o.src=t,e}(this.controller.data.signature.dataURL)),this.element.getElementsByClassName("fv__ui-sign-item")[0].addEventListener("click",function(t){e.disabled||(t.stopPropagation(),e.trigger("switch",e.controller.data.$index),document.dispatchEvent(new MouseEvent("mouseup")))}),this.element.getElementsByClassName("fv__ui-sign-item")[0].addEventListener("mouseup",function(t){t.stopPropagation()}),this.element.getElementsByClassName("fv__icon-toolbar-delete-sign")[0].addEventListener("click",function(t){t.stopPropagation(),e.trigger("delete",e.controller.data.$index)}),this.element.getElementsByClassName("fv__icon-toolbar-delete-sign")[0].addEventListener("mouseup",function(t){t.stopPropagation()})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(7)),r=c(n(652)),i=c(n(651)),a=c(n(268)),s=n(267),u=c(n(266));function c(t){return t&&t.__esModule?t:{default:t}}var l=o.default.module("inksign",[]);l.registerComponent(r.default),l.registerController(i.default),l.registerController(a.default),l.registerController(s.CreateInkSignDialogController),l.registerController(u.default),e.default=l},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='\n    <div class="fv__ui-form-group">\n        <div class="fv__ui-stamp-dropdown"><div class=\'fv__ui-stamp-sourceLable\' data-i18n="stamp.dialog.selectSource">select file</div><i class="fv__ui-dropdown-caret fv__icon-toolbar-caret"></i></div>\n        <ul class=\'fv__ui-stamp-source\'>\n            <li>\n                <div data-source="localfile" class=\'fv__ui-stamp-source-lable\'>\n                    <div  data-i18n="stamp.dialog.selectLocal">Select from my computer</div>\n                    <input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png"/>\n                </div>\n            </li>\n            <li>\n                <div data-source="weblink" class=\'fv__ui-stamp-source-lable\' data-i18n="stamp.dialog.addLink">Add from link</div>\n            </li>\n        </ul>\n        <input id="stampPath" type="text" placeholder="Click here to input http link." class="fv__ui-stamp-input" style="display:none">\n    </div>\n    <div class="fv__ui-preview-container">\n        <img class="fv__ui-stamp-preview"/>\n        <img class="fv__ui-hidden"/>\n    </div>\n    <div id="stampCategory" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.category">Category</label>\n        <div class="fv__ui-stamp-selector">\n            <select class="fv__ui-stamp-input"></select>\n            <input class="fv__ui-stamp-input">\n        </div>\n    </div>\n    <div id="stampType" class="fv__ui-form-group" style="display:none">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.type">type</label>\n        <div class="fv__ui-stamp-selector">\n            <select class="fv__ui-stamp-input">\n                <option>bmp</option>\n                <option>jpg</option>\n                <option>jpeg</option>\n                <option>png</option>\n            </select>\n        </div>\n    </div>\n    <div id="stampName" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.name">Name</label>\n        <input type="text" class="fv__ui-stamp-input">\n    </div>\n    <div id="stampWidth" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.width">Width</label>\n        <input type="text" class="fv__ui-stamp-input" >\n    </div>\n    <div id="stampHeight" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.height">Height</label>\n        <input type="text" class="fv__ui-stamp-input" >\n    </div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(1));n(1404);var o=i(n(18)),r=i(n(654));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s,u=426,c=175,l=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return a(e,t),e.getName=function(){return"stamp-create"},e.prototype.prelink=function(){var t=this,e=this.element.querySelector(".fv__ui-hidden");this._bindEvent([e],"load",function(e){u=t.element.getElementsByClassName("fv__ui-preview-container")[0].offsetWidth,c=t.element.getElementsByClassName("fv__ui-preview-container")[0].offsetHeight;var n=e.target.width,o=e.target.height;if(e.target.width>u||e.target.height>c){var r=Math.min(u/e.target.width,c/e.target.height);o=(o*=(n=parseInt(n*r))/e.target.width).toFixed(2)}t._setElementValue("#stampWidth input",n+"")._setElementValue("#stampHeight input",o+"");var i=t.element.querySelector(".fv__ui-stamp-preview");i.src=e.target.src,i.style.display="block",i.style.width=n+"px",i.style.height=o+"px"});this._bindEvent("#stamp-local-path","change",function(n){if(!(n.target.files.length<1)){t.cleanData(),e.src&&(URL.revokeObjectURL(e.src),e.src=""),t.element.querySelector("#stampPath").style.display="none",t.element.querySelector("#stampType").style.display="none";var o=s=URL.createObjectURL(n.target.files[0]);return t.type=n.target.files[0].type.match(/.+\/(.+)/)[1],e.src=o,t._setElementValue("#stampName input",n.target.files[0].name),n.target.value="",!1}});this._bindEvent("#stampCategory select","change",function(e){t.element.querySelector("#stampCategory input").value=e.target.value});var n=function(t){t.target.value&&t.target.value.length>0&&t.target.classList.remove("fv__ui-stamp-invalid")};this._bindEvent("#stampCategory input","change",n),this._bindEvent("#stampName input","change",n),this._bindEvent("#stampWidth input","change",n),this._bindEvent("#stampHeight input","change",n);var o=function(e){var n=t.element.querySelector(".fv__ui-stamp-source");return"fv__ui-stamp-dropdown"==e.target.classList[0]||"fv__ui-dropdown-caret"==e.target.classList[0]||"fv__ui-stamp-sourceLable"==e.target.classList[0]?n.style.display="block":"fv__ui-stamp-source-lable"==e.target.classList[0]?(n.style.display="none",t.cleanData(),t.element.querySelector("#stampPath").style.display="inline-block",t.element.querySelector("#stampType").style.display="block",delete t.type):n.style.display="none",!1};this._bindEvent(".fv__ui-stamp-source-lable","click",o),this._bindEvent(".fv__ui-stamp-dropdown","click",o),this._bindEvent([this.element],"click",o);this._bindEvent("#stampPath","change",function(t){e.src=s=t.target.value})},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.update=function(){t.prototype.update.call(this),this.cleanData(!0);var e=this.pdfUI.customStamps;if(e){var n=this.element.querySelector("#stampCategory select"),o=!0,r=!1,i=void 0;try{for(var a,s=n.children[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var u=a.value;n.removeChild(u)}}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}var c="";for(var l in e)c+="<option value="+l+">"+l+"</option>";n.innerHTML=c,n.value="x"}},e.prototype.validate=function(){var t="";return t+=s?"":"icon path should not be null.",t+=this._checkNull("#stampCategory input",{notNull:"Category should not be null.",notSpace:"Space can't be in category.",notSpecialChar:"Special charaters is invalid."}),t+=this._checkNull("#stampName input",{notNull:"Name should not be null."}),t+=this._checkNull("#stampWidth input",{notNull:"Width should not be null."}),t+=this._checkNull("#stampHeight input",{notNull:"Height should not be null."})},e.prototype.gatherData=function(){this.element.querySelector(".fv__ui-hidden").src="";var t=s,e=this.element.querySelector("#stampCategory input").value,n=this.element.querySelector("#stampName input").value,o=this.element.querySelector("#stampWidth input").value,r=this.element.querySelector("#stampHeight input").value;return{url:t,catalog:e,type:this.type||this.element.querySelector("#stampType select").value,name:btoa(n),lable:n,width:o,height:r}},e.prototype.cleanData=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s=null,this._setElementValue("#stampPath","",t)._setElementValue("#stampCategory input","",t)._setElementValue("#stampName input","",t)._setElementValue("#stampWidth input","",t)._setElementValue(".fv__ui-stamp-preview","",t)._setElementValue("#stampHeight input","",t)},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-stamp-create"),this.element.innerHTML=(0,r.default)({}),this.localize()},e.prototype._bindEvent=function(t,e,n){var o=this,r=void 0;r="string"==typeof t?this.element.querySelectorAll(t):t;for(var i=function(t){var i=r[t];i.addEventListener(e,n),o.addDestroyHook(function(){i.removeEventListener(e,n)})},a=0;a<r.length;a++)i(a)},e.prototype._checkNull=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.notNull,o=void 0!==n&&n,r=e.notSpace,i=void 0!==r&&r,a=e.notSpecialChar,s=void 0!==a&&a,u=e.ascii,c=void 0!==u&&u,l=[],f=this.element.querySelector(t);return o&&0==f.value.length&&(f.classList.add("fv__ui-stamp-invalid"),l.push(o)),i&&/\s/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(i)),s&&/[!@#\$%\^&\*\(\)\-=;:\[\]\{\}]/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(s)),c&&/[^\x00-\xff]/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(c)),0==l.length&&f.classList.remove("fv__ui-stamp-invalid"),l.length>0?l.join("\n")+"\n":""},e.prototype._syncIconInfo=function(t,e){var n=t.catalog,o=t.name,r=e.type,i=e.url,a=e.width,s=e.height;this._setElementValue("#stampCategory input",n)._setElementValue("#stampName input",o)._setElementValue("#stampWidth input",a+"")._setElementValue("#stampHeight input",s+""),this.element.querySelector(".fv__ui-hidden").src=i,this.type=r},e.prototype._setElementValue=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.element.querySelector(t);return o.value=e,(e.length>0||n)&&o.classList.remove("fv__ui-stamp-invalid"),o.src&&(o.src=e,o.style.display="none"),this},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(23),a=c(n(21)),s=(c(n(1)),n(13)),u=n(32);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=void 0,p=void 0,d=void 0,h=void 0,g=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return l(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_STAMP},e.setStampInfo=function(t,e,n,o){f=t,p=e,d=n,h=o},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass("fv__create-stamp-state-handler");var n=e[0];(this.hammer=new a.default.Manager(n,{recognizers:[[a.default.Tap]]})).on("tap",function(e){var r=n.getBoundingClientRect(),i=e.srcEvent,a=(0,u.getClientX)(i),s=(0,u.getClientY)(i),c=[a-r.left,s-r.top],l=c[0],g=c[1];return t.getPDFPage().then(function(e){var n=e.reverseDevicePoint([l,g],t.scale),r=o(n,2),i=r[0],a=r[1],s=d,u=h,c={rotate:360-90*e.getRotation(),type:"stamp",flags:4,rect:{left:i-s/2,right:i+s/2,top:a+u/2,bottom:a-u/2},page:0,icon:p,iconCatagory:f};return e.addAnnot(c)}).then(function(e){var n=t.annotsRender.getAnnotRender(e[0].id).component;t.pdfViewer.getMementoManager().before({host:n,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:n,method:"addAnnot"}),t.annotsRender.activeAnnot(e[0].id)}).then(function(t){})})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler")},e.prototype.out=function(){this.destroyPageHandler()},r(e,null,[{key:"DefaultStampWidth",get:function(){return 150}},{key:"DefaultStampHeight",get:function(){return 45}}]),e}(i.IStateHandler);e.default=g},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"CustomStampButtonController"},e.prototype.handle=function(t){var e=this.getPDFUI(),n=this.getComponentByName("create-stamp-dialog");switch(t.currentTarget.dataset.action){case"Close":break;case"OK":var o=this.getComponentByName("create-stamp-body"),r=o.validate();if(r.length)return void alert(r);var i=o.gatherData(),a=i.catalog,s=i.name,u=i.type,c=i.url,l=i.width,f=i.height;e.addCustomStamp(a,s,u,c,l,f)}n.hide()},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(7)),r=u(n(657)),i=u(n(183)),a=u(n(269)),s=u(n(655));function u(t){return t&&t.__esModule?t:{default:t}}n(1402);var c=o.default.module("stamp",[]);c.registerController(a.default),c.registerComponent(s.default),c.registerController(r.default),c.registerController(i.default),e.default=c},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.scaleList=[{value:50},{value:75},{value:100},{value:125},{value:150},{value:200},{value:400},{value:500},{value:600}].map(function(t){return t.text=t.value+"%",t}),o}return o(e,t),e.getName=function(){return"LoupeToolScaleListController"},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"LoupeToolScaleController"},e.prototype.handle=function(){},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=(a(n(388)),a(n(3))),i=n(13);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHooks=[],o.cursorStyle="fv__cursor-loupe",o.offsetX=0,o.offsetY=0,o.updatePosition=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){var o=this,r=arguments;n||(n=setTimeout(function(){t.apply(o,r),n=null},e))}}(o.updatePosition.bind(o)),o}return s(e,t),e.getStateName=function(){return i.STATE_HANDLER_LOUPE},e.prototype.docHandler=function(){},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var o=this.areaRenderer=t.getPageAreaRenderer(255,400,2,!1);this.pdfViewer.eventEmitter.emit(r.default.createPageAreaRenderer,o);var i=function(t,o){n.addEventListener(t,o),e.destroyHooks.push(function(){n.removeEventListener(t,o)})};i("click",function(t){e.pdfViewer.eventEmitter.emit(r.default.startUpdatePageAreaRenderer,o)}),i("mouseover",function(t){e.pdfViewer.eventEmitter.emit(r.default.switchPageAreaRenderer,o)}),i("mousemove",function(t){e.offsetX=t.offsetX,e.offsetY=t.offsetY,e.updatePosition()})},e.prototype.updatePosition=function(){this.areaRenderer.setPosition(this.offsetX,this.offsetY),this.areaRenderer.update()},e.prototype.destroyPageHandler=function(){this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.emit(r.default.destroyPageAreaRenderer,this.areaRenderer),this.destroyHooks.forEach(function(t){return t()})},e}(o.IStateHandler);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(7)),r=s(n(270)),i=s(n(660)),a=s(n(659));function s(t){return t&&t.__esModule?t:{default:t}}n(1406);var u=o.default.module("loupe",[]);u.registerController(r.default),u.registerController(i.default),u.registerController(a.default),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=c(n(21)),i=c(n(1)),a=(c(n(36)),n(13)),s=c(n(9)),u=c(n(54));n(32);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.file=null,o}return l(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_EDIT_IMAGE},e.prototype.pageHandler=function(t){var e=this,n=this;this.pageRender=t;var o=this.$handler=t.$handler,a=o[0],c=this.hammer=new r.default.Manager(a,{recognizers:[[r.default.Tap],[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),l=(0,i.default)('<img style="position: absolute;top:-'+o.height()+"px;left:-"+o.width()+'px;border:2px solid transparent"></img>');o.append(l);var f=0,p=0;this.pdfViewer.eventEmitter.on(s.default.addEditImage,this.loadFile=function(t){var n=new FileReader;e.file=t,n.readAsDataURL(t),n.onload=function(t){l.prop({src:t.target.result});var e=new Image;e.onload=function(){l.css({top:-e.height,left:-e.width}),f=e.width,p=e.height},e.src=t.target.result}}),o.on("mousemove mousewheel",function(t){var e=a.getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;l.css({top:o,left:n})}),o.on("mouseleave",function(t){l.css({top:-p,left:-f})}),t.getPDFPage().then(function(e){t.getScale();c.on("tap",function(o){var r={},i=l.width(),a=l.height();r.top=parseFloat(l.css("top")),r.left=parseFloat(l.css("left")),r.right=r.left+i*t.getScale(),r.bottom=r.top+a*t.getScale(),l.remove();var s=new FileReader;s.readAsArrayBuffer(n.file),s.onload=function(o){var i=new Uint8Array(o.target.result),a=e.reverseDeviceRect(r,t.getScale());e.addImage(i,a).then(function(){n.pdfViewer.getStateHandlerManager().switchTo(u.default.getStateName())})}})})},e.prototype.destroyPageHandler=function(){this.$handler.off("mousemove mousewheel mouseleave"),this.$handler.empty(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.off(s.default.addEditImage,this.loadFile)},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(7)),r=a(n(272)),i=a(n(271));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("edit",[]);s.registerController(r.default),s.registerController(i.default),e.default=s},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer @draggable="">\n    <layer-header title="measurement.popup.title"></layer-header>\n    <layer-view>\n        <div class="fv__ui-measurement-fieldset">\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.scale.title"></span>\n            <div class="fv__ui-measurement-fieldset-content">\n                <ul class="fv__ui-measurement-fieldset-list">\n                    <li>\n                        <number name="measurement-from-scale"></number>\n                    </li>\n                    <li>\n                        <select name="measurement-from-unit"></select>\n                    </li>\n                    <li>=</li>\n                    <li>\n                        <number name="measurement-to-scale"></number>\n                    </li>\n                    <li>\n                        <select name="measurement-to-unit"></select>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="fv__ui-measurement-fieldset">\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.measure.title"></span>\n            <div class="fv__ui-measurement-fieldset-content">\n                <table class="fv__ui-measurements-popup-table">\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.distanceLabel">Distance:</th>\n                        <td data-role="distance-value"></td>\n                        <th class="fv__ui-measurements-popup-offset-item-label">ÎX:</th>\n                        <td data-role="offset-x-value"></td>\n                    </tr>\n                    <tr>\n                        <th data-role="angle" data-i18n="measurement.popup.measure.angleLabel">Angle:</th>\n                        <td data-role="angle-value"></th>\n                        <th class="fv__ui-measurements-popup-offset-item-label">ÎY:</th>\n                        <td data-role="offset-y-value"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.scaleLabel">Scale:</th>\n                        <td data-role="scale-value" colspan="3"></td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </layer-view>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(665)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(124)),i=(a(n(321)),a(n(61)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=[r.POINT,r.INCH,r.CENTIMETER,r.PICA,r.MILLIMETER],c=[r.POINT,r.INCH,r.CENTIMETER,r.PICA,r.MILLIMETER,r.FOOT,r.YARD,r.METER,r.KILOMETER,r.MILE,r.CUSTOM],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"measurement-popup"},e.prototype.render=function(){t.prototype.render.call(this),this.fromUnitComponent=this.getComponentByName("measurement-from-unit"),this.destUnitComponent=this.getComponentByName("measurement-to-unit");var e=!0,n=!1,o=void 0;try{for(var r,i=u[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;(h=document.createElement("option")).value=a.name,h.setAttribute("data-i18n","measurement.units."+a.name),this.fromUnitComponent.element.appendChild(h)}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}var s=!0,l=!1,f=void 0;try{for(var p,d=c[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var h,g=p.value;(h=document.createElement("option")).value=g.name,h.setAttribute("data-i18n","measurement.units."+g.name),this.destUnitComponent.element.appendChild(h)}}catch(t){l=!0,f=t}finally{try{!s&&d.return&&d.return()}finally{if(l)throw f}}},e}(i.default.createSuperClass({template:(0,o.default)()}));e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=s(n(3)),i=s(n(9)),a=s(n(61));s(n(4));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ruler-container"},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.horizontalContainer=this.childAt(0),this.verticalContainer=this.childAt(1),this.horizontalRuler=this.horizontalContainer.childAt(1),this.verticalRuler=this.verticalContainer.childAt(0),this.slot=this.childAt(1).childAt(1)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(){e.updateRulerSize(),e.rerenderRuler()},o=function(t){if(e.isActive){var n=t.clientX,o=t.clientY-e.verticalRuler.element.getBoundingClientRect().top,r=n-e.horizontalRuler.element.getBoundingClientRect().left;e.verticalRuler.setPointerOffset(o),e.horizontalRuler.setPointerOffset(r),e.rerenderPointer()}};document.addEventListener("mousemove",o),window.addEventListener("resize",n);var a=function(t){e.isActive&&e.updateRulerOffset().then(function(t){e.rerenderRuler(),e.rerenderPointer()})};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.zoomToSuccess,function(t){e.isActive&&e.updateScaleRatio().then(function(t){return e.updateRulerOffset()}).then(function(t){e.rerenderRuler(),e.rerenderPointer()})}),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,function(){e.currentPageRenderPromise=e.resolveCurrentLeftPage(),a()}),this.getPDFUI().addUIEventListener(i.default.changeViewModeSuccess,a)),this.getPDFUI().getPDFViewerRender().then(function(t){e.addDestroyHook(t.scrollWrap.addScrollEventListener(a))}),this.addDestroyHook(function(){window.removeEventListener("resize",n),document.removeEventListener("mousemove",o)})},e.prototype.resolveCurrentLeftPage=function(){var t=this;return this.getPDFUI().getPDFDocRender().then(function(e){var n=e.getViewMode().getVisibleIndexes(),r=function(t){var e=t.$ui.get(0).getBoundingClientRect();return{pageRender:t,index:t.index,left:Math.floor(e.left),vmiddle:Math.floor(e.top+e.height/2)}};if(1===n.length){var i=e.getPDFPageRender(n[0]);return t.currentPage=i,i}if(0===n.length)throw new Error("An unknown error occurred and the current visible pages could not be reached");var a=function(){var o=e.getCurrentPageIndex(),i=n.map(function(t){return e.getPDFPageRender(t)}).map(r).reduce(function(t,e){var n=e.vmiddle;return t[n]=t[n]||[],t[n].push(e),t},{});for(var a in i){var s=i[a];if(s.find(function(t){return t.index===o}))return s.sort(function(t,e){return t.left<e.left?-1:1}),t.currentPage=s[0].pageRender,{v:s[0].pageRender}}}();if("object"===(void 0===a?"undefined":o(a)))return a.v})},e.prototype.doActive=function(){var t=this;this.element.classList.add("active"),Promise.all([this.updateScaleRatio(),this.updateRulerOffset().then(function(e){return t.updateRulerSize()})]).then(function(e){t.rerenderRuler(),t.rerenderPointer()})},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.updateRulerOffset=function(){var t=this;return this.currentPageRenderPromise||(this.currentPageRenderPromise=this.resolveCurrentLeftPage()),this.currentPageRenderPromise.then(function(e){var n=function(t){return t.renderer.canvas.getBoundingClientRect()},o=e.$ui.get(0).getBoundingClientRect(),r=n(t.horizontalRuler),i=n(t.verticalRuler),a=o.left-r.left,s=o.top-i.top;t.horizontalRuler.setRulerOffset(a),t.verticalRuler.setRulerOffset(s)})},e.prototype.updateScaleRatio=function(){var t=this;return this.getPDFUI().getPDFDocRender().then(function(t){return t.getScaleRatio()}).then(function(e){t.horizontalRuler.setZoom(e),t.verticalRuler.setZoom(e)})},e.prototype.updateRulerSize=function(){this.horizontalRuler.setLength(this.horizontalContainer.element.offsetWidth),this.verticalRuler.setLength(this.verticalContainer.element.offsetHeight)},e.prototype.rerenderRuler=function(){this.horizontalRuler.rerenderRuler(),this.verticalRuler.rerenderRuler()},e.prototype.rerenderPointer=function(){this.verticalRuler.rerenderPointer(),this.horizontalRuler.rerenderPointer()},e.prototype.getSlotContainer=function(){return t.prototype.getSlotContainer.call(this,"")},e}(a.default.createSuperClass({template:'\n        <div class="fv__ui-ruler-container">\n            <div class="fv__ui-horizontal-ruler-container">\n                <span></span>\n                <distance:ruler orientation="horizontal" class="fv__ui-horizontal-ruler"></distance:ruler>\n            </div>\n            <div class="fv__ui-ruler-container-main">\n                <distance:ruler orientation="vertical" class="fv__ui-vertical-ruler"></distance:ruler>\n                <div class="fv__ui-ruler-container-slot" slot></div>\n            </div>\n        </div>\n    '}));e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(273)),r=n(152);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.orientation=e.orientation,this.offset=0,this.offsetX=0,this.offsetY=0,this.setOffset(e.originOffset||0),this.setSize(e.length,e.width||16)}return t.prototype.setOffset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset;switch(this.offset=t,this.orientation){case r.ORIENTATION_HORIZONTAL:this.offsetX=t;break;case r.ORIENTATION_VERTICAL:this.offsetY=t}},t.prototype.setSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.width;switch(this.length=t,this.width=e,this.orientation){case r.ORIENTATION_HORIZONTAL:this.canvas.width=t,this.canvas.height=e;break;case r.ORIENTATION_VERTICAL:this.canvas.height=t,this.canvas.width=e}},t.prototype.resolvePositionInfo=function(t){switch(this.orientation){case r.ORIENTATION_HORIZONTAL:return{x:t.offset,y:this.width,textX:t.offset+2,textY:this.width/2-1};case r.ORIENTATION_VERTICAL:return{x:this.width,y:t.offset,textX:2,textY:t.offset+12}}},t.prototype.render=function(t){if(this._isRenderable()){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),this.setupRender(e),this.drawMainPart(e,t),this.drawExpandPart(e,t),e.restore(),this.rulerImage=e.getImageData(0,0,this.canvas.width,this.canvas.height)}},t.prototype.setupRender=function(t){t.strokeStyle="#000",t.lineWidth=1,t.font="10px Verdana"},t.prototype._isRenderable=function(){return this.canvas.width*this.canvas.height>0},t.prototype.renderPointer=function(t){if(!this.rulerImage)throw new Error("Ruler has not been rendered!");var e=this.canvas.getContext("2d");switch(e.clearRect(0,0,this.canvas.width,this.canvas.height),e.putImageData(this.rulerImage,0,0),e.save(),e.strokeStyle="#666",e.lineWidth=1,e.beginPath(),t+=.5,this.orientation){case r.ORIENTATION_HORIZONTAL:e.moveTo(t,0),e.lineTo(t,this.width);break;case r.ORIENTATION_VERTICAL:e.moveTo(0,t),e.lineTo(this.width,t)}e.closePath(),e.stroke(),e.restore()},t.prototype.drawMainPart=function(t,e){for(var n=e.iterator(this.length-this.offset);n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=r.x+this.offsetX,a=r.y+this.offsetY,s=r.textX+this.offsetX,u=r.textY+this.offsetY;this.drawScale(t,o,i,a,s,u)}},t.prototype.drawExpandPart=function(t,e){this.orientation==r.ORIENTATION_VERTICAL?this.drawExpandPart_vertical(t,e):this.drawExpandPart_horizontal(t,e)},t.prototype.drawExpandPart_vertical=function(t,e){var n=e.iterator(this.offset);for(n.next();n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=r.x,a=this.offsetY-r.y,s=r.textX,u=this.offsetY-o.offset-2;this.drawScale(t,o,i,a,s,u)}},t.prototype.drawExpandPart_horizontal=function(t,e){var n=e.iterator(this.offset);for(n.next();n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=this.offsetX-r.x,a=r.y,s=this.offsetX-r.textX+4,u=r.textY;this.drawScale(t,o,i,a,s,u)}},t.prototype.drawScale=function(t,e,n,r,i,a){var s=void 0;switch(e.type){case o.default.SCALE_TYPE_UNIT:s=this.width/4;break;case o.default.SCALE_TYPE_MIDDLE:s=this.width/2;break;case o.default.SCALE_TYPE_SCALE:s=this.width}this.drawLine(t,this.orientation,s,n,r),e.type===o.default.SCALE_TYPE_SCALE&&t.fillText(e.scale+"",i,a)},t.prototype.drawLine=function(t,e,n,o,i){var a,s;switch(t.beginPath(),n=Math.ceil(n),o=Math.floor(o),i=Math.floor(i),e){case r.ORIENTATION_VERTICAL:a=o-n,s=i+=.5;break;default:a=o+=.5,s=i-n}t.moveTo(o,i),t.lineTo(a,s),t.closePath(),t.stroke()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(16)),r=n(5),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(124)),a=u(n(668)),s=u(n(273));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.renderer=new a.default({orientation:i.orientation,originOffset:i.offset,width:i.width}),i.ruler=new s.default({orientation:i.orientation,length:i.length,zoom:i.zoomValue,unit:i.unit}),i.pointerOffset=0,i}return c(e,t),e.getName=function(){return"ruler"},e.getMetadata=function(){return{options:{orientation:function(t,e){var n=void 0;return(n=e in t.$options?t.$options[e]:t.attrs[e])!==r.ORIENTATION_HORIZONTAL&&n!==r.ORIENTATION_VERTICAL&&(n=r.ORIENTATION_HORIZONTAL),n},offset:{type:"number",defaultValue:0},width:{type:"number",defaultValue:16},length:{type:"number",defaultValue:100},unit:function(t,e){var n=void 0;return(n=e in t.$options?t.$options[e]:t.attrs[e])||(n="inch"),i[n.toUpperCase()]||i.INCH},zoom:{field:"zoomValue",type:"range",min:0,defaultValue:1}}}},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.appendChild(this.renderer.canvas)},e.prototype.rerenderRuler=function(){this.renderer.render(this.ruler)},e.prototype.rerenderPointer=function(){this.renderer.renderPointer(this.pointerOffset)},e.prototype.setWidth=function(t){this.renderer.setSize(this.length,t)},e.prototype.setLength=function(t){this.renderer.setSize(t,this.width)},e.prototype.setRulerOffset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.renderer.setOffset(t)},e.prototype.setPointerOffset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.pointerOffset=t},e.prototype.setOrientation=function(t){this.renderer.orientation=t},e.prototype.setZoom=function(t){this.ruler.setZoom(t)},e.prototype.setUnit=function(t){this.ruler.setUnit(t)},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(185)),r=n(20),i=a(n(9));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.LineEndingStyle.OpenArrow,r.LineEndingStyle.OpenArrow))}return s(e,t),e.getStateName=function(){return"createDistance"},e.prototype.createAnnotJson=function(t){return t.intent=r.Intents.LINE_DIMENSION,t.enableCaption=!0,t.measure={unit:"inch",ratio:"1 inch = 1 inch"},t},e.prototype.pageHandler=function(e){t.prototype.pageHandler.call(this,e)},e.prototype.start=function(e,n){var o=this;return t.prototype.start.call(this,e,n).then(function(t){return o.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationStart,t),t})},e.prototype.adjust=function(e,n){var o=this;return t.prototype.adjust.call(this,e,n).then(function(t){return o.pdfViewer.eventEmitter.emit(i.default.updateCreatingDistanceAnnot,t),t})},e.prototype.end=function(e,n){var o=this;return t.prototype.end.call(this,e,n).then(function(t){return o.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationEnd,t),t})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=u(n(14)),i=u(n(670)),a=(u(n(9)),u(n(6))),s=n(20);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}a.default.getLogger("CreateDistanceController");var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.default));return o.$throttles={},o}return c(e,t),e.getName=function(){return"CreateDistanceController"},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},e.prototype.updateMeasurementAnnotContentInfo=function(t){if(t.annot.getIntent()!==s.Intents.LINE_DIMENSION)throw new Error("incorrect annotation intent: "+t.annot.getIntent()+", it must be "+s.Intents.LINE_DIMENSION);var e=t.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=t.getId(),o=this.$throttles[n]||this._throttle(function(e){requestAnimationFrame(function(n){t.setContent(e)})});this.$throttles[n]=o,o(e)},e.prototype._throttle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout(function(){return t.apply(r,o)},e)}},e.prototype.stateIn=function(){this.rulerContainer.active()},e.prototype.stateOut=function(){this.rulerContainer.deactive()},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(7)),r=u(n(671)),i=u(n(669)),a=u(n(667));n(1408);var s=u(n(666));function u(t){return t&&t.__esModule?t:{default:t}}var c=o.default.module("distance",[]);c.registerController(r.default),c.registerComponent(s.default),c.registerComponent(i.default),c.registerComponent(a.default),e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(4)),i=n(112);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"DownloadFileController"},e.prototype.handle=function(){var t=(0,i.getDownloadEnv)();this.getPDFUI().getCurrentPDFDoc().then(function(t){var e=[];return t.getStream(function(t){var n=t.arrayBuffer;e.push(n)}).then(function(n){return[e,t.getFileName()]})}).then(function(e){var n=o(e,2),r=n[0],a=n[1];a&&0!==a.length||(a="download.pdf"),(0,i.download)(r,a,"application/pdf",t)})},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(7)),r=s(n(673)),i=s(n(275)),a=s(n(274));function s(t){return t&&t.__esModule?t:{default:t}}var u=o.default.module("file",[]);u.registerController(r.default),u.registerController(a.default),u.registerController(i.default),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(140)),r=n(23);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"ContextMenuZoomActionController"},e.prototype.mounted=function(){var t=this,e=function(e){t.component.action==e?t.component.active():t.component.deactive()};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.Events.zoomToSuccess,e),this.getPDFUI().addViewerEventListener(r.Events.openFileSuccess,function(){t.getPDFUI().getPDFDocRender().then(function(t){e(t.getScale())})}))},e}(o.default);e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"EditableZoomToScaleValueController"},e.prototype.handle=function(){t.prototype.handle.call(this),this.component.parent.setEditValue(100*this.data.scale)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(276)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(7)),r=c(n(276)),i=c(n(676)),a=c(n(141)),s=c(n(140)),u=c(n(675));function c(t){return t&&t.__esModule?t:{default:t}}var l=o.default.module("zoom",[]);l.registerController(r.default),l.registerController(a.default),l.registerController(i.default),l.registerController(s.default),l.registerController(u.default),e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(7)),r=a(n(279)),i=a(n(277));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("pagemode",[]);s.registerController(i.default),s.registerController(r.default),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return a(e,t),e.getName=function(){return"GotoNextPageController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,1===t.data.pageNumber?t.component.disable():t.component.enable()}),this.getPDFUI().addViewerEventListener(r.default.pageAdded,function(e){t.data.pageNumber++}),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,function(e){t.data.pageNumber--}),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,function(e){e>=t.data.pageNumber?t.component.disable():(t.component.enable(),t.data.currentPageIndex=e)}))},e.prototype.handle=function(){this.getPDFUI().getPDFDocRender().then(function(t){t.nextPage()})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),r=i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return a(e,t),e.getName=function(){return"GotoPrevPageController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,t.component.disable(),t.digest()}),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,function(e){e<=1?t.component.disable():(t.component.enable(),t.data.currentPageIndex=e,t.digest())}))},e.prototype.handle=function(){this.getPDFUI().getPDFDocRender().then(function(t){t.prevPage()})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(7)),r=u(n(680)),i=u(n(679)),a=u(n(281)),s=u(n(280));function u(t){return t&&t.__esModule?t:{default:t}}var c=o.default.module("gotoview",[]);c.registerController(r.default),c.registerController(i.default),c.registerController(a.default),c.registerController(s.default),e.default=c},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__selection-tool-tip-container">\n    \x3c!--<div class="fv__selection-tool-tip-items-container">--\x3e\n        <div class="fv__selection-tool-tip-items">\n            <div class="fv__selection-tool-tip-item fv__icon-popup-copy"></div>\n            <div class="fv__selection-tool-tip-item fv__icon-toolbar-text-highlight"></div>\n            <div class="fv__selection-tool-tip-item fv__icon-toolbar-strikeout"></div>\n            <div class="fv__selection-tool-tip-item fv__icon-toolbar-underline"></div>\n        </div>\n    \x3c!--</div>--\x3e\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(1410);var r=h(n(1)),i=h(n(21)),a=h(n(3)),s=h(n(42)),u=n(143),c=n(22),l=h(n(682)),f=n(33),p=h(n(36)),d=n(13);function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=(0,l.default)(),y=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return g(e,t),e.getStateName=function(){return d.STATE_HANDLER_SELECT_TEXT_ANNOTATION},e.getDefaultContextMenuConfig=function(){return{selector:".fv__selection-state-contextmenu-container"}},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t,this.pdfViewer=t.pdfViewer;var n=t;t.$ui.addClass("fv__annot-container-zindex-up");var s=n.$handler;s.addClass("fv__select-text-annotation-state-handler");var l=s[0],f=t.pdfViewer.eventEmitter,d=this.hammer=new i.default.Manager(l,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]});d.add(new i.default.Tap({event:"doubletap",taps:2})),d.add(new i.default.Tap({event:"singletap"})),d.get("doubletap").recognizeWith("singletap"),d.get("singletap").requireFailure("doubletap"),d.on("singletap",function(n){e.hideSelectMark(),e.hideToolTip();var o=t.annotsRender;o?(o.unActiveAnnot(),f.emit(a.default.tapPage,n)):f.emit(a.default.tapPage,n)}),d.on("doubletap",function(n){e.hideSelectMark(),e.hideToolTip();var o=t.annotsRender;o?(o.unActiveAnnot(),f.emit(a.default.doubleTapPage,n)):f.emit(a.default.doubleTapPage,n)});var h=void 0,g=void 0;d.on("panstart",function(n){if(!1!==e.panStart(n,e)){var o=t.annotsRender;o&&o.unActiveAnnot();var r=(0,p.default)(l,n);h=[r.x,r.y],e.hideSelectMark(),g=new c.DebouncePromiseQueue}}),d.on("panmove",function(t){!1!==e.panMove(t,e)&&g.push(function(){var n=e.pageRender;return e.getTextRect((0,u.deltaDeviceRect)(h,t.deltaX,t.deltaY)).then(function(t){return Promise.all([n.getPDFPage(),t])}).then(function(t){var e=o(t,2),r=e[0],i=e[1];return n.transformRectArray(r,i)}).then(function(t){e.showSelectMark(t)})})}),d.on("panend",function(n){if(!1!==e.panEnd(n,e)){g.end(),g=null;var r=(0,u.deltaDeviceRect)(h,n.deltaX,n.deltaY);return e.getTextRect(r).then(function(e){return Promise.all([t.getPDFPage(),e])}).then(function(n){var r=o(n,2),i=r[0],a=r[1];return e.pdfSelectRectArray=a,t.transformRectArray(i,a)}).then(function(t){e.showSelectMark(t),e.getTextChar(r).then(function(t){e.selectText=t}),e.showToolTip(t)})}});var m=(0,r.default)('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');s.append(m),m.data("hand-state",this),this.$contextmenuContainer=m},e.prototype.getTextRect=function(t){return this.pageRender.getTextContinueRectAtDeviceRect(t)},e.prototype.getTextChar=function(t){return this.pageRender.getTextContinuousCharAtDeviceRect(t)},e.prototype.showSelectMark=function(t){var e=this.pageRender.$handler;e.find(".fv__mark-selection-blank").remove();for(var n=(0,r.default)(document.createDocumentFragment()),o=0,i=t.length;o<i;o++){var a=t[o],s=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+s+'"></mark>')}e.append(n)},e.prototype.hideSelectMark=function(){this.pageRender.$handler.find(".fv__mark-selection-blank").remove()},e.prototype.showToolTip=function(t){var e=this;if(!t.length)return this.hideToolTip();this.pageRender.getPDFDoc();Promise.resolve(this.pageRender.docRender.getUserPermission().getValue()).then(function(n){e.pageRender.$handler;var o=e.$toolTip=e.$toolTip||e.intiToolTip(),r=t[0];32&n?o.find("div>div:not(.fv__icon-popup-copy)").removeClass("disabled"):o.find("div>div:not(.fv__icon-popup-copy)").addClass("disabled"),16&n?o.find("div>div.fv__icon-popup-copy").removeClass("disabled"):o.find("div>div.fv__icon-popup-copy").addClass("disabled"),o.addClass("fv__active"),o.css({left:(r.left+r.right)/2+"px",top:r.top+"px"})})},e.prototype.hideToolTip=function(){try{this.$toolTip.removeClass("fv__active")}catch(t){}},e.prototype.destroyToolTip=function(){try{this.$toolTip.remove()}catch(t){}},e.prototype.intiToolTip=function(){var t=this,e=this.pageRender.$ui,n=document.createElement("div");n.innerHTML=m;var o=document.createDocumentFragment();o.appendChild(n.firstElementChild),e.append(o);var r=e.find(".fv__selection-tool-tip-container");function i(t){var e=this.pageRender.annotsRender.getAnnotRender(t.getId()).component;this.pdfViewer.getMementoManager().before({host:e,method:"addAnnot"}),this.pdfViewer.getMementoManager().after({host:e,method:"addAnnot"}),this.pageRender.annotsRender.activeAnnot(t.getId())}return r.on("click",".fv__selection-tool-tip-item",function(){t.hideToolTip(),t.hideSelectMark()}).on("click",".fv__icon-popup-copy",function(){if(!r.find("div>div:nth-child(1)").hasClass("disabled")){var e=t.selectText;(0,f.copyText)(e)?t.pdfViewer.eventEmitter.emit(a.default.copyTextSuccess,e):t.pdfViewer.eventEmitter.emit(a.default.copyTextFailed,e)}}).on("click",".fv__icon-toolbar-text-highlight",function(){r.find("div>div:nth-child(2)").hasClass("disabled")||t.pageRender.getPDFPage().then(function(e){e.addAnnot({type:"highlight",rect:{left:0,right:0,top:0,bottom:0},coords:t.pdfSelectRectArray}).then(function(e){var n=e[0];i.call(t,n)})})}).on("click",".fv__icon-toolbar-strikeout",function(){r.find("div>div:nth-child(2)").hasClass("disabled")||t.pageRender.getPDFPage().then(function(e){e.addAnnot({type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:t.pdfSelectRectArray}).then(function(e){var n=e[0];i.call(t,n)})})}).on("click",".fv__icon-toolbar-underline",function(){r.find("div>div:nth-child(2)").hasClass("disabled")||t.pageRender.getPDFPage().then(function(e){e.addAnnot({type:"underline",rect:{left:0,right:0,top:0,bottom:0},coords:t.pdfSelectRectArray}).then(function(e){var n=e[0];i.call(t,n)})})}),r},e.prototype.copyText=function(){},e.prototype.panStart=function(){},e.prototype.panMove=function(){},e.prototype.panEnd=function(){},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-annotation-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot();try{this.hideSelectMark(),this.destroyToolTip()}catch(t){}},e.prototype.out=function(){this.destroyPageHandler()},e}(s.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(184)),r=n(20),i=n(13);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"polygon"))}return a(e,t),e.getStateName=function(){return i.STATE_HANDLER_CREATE_POLYGON_CLOUD},e.prototype.canBeCompleted=function(t){var e=t.getVertexes().length;return e<2&&logger.debug("polygon has only "+e+" points"),e>2},e.prototype.createAnnotJson=function(t){return t.borderStyle=r.BORDER_STYLE.CLOUDY,t.borderStyleParam=2,t.intent="PolygonCloud",t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(6)),r=a(n(184)),i=n(13);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=o.default.getLogger("creation/polygon/state"),c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"polygon"))}return s(e,t),e.getStateName=function(){return i.STATE_HANDLER_CREATE_POLYGON},e.prototype.canBeCompleted=function(t){var e=t.getVertexes().length;return e<2&&u.debug("polygon has only "+e+" points"),e>2},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(n(42));var o=a(n(6)),r=(n(22),a(n(184))),i=n(13);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}o.default.getLogger("creation/polyline/state");var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"polyline"))}return s(e,t),e.getStateName=function(){return i.STATE_HANDLER_CREATE_POLYLINE},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(287)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"square"))}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_SQUARE},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(287)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"circle"))}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_CIRCLE},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(185)),r=n(20),i=n(13);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.LineEndingStyle.None,r.LineEndingStyle.OpenArrow))}return a(e,t),e.getStateName=function(){return i.STATE_HANDLER_CREATE_ARROW},e.prototype.createAnnotJson=function(t){return t.intent="LineArrow",t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(186));var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.from=new o.default(e.x,e.y),this.end=new o.default(n.x,n.y),this.length=this.end.substract(this.from).length(),this.k=(n.y-e.y)/(n.x-e.x),this.delta=e.y-this.k*e.x}return t.prototype.hasPoint=function(t){var e=new o.default(t.x,t.y),n=e.substract(this.from).length()+e.substract(this.end).length();return Math.abs(this.length-n)<.5},t.prototype.intersectPoint=function(t){if(this.k===t.k)return this.delta!==t.delta?null:{x:0,y:this.delta};if(!isFinite(this.k))return{x:this.from.x,y:t.delta};if(!isFinite(t.k))return{x:t.from.x,y:this.delta};var e=(t.delta-this.delta)/(this.k-t.k);return{x:e,y:this.k*e+this.delta}},t.prototype.hasIntersect=function(t){var e=this.intersectPoint(t);return!!e&&(this.hasPoint(e)&&t.hasPoint(e))},t}();e.default=r,window.Vector=o.default,window.LineSegment=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(186)),r=i(n(690));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=e.map(function(t){return new o.default(t.x,t.y)}),this.count=this.vertices.length,this.edges=[];for(var n=this.vertices.length,i=0;i<n-1;i++)this.edges.push(this.vertices[i].segment(this.vertices[i+1]));this.edges.push(this.vertices[n-1].segment(this.vertices[0])),this.segments=this.edges.map(function(t){var e=t.from,n=t.to;return new r.default(e,n)})}return t.overlap=function(t,e){return n(t.min,e)||n(t.max,e)||n(e.max,t)||n(e.max,t);function n(t,e){return t>=e.min&&t<=e.max}},t.prototype.project=function(t){t=t.normalize();for(var e=this.vertices[0].dot(t),n=e,o=0;o<this.count;o++){var r=this.vertices[o].dot(t);r<e&&(e=r),r>n&&(n=r)}if(e>n){var i=[n,e];e=i[0],n=i[1]}return{min:e,max:n}},t.prototype.sat=function(e){for(var n=0;n<this.count;n++){var o=this.edges[n].dir.perp(),r=this.project(o),i=e.project(o);if(!t.overlap(r,i))return!1}for(var a=0;a<e.count;a++){var s=e.edges[a].dir.perp(),u=this.project(s),c=e.project(s);if(!t.overlap(u,c))return!1}return!0},t.prototype.contains=function(t){for(var e=this.vertices[0],n=1;n<this.count;n++){var o=this.vertices[n];o.x>e.x&&(e=o)}for(var i=new r.default(t,{x:e.x+10,y:t.y}),a=!1,s=0;s<this.count;s++){var u=this.segments[s];if(u.hasPoint(t))return!0;i.hasIntersect(u)&&(a=!a)}return a},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(691)),r=i(n(186));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,function(){if(n.y>o.y){var t=[o,n];n=t[0],o=t[1]}var e=new r.default(n.x,n.y),s=new r.default(o.x,o.y),u=s.substract(e).normalize(),c=u.mult(a);e=e.substract(c),s=s.add(c);var l=Math.PI/2-Math.atan2(u.y,u.x),f=.5*i*Math.cos(l),p=.5*i*Math.sin(l);return[{x:e.x-f,y:e.y+p},{x:e.x+f,y:e.y-p},{x:s.x+f,y:s.y-p},{x:s.x-f,y:s.y+p}]}()))}return a(e,t),e.prototype.getWidth=function(){for(var t=this.vertices[0].x,e=this.vertices[0].x,n=1;n<this.count;n++)this.vertices[n].x<t?t=this.vertices[n].x:this.vertices[n].x>e&&(e=this.vertices[n].x);return e-t},e.prototype.getHeight=function(){for(var t=this.vertices[0].y,e=this.vertices[0].y,n=1;n<this.count;n++)this.vertices[n].y<t?t=this.vertices[n].y:this.vertices[n].y>e&&(e=this.vertices[n].y);return e-t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(23),i=u(n(36)),a=n(20),s=u(n(692));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=u(n(6)).default.getLogger("EraserStateHandler"),f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments));return n.cursorStyle="fv__cursor-eraser",n}return c(e,t),e.getStateName=function(){return"eraser"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;this.allInkList={},this.eraseInkList={},n.addClass(this.cursorStyle);var o=n[0],r=this.hammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),a=t.getAnnots().then(function(t){return t.filter(function(t){return"ink"===t.getType()})});t.getPDFPage().then(function(n){r.on("panstart",function(t){e.startPoint=(0,i.default)(o,t),a.then(function(t){t.forEach(function(t){e.allInkList[t.getId()]={annot:t,inkList:t.getInkList()}})})}),r.on("panmove",function(t){e.lastPoint=e.currentPoint||e.startPoint,e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},a.then(function(t){0!==t.length&&e.erase(n,t,e.lastPoint,e.currentPoint)})}),r.on("panend",function(n){e.currentPoint=null;var o=[],r=[];for(var i in e.eraseInkList)o.push(e.allInkList[i]),r.push(e.eraseInkList[i]),t.pdfViewer.getMementoManager().before({host:t,inkArray:o,method:"eraser"}),t.pdfViewer.getMementoManager().after({host:t,inkArray:r,method:"eraser"})})})},e.prototype.erase=function(t,e,n,r){var i=this;if(n.x>r.x){var u=[r,n];n=u[0],r=u[1]}var c=this.pageRender.getScale(),f=this.pageRender,p=t.reverseDevicePoint([n.x,n.y],c),d=o(p,2),h=d[0],g=d[1],m=t.reverseDevicePoint([r.x,r.y],c),y=o(m,2),v={x:h,y:g},b={x:y[0],y:y[1]},w=new s.default(v,b,4);function A(t,e){var n=e.x>=t.left&&e.x<=t.right,o=e.y>=t.bottom&&e.y<=t.top;return n&&o}e.filter(function(t){var e=t.getRect();return A(e,v)||A(e,b)}).forEach(function(t){function e(t){return t.reduce(function(t,e){return e.type===a.POINT_TYPE.MOVE_TO&&t.push([]),t[t.length-1].push(Object.assign({removed:!1},e)),t},[])}function n(){var n=t.getBorderWidth(),o=e(t.getInkList()),r=!1;if(o.forEach(function(t){if(1===t.length){var e=t[0];w.contains(e)&&(e.removed=!0,r=!0)}else for(var o=0,i=t.length-1;o<i;o++){var u=t[o],c=t[o+1],l=new s.default(u,c,n,n/2);if(w.sat(l)){u.removed=!0,c.removed=!0;var f=t[o+2];f&&(f.type=a.POINT_TYPE.MOVE_TO),r=!0}}}),r){var i=[];if(o.forEach(function(t){t.forEach(function(e,n){if(e.removed){var o=t[n+1];o&&(o.type=a.POINT_TYPE.MOVE_TO)}else i.push({x:e.x,y:e.y,type:e.type})})}),i.length<10){var u=e(i);if(i.length<2||i.length===u.length){var c=f.getAnnotRender(t.getId());return c?c.component.removeAnnot():void l.debug("annotRender === undefined",c,u,i)}}return t.setInkList(i)}}t.$$lastErasePromise=(t.$$lastErasePromise||Promise.resolve()).then(n,n).then(function(e){return i.eraseInkList[t.getId()]={annot:t,inkList:t.getInkList()},e})})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(r.IStateHandler);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(107)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-underline",o}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_UNDERLINE},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"underline",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(n(42)),i=c(n(54)),a=c(n(21)),s=n(13),u=n(32);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-note",o}return l(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_TEXT},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass(this.cursorStyle);var n=e[0];(this.hammer=new a.default.Manager(n,{recognizers:[[a.default.Tap]]})).on("tap",function(e){var r=n.getBoundingClientRect(),a=e.srcEvent,s=(0,u.getClientX)(a),c=(0,u.getClientY)(a),l=[s-r.left,c-r.top],f=l[0],p=l[1];return t.getPDFPage().then(function(e){var n=e.reverseDevicePoint([f,p],t.scale),r=o(n,2),a=r[0],s=r[1],u={flags:4,type:"text",rect:{left:a,right:a+20,top:s,bottom:s-20}};e.addAnnot(u).then(function(e){var n=e[0],o=t.annotsRender.getAnnotRender(n.getId()).component;t.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),t.pdfViewer.getStateHandlerManager().switchTo(i.default.getStateName()),t.annotsRender.activeAnnot(n.getId()),o.showReplyDialog("comment")})})})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(107)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-strikeout",o}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_STRIKE_OUT},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(107)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-s-underline",o}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_SQUIGGLY},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"squiggly",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(107)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-replace-text",o}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_REPLACE},e.prototype.addAnnot=function(t,e){var n=e[e.length-1],o=void 0,r=void 0,i={};switch(n.rotation){case 0:r=2*(o=n.top-n.bottom)/5,i.left=n.right-r,i.right=n.right+r,i.top=(n.top+n.bottom)/2,i.bottom=i.top-o;break;case 3:o=4*(r=n.right-n.left)/5,i.left=(n.right+n.left)/2,i.right=i.left+r,i.top=n.top+o/2,i.bottom=i.top-o;break;case 2:r=2*(o=n.top-n.bottom)/5,i.left=n.left-r,i.right=n.left+r,i.bottom=(n.top+n.bottom)/2,i.top=i.bottom+o;break;case 1:o=4*(r=n.right-n.left)/5,i.right=(n.right+n.left)/2,i.left=i.right-r,i.top=n.bottom+o/2,i.bottom=i.top-o}return t.addAnnotGroup([{flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:e,noPopup:!0,subject:"Replace",intent:"StrikeOutTextEdit"},{type:"caret",flags:4,rect:i,subject:"Replace",intent:"Replace",_rotate:n.rotation*Math.PI/2}],1)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(23),i=l(n(1)),a=l(n(36)),s=n(13),u=n(32),c=n(33);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments));return n.cursorStyle="fv__cursor-pencil",n}return f(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_PENCIL},e.getStateHandlerName=function(){return"pencilStateHandler"},e.prototype.pageHandler=function(t){var e=this;this.annotCache=null;var n=this,o=t.pdfViewer.getStateHandlerManager().getStateHandlerConfig(this.constructor.getStateHandlerName()),r=o?o.pencilTimeout:null;r=null!=r?r:3e3,this.pageRender=t;var s=t.$handler;s.addClass(this.cursorStyle);var u=s.width(),l=s.height();this.$canvas=(0,i.default)('<canvas style="width:'+u+"px;height:"+l+'px" width="'+u*c.dpr+'" height="'+l*c.dpr+'"></canvas>'),s.append(this.$canvas);var f=this.$canvas[0].getContext("2d");f.lineWidth=2.2*t.getScale()*c.dpr,f.strokeStyle="#ff0000",f.lineJoin="round",f.lineCap="round";var p=s[0],y=this.hammer=new Hammer.Manager(p,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),v=[],b=void 0;function w(){if(f.clearRect(0,0,s.width()*c.dpr,s.height()*c.dpr),v=[],n.isRecord){t.pdfViewer.getMementoManager().undoStack.pop();var e=t.annotsRender.getAnnotRender(n.annotCache.getId()).component;t.pdfViewer.getMementoManager().before({host:e,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:e,method:"addAnnot"})}b=setTimeout(function(){n.isRecord=!1,n.annotCache=null},r)}y.on("panstart",function(e){!function(){var e=s.width(),o=s.height();n.$canvas[0].width=e*c.dpr,n.$canvas[0].height=o*c.dpr,n.$canvas.css("width",e+"px"),n.$canvas.css("height",o+"px"),f.lineWidth=2.2*t.getScale()*c.dpr,f.strokeStyle="#ff0000",f.lineJoin="round",f.lineCap="round"}();var o=(0,a.default)(p,e);f.beginPath(),f.moveTo(o.x*c.dpr,o.y*c.dpr),o,v.push({x:o.x,y:o.y,type:1}),clearTimeout(b)}),y.on("panmove",function(t){var e=d(p,t);if(v.push({x:e.x,y:e.y,type:2}),v.length>4){var n=v.slice(-4),o=g(n,.5);h(f,n[1],o[0],o[1],n[2])}else if(4===v.length){f.clearRect(0,0,u*c.dpr,l*c.dpr),f.moveTo(v[0].x*c.dpr,v[0].y*c.dpr),f.lineTo(v[1].x*c.dpr,v[1].y*c.dpr),f.stroke();var r=g(v,.5);h(f,v[1],r[0],r[1],v[2]),f.lineTo(v[3].x*c.dpr,v[3].y*c.dpr),f.stroke()}else f.lineTo(e.x*c.dpr,e.y*c.dpr),f.stroke()}),y.on("panend",function(n){var o=d(p,n);if(f.lineTo(o.x*c.dpr,o.y*c.dpr),f.stroke(),e.annotCache){var r=e.annotCache.getInkList();t.getPDFPage().then(function(n){r=r.concat(m(n,t.scale,v)),e.annotCache.setInkList(r).then(function(){w()})})}else t.getPDFPage().then(function(n){var o;o=m(n,t.scale,v),n.addAnnot({type:"ink",flags:4,rect:{left:0,right:0,top:0,bottom:0},inkList:o}).then(function(n){e.annotCache=n[0],w();var o=t.annotsRender.getAnnotRender(e.annotCache.getId()).component;t.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),e.isRecord=!0})})})},e.prototype.destroyPageHandler=function(){this.annotCache=null,this.$canvas.remove(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(r.IStateHandler);function d(t,e){var n=t.getBoundingClientRect(),o=e.srcEvent,r=(0,u.getClientX)(o),i=(0,u.getClientY)(o);return{x:r-n.left,y:i-n.top}}function h(t,e,n,o,r){t.beginPath(),t.moveTo(e.x*c.dpr,e.y*c.dpr),t.bezierCurveTo(n.x*c.dpr,n.y*c.dpr,o.x*c.dpr,o.y*c.dpr,r.x*c.dpr,r.y*c.dpr),t.stroke()}function g(t,e){var n=t[0].x,o=t[0].y,r=t[1].x,i=t[1].y,a=t[2].x,s=t[2].y,u=t[3].x,c=t[3].y,l=(n+r)/2,f=(o+i)/2,p=(r+a)/2,d=(i+s)/2,h=(a+u)/2,g=(s+c)/2,m=Math.sqrt((r-n)*(r-n)+(i-o)*(i-o)),y=Math.sqrt((a-r)*(a-r)+(s-i)*(s-i)),v=m/(m+y),b=y/(y+Math.sqrt((u-a)*(u-a)+(c-s)*(c-s))),w=l+(p-l)*v,A=f+(d-f)*v,_=p+(h-p)*b,P=d+(g-d)*b;return[{x:w+(p-w)*e+r-w,y:A+(d-A)*e+i-A},{x:_+(p-_)*e+a-_,y:P+(d-P)*e+s-P}]}function m(t,e,n){var r=[];return n.forEach(function(n){var i=t.reverseDevicePoint([n.x,n.y],e),a=o(i,2),s=a[0],u=a[1];r.push({x:s,y:u,type:n.type})}),r}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=f(n(21)),i=f(n(1)),a=f(n(36)),s=n(13),u=n(32),c=n(29),l=f(n(54));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return p(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_LINK},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var o=n[0],s=this.hammer=new r.default.Manager(o,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),u=void 0;s.on("panstart",function(t){var e=(0,a.default)(o,t);u=[e.x,e.y]}),s.on("panmove",function(t){var e=o.getBoundingClientRect(),r=t.srcEvent,a=h(u,e,r),s=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px","border:1px solid #0000FF","position:absolute"].join(";"),c=n.find(".fv__mark-link-blank");if(0===c.length){var l=(0,i.default)(document.createDocumentFragment());l.append('<div class="fv__mark-link-blank" style="'+s+'"></div>'),n.append(l)}else c.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})}),s.on("panend",function(r){var i=o.getBoundingClientRect(),a=r.srcEvent,s=h(u,i,a);return t.getPDFPage().then(function(o){var r=o.reverseDeviceRect(s,t.scale);o.addAnnot({type:"link",rect:r,color:"0000FF"}).then(function(t){n.find(".fv__mark-link-blank").remove();var o=e.pageRender.getAnnotRender(t[0].getId()).component;o.showActionsDialog(),c.isMobile&&e.pdfViewer.getStateHandlerManager().switchTo(l.default.getStateName()),e.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),e.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"})})})})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);function h(t,e,n){var o=(0,u.getClientX)(n),r=(0,u.getClientY)(n),i=[o-e.left,r-e.top],a=t[0],s=t[1],c=i[0],l=i[1],f=void 0;return c<a&&(f=a,a=c,c=f),l<s&&(f=s,s=l,l=f),{left:a,top:s,right:c,bottom:l}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=l(n(21)),i=l(n(1)),a=l(n(36)),s=n(13),u=n(32),c=n(29);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return f(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_IMAGE},e.prototype.pageHandler=function(t){var e=this;if(this.pageRender=t,c.isIOS)0===t.index&&(setTimeout(function(){e.pdfViewer.getStateHandlerManager().switchTo("hand")},100),alert("Unsupported now. Comming soon."));else{var n=t.$handler;n.addClass(this.cursorStyle),n.append('<input id="imageInput" type="file" style="visibility: hidden;" accept="image/gif,image/jpeg,image/jpg,image/png,image/svg"/>');var o=n[0],s=this.hammer=new r.default.Manager(o,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),u=void 0;s.on("panstart",function(t){var e=(0,a.default)(o,t);u=[e.x,e.y]}),s.on("panmove",function(t){var e=o.getBoundingClientRect(),r=t.srcEvent,a=d(u,e,r),s=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px","border:1px solid red","position:absolute"].join(";"),c=n.find(".fv__mark-image-blank");if(0===c.length){var l=(0,i.default)(document.createDocumentFragment());l.append('<div class="fv__mark-image-blank" style="'+s+'"></div>'),n.append(l)}else c.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})}),s.on("panend",function(e){var r=o.getBoundingClientRect(),a=e.srcEvent,s=d(u,r,a);n.find(".fv__mark-image-blank").remove(),(0,i.default)("#imageInput").off("change").on("change",function(e){var n=e.target.files[0];return t.getPDFPage().then(function(o){var r=new FileReader,i=o.reverseDeviceRect(s,t.scale);r.readAsArrayBuffer(n),r.onload=function(){var n=new Uint8Array(r.result);o.addAnnot({flags:4,type:"screen",rect:i,rotate:o.getRotation(),buffer:n}).then(function(n){e.target.value="";var o=n[0],r=t.annotsRender.getAnnotRender(o.getId()).component;t.pdfViewer.getMementoManager().before({host:r,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:r,method:"addAnnot"}),t.annotsRender.activeAnnot(o.getId())})}}).catch(function(t){})}),(0,i.default)("#imageInput").click()})}},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);function d(t,e,n){var o=(0,u.getClientX)(n),r=(0,u.getClientY)(n),i=[o-e.left,r-e.top],a=t[0],s=t[1],c=i[0],l=i[1],f=void 0;return c<a&&(f=a,a=c,c=f),l<s&&(f=s,s=l,l=f),{left:a,top:s,right:c,bottom:l}}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(107)),r=n(13);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-highlight",o}return i(e,t),e.getStateName=function(){return r.STATE_HANDLER_CREATE_HIGHLIGHT},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"highlight",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=l(n(42)),i=l(n(21)),a=l(n(1)),s=l(n(54)),u=n(13),c=n(32);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-file",o}return f(e,t),e.getStateName=function(){return u.STATE_HANDLER_CREATE_FILE_ATTACHMENT},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass(this.cursorStyle),e.append('<input id="fileAttachment" type="file" style="display: none;"/>');var n=e[0];(this.hammer=new i.default.Manager(n,{recognizers:[[i.default.Tap]]})).on("tap",function(e){var r=n.getBoundingClientRect(),i=e.srcEvent,u=(0,c.getClientX)(i),l=(0,c.getClientY)(i),f=[u-r.left,l-r.top],p=f[0],d=f[1];(0,a.default)("#fileAttachment").off("change").on("change",function(e){var n=e.target.files[0];if(n)return t.getPDFPage().then(function(e){var r=new FileReader,i=e.reverseDevicePoint([p,d],t.scale),a=o(i,2),u=a[0],c=a[1];r.readAsArrayBuffer(n),r.onload=function(){var o=new Uint8Array(r.result),i=10,a=12;switch(e.getRotation()){case 1:case 3:var l=i;i=a,a=l}e.addAnnot({flags:4,type:"fileattachment",rect:{left:u-i,right:u+i,top:c+a,bottom:c-a},buffer:o,fileName:n.name}).then(function(e){var n=e[0],o=t.getAnnotRender(e[0].getId()).component;t.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),t.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),t.pdfViewer.getStateHandlerManager().switchTo(s.default.getStateName()),t.annotsRender.activeAnnot(n.getId())})}})}),(0,a.default)("#fileAttachment").click()})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),(0,a.default)("#fileAttachment").remove()},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=p(n(42)),i=p(n(21)),a=n(22),s=n(143),u=p(n(36)),c=n(13),l=p(n(146)),f=n(32);function p(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-insert-text",o}return h(e,t),e.getStateName=function(){return c.STATE_HANDLER_CREATE_CARET},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n[0],c=this.hammer=new i.default.Manager(r,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}],[i.default.Tap]]}),p=void 0,h=void 0;c.on("panstart",function(t){if(!1!==e.panStart(t,e)){var n=(0,u.default)(r,t);p=[n.x,n.y],e.hideSelectMark(),h=new a.DebouncePromiseQueue}}),c.on("panmove",function(t){!1!==e.panMove(t,e)&&h.push(function(){var n=e.pageRender;return e.getTextRect((0,s.deltaDeviceRect)(p,t.deltaX,t.deltaY)).then(function(t){return Promise.all([n.getPDFPage(),t])}).then(function(t){var e=o(t,2),r=e[0],i=e[1];return n.transformRectArray(r,i)}).then(function(t){e.showSelectMark(t)})})}),c.on("panend",function(n){!1!==e.panEnd(n,e)&&(h.end(),h=null,e.getTextRect((0,s.deltaDeviceRect)(p,n.deltaX,n.deltaY)).then(function(n){return e.hideSelectMark(),Promise.all([t.getPDFPage(),n])}).then(function(t){var n=o(t,2),r=n[0],i=n[1];if(i.length<1)return Promise.resolve();var a=i[i.length-1],s=void 0,u=void 0,c={};switch(a.rotation){case 0:u=2*(s=a.top-a.bottom)/5,c.left=a.right-u,c.right=a.right+u,c.top=(a.top+a.bottom)/2,c.bottom=c.top-s;break;case 3:s=4*(u=a.right-a.left)/5,c.left=(a.right+a.left)/2,c.right=c.left+u,c.top=a.top+s/2,c.bottom=c.top-s;break;case 2:u=2*(s=a.top-a.bottom)/5,c.left=a.left-u,c.right=a.left+u,c.bottom=(a.top+a.bottom)/2,c.top=c.bottom+s;break;case 1:s=4*(u=a.right-a.left)/5,c.right=(a.right+a.left)/2,c.left=c.right-u,c.top=a.bottom+s/2,c.bottom=c.top-s}return r.addAnnot({type:"caret",flags:4,rect:c,_rotate:a.rotation*Math.PI/2}).then(function(t){var n=t[0],o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component;e.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),e.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),e.pageRender.annotsRender.activeAnnot(n.getId())})}))}),c.on("tap",function(n){if(!1!==e.tap(n,e)){var o=r.getBoundingClientRect(),i=n.srcEvent,a=(0,f.getClientX)(i),s=(0,f.getClientY)(i),u=[a-o.left,s-o.top];return t.getPDFPage().then(function(n){var o=n.reverseDevicePoint([u[0],u[1]],t.scale);return n.getCharInfoAtPoint(o).then(function(t){if(t){var o=t.top-t.bottom,r=t.bottom+o/2,i=(t.right+t.left)/2,a=new l.default;a.e=-i,a.f=-r;var s=(t.bottom+t.top)/2,u=s-o,c=t.right-3*o/8,f=t.right+3*o/8,p=a.transformRect(c,s,f,u),h=t.rotation*Math.PI/2;return a.reset(),a.rotate(-h),p=a.transformRect.apply(a,d(p)),a.reset(),a.e=i,a.f=r,p=a.transformRect.apply(a,d(p)),n.addAnnot({type:"caret",rect:{left:p[0],bottom:p[1],right:p[2],top:p[3]},_rotate:h}).then(function(t){var n=t[0],o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component;e.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),e.pdfViewer.getMementoManager().after({host:o,method:"addAnnot"}),e.pageRender.annotsRender.activeAnnot(n.getId())})}})})}})},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.panStart=function(){},e.prototype.panMove=function(){},e.prototype.panEnd=function(){},e.prototype.tap=function(){},e.prototype.showSelectMark=function(t){(0,s.appendSelectMark)(this.pageRender.$handler,t)},e.prototype.hideSelectMark=function(){(0,s.removeSelectMark)(this.pageRender.$handler)},e.prototype.getTextRect=function(t){return this.pageRender.getTextContinueRectAtDeviceRect(t)},e}(r.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(23),i=n(22),a=function(t){return t&&t.__esModule?t:{default:t}}(n(36)),s=n(13);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return u(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t,this.pageDestroyHooks=[];var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var o=this.hammer=new Hammer.Manager(n);o.add(new Hammer.Pan);var r=new i.DebouncePromiseQueue;o.on("panstart",function(o){e.startPoint=(0,a.default)(n,o),t.getPDFPage().then(function(t){return e.start(t,e.startPoint)})}),o.on("panmove",function(t){e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},r.push(function(){return e.annotPromise.then(function(t){return e.adjust(t,e.startPoint,e.currentPoint)})})}),o.on("panend",function(t){e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},r.end(),r.push(function(){return e.annotPromise.then(function(t){e.end(t,e.startPoint,e.currentPoint)})})}),o.on("pancancel",function(t){r.end(),e.annotPromise.then(function(t){return e.end(t,e.startPoint,e.currentPoint)})}),this.pageDestroyHooks.push(function(){return o.destroy()}),this.pageDestroyHooks.push(function(){return r.end()})},e.prototype.start=function(t,e){var n=this,r=e.x,i=e.y,a=t.reverseDevicePoint([r,i],this.pageRender.scale),s=o(a,2),u=s[0],c=s[1],l={left:u,right:u+1,top:c,bottom:c-1};return this.annotPromise=t.addAnnot({type:"highlight",date:new Date,rect:l,flags:4,coords:[l],dicts:{AreaHi:"AreaHi"}}).then(function(t){var e=t[0],o=n.pageRender.annotsRender.getAnnotRender(e.getId()).component;return n.pdfViewer.getMementoManager().before({host:o,method:"addAnnot"}),o.$ui.addClass("creating"),o})},e.prototype.adjust=function(t,e,n){var o=e.x,r=e.y,i=n.x,a=n.y,s=Math.min(o,i),u=Math.min(r,a),c=Math.abs(o-i),l=Math.abs(r-a);return t.setRect({left:s,top:u,width:c,height:l})},e.prototype.end=function(t,e,n){var o=this;return this.adjust(t,e,n).then(function(){o.pdfViewer.getMementoManager().after({host:t,method:"addAnnot"}),t.$ui.removeClass("creating"),t.parent("annotsRender").activeAnnot(t.getId())})},e.prototype.destroyPageHandler=function(){this.pageDestroyHooks&&this.pageDestroyHooks.forEach(function(t){return t()}),this.pageRender.$handler.removeClass(this.cursorStyle)},e}(r.IStateHandler);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(54));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default))}return a(e,t),e.getName=function(){return"HandController"},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=x(n(7)),r=x(n(706)),i=x(n(303)),a=x(n(302)),s=x(n(301)),u=x(n(300)),c=x(n(299)),l=x(n(298)),f=x(n(297)),p=x(n(296)),d=x(n(295)),h=x(n(294)),g=x(n(293)),m=x(n(292)),y=x(n(291)),v=x(n(290)),b=x(n(289)),w=x(n(288)),A=x(n(286)),_=x(n(285)),P=x(n(284)),O=x(n(283)),E=x(n(282));function x(t){return t&&t.__esModule?t:{default:t}}var C=o.default.module("states",[]);[i.default,a.default,s.default,u.default,c.default,l.default,f.default,p.default,d.default,h.default,g.default,m.default,y.default,r.default,v.default,b.default,w.default,A.default,_.default,P.default,O.default,E.default].forEach(function(t){return C.registerController(t)}),e.default=C},function(t,e,n){"use strict";n(707),n(681),n(678),n(677),n(674),n(672),n(664),n(662),n(658),n(653),n(649),n(646),n(642),n(629),n(622),n(619),n(613),n(609),n(607),n(603),n(592)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=n(23),i=s(n(54)),a=n(33);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"touch-to-scroll"},e.prototype.componentMounted=function(){var t=!0,e=!1;this.component.getPDFUI().addViewerEventListener(r.Events.switchStateHandler,function(e){t=e===i.default});var n=this.component.element,o=function(t,e){n.scrollBy?n.scrollBy(t,e):(n.scrollLeft=n.scrollLeft+t,n.scrollTop=n.scrollTop+e)},s=new Hammer.Manager(n);s.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var u=0,c=0,l=function(t){u=0,c=0},f=function(e,n){t&&(o(-(e-u),-(n-c)),u=e,c=n)},p=!1,d=!0,h=void 0,g=function(t){var n=(0,a.eventPath)(t).some(function(t){return!!t.classList&&t.classList.contains("fv__pdf-page-annots-container")});e=n};window.addEventListener("mousedown",g,!0),window.addEventListener("touchstart",g,!0),s.on("panstart",function(n){t&&!e&&(p=!1,d=!0,cancelAnimationFrame(h),n.pointers.length>1||f(n.deltaX,n.deltaY))}),s.on("panmove",function(n){p||!t||e||n.pointers.length>1||f(n.deltaX,n.deltaY)}),s.on("panend",function(n){if(!(n.pointers.length>1||!t||e)){var r=n.velocityX*(1e3/60),i=n.velocityY*(1e3/60);l();var a=r<0?-.8:.8,s=i<0?-.8:.8;d=!1,h=requestAnimationFrame(function t(){var e=Math.abs(r),n=Math.abs(i);e<.8&&n<.8||d||(h=requestAnimationFrame(t),o(-r,-i),e>=.8&&(r-=a),n>=.8&&(i-=s))})}}),s.on("pancancel",l);var m=function(){p=!0,l()};window.addEventListener("touchend",m),window.addEventListener("touchcancel",m),window.addEventListener("mouseup",m),this.addDestroyHook(function(){window.removeEventListener("touchend",m),window.removeEventListener("mouseup",m),window.removeEventListener("touchcancel",m),window.removeEventListener("mousedown",g),window.removeEventListener("touchstart",g)})},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(7));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));if(!o.node.parent)throw new Error("Unsupported operation: @require-modules directive is not supported for root node");return o.requiredModules=o.attrValue.split(/[\s,;]+/).map(function(t){return t.toLowerCase()}),o}return a(e,t),e.getName=function(){return"require-modules"},e.isParser=function(){return!0},e.prototype.parseComponent=function(t,e){var n=this.requiredModules;if(!(n.length<1)&&!n.some(function(t){return!r.default.modules[t]})){var o=t.parseNode(this.cloneNode(),this.parentComponent,e);this.parentComponent.append(o)}},e.prototype.cloneNode=function(){var t=this,e=this.node.clone(!1);return e.directives=this.node.directives.filter(function(e){return e.directiveName!==t.constructor.getName()}),e},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(304)),i=n(62),a=n(155);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.id=o.subName,o}return u(e,t),e.getName=function(){return"contextmenu"},e.prototype.componentPostlink=function(){var t=this,e=this.component.directive.getDirectives(r.default.getName()),n=void 0;this.id&&(n=e.find(function(e){return e.subName===t.id})),n||(n=e.find(function(t){return!t.subName}));var o=(0,a.attachContextMenuEvent)(function(e){var o=t.component.element,r=function(t){return!0};if(n){var i=n.getOptions();if("string"==typeof i.before&&(r=i.before),!(o=t.findTarget(i,e.target)))return}r(e,o)&&(t.targetContextmenu.trigger("beforeshow",o),t.targetContextmenu.showAt(e.clientX,e.clientY),t.targetContextmenu.trigger("aftershow",o),e.stopPropagation(),e.preventDefault())});this.addDestroyHook(o)},e.prototype.componentMounted=function(){if(this.targetContextmenu=this.component.getRoot().querySelector(this.attrValue),!(this.targetContextmenu instanceof i.ContextMenuComponent))throw new Error("Unexpected target contextmenu! It must be <contextmenu> component, but actual: <"+(this.targetContextmenu?this.targetContextmenu.nodeName:"not found")+">")},e.prototype.findTarget=function(t,e){var n=t.uixSelector,o=t.cssSelector;if("string"==typeof n){for(var r=this.component.querySelectorAll(n),i=function(){var t=e,n=void 0;for(;!n&&t;)n=t.getComponent(),t=t.parentElement;return n}();i&&-1===r.indexOf(i);)i=i.parent;return i}if("string"!=typeof o)return this.component.element;for(var a=e;a;){if(a.matches(o))return a;a=a.parentElement}},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(n(10)),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u={close:i.default.willCloseDocument,open:i.default.openFileSuccess,opening:i.default.openingFile,openfailed:i.default.openFileFailed},c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n)),i=r.subName.split("."),a=o(i,2),s=a[0],c=a[1];if(!s||!c)throw new Error("Illegal directive syntax: "+r.attrName+". it should be like this: @trigon.open.disable");if(!u[s])throw new Error("Unsupported event name: "+s+", now supported events are following: "+JSON.stringify(Object.keys(u)));if(!r.actions[c])throw new Error("Unsupported action type: "+c+", now supported actions are following: "+JSON.stringify(Object.keys(r.actions)));return r.eventName=u[s],r.actionType=c,r}return s(e,t),e.getName=function(){return"trigon"},e.prototype.componentPostlink=function(){var t=this,e=this.actions[this.actionType].bind(this);this.component.getPDFUI().addViewerEventListener(this.eventName,function(){var n=[];if(t.attrValue){var o=t.controller.eval(t.attrValue);n=Array.is(o)?o:[o]}e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n))})},e}(r.default);e.default=c,c.prototype.actions={disable:function(){this.component.disable()},enable:function(){this.component.enable()},show:function(){this.component.show()},hide:function(){this.component.hide()},setText:function(t){this.component.setText(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(10));n(1416);var r=n(29);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.supportedDevices=o.attrValue.split(/\W+/).map(function(t){return t.toLowerCase()}),o}return i(e,t),e.getName=function(){return"display-on-device"},e.prototype.afterComponentRender=function(){var t=this.component,e=this.supportedDevices;if(!(e.length<1||e.indexOf("all")>-1)&&!e.some(function(t){return r.DEVICE_DETACTION[t]})){t.addCSSClass("fv__ui-directive-display-on-device"),t.addCSSClass("none-devices-match"),this.addDestroyHook(function(){t.removeCSSClass("fv__ui-directive-display-on-device"),t.removeCSSClass("none-devices-match")})}},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(10));n(1416);var r=n(29);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.supportedDevices=o.attrValue.split(/\W+/).map(function(t){return t.toLowerCase()}),o}return i(e,t),e.getName=function(){return"hide-on-device"},e.prototype.afterComponentRender=function(){var t=this.component,e=this.supportedDevices,n=e.some(function(t){return r.DEVICE_DETACTION[t]});if(e.length<1||e.indexOf("all")>-1||n){t.addCSSClass("fv__ui-directive-hide-on-device"),t.addCSSClass("devices-match"),this.addDestroyHook(function(){t.removeCSSClass("fv__ui-directive-hide-on-device"),t.removeCSSClass("devices-match")})}},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(10)),r=n(29);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));if(!o.node.parent)throw new Error("Unsupported operation: @device directive is not supported for root node");return o.supportedDevices=o.attrValue.split(/\W+/).map(function(t){return t.toLowerCase()}),o}return i(e,t),e.getName=function(){return"device"},e.isParser=function(){return!0},e.prototype.parseComponent=function(t,e){var n=this.supportedDevices;if(!(n.length<1||n.indexOf("all")>-1)&&n.some(function(t){return r.DEVICE_DETACTION[t]})){var o=t.parseNode(this.cloneNode(),this.parentComponent,e);this.parentComponent.append(o)}},e.prototype.cloneNode=function(){var t=this.node.clone(!1);return t.directives=this.node.directives.filter(function(t){return"device"!==t.directiveName}),t},e}(o.default);e.default=a},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Directive2=__webpack_require__(10),_Directive3=_interopRequireDefault(_Directive2),_consts=__webpack_require__(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var PermissionDirective=function(_Directive){function PermissionDirective(){return _classCallCheck(this,PermissionDirective),_possibleConstructorReturn(this,_Directive.apply(this,arguments))}return _inherits(PermissionDirective,_Directive),PermissionDirective.getName=function(){return"permission"},PermissionDirective.prototype.componentMounted=function componentMounted(){var _this2=this;this.controller.pdfUI.getPDFDocRender().then(function(t){return t?t.getUserPermission().getValue():-2147483648}).then(function(permission){var orOperation="||";-1!=_this2.attrValue.indexOf("&&")&&(orOperation="&&");var enablePermissions=_this2.attrValue.split(orOperation),unlock=0;enablePermissions.map(function(value){unlock=eval(unlock+orOperation+(+value&permission))}),unlock?_this2.component.lock&&_this2.component.unlock():_this2.component.lock&&_this2.component.lock()})},PermissionDirective}(_Directive3.default);exports.default=PermissionDirective},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"set"},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(305)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"stop"},e.prototype.componentMounted=function(){var t=this,e=function(t){return t.stopPropagation()};this.component.element.addEventListener(this.subName,e),this.addDestroyHook(function(){return t.component.element.removeEventListener(t.subName,e)})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"stop-drag"},e.prototype.componentMounted=function(){var t=this,e=function(e,n){var o=function(t){return t.stopPropagation()};e.addEventListener(n,o),t.addDestroyHook(function(){return e.removeEventListener(n,o)})};this.component.element.$$DRAG_STOPPED$$=!0,this.component.element.closest(".fv__ui-draggable-target")&&(e(this.component.element,"pointerdown"),e(this.component.element,"mousedown"),e(this.component.element,"touchstart")),this.addDestroyHook(function(){delete t.component.element.$$DRAG_STOPPED$$})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"hammer"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.hammer=e.$hammer||(e.$hammer=new Hammer(e.element));var n=this.transformEventNameToHammerRecogonizeName(this.subName);this.hammer.get(n).set({enable:!0})},e.prototype.componentMounted=function(){var t=this,e=this.component,n=this.controller,o=void 0;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var r=function(t,e){for(var n=e.split("."),o=0;o<n.length;o++)if(void 0===(t=t[n[o]])||null===t)return t;return t},i=r(n,this.attrValue)||r(n.data,this.attrValue)||r(n.methods,this.attrValue);if(!i)throw new Error("event handler not found: "+this.attrValue+" ,component: <"+e.nodeName+">");o=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return i.apply(n,e)}}else o=function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];n.eval(t.attrValue,{originArguments:o})};this.hammer.on(this.subName,o)},e.prototype.componentDestroyed=function(){t.prototype.componentDestroyed.call(this),this.hammer.destroy()},e.prototype.transformEventNameToHammerRecogonizeName=function(t){switch(t){case"panstart":case"pan":case"panmove":case"panend":case"pancancel":case"panleft":case"panright":case"panup":case"pandown":return"pan";case"pinch":case"pinchstart":case"pinchmove":case"pinchend":case"pinchcancel":case"pinchin":case"pinchout":return"pinch";case"press":case"pressup":return"press";case"rotate":case"rotatestart":case"rotatemove":case"rotateend":case"rotatecancel":return"rotate";case"swipe":case"swipeleft":case"swiperight":case"swipeup":case"swipedown":return"swipe";case"tap":return"tap";default:throw new Error("incorrect event name: "+this.subName)}},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.order=1/0,o}return o(e,t),e.getName=function(){return"init"},e.prototype.init=function(e){t.prototype.init.call(this,e),e.controller.eval(this.attrValue,{})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(10)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a={},s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.getName=function(){return"single-active"},e.prototype.componentMounted=function(){var t=this;this.addDestroyHook(this.component.on(r.COMPONENT_EVENTS.ACTIVE,function(e){var n=a[t.attrValue];n&&n!==t.component&&n.deactive(),a[t.attrValue]=t.component}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.isParser=function(){return!1},e.getName=function(){return"cannotBeDisabled"},e.prototype.init=function(e){t.prototype.init.call(this,e),e.enable(),e.disable=r.default},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=r(n(6)).default.getLogger("@model-options"),s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.getName=function(){return"model-options"},e.prototype.init=function(e){t.prototype.init.call(this,e);var n=e.getDirectiveByName("model");if(n){var o=e.controller.watch(this.attrValue,function(t){n.updateOptions(t)});this.addDestroyHook(o)}else a.warn("@model-option directive will do nothing without @model directive")},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(80)),i=s(n(6)),a=s(n(81));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=i.default.getLogger("@model"),p=function(t){function e(n){u(this,e);var o=c(this,t.call(this,n));return o.modelOptions={updateOn:"change"},o}return l(e,t),e.getName=function(){return"model"},e.prototype.init=function(e){if(e instanceof r.default){t.prototype.init.call(this,e);var n=e.controller.getDataSource(this.attrValue);this.addDestroyHook(n.connect(new(function(t){function n(){return u(this,n),c(this,t.apply(this,arguments))}return l(n,t),n.prototype.receive=function(t){e.setValue(t)},n}(a.default)))),this.watchComponentChange()}else f.warn(e,"is not a form field type component!")},e.prototype.watchComponentChange=function(){var t=this.controller.getDataSource(this.attrValue);this.offComponentUpdateEvents=this.component.on(this.modelOptions.updateOn,function(e){t.subject[t.part]=e})},e.prototype.updateOptions=function(t){var e=this.modelOptions.updateOn;t&&Object.assign(this.modelOptions,t),e!==this.modelOptions.updateOn&&(this.offComponentUpdateEvents(),this.watchComponentChange())},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(10));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1418);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e.getName=function(){return"resizable"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.attrValue.length>0&&(this.resizeOptions=e.controller.eval(this.attrValue)),this.resizeOptions||(this.resizeOptions={})},e.prototype.componentMounted=function(){var t=this.resizeOptions,e=t.minWidth,n=t.maxWidth,o=t.minHeight,r=t.maxHeight;isFinite(e)||(e=10),isFinite(o)||(o=10),n||(n=1/0),r||(r=1/0),n<e&&(n=e),r<o&&(r=o);var i=this.component,a=this.component.element,s=getComputedStyle(a);a.classList.add("fv__ui-resizable");var u=document.createElement("div");u.classList.add("fv__ui-resizable-action");var c=new Hammer.Manager(u);c.add(new Hammer.Pan);var l=parseFloat(s.width),f=parseFloat(s.height),p=function(t){a.$isResizing=!0;var s=Math.min(n,Math.max(e,l+t.deltaX)),u=Math.min(r,Math.max(o,f+t.deltaY));a.style.cssText+="width: "+s+"px; height: "+u+"px",i.trigger("resize",s,u)};c.on("panstart",function(t){var e=getComputedStyle(a);l=parseFloat(e.width),f=parseFloat(e.height),p(t)}),c.on("panmove",p),c.on("panend",function(t){p(t),l=Math.min(n,Math.max(e,l+t.deltaX)),f=Math.min(r,Math.max(o,f+t.deltaY)),setTimeout(function(){a.$isResizing=!1},0)}),a.appendChild(u),this.addDestroyHook(function(){return c.destroy()}),this.addDestroyHook(function(){return a.removeChild(u)})},e}(o.default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(6));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1420);var s=r.default.getLogger("@draggable"),u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"draggable"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.dragOptions=this.attrValue?e.controller.eval(this.attrValue):{}},e.prototype.componentMounted=function(){var t=this.component.element,e=this._resolveMoveTarget();if(e){if(e.classList.add("fv__ui-draggable-target"),t.classList.add("fv__ui-draggable-action"),e.parentElement){var n=e.parentElement,o=getComputedStyle(n);o.position&&"static"!==o.position||(n.style.cssText+="position: relative")}var r=new Hammer.Manager(t);r.add(new Hammer.Pan);var i=void 0,a=void 0,u=void 0,c=!0,l=this.dragOptions.overflow||"stop",f=function(n){if(!t.$isResizing){var o=i+n.deltaX,r=a+n.deltaY;u&&"ignore"!==l&&(o=Math.max(0,Math.min(o,u.right-e.offsetWidth)),r=Math.max(0,Math.min(r,u.height-e.offsetHeight))),e.style.cssText+="left: "+o+"px; top: "+r+"px;"}};r.on("panstart",function(t){if(c=function(t){for(;t;){if(t.$$DRAG_STOPPED$$)return!1;t=t.parentElement}return!0}(t.target)){u=e.parentElement.getBoundingClientRect();var n=e.getBoundingClientRect();i=n.left-u.left,a=n.top-u.top,e.style.cssText+="\n                transform: translateX(0) translateY(0);\n                left: "+i+"px;\n                top: "+a+"px;\n            ",f(t)}}),r.on("panmove",function(t){c&&f(t)}),r.on("panend",function(e){c&&(t.$isResizing||(f(e),i+=e.deltaX,a+=e.deltaY))}),this.addDestroyHook(function(){return r.destroy()})}else s.warn("cannot found the move target of @draggable directive! options: ",this.dragOptions)},e.prototype._resolveMoveTarget=function(){var t=this.dragOptions,e=t.type,n=t.target,o=this.component.element;switch(e){case"selector":return o.querySelector(n);case"closest":var r=this.component.getClosestComponentByName(n);return r?r.element:void 0;case"parent":var i=n?this.component.getClosestComponentByType(n):this.component.parent;return i?i.element:void 0;case"child":return this.component.getComponentByName(n);default:return o}},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"if"},e.isParser=function(){return!0},e.prototype.parseComponent=function(t){var e=this,n=this.parentComponent,o=n.size();n.controller.eval(this.attrValue);var r=void 0;n.controller.watch(this.attrValue,function(i){if(i){var a=t.parseNode(e.node,n);n.insert(a,o),r=a}else r&&r.destroy()})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(10)),r=a(n(7)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=/^((?:.+?\:)?\w+)(?:\s+as\s+(\w+))?$/,c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));switch(o.isSettingAlias=!1,o.subName){case"alias":o.aliasName=o.attrValue,o.isSettingAlias=!0;break;default:var r=o.attrValue.trim().match(u);if(!r)throw new Error("Incorrect @controller format: "+o.attrValue);o.controllerName=r[1],o.aliasName=r[2]}return o}return s(e,t),e.getName=function(){return"controller"},e.prototype.processComponentOptions=function(t){if(!t.callback&&!this.isSettingAlias){var e=this.controllerName,n=e.split(i.NAMESPACE_SEPERATOR),o=this.node.module;n.length>1&&(o=r.default.module(n[0]));var a=o.getControllerClass(n.pop())||t.callback;if(!a)throw new Error("controller not found: "+e);t.callback=a}},e.prototype.init=function(e){t.prototype.init.call(this,e),e.controller.data[this.aliasName]=e.controller},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(n(10)),i=c(n(81)),a=(c(n(16)),c(n(6))),s=n(5),u=c(n(306));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=/^(?:(\w+)\s+in\s+)?([\$\w]+(\.[\$\w]+)?)(?:\s+track\s+by\s+(.+))?\s*$/,g=a.default.getLogger("@foreach"),m=0,y=function(t){function e(n,o,r){f(this,e);var i=p(this,t.call(this));return i.directive=n,i.parser=o,i.initData=r,i.componentMap={},i.components=[],i.insertIndex=n.parentComponent.size(),i.parentController=n.parentComponent.controller,i}return d(e,t),e.prototype.receive=function(t){Array.isArray(t)?this.directive.trackby?this.insertWithTracking(t):this.replaceAll(t):g.warn("data is not an array: ",t)},e.prototype.replaceAll=function(t){var e=this,n=t.map(function(t,n){var o,r=Object.assign((l(o={},e.directive.itemName,t),l(o,"$index",n),o),e.initData||{});return e.parser.parseNode(e.directive.cloneNode(),e.directive.parentComponent,r)});this.components.forEach(function(t){t.destroy()}),this.components=n,this.directive.parentComponent.insertAll(this.components,this.insertIndex),n.forEach(function(t){t.localize(),t.isMounted||t.mounted()})},e.prototype.insertWithTracking=function(t){var e=this,n=this.componentMap,o={},r=[],i=t.map(function(t,i){var a,s=e.parentController.eval(e.directive.trackby,t);if(o[s])throw new Error("Duplicated tracking value: "+s+", track by "+e.directive.trackby);var u=Object.assign((l(a={},e.directive.itemName,t),l(a,"$index",i),a),e.initData||{}),c=n[s];return c?(Object.assign(c.controller.data,u),c.controller.digest(),delete n[s]):(c=e.parser.parseNode(e.directive.cloneNode(),e.directive.parentComponent,u),r.push(c)),o[s]=c,c});for(var a in n){if(!o[a])n[a].destroy()}this.componentMap=o,this.directive.parentComponent.insertAll(i,this.insertIndex),r.forEach(function(t){t.localize(),t.isMounted||t.mounted()})},e}(i.default),v=function(t){function e(n){f(this,e);var r=p(this,t.call(this,n));if(!r.node.parent)throw new Error("Unsupported operation: @foreach directive is not supported for root node.");var i=r.parseForeachExpression(r.attrValue),a=o(i,3),u=a[0],c=a[1],l=a[2];return r.itemName=u||"$item",r.dataName=c,r.trackby=l,r.id="directive-"+m++,r.parentComponent.once(s.COMPONENT_EVENTS.DESTROYED,function(t){r.destroy()}),r}return d(e,t),e.getName=function(){return"foreach"},e.isParser=function(){return!0},e.prototype.parseForeachExpression=function(t){var e=t.match(h);if(!e)throw new Error("incorrect foreach expression: "+t);var n=o(e,5);return[n[1],n[2],n[4]]},e.prototype.parseComponent=function(t,e){var n=new y(this,t,e),o=this.parentComponent.controller.watch(this.dataName,function(t,e){n.receive(t,e)});this.addDestroyHook(o),this.parentComponent.controller.digest()},e.prototype.cloneNode=function(){var t=this.node.clone();return t.directives=this.node.directives.filter(function(t){return"foreach"!==t.directiveName}),t.directives.push({attrName:u.default.getName(),ns:s.ROOT_MODULE_NAME,directiveName:u.default.getName(),subName:"",attrValue:""}),t},e}(r.default);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(65));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"isolate"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.order=1/0,e.controller.setParentScope=r.default},e}(o.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"on"},e.prototype.componentMounted=function(){var t=this.component,e=this.controller,n=0===this.subName.indexOf("native."),o=void 0;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var r=function(t,e){for(var n=e.split("."),o=0;o<n.length;o++)if(void 0===(t=t[n[o]])||null===t)return t;return t},i=r(e,this.attrValue)||r(e.data,this.attrValue)||r(e.methods,this.attrValue);if(!i)throw new Error("event handler not found: "+this.attrValue+" ,component: <"+t.nodeName+">");o=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return i.apply(e,n)}}else{var a=e.compileCode(this.attrValue);o=n?function(t){a.call(null,{$event:t})}:function(){a.call(null,{$event:event})}}if(n){var s=this.subName.substring("native.".length);t.element.addEventListener(s,o),this.addDestroyHook(function(){return t.element.removeEventListener(s,o)})}else this.addDestroyHook(t.on(this.subName,o))},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.component=n,r.type=o,r}return o(e,t),e.prototype.receive=function(t){switch(this.type){case"disable":t?this.component.disable():this.component.enable();break;case"visible":t?this.component.show():this.component.hide();break;case"active":t?this.component.active():this.component.deactive()}},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(81)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.target=n,r.propName=o,r.setterMethodName="set"+o.replace(/(^\-?.)|(\-.)/g,function(t){return(t=2===t.length?t[1]:t).toUpperCase()}),r}return o(e,t),e.prototype.receive=function(t){var e=this.target[this.setterMethodName];"function"==typeof e?e.call(this.target,t):this.target[this.propName]=t},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(81)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.component=n,o.supported="function"==typeof n.setValue,o}return o(e,t),e.prototype.receive=function(t){this.supported&&this.component.setValue(t)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(81)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.component=n,o}return o(e,t),e.prototype.receive=function(t){this.component.setText(t)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(81)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.component=n,r.attrName=o,r}return o(e,t),e.prototype.receive=function(t,e){this.component.setAttribute(this.attrName,t)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(81)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(10)),r=l(n(6)),i=l(n(737)),a=l(n(736)),s=l(n(735)),u=l(n(734)),c=l(n(733));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=r.default.getLogger("directive/bind"),d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return f(e,t),e.getName=function(){return"bind"},e.prototype.componentPrelink=function(){var t=void 0;if(this.subName.match(/^attr\..+/)){var e=this.subName.replace("attr.","");t=new i.default(this.component,e)}else switch(this.subName){case"text":t=new a.default(this.component);break;case"value":t=new s.default(this.component);break;case"html":p.error("unsurpported bind type: "+this.subName);break;case"disable":case"visible":case"active":t=new c.default(this.component,this.subName);break;default:t=new u.default(this.component,this.subName)}this.controller.getDataSource(this.attrValue).connect(t)},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(10));n(1422);n(5);var r=n(29);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"tooltip"},e.prototype.init=function(e){t.prototype.init.call(this,e);var n=this.node,o=this.directiveOption;this.title=o.title||n.getAttribute("tooltip-title"),this.desc=o.desc||n.getAttribute("tooltip-desc"),this.delay=o.delay||parseInt(n.getAttribute("tooltip-delay"))||500},e.prototype.afterComponentRender=function(){var t=document.createElement("dl");if(t.className="fv__ui-directive-tooltip-tip",this.title){var e=document.createElement("dt");e.className="fv__ui-directive-tooltip-title",e.setAttribute("data-i18n",this.title),t.appendChild(e)}if(this.desc){var n=document.createElement("dd");n.className="fv__ui-directive-tooltip-desc",n.setAttribute("data-i18n",this.desc||""),t.appendChild(n)}this.localizer.localizeRecursive(t),this.tipElement=t},e.prototype.showTip=function(){this.localizer.localizeRecursive(this.tipElement),this.component.element.appendChild(this.tipElement)},e.prototype.componentMounted=function(){var t=this;if(!r.isTouchDevice){var e=void 0,n=function(n){if(!t.component.disabled){var o=n.clientX,r=n.clientY,i=t.component.element.getBoundingClientRect();o<i.left||o>i.right||r<i.top||r>i.bottom||(n.stopPropagation(),clearTimeout(e),e=setTimeout(function(){t.showTip()},t.delay))}},o=function(){clearTimeout(e),t.tipElement.remove()};this.component.element.addEventListener("mouseover",n),this.component.element.addEventListener("mouseout",o),this.addDestroyHook(function(){t.component.element.removeEventListener("mouseover",n),t.component.element.removeEventListener("mouseout",o)})}},e}(o.default);e.default=a},function(t,e,n){"use strict";var o=I(n(739)),r=I(n(7)),i=I(n(738)),a=I(n(732)),s=I(n(731)),u=I(n(730)),c=I(n(729)),l=I(n(728)),f=I(n(727)),p=I(n(726)),d=I(n(725)),h=I(n(724)),g=I(n(723)),m=I(n(722)),y=I(n(721)),v=I(n(720)),b=I(n(719)),w=I(n(718)),A=I(n(305)),_=I(n(717)),P=I(n(306)),O=I(n(716)),E=I(n(715)),x=I(n(714)),C=I(n(713)),S=I(n(712)),D=I(n(711)),M=I(n(304)),T=I(n(710)),j=I(n(709));function I(t){return t&&t.__esModule?t:{default:t}}var R=r.default.root().getRegistry();R.registerDirective(o.default),R.registerDirective(i.default),R.registerDirective(A.default),R.registerDirective(a.default),R.registerDirective(v.default),R.registerDirective(w.default),R.registerDirective(s.default),R.registerDirective(u.default),R.registerDirective(P.default),R.registerDirective(c.default),R.registerDirective(l.default),R.registerDirective(f.default),R.registerDirective(p.default),R.registerDirective(d.default),R.registerDirective(h.default),R.registerDirective(g.default),R.registerDirective(m.default),R.registerDirective(y.default),R.registerDirective(b.default),R.registerDirective(O.default),R.registerDirective(E.default),R.registerDirective(x.default),R.registerDirective(C.default),R.registerDirective(S.default),R.registerDirective(D.default),R.registerDirective(M.default),R.registerDirective(_.default),R.registerDirective(T.default),R.registerDirective(j.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(61));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1424);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e.getName=function(){return"loading"},e.prototype.show=function(e){var n=getComputedStyle(e).position;"static"===n&&(e.style.position="relative",this.addDestroyHook(function(){e.style.position=n})),t.prototype.show.call(this,e)},e}(o.default.createSuperClass({template:'\n        <layer class="fv__ui-loading-layer" backdrop>\n            <div class="fv__ui-loading-spinner">\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n            </div>\n        </layer>\n    '}));e.default=i},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer modal @isolate append-to="body" backdrop class="center fv__ui-prompt-dialog">\n    <div @controller.alias="prompt">\n        <layer-header @set.title="prompt.title"></layer-header>\n        <layer-view>\n            <div class="fv__ui-prompt-message">\n                <text @set.text="prompt.message"></text>\n            </div>\n            <input>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(61)),r=a(n(742)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1426);var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"prompt"},e.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector(">@div>@layer-view>@input");var n=!1;Object.assign(this.promptController,{ok:function(){n=!0,e.trigger("confirm",e.inputComponent.getValue()),e.hide()},cancel:function(){e.hide()}}),this.on(i.COMPONENT_EVENTS.HIDDEN,function(){n||e.trigger("cancel")}),this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.on(i.COMPONENT_EVENTS.SHOWN,function(){setTimeout(function(){e.inputComponent.focus(),e.inputComponent.element.select()})})},e.prototype.setTitle=function(t){this.promptController.title=t,this.promptController.digest()},e.prototype.setMessage=function(t){this.promptController.message=t,this.promptController.digest()},e.prototype.getValue=function(){return this.inputComponent.getValue()},e.prototype.setValue=function(t){void 0!==t&&this.inputComponent.setValue(t)},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=u},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer modal @isolate class="center fv__ui-alert-dialog" append-to="body">\n    <div @controller.alias="alert">\n        <layer-header @set.title="alert.title"></layer-header>\n        <layer-view slot="default">\n            <text @set.text="alert.message"></text>\n        </layer-view>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(25)),r=n(5),i=s(n(118)),a=s(n(18));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=(0,s(n(109)).default)("senior_slot_name"),l=function(t){function e(n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=s.$$options.attrs,l=n.$$options.attrs,f=Object.assign({},l,u),p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{namespace:s.namespace,nodeName:s.nodeName,attrs:f,text:s.text,template:s.template}));if(n.children.forEach(function(t){p.append(t)}),i.default.isSubClassOf(n.getComponentClass(),a.default),s.children.length>0){var d=new o.default({namespace:r.ROOT_MODULE_NAME,nodeName:"slot",attrs:{for:c}});s.children.forEach(function(t){"slot"!==t.nodeName?d.append(t):p.append(t)}),p.append(d)}return p.extChildren=s.children,p}return u(e,t),e.getSeniorSlotName=function(){return c},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);e.target.forEach(function(e){var n=t.querySelectorAll(e);if(n.length<1)throw new Error("target element not found: "+e);n.forEach(function(t){return t.remove()})})};!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originfn=e,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.roundHooks=[]}return t.on=function(e){if("function"==typeof e)return new t(e);if(e instanceof t)return new t(e.extract());throw new TypeError("Unexpected type: "+(void 0===e?"undefined":o(e)))},t.prototype.before=function(t){return"function"==typeof t&&this.beforeHooks.push(t),this},t.prototype.after=function(t){return"function"==typeof t&&this.afterHooks.push(t),this},t.prototype.thrown=function(t){return"function"==typeof t&&this.thrownHooks.push(t),this},t.prototype.round=function(t){return"function"==typeof t&&this.roundHooks.push(t),this},t.prototype.proxy=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.before,n=t.after,o=t.thrown,r=t.round;return this.before(e),this.after(n),this.thrown(o),this.round(r),this},t.prototype.extract=function(){var t=this.beforeHooks,e=this.afterHooks,n=this.thrownHooks,o=this.roundHooks,r=this.originfn;return o.reduceRight(function(t,e){return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e(this,t,o)}},function(){for(var o=this,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];t.forEach(function(t){return t.apply(o,a)});try{var u=r.apply(this,a);return e.forEach(function(t){return t.call(o,u,a)}),u}catch(t){n.forEach(function(e){return e.call(o,t,a)})}})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(t){function n(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.proxiedHandler=o.default.on(t.prototype.handle).proxy(e).extract(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}(n,t),n.getName=function(){return"ProxyController"},n.prototype.prelink=function(){"function"==typeof e.prelink?e.prelink.call(this,this.component):t.prototype.prelink.call(this)},n.prototype.postlink=function(){"function"==typeof e.postlink?e.postlink.call(this,this.component):t.prototype.postlink.call(this)},n.prototype.mouted=function(){"function"==typeof e.mounted?e.mounted.call(this):t.prototype.mounted.call(this)},n.prototype.destroy=function(){"function"==typeof e.destroy?e.destroy.call(this):t.prototype.destroy.call(this)},n.prototype.handle=function(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=this.proxiedHandler).call.apply(t,[this].concat(n))},n}(t)};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(747))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t,e){var n=this;if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);e.target.forEach(function(u){var c=t.querySelectorAll(u);if(c.length<1)throw new Error('target component not found: "'+u+'"');c.forEach(function(t,u){(function(t,e){if(!e.config)return;var n=t.componentOptions||{},u=e.config.callback,c=n.callback;"function"==typeof c?i.default.isSubClassOf(c,s.default)||(c=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}(n,e),n.prototype.handle=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.call.apply(t,[this].concat(n))},n}(s.default)}(c)):c=a.default;"object"===(void 0===u?"undefined":o(u))&&(u=(0,r.default)(c,u));e.config.callback=u,t.componentOptions=Object.assign({},n,e.config)}).call(n,t,e)})})};u(n(25));var r=u(n(748)),i=u(n(118)),a=u(n(119)),s=u(n(4));function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=this;if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var o=e.config,r={};Array.isArray(o)?o.forEach(function(t){r[t.target]=t}):o&&(r[o.target]=o);e.target.forEach(function(o){var i=t.querySelectorAll(o);if(i.length<1)throw new Error('target component not found: "'+o+'"');i.forEach(function(t){var o=n.templateParser.parse(e.template,!1);t.clear(),o.forEach(function(e){e.appendComponentOptions(r[e.name]),t.append(e)})})})};!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=this;if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var o=e.config||[];Array.isArray(o)||(o=[o]);var r={};o.forEach(function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(r[t.target])throw new Error("Duplicated target name: "+t.target);r[t.target]=t}),e.target.forEach(function(o){var i=t.querySelectorAll(o);if(i.length<1)throw new Error("target element not found: "+o);i.forEach(function(t){var i=e.template?n.templateParser.parse(e.template):null;if(!i)throw new Error('invalid fragment template: "'+e.template+'"');var a=function(t){var e=i.findByName(t),n=r[t];e.forEach(function(t){return t.appendComponentOptions(n)})};for(var s in r)a(s);i&&(i.setAttribute("name",o),t.after(i),t.remove())})})};!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){o.insertAt.call(this,t,e,1/0)};var o=n(187);!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var n=e.config||[];Array.isArray(n)||(n=[n]);var o=this.templateParser,r={};n.forEach(function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(r[t.target])throw new Error("Duplicated target name: "+t.target);r[t.target]=t}),e.target.forEach(function(n){var i=t.findByName(n);if(i.length<1)throw new Error("target element not found: "+n);i.forEach(function(t){var n=e.template?o.parse(e.template):null;if(!n)throw new Error('invalid fragment template: "'+e.template+'"');n.appendComponentOptions(r[n.name]),t.before(n)})})};!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var n=e.config||[];Array.isArray(n)||(n=[n]);var o=this.templateParser,r={};n.forEach(function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(r[t.target])throw new Error("Duplicated target name: "+t.target);r[t.target]=t}),e.target.forEach(function(n){var i=t.querySelectorAll(n);if(i.length<1)throw new Error("target element not found: "+n);i.forEach(function(t){var n=e.template?o.parse(e.template):null;if(!n)throw new Error('invalid fragment template: "'+e.template+'"');n.appendComponentOptions(r[n.name]),t.after(n)})})};!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){o.insertAt.call(this,t,e,0)};var o=n(187);!function(t){t&&t.__esModule}(n(25))},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(755)),i=n(5),a=h(n(754)),s=h(n(753)),u=h(n(752)),c=h(n(751)),l=h(n(750)),f=h(n(749)),p=h(n(746)),d=h(n(187));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=(g(o={},i.FRAGMENT_ACTION.PREPEND,r.default),g(o,i.FRAGMENT_ACTION.APPEND,u.default),g(o,i.FRAGMENT_ACTION.BEFORE,s.default),g(o,i.FRAGMENT_ACTION.AFTER,a.default),g(o,i.FRAGMENT_ACTION.REPLACE,c.default),g(o,i.FRAGMENT_ACTION.FILL,l.default),g(o,i.FRAGMENT_ACTION.EXT,f.default),g(o,i.FRAGMENT_ACTION.REMOVE,p.default),g(o,i.FRAGMENT_ACTION.INSERT,d.default),o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=u(n(195)),i=n(5),a=u(n(201)),s=u(n(25));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=u(n(6)).default.getLogger("senior-node");function f(t){var e={};return Array.isArray(t.config)?e.config=[]:t.config&&(e.config={}),(0,a.default)(!0,e,t)}var p=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.namespace,a=void 0===o?i.ROOT_MODULE_NAME:o,s=n.nodeName,u=n.attrs,c=n.text,l=n.template,p=n.fragment;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{namespace:a,type:r.default.NODE_TYPE_FRAGMENT,nodeName:s,attrs:u,template:l,text:c}));return d.$$options.fragment=p,d.fragment=f(p),d.nestName=d.attrs[e.NEXT_NAME_ATTR],delete d.attrs[e.NEXT_NAME_ATTR],d}return c(e,t),o(e,null,[{key:"NEXT_NAME_ATTR",get:function(){return"fv__nest-name_576218"}}]),e.prototype.clone=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new e(Object.assign({},this.$$options,{fragment:f(this.fragment)}));return n.children=this.children.map(function(e){var o=t?e.clone(t):e;return o.parent=n,o}),n.componentOptions=this.componentOptions,n.parent=this.parent,n},e.prototype.getFragment=function(){return f(this.fragment)},e.prototype.prelink=function(){var t=this,e=this.fragment.config;e&&(Array.isArray(e)||(e=[e]),e.forEach(function(e){e.target==t.nestName&&(t.componentOptions||l.info("duplicate config found",t.componentOptions,"will be covered by ",e),t.componentOptions=e)}))},e.prototype.postlink=function(){var t=this,e=this.fragment.config;if(e){Array.isArray(e)||(e=[e]);e.forEach(function(e){t.findChildren(function(t){return function(e){return e.name===t}}(e.target),!1).forEach(function(t){t.componentOptions=e})})}},e}(s.default);e.default=p},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.fragmentContent=n.fragmentContent,o}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(25)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(61)),r=i(n(744));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1428);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return a(e,t),e.getName=function(){return"alert"},e.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.alert-title"},message:{type:"string",defaultValue:"common-dialogs.alert-message"},level:{type:"enum",enums:["info","warn","error"],defaultValue:"info"}}}},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.alertController=this.querySelector(">@div").controller,this.header=this.querySelector(">@div>@layer-header"),this.body=this.querySelector(">@div>@layer-view")},e.prototype.append=function(e){this.body?(this.$container.append(e),this.body.append(e)):t.prototype.append.call(this,e)},e.prototype.removeChild=function(e){this.body?(this.$container.removeChild(e),this.body.removeChild(e)):t.prototype.removeChild.call(this,e)},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.alertController.title=this.title,this.alertController.message=this.message,this.alertController.digest()},e.prototype.setTitle=function(t){"string"==typeof t&&(this.alertController.title=t,this.alertController.digest())},e.prototype.setMessage=function(t){"string"==typeof t&&(this.alertController.message=t,this.alertController.digest())},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(759);Object.defineProperty(e,"AlertComponent",{enumerable:!0,get:function(){return a(o).default}});var r=n(743);Object.defineProperty(e,"PromptComponent",{enumerable:!0,get:function(){return a(r).default}});var i=n(741);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"LoadingComponent",{enumerable:!0,get:function(){return a(i).default}})},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"contextmenu-separator"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-cotextmenu-separator")},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(16)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"contextmenu-item"},e.getMetadata=function(){return{options:{shortcut:{type:"string"}}}},e.prototype.render=function(){var e=document.createElement("span");e.classList.add("fv__ui-contextmenu-item-shortcut"),e.innerText=this.shortcut||"",this.element.appendChild(e),this.shortcutElement=e,t.prototype.render.call(this),this.addCSSClass("fv__ui-contextmenu-item")},e.prototype.appendTextElement=function(t){this.element.insertBefore(t,this.shortcutElement)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){e.parent.hide()};this.element.addEventListener("click",n),this.addDestroyHook(function(){e.element.remove("click",n)})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(193)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"xoption"},e.getMetadata=function(){return{options:{text:{type:"string"},value:{}}}},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.doActive=function(){this.parent.setValue(this.value)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(16)).default);e.default=r},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-xselect-button">\n    <div class="fv__ui-xselect-button-text"></div>\n    <div class="fv__ui-xselect-button-edit">\n        <input type="text">\n    </div>\n    <div class="fv__ui-xselect-button-icon">\n        <i></i>\n    </div>\n</div>\n<ul class="fv__ui-xselect-options-list">\n</ul>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1432);var o=a(n(764)),r=a(n(763)),i=a(n(80));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=(0,o.default)(),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"xselect"},e.getMetadata=function(){return{options:{editable:{type:"boolean",field:"isInEditState",defaultValue:!1},onInput:{type:"function",defaultValue:function(t){return t},args:["$inputValue"]},options:{type:"string"},textField:{type:"string",defaultValue:"value"},optionRender:{type:"function",defaultValue:function(t,e){return t[e.textField]}},textRender:{type:"function",defaultValue:function(t,e){return e.optionRender(t,e)}}}}},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-xselect"),this.element.innerHTML=u,this.optionsListElement=this.element.querySelector(".fv__ui-xselect-options-list"),this.textElement=this.element.querySelector("fv__ui-xselect-button-text"),this.btnElement=this.element.querySelector("fv__ui-xselect-button"),this.editElement=this.element.querySelector("fv__ui-xselect-edit")},e.prototype.edit=function(){this.btnElement.classList.add("editable"),this.isInEditState=!0},e.prototype.view=function(){this.btnElement.classList.remove("editable"),this.isInEditState=!1},e.prototype.append=function(e){if(!(e instanceof r.default))throw new TypeError("Illegal argument: unexpected child component type: <"+e.nodeName+"> for <xselect>");return t.prototype.append.call(this,e)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.controller.watch(this.options,function(t,e){this.data=t,this.updateData(t,e)},!0));var n=null,o=function(t){var o=t.target.closest("li"),r=o.getAttribute("index"),i=e.data[r],a=e.getValue();e.setValue(i),e.trigger("changed",i,a),o.classList.add("selected"),n&&n.classList.remove("selected"),n=o,t.stopPropagation()};this.optionsListElement.addEventListener("click",o),this.addDestroyHook(function(){return e.optionsListElement.removeEventListener("click",o)})},e.prototype.setValue=function(t){this.value=t,this.textElement.innerText=this.textRender(t,this)},e.prototype.updateData=function(t){var e=this;if(this.optionsListElement.clear(),0!==t.length){var n=document.createDocumentFragment();t.forEach(function(t,o){var r=document.createElement("li");r.classList.add("fv__ui-xselect-option"),r.setAttribute("index",o);var i=e.optionRender(t,e);r.setAttribute("data-i18n",i),n.appendChild(r)}),this.optionsListElement.appendChild(n),-1==t.indexOf(this.value)&&this.setValue(t[0])}else this.setValue(null)},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(18)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.slotName=i.attrs.for,i.targetName=i.attrs.component,i}return i(e,t),e.getName=function(){return"slot"},e.prototype.createDOMElement=function(){var t=document.createElement("template");return window.HTMLTemplateElement||(t.style.cssText="display: none!important;"),t},e.prototype.rerenderChildren=function(){},e.prototype.mounted=function(){var e=void 0;if(!(e=this.targetName?this.getRoot().getComponentByName(this.targetName):this.parent))throw new Error("slot target not found: "+this.targetName);e.appendSlot(this.slotName,this),t.prototype.mounted.call(this)},e.prototype.acceptText=function(){return!1},e.prototype.appendText=function(t){this.$container.append(t)},e.prototype.localize=function(){return Promise.all(this.$container.map(function(t){return t.localize()}))},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===r.COMPONENT_BROADCAST_LOCALIZE&&this.$container.each(function(t){return t.localize()})},e}(o.default);e.default=a},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).i,r=t.j,i=t.colors,a=t.color,s=t.bc,u=o.$escape,c=t.transparent,l=t.showTrans,f=t.transparentclass,p=t.addclass,d=t.removeclass;e+='<ul class="fv__ui-colors-picker">\n';for(n=0,r=i.length;n<r;n++){s="",s="border-color:#e0e0e0";"delected"!=(a=i[n])&&(e+='\n  <li class="fv__ui-picker-color" data-index=\''),e+=u(n),e+="' style=\"background-color:",e+=u(a),e+=";",e+=u(s),e+='"></li>\n'}if(e+='\n<span class="fv__ui-sperator"></span>\n',!c)l="display:none";return e+='\n<li class="',e+=u(f),e+='" style="',e+=u(l),e+='">\n  <div style="height:100%;" class="fv__ui-picker-nocolor"></div>\n</li>\n<li class="',e+=u(p),e+=' fv__ui-picker-addcolor">\n  <input style="height:100%;width:100%;opacity:0;position:absolute" class="fv__ui-picker-addButton"/>\n</li>\n<li class="',e+=u(d),e+=' fv__ui-picker-removecolor"></li>\n</ul>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(80)),r=s(n(767));n(1434);var i=n(8),a=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=void 0,l=void 0,f=void 0,p=void 0,d=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.colors=[].concat(i.$options.colors),c=i.$options.selectedclass+i.$options.lightpostname,l=i.$options.selectedclass+i.$options.darkpostname,f=i.$options.deleteclass+i.$options.lightpostname,p=i.$options.deleteclass+i.$options.darkpostname,i.transparent=!1,i}return u(e,t),e.getName=function(){return"color"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.setValue=function(t){0!=t&&-1==this.colors.indexOf(t)&&this.colors.push(t),this.value=t,this.isEditing=!1,this.render()},e.prototype.getValue=function(){return this.value},e.prototype.render=function(){this.$colorInput&&this.$colorInput.spectrum("destroy"),t.prototype.render.call(this),this.element.innerHTML=(0,r.default)(Object.assign({},this.$options,{colors:this.colors})),this._activeDom(),this._bindSpectrum(),this.showTransparentColor(this.transparent),this.trigger("postrender")},e.prototype.mounted=function(){var t=this;this.element.addEventListener("click",function(e){if(!t.disabled)if(e.target.classList.contains("fv__ui-picker-color")){if(t.isEditing)return t.colors[e.target.dataset.index]="delected",void(e.target.style.display="none");var n=t.value||"transparent";t.value=(0,i.colorConvertor)(e.target.style.backgroundColor,"#"),t._activeDom(e.target),t.trigger("change",e,t.value,n)}else if(e.target.classList.contains("fv__ui-picker-nocolor")){if(t.isEditing)return;var o=t.value||"transparent";t.value=0,t._activeDom(e.target),t.trigger("change",e,o,"transparent")}else e.target.classList.contains("fv__ui-picker-addcolor")||e.target.classList.contains("fv__ui-picker-removecolor")&&t._toggleEditingMode(e)})},e.prototype._activeDom=function(t){if(!t){var e=this.colors.indexOf(this.value);t=this.element.children[0].children[e]}var n=this.element.querySelector(".fv__ui-selected");n&&n.classList.remove("fv__ui-selected",c,l);var o=this.element.querySelector(".fv__ui-picker-nocolor");o&&0===this.value&&o.classList.add(c,"fv__ui-selected"),t&&(t.classList.add("fv__ui-selected"),h(t.style.backgroundColor)?t.classList.add(c):t.classList.add(l))},e.prototype._toggleEditingMode=function(t){if(this.isEditing){this.$colorInput.spectrum("enable"),t.target.classList.remove(c),this.isEditing=!1;var e=!0,n=!1,o=void 0;try{for(var r,i=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.classList.contains("fv__ui-picker-color")&&a.classList.remove(p,f)}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}this._activeDom()}else{this.$colorInput.spectrum("disable"),t.target.classList.add(c),this.isEditing=!0;var s=!0,u=!1,d=void 0;try{for(var g,m=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(s=(g=m.next()).done);s=!0){var y=g.value;y.classList.contains("fv__ui-picker-color")&&(y.classList.remove(c,l),h(y.style.backgroundColor)?y.classList.add(f):y.classList.add(p))}}catch(t){u=!0,d=t}finally{try{!s&&m.return&&m.return()}finally{if(u)throw d}}var v=this.element.querySelector(".fv__ui-picker-nocolor");v&&v.classList.remove(c)}},e.prototype._bindSpectrum=function(){var t=this,e=this.$colorInput=(0,a.default)(this.element).find(".fv__ui-picker-addButton");e.spectrum("destroy"),e.spectrum({color:this.value,preferredFormat:"hex",showPalette:!1,showInput:!1,showAlpha:!1,clickoutFiresChange:!1,showInitial:!0,replacerClassName:"fv__color-picker-add",change:function(e){var n=t.value||"transparent";t.setValue(e.toHexString()),t.trigger("change",e,t.getValue(),n)},disabled:this.disabled})},e.prototype.showTransparentColor=function(t){(0,a.default)(this.element).find("."+this.$options.transparentclass)[0].style.display=t?"inline-block":"none",this.transparent=t},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.$colorInput&&this.$colorInput.spectrum("destroy")},e}(o.default);function h(t){if(!t||0==t.length)return!0;var e=t.match(/rgba?\((\d*), (\d*), (\d*),? ?([\.0-9]*)?\)/);return.299*e[1]+.578*e[2]+.114*e[3]>=192}e.default=d},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.layout,i=t.iconclass,a=t.icontext,s=t.text,u=t.selectorClass,c=t.i,l=t.j,f=t.options,p=t.option,d=t.optionLable,h=t.optionClass,g=t.noOptionLable;e+='<div class="fv__ui-select">\n    <div class="fv__ui-select-icon ',e+=n(1==r?"":i),e+='">',e+=n(a),e+='</div>\n    <div class="fv__ui-select-options">\n      <span class="fv__ui-select-lable" data-i18n="',e+=n(s||""),e+='">',e+=n(s),e+='</span>\n      <ul class="fv__ui-select-selector ',e+=n(u),e+='">\n        ';for(c=0,l=f.length;c<l;c++){d=(p=f[c]).lable||p.value,h=p.class;1==g&&(d=""),e+='\n        <li class="fv__ui-select-option" data-value="',e+=n(p.value),e+='"><div class="',e+=n(h),e+='" data-i18n="',e+=n(d),e+='" data-value="',e+=n(p.value),e+='">',e+=n(d),e+="</div></li>\n        "}return e+='\n      </ul>\n      <div class="fv__ui-select-dropdown">&#9660</div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(n(80)),i=a(n(769));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1436);var u=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.getName=function(){return"choice"},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.innerHTML=(0,i.default)(this.$options);var n=[".fv__ui-select-icon",".fv__ui-select-lable",".fv__ui-select-selector",".fv__ui-select-dropdown"].map(function(t){return e.element.querySelector(t)}),r=o(n,4),a=r[0],s=r[1],u=r[2],c=r[3];this.$icon=a,this.$lable=s,this.$selector=u,this.$dropdown=c,this.lableClass=""},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1==t&&(e=0,t=this.$options.options[0].value);var n=this.value;this.value=t,-1==e&&this.$options.options.map(function(n,o){if(n.value===t)return e=o,!1});var o=this.$options.options[e];if(1!=this.$options.layout){this.lableClass&&this.$lable.classList.remove(this.lableClass),this.$lable.classList.add(o.class),this.lableClass=o.class,this.$options.noOptionLable&&o.class||(this.$lable.setAttribute("data-i18n",o.lable),this.localize());var r=this.$selector.querySelector(".selected");r&&r.classList.remove("selected"),(r=this.$selector.querySelector('[data-value="'+this.value+'"]'))&&r.classList.add("selected")}else this.lableClass&&this.$icon.classList.remove(this.lableClass),this.lableClass=o.class,this.$icon.classList.add(this.lableClass);return n!=this.value},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t,n,o){t.addEventListener(n,o),e.addDestroyHook(function(){t.removeEventListener(n,o)})},o=function(t){if(!e.disabled)return e.$selector.style.display="none",e.setValue(+t.target.dataset.value)&&e.trigger("change",e.value),t.stopPropagation(),!1};this.$selector.querySelectorAll("li").forEach(function(t){n(t,"click",o)});n(this.element,"click",function(t){return function(t,n){if(!e.disabled)return t&&(e.$selector.style.display="block",function(t){if("block"!=t.style.display){t.style.display="block",t.style["margin-top"]="";var e=t.getBoundingClientRect();e.top+e.height+t.ownerDocument.defaultView.pageYOffset>t.ownerDocument.defaultView.innerHeight&&(t.style["margin-top"]="-88%")}}(e.$selector),e.active()),!1}(!0)});n(document,"mouseup",function(t){e.$selector.style.display="none"})},e.prototype.disable=function(){t.prototype.disable.call(this),this.$selector.parentElement.classList.add("disabled"),this.$selector.style.display="none"},e.prototype.enable=function(){t.prototype.enable.call(this),this.$selector.parentElement.classList.remove("disabled")},e.prototype.deactive=function(){return this.$selector.style.display="none",t.prototype.deactive.call(this)},e}(r.default);e.default=u},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).iconCls,r=o.$escape,i=t.iconText,a=t.left,s=t.value,u=t.min,c=t.max,l=t.usingSelect,f=t.unit;return e+='<div class="fv__ui-slider">\n    ',n&&(e+='\n    <div class="fv__slider-icon ',e+=r(n),e+='">',e+=r(i),e+="</div>\n    "),e+="\n    ",e+='\n    <div class="fv__ui-slider-line">\n        <div class="fv__ui-slider-bar" style="width:',e+=r(a=100*(s-u)/(c-u)),e+='%"></div>\n        <span class="fv__ui-slider-cursor" style="left:',e+=r(a),e+='%"></span>\n    </div>\n    <input type="number" ',e+=r(l?"readOnly=1":""),e+=' max="',e+=r(c),e+='" min="',e+=r(u),e+='" value="',e+=r(s),e+='" class="fv__ui-slider-input" />\n    <span>',e+=r(f),e+="</span>\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(80)),r=i(n(191));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i)),s=a._getNumberOption("min"),u=a._getNumberOption("max"),c=a._getNumberOption("step"),l=a._getNumberOption("value");return a.range=new r.default(s,u,c),a.value=a.range.normalizeValue(l),a}return a(e,t),e.prototype.setValue=function(t){t=this.normalizeValue(t),isNaN(t)||(this.value=t)},e.prototype.getValue=function(){return this.value},e.prototype.getRatio=function(){return this.value/(this.range.max-this.range.min)},e.prototype._getNumberOption=function(t){return t in this.$options?this.$options[t]:parseFloat(this.attrs[t])},e.prototype.normalizeValue=function(t){return this.range.normalizeValue(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(n(772)),i=a(n(771));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1438);var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.notifyTimeout=null,i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconclass,i.iconText=n.iconText||i.attrs["icon-text"]||i.attrs.icontext,i.unit=n.unit||i.attrs.unit||i.attrs.unit,i}return s(e,t),e.getName=function(){return"slider"},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.innerHTML=(0,i.default)(this);var n=[".fv__ui-slider-input",".fv__ui-slider-cursor",".fv__ui-slider-line",".fv__ui-slider-bar"].map(function(t){return e.element.querySelector(t)}),r=o(n,4),a=r[0],s=r[1],u=r[2],c=r[3];this.inputElement=a,this.cursorElement=s,this.lineElement=u,this.barElement=c},e.prototype.setValue=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=this.normalizeValue(t);var o=this.value;return this.value=t,n?this.oldValue=this.value:this.valueChanged=!0,this.inputElement.value=this.value,this.barElement.style.width=100*this.getRatio()+"%",0==this.lineElement.offsetWidth?this.updateTask=setInterval(function(){e._updateHandlePosition()},50):this._updateHandlePosition(),o!=this.value},e.prototype._updateHandlePosition=function(){var t=this.getRatio(),e=this.lineElement.offsetWidth;0!=e&&clearInterval(this.updateTask);var n=e*t;this.cursorElement.style.cssText+="left: "+(n-5)+"px"},e.prototype._elementStopEventPropagation=function(t,e){var n=function(t){return t.stopPropagation()};t.addEventListener(e,n),this.addDestroyHook(function(o){return t.removeEventListener(e,n)})},e.prototype.mounted=function(){var e=this;if(void 0!==this.value){t.prototype.mounted.call(this),this._elementStopEventPropagation(this.cursorElement,"pointerdown"),this._elementStopEventPropagation(this.cursorElement,"mousedown"),this._elementStopEventPropagation(this.cursorElement,"touchstart");var n=new Hammer.Manager(this.cursorElement);n.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL}));var o=void 0,r=void 0;n.on("panstart",function(t){return!e.disabled&&(e.oldValue=e.value,o=parseFloat(e.cursorElement.style.left)||-5,r||(r=e.element.querySelector(".fv__ui-slider-line").offsetWidth),e.cursorElement.classList.add("fv__ui-select-dragging"),e.trigger("compositionstart",t),e.active(),t.srcEvent.stopPropagation(),!1)}).on("panmove",function(t){if(e.disabled)return!1;var n=o+t.deltaX;n<-5?n=-5:n>r-5&&(n=r-5);var i=e.range,a=i.max,s=i.min,u=(n+5)/r*(a-s)+s;return u=e.normalizeValue(u),e.setValue(u,!1),e._triggerChange(!1,t),t.srcEvent.stopPropagation(),!1}).on("panend",function(t){return!e.disabled&&(e.cursorElement.classList.remove("fv__ui-select-dragging"),e._triggerChange(!0,t),e.commit(),t.srcEvent.stopPropagation(),!1)}),this.addDestroyHook(function(){n.destroy()});var i=function(t){if(!e.disabled){var n=e.value;e.setValue(e.inputElement.value,!1);var o=e.value;e._triggerChange(!0,t,n,o)}},a=function(t,n,o){t.addEventListener(n,o),e.addDestroyHook(function(){t.removeEventListener(n,o)})};a(this.inputElement,"change",i),a(this.inputElement,"input",i),a(this.inputElement,"keyup",i),a(this.inputElement,"blur",function(t){s(t),e.trigger("blur",t)}),a(this.inputElement,"focus",function(t){e.trigger("focus",t),e.active()});var s=function(t){if(e.valueChanged){var n=t.target.parentNode;t.target.classList&&"fv__ui-slider"==t.target.classList[0]||n.classList&&"fv__ui-slider"==n.classList[0]||n.parentNode.classList&&"fv__ui-slider"==n.parentNode.classList[0]||e.valueChanged&&(e.trigger("willCommit",{oldValue:e.oldValue,commitValue:e.value}),e.valueChanged=!1)}};a(document,"click",s)}else this.element.style.display="none"},e.prototype.commit=function(){this.valueChanged&&(this.trigger("willCommit",{oldValue:this.oldValue,commitValue:this.value}),this.valueChanged=!1)},e.prototype.disable=function(){t.prototype.disable.call(this),this.inputElement.setAttribute("disabled",1)},e.prototype.enable=function(){t.prototype.enable.call(this),this.inputElement.removeAttribute("disabled")},e.prototype._triggerChange=function(t,e,n,o){var r=this;this.notifyTimeout&&clearTimeout(this.notifyTimeout),this.notifyTimeout=setTimeout(function(){r.trigger("change",e,n,o)},t?0:200)},e}(r.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"input"},e.prototype.createDOMElement=function(){return document.createElement("input")},e.prototype.setValue=function(t){this.element.value=t},e.prototype.getValue=function(){return this.getDOMValue()},e.prototype.mounted=function(){t.prototype.mounted.call(this),t.prototype.resolveCompositionEvent.call(this)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(80)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"checkbox"},e.getMetadata=function(){return{options:{checked:{type:"boolean",defaultValue:!1},text:{type:"string"}}}},e.prototype.acceptText=function(){return!0},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.inputElement.setAttribute("disabled",!0)},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.inputElement.removeAttribute("disabled")},e.prototype.createDOMElement=function(){return document.createElement("label")},e.prototype.setFieldName=function(e){t.prototype.setFieldName.call(this,e),this.inputElement.setAttribute("name",this.fieldName)},e.prototype.getValue=function(){return this.inputElement.checked},e.prototype.render=function(){this.inputElement=document.createElement("input"),this.$options.inputClass&&this.inputElement.classList.add(this.$options.inputClass),this.textElement=document.createElement("span"),this.$options.lableClass&&this.textElement.classList.add(this.$options.lableClass),this.inputElement.type="checkbox",this.element.appendChild(this.inputElement),this.element.appendChild(this.textElement),t.prototype.render.call(this)},e.prototype.renderText=function(){var t=this.textElement;return t.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(t),t.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach(function(e){t.appendChild(e.element)}),t},e.prototype.removeText=function(e){return!!t.prototype.removeText.call(this,e)&&(this.renderText(),!0)},e.prototype.setValue=function(e){t.prototype.setValue.call(this,e),this.inputElement.checked=!!e},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(80)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(18)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"template"},e.prototype.createDOMElement=function(){var t=document.createElement("template");return window.HTMLTemplateElement||(t.style.cssText="display: none!important;"),t},e.prototype.render=function(){},e.prototype.rerenderChildren=function(){this.children().forEach(function(t){t.localize()})},e.prototype.localize=function(){return Promise.all(this.$container.map(function(t){return t.localize()}))},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===r.COMPONENT_BROADCAST_LOCALIZE&&this.$container.each(function(t){return t.localize()})},e}(o.default);e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"layer-view"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer-panel")},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"layer-toolbar"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer-toolbar")},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-layer-header-inner">\n    <i class="fv__ui-layer-header-icon"></i>\n    <h6 class="fv__ui-layer-header-title"></h6>\n    <div class="fv__ui-layer-header-buttons">\n        \x3c!-- TODO: more layer header buttons... --\x3e\n        <a href="javascript:;" class="fv__ui-layer-header-button" action="close">\n            <i class="fv__icon-layer-close"></i>\n        </a>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(323)),r=s(n(81)),i=s(n(80)),a=s(n(191));n(83);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=parseFloat(e),"number"==typeof t&&isFinite(t)?t:isFinite(e)?e:n},p=function(t){function e(n){u(this,e);var o=c(this,t.call(this));return o.component=n,o}return l(e,t),e.prototype.receive=function(t){var e=this.component,n=e.prefix,o=e.suffix;this.component.element.value=""+n+t+o},e}(r.default),d=function(t){function e(n,o,r){u(this,e);var i=c(this,t.call(this,n,o,r)),s=f(n.min,i.attrs.min,-1/0),l=f(n.max,i.attrs.max,1/0),p=f(n.step,i.attrs.step,1);return i.range=new a.default(s,l,p),i.min=i.range.min,i.max=i.range.max,i.step=i.range.step,i.setValue(i.min),i}return l(e,t),e.getName=function(){return"number"},e.getMetadata=function(){return{options:{prefix:{type:"string",defaultValue:""},suffix:{type:"string",defaultValue:""}}}},e.prototype.createDOMElement=function(){return document.createElement("input")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-number"),this.element.setAttribute("autocomplete","off"),this.fieldName&&this.setFieldName(this.fieldName)},e.prototype.setFieldName=function(e){t.prototype.setFieldName.call(this,e),this.element.setAttribute("name",this.fieldName)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=new o.default(this,"value");this.addDestroyHook(n.connect(new p(this)));var r=function(){e.triggerChangeEvent()};this.element.addEventListener("change",r),this.addDestroyHook(function(t){e.element.removeEventListener("change",r)}),this.setValue(this.value)},e.prototype.triggerChangeEvent=function(){var t=this.element.value;t.indexOf(this.suffix)>-1&&(t=t.substring(0,t.length-this.suffix.length)),t.indexOf(this.prefix)>-1&&(t=t.substring(this.prefix.length));var e=this.value;this.setValue(t),this.trigger("change",this.value,e)},e.prototype.setAttribute=function(e,n){switch(e){case"min":case"max":case"step":this.range[e]=parseFloat(n),this[e]=this.range[e];break;case"prefix":case"suffix":this[e]=n;break;default:t.prototype.setAttribute.call(this,e,n)}},e.prototype.setValue=function(t){this.value=this.range.normalizeValue(t),this.element.value=""+this.prefix+this.value+this.suffix},e.prototype.getValue=function(){return this.value},e.prototype.increment=function(){this.value=this.range.increment(this.value)},e.prototype.decrement=function(){this.value=this.range.decrement(this.value)},e.prototype.setMax=function(t){this.max=t,this.setValue(this.value)},e.prototype.setMin=function(t){this.min=t,this.setValue(this.value)},e.prototype.sync=function(e,n){switch(e){case"min":this.setMin(n);break;case"max":this.setMax(n);break;default:return t.prototype.sync.call(this,e,n)}return!0},e.prototype.select=function(){this.element.focus(),this.element.setSelectionRange?this.element.setSelectionRange(0,99999):this.element.select()},e}(i.default);e.default=d},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<img class="stamp-preview" src="',e+=(0,o.$escape)(t.url),e+='" crossOrigin="true"></img>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=a(n(781)),i=a(n(312));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-class"]||a.iconCls,i.action=n.action,i.path=n.path,a.listdata?i.listdata=JSON.parse(a.listdata):i.listdata=n.listdata,i}return s(e,t),e.getName=function(){return"listbox-item"},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.render=function(){var e=this;if(t.prototype.render.call(this),"type"in this.listdata){this.path[this.path.length-1];this.element.classList.add("fv__ui-list-leaf"),this.element.innerHTML=(0,r.default)({url:this.listdata.url.replace(/\.pdf$/,".svg")})}else{var n=this.pdfUI.parseTemplate("<div><text>"+this.path[this.path.length-1]+"</text><div>",[]);this.append(n);var o=function(t){return e.clickEventHandler(t)};n.element.addEventListener("click",o),this.addDestroyHook(function(){n.element.removeEventListener("click",o)});var i="listbox-"+Math.random().toString(36).substr(2),a=this.pdfUI.parseTemplate('<listbox name="'+i+'"></listbox>',[{target:i,config:{root:this.$options.root,subList:!0,path:this.path,callback:this.$options.callback,listdata:this.listdata}}]);this.append(a)}},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.element.addEventListener("click",function(t){return e.clickEventHandler(t)}),this.addDestroyHook(function(){e.element.removeEventListener("click",function(t){return e.clickEventHandler(t)})})},e.prototype.doActive=function(){this.element.classList.add("active")},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.clickEventHandler=function(t){var e=this;this.disabled||this.pdfUI.getComponentByName("create-stamp-ui").then(function(n){var o;n.disabled||((o=e.controller).handle.apply(o,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e.path)),t.preventDefault(),t.stopPropagation(),i.default.setFocus(e))})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e){if(r(this,t),e instanceof Node)this.node=e;else switch(e){case t.TEXT_NODE:this.node=document.createTextNode();break;case t.FRAGMENT:this.node=document.createDocumentFragment();break;case t.COMMENT_NODE:this.node=document.createComment();break;default:this.node=document.createElement(e)}}return o(t,null,[{key:"TEXT_NODE",get:function(){return"$text"}},{key:"FRAGMENT_NODE",get:function(){return"$fragment"}},{key:"COMMENT_NODE",get:function(){return"$fragment"}}]),t.prototype.append=function(t){if(!(this.node instanceof HTMLElement))throw new TypeError("Unsupported operation: "+this.node);this.node.appendChild(t.node)},t.prototype.prepend=function(t){this.insertAt(0,t)},t.prototype.insertAt=function(t,e){if(!(this.node instanceof HTMLElement))throw new TypeError("Unsupported operation: "+this.node);var n=this.node.children,o=n.length;switch(t=Math.max(0,Math.min(o,t))){case 0:0===o?this.node.insertBefore(e.node,this.node.firstElementChild):this.node.appendChild(e.node);break;case o:this.node.appendChild(e.node);break;default:this.node.insertBefore(e.node,n.item(t))}},t.prototype.insertBefore=function(t){if(!t.node.parentElement)throw new Error('The "next" element has not been inserted into other element');var e=t.index();t.parent().insertAt(e,this)},t.prototype.insertAfter=function(t){if(!t.node.parentElement)throw new Error('The "previous" element has not been inserted into other element');var e=t.index();t.parent().insertAt(e+1,this)},t.prototype.index=function(){var t=-1;if(this.node.parentElement)for(var e=this.node.parentElement.firstElementChild;e;){if(t++,e===this.node)return t;e=e.nextSibling}return t},t.prototype.parent=function(){var e=this.node.parentElement;if(e)return new t(e)},t.prototype.remove=function(){this.node.parentElement&&this.node.parentElement.removeChild(this.node)},t}(),a=function(){function t(e,n){r(this,t),this.parentElement=new i(e),this.elements=n.map(function(t){return new i(t)}),this.mounted=this.elements.map(function(t){return!1})}return t.prototype.mount=function(t){var e=this;if("number"!=typeof t){for(var n=0,o=this.elements.length;n<o;n++)this.elements[n].node===t&&(t=n);if("number"!=typeof t)throw new TypeError("Cannot mount this element: "+t)}if(!(t<0||t>=this.elements.length||this.mounted[t])){var r=this.elements[t];this.elements.some(function(n,o){var i=e.mounted[o];return o<t&&!i?(0==o?e.parentElement.prepend(r):r.insertAfter(e.elements[o-1]),!0):!!(o>t&&i)&&(r.insertBefore(n),!0)})||this.parentElement.append(r),this.mounted[t]=!0}},t.prototype.unmount=function(t){if(!(t<0||t>=this.elements.length)){var e=this.elements[t];this.mounted[t]=!1,e&&e.remove()}},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(16)),r=a(n(783)),i=n(83);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));i.text=n.text||i.viewConfig.textContent||"",i.iconCls=n.iconCls||i.viewConfig.attrs["icon-class"],i.isFileSelector=n.isFileSelector||"file-selector"in i.attrs&&"false"!==i.attrs["file-selector"],i.action=n.action||i.attrs.action;var a=n.accept||i.viewConfig.attrs.accept;return"string"==typeof a?i.accept=a:Array.isArray(a)?i.accept=a.join(";"):i.accept="*.*",i}return s(e,t),e.getName=function(){return"dropdown-button"},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.doDisable=function(){this.element.classList.add("disabled"),this.isFileSelector&&this.inputElement.setAttribute("disabled","disabled")},e.prototype.doEnable=function(){this.element.classList.remove("disabled"),this.isFileSelector&&this.inputElement.removeAttribute("disabled")},e.prototype.doActive=function(){this.element.classList.add("active")},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.render=function(){this.textElement=document.createElement("span");var e=this.iconElement=document.createElement("i");if(this.element.classList.add("fv__ui-dropdown-button"),this.isFileSelector){var n=document.createElement("label"),o=document.createElement("input");if(this.inputElement=o,this.labelElement=n,this.element.classList.add("fv__ui-dropdown-button-file"),n.classList.add("fv__ui-dropdown-item-label"),o.classList.add("fv__ui-dropdown-item-input"),o.setAttribute("type","file"),this.accept){var a=this.accept;i.isMiuiBrowser&&(a=a.split(/[;]/).filter(function(t){return"*.*"!==t}).map(function(t){return t.replace(/^\*?\./,"application/")}).join(";")),a&&o.setAttribute("accept",a)}this.elementManager=new r.default(n,[o,e,this.textElement]),this.elementManager.mount(o),this.element.appendChild(n)}else this.elementManager=new r.default(this.element,[e,this.textElement]);this.setIconCls(this.iconCls),t.prototype.render.call(this)},e.prototype.setIconCls=function(t){if(t){var e=this.iconElement;this.iconCls=t,e.addClass("fv__ui-dropdown-button-icon",this.iconCls),e.addClass(this.iconCls),this.elementManager.mount(this.iconElement)}},e.prototype.renderText=function(){var t=this,e=this.textElement;return e.classList.add("fv__ui-dropdown-item-text"),this.textElement.innerText="",this.text&&this.text.length>0?(this.textElement.setAttribute("data-i18n",this.text),this.elementManager.mount(e)):this.texts.length>0&&(this.texts.forEach(function(e){t.textElement.appendChild(e.element)}),this.elementManager.mount(e)),e},e.prototype.mounted=function(){var e=this;if(t.prototype.mounted.call(this),this.isFileSelector){var n=function t(n){if(!e.disabled)try{var o=function(t){var e=t.target.files?t.target.files[0]:null;!e&&t.dataTransfer&&t.dataTransfer.files.length>0&&(e=t.dataTransfer.files[0]);return e}(n);e.controller.handle(o,n),e.trigger("change",o)}finally{var r=document.createElement("input");r.classList.add("fv__ui-dropdown-item-input"),r.setAttribute("type","file"),r.setAttribute("accept",e.accept),r.addEventListener("change",t),e.inputElement.after(r),e.inputElement.remove(),e.inputElement=r}},o=function(t){e.trigger("click"),t.stopPropagation()};this.inputElement.addEventListener("click",o),this.inputElement.addEventListener("change",n),this.addDestroyHook(function(){e.inputElement.removeEventListener("click",o),e.inputElement.removeEventListener("change",n)})}else{this.addEventListener("click",function(t){e.disabled||(e.controller.handle(t),e.trigger("click"),t.stopPropagation())})}},e.prototype.addEventListener=function(t,e){var n=this;this.element.addEventListener(t,e),this.addDestroyHook(function(){n.element.removeEventListener(t,e)})},e.prototype.triggerHandler=function(){this.isFileSelector?this.inputElement.click():this.element.click()},e.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},e.prototype.acceptText=function(){return!0},e.prototype.sync=function(e,n){if(t.prototype.sync.call(this,e,n))return!0;switch(e){case"text":return n&&(this.textElement.parentElement?this.textElement.setAttribute("data-i18n",n):this.setText(n),this.localizer.localizeElement(this.textElement)),!0}return!1},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(18));function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1446);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return r(e,t),e.getName=function(){return"toolbar"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-toolbar")},e}(o.default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(16)),r=(s(n(144)),s(n(117)),s(n(193))),i=s(n(108)),a=n(83);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconCls,i.text=i.text||i.viewConfig.textContent,i}return u(e,t),e.getName=function(){return"file-selector"},e.getMetadata=function(){return{options:{text:{type:"string"},action:{type:"string"},accept:{resolve:function(t){var e=t.$options,n=t.attrs,o=e.accept||n.accept;return"string"==typeof o?o.split(/[\s;]/):Array.isArray(o)?o.join(";"):"*.*"}}}}},e.prototype.render=function(){var e=document.createElement("label");this.labelElement=e,t.prototype.render.call(this),this.element.classList.add("fv__ui-fileselector");var n=this.createInputElement();this.inputElement=n,e.appendChild(this.inputElement),this.iconElement&&(this.iconElement.remove(),e.appendChild(this.iconElement)),this.textElement&&(this.textElement.remove(),e.appendChild(this.textElement)),this.element.appendChild(e)},e.prototype.createInputElement=function(){var t=document.createElement("input");if(t.classList.add("fv__ui-fileselector-input"),t.setAttribute("type","file"),this.accept){var e=this.accept;a.isMiuiBrowser&&(e=e.split(/[;]/).filter(function(t){return"*.*"!==t}).map(function(t){return t.replace(/^\*?\./,"application/")}).join(";")),e&&t.setAttribute("accept",e)}return t},e.prototype.appendIconElement=function(t){this.labelElement.appendChild(t)},e.prototype.appendTextElement=function(t){this.labelElement.appendChild(t)},e.prototype.mounted=function(){var t=this;o.default.prototype.mounted.call(this),this.parent instanceof i.default&&this.labelElement.classList.add("fv__ui-dropdown-item-label");var e=function e(n){if(!t.disabled)try{var o=function(t){var e=t.target.files?t.target.files[0]:null;!e&&t.dataTransfer&&t.dataTransfer.files.length>0&&(e=t.dataTransfer.files[0]);return e}(n);t.controller.handle(o,n),t.trigger("change",o)}finally{var r=t.createInputElement();r.addEventListener("change",e),t.labelElement.insertBefore(r,t.inputElement),t.labelElement.removeChild(t.inputElement),t.inputElement=r}};this.inputElement.addEventListener("change",e),this.addDestroyHook(function(){t.inputElement.removeEventListener("change",e)})},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.inputElement.setAttribute("disabled","disabled")},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.inputElement.removeAttribute("disabled")},e}(r.default);e.default=c},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-sidebar-ctls">\n    <a class="fv__ui-sidebar-toggler" href="javascript:;"></a>\n    <div class="fv__ui-sidebar-nav">\n    </div>\n</div>\n<div class="fv__ui-sidebar-body">\n</div>\n<div class="fv__ui-sidebar-dragger">\n    <span class="toggler"></span>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=u(n(18)),i=u(n(787));n(1448);var a=u(n(315)),s=n(5);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.width<1&&(i.width*=window.innerWidth),i.totallyCollapsedWidth=12,i.collapsedWidth=47,i.collapseThresholdWidth=105,i.maxWidth=n.maxWidth||480,i.expandWidth=i.width,i.adjustingWidth=i.element.width,i.status=e.STATUS_COLLAPSED,i.lastActivePanel=null,i.isOpenAtStart=1==n.open||void 0!==i.attrs.open&&"false"!==i.attrs.open,i.autoVisible=!i.attrs.autovisible||"false"!=i.attrs.autovisible,i}return c(e,t),e.getName=function(){return"sidebar"},e.getMetadata=function(){return{options:{width:{type:"number",defaultValue:310}}}},o(e,null,[{key:"STATUS_COLLAPSED",get:function(){return"collapsed"}},{key:"STATUS_COLLAPSED_TOTALLY",get:function(){return"collapsed-totally"}},{key:"STATUS_EXPANDED",get:function(){return"expanded"}}]),e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-sidebar"),this.element.innerHTML=(0,i.default)({}),this.togglerElement=this.element.querySelector(".fv__ui-sidebar-toggler"),this.draggerElement=this.element.querySelector(".fv__ui-sidebar-dragger"),this.draggerTogglerElement=this.draggerElement.querySelector(".toggler"),this.navElement=this.element.querySelector(".fv__ui-sidebar-nav"),this.bodyElement=this.element.querySelector(".fv__ui-sidebar-body")},e.prototype.doInsert=function(t,e){if(!(t instanceof a.default))throw new Error("the type of the sidebar children must be <sidebar-panel>");var n=this.bodyElement.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.rerenderChildren=function(){var t=document.createDocumentFragment(),e=document.createDocumentFragment();this.children().forEach(function(n){n.removeElement(),t.appendChild(n.ctrlElement),e.appendChild(n.element)}),this.navElement.clear(),this.bodyElement.clear(),this.navElement.appendChild(t),this.bodyElement.appendChild(e)},e.prototype.postlink=function(){t.prototype.postlink.call(this)},e.prototype.isCollapsed=function(){return this.status!==e.STATUS_EXPANDED},e.prototype._initStatus=function(){var t=this.$container.findFirst(function(t){return t.isActive});t||(t=this.$container.findFirst(function(t){return t.isVisible})),this.isOpenAtStart?t&&(t.isActive=!1,t.active()):(this.lastActivePanel=t,this.collapse())},e.prototype.mounted=function(){var n=this;t.prototype.mounted.call(this),this.collapsedWidth=this.navElement.offsetWidth+this.draggerElement.offsetWidth,this.collapseThresholdWidth=2.3*this.collapsedWidth,this.totallyCollapsedWidth=this.draggerElement.offsetWidth,this.width=this.element.offsetWidth,this._initStatus();var o=new Hammer.Manager(this.draggerElement);o.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL}));var r=void 0;o.on("panstart",function(t){n.startresize(),r=t.deltaX,n.resize(r,t.direction),n.trigger(s.COMPONENT_EVENTS.RESIZESTART),n.trigger(s.COMPONENT_EVENTS.RESIZE)}),o.on("panmove",function(t){var e=t.deltaX-r,o=t.center,i=n.draggerElement.offsetLeft;(o.x<i&&t.direction&Hammer.DIRECTION_RIGHT||o.x>i&&t.direction&Hammer.DIRECTION_LEFT)&&(e=0),n.resize(e,t.direction)&&n.trigger(s.COMPONENT_EVENTS.RESIZE),r=t.deltaX}),o.on("panend",function(t){n.endresize()}),o.on("pancancel",function(t){n.cancelresize()}),this.togglerElement.addEventListener("click",function(t){n.status!==e.STATUS_EXPANDED?n.expand():n.collapse()}),this.draggerTogglerElement.addEventListener("click",function(t){n.toggle()}),this.attachEventToElement(this.draggerElement,"mousedown touchstart",function(t){n.draggerElement.classList.add("active")}),this.attachEventToElement(this.draggerElement,"mouseup touchend",function(t){n.draggerElement.classList.remove("active")}),this.autoVisible||this.hide()},e.prototype.startresize=function(){this.adjustingWidth=this.width},e.prototype.resize=function(t,e){var n=this.adjustingWidth+t,o=e&Hammer.DIRECTION_LEFT,r=e&Hammer.DIRECTION_RIGHT,i=this.getRoot().element.offsetWidth;return n<=this.collapseThresholdWidth&&o?!this.isCollapsed()&&(this.collapse(),this.adjustingWidth=this.element.offsetWidth,!0):!(n>=i&&r)&&(r&&this.isCollapsed()?(this.expand(),this.setWidth(this.collapseThresholdWidth),this.adjustingWidth=this.collapseThresholdWidth):(this.adjustingWidth=n,this.element.style.width=n+"px"),!0)},e.prototype.endresize=function(){this.width=this.adjustingWidth,this.isCollapsed()||(this.expandWidth=this.adjustingWidth),this.setWidth(this.width)},e.prototype.cancelresize=function(){this.adjustingWidth=this.width,this.setWidth(this.width)},e.prototype.enableFullWidth=function(){this.isFullWidth=!0,this.element.classList.add("fv__ui-sidebar-full-width")},e.prototype.disableFullWidth=function(){this.isFullWidth=!1,this.element.classList.remove("fv__ui-sidebar-full-width")},e.prototype.expand=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.expandWidth;this.trigger(s.COMPONENT_EVENTS.BEFORE_EXPAND),this.setWidth(t),this.isFullWidth&&(this.element.style.width=""),this.element.classList.remove("collapse","collapse-totally"),this.element.classList.add("expand"),this.lastActivePanel&&this.lastActivePanel.active(),this.$lastStatus=this.status,this.status=e.STATUS_EXPANDED,this.trigger(s.COMPONENT_EVENTS.EXPAND)},e.prototype.collapse=function(){this._collapse(this.collapsedWidth),this.element.classList.add("collapse"),this.$lastStatus=this.status,this.status=e.STATUS_COLLAPSED},e.prototype.collapseTotally=function(){this._collapse(this.totallyCollapsedWidth),this.element.classList.add("collapse-totally"),this.$lastStatus=this.status,this.status=e.STATUS_COLLAPSED_TOTALLY},e.prototype.toggle=function(){this.status!==e.STATUS_COLLAPSED_TOTALLY?(this.$lastStatus=this.status,this.collapseTotally()):this.$lastStatus===e.STATUS_COLLAPSED?this.collapse():this.expand()},e.prototype._collapse=function(t){this.status===e.STATUS_EXPANDED&&(this.expandWidth=this.width),this.element.classList.remove("collapse","expand","collapse-totally"),this.setWidth(t),this.lastActivePanel&&this.lastActivePanel.deactive(),this.trigger(s.COMPONENT_EVENTS.COLLAPSE)},e.prototype.setWidth=function(t){this.element.style.width=t+"px",this.width=t,this.redrawViewer()},e.prototype.redrawViewer=function(){var t=this;clearTimeout(this.redrawViewerTimer),this.redrawViewerTimer=setTimeout(function(){t.getPDFUI().redraw()},300)},e}(r.default);e.default=l},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.title=n.title||i.attrs.title,i.iconCls=n.iconCls||i.attrs["icon-cls"]||i.attrs["icon-class"],delete i.attrs.title,i}return o(e,t),e.getName=function(){return"tab"},e.prototype.render=function(){t.prototype.render.call(this);var e=this.tabElement||document.createElement("li");e.innerHTML="\n            "+(this.iconCls?'<i class="fv__ui-tab-icon '+(this.iconCls||"")+'"></i>':"")+'\n            <span data-i18n="'+(this.title||"")+'"></span>\n        ',this.tabElement=e},e.prototype.doActive=function(){this.tabElement.classList.add("active"),this.element.classList.add("active");var t=this.parent;t&&(t.lastActiveTab&&t.lastActiveTab!==this&&t.lastActiveTab.deactive(),t.lastActiveTab=this)},e.prototype.doDeactive=function(){this.tabElement.classList.remove("active"),this.element.classList.remove("active")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.tabElement.addEventListener("click",function(t){e.disabled||e.active(),t.stopPropagation(),t.preventDefault()})},e.prototype.remove=function(){this.parent&&(this.isActive&&this._activeSibling(),t.prototype.remove.call(this))},e.prototype._activeSibling=function(){for(var t=this.nextSiblings();t&&!t.isVisible;)if((t=t.nextSiblings())||(t=this.parent.first()),t===this)return void(this.parent.first()&&this.parent.first().active());t&&t.active()},e.prototype.removeElement=function(){t.prototype.removeElement.call(this),this.tabElement.remove()},e.prototype.doHidden=function(){t.prototype.doHidden.call(this),this.tabElement.classList.add("fv__ui-hide"),this.isActive&&this._activeSibling()},e.prototype.doShown=function(){t.prototype.doShown.call(this),this.tabElement.classList.remove("fv__ui-hide")},e.prototype.updateActiveStatus=function(){var t=this.active,e=this.$options.active;"function"==typeof e&&(t=e.call(this)),!1===t||this.active()},e.prototype.addCSSClass=function(e){e&&(t.prototype.addCSSClass.call(this,e),this.tabElement.classList.add(e))},e.prototype.removeCSSClass=function(e){e&&(t.prototype.removeCSSClass.call(this,e),this.tabElement.classList.remove(e))},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(18)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(18));n(1450);r(n(82));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.lastActiveTab=null,i}return i(e,t),e.getName=function(){return"tabs"},e.prototype.rerenderChildren=function(){var t=document.createDocumentFragment(),e=document.createDocumentFragment();this.children().forEach(function(n){n.removeElement(),t.appendChild(n.tabElement),e.appendChild(n.getContainerElement())}),this.tabContainer.clear(),this.tabBodyContainer.clear(),this.tabContainer.appendChild(t),this.tabBodyContainer.appendChild(e)},e.prototype.active=function(){this.isVisible&&t.prototype.active.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-tab"),this.tabContainer=document.createElement("ul"),this.tabBodyContainer=document.createElement("div"),this.tabContainer.classList.add("fv__ui-tab-nav"),this.tabBodyContainer.classList.add("fv__ui-tab-body"),this.element.appendChild(this.tabContainer),this.element.appendChild(this.tabBodyContainer)},e.prototype.postlink=function(){var t=this.$container.findFirst(function(t){return t.getConfig("active")});t||(t=this.$container.findFirst(function(t){return t.isVisible})),t&&t.active()},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=(a(n(318)),a(n(316)));n(1452);var i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.getName=function(){return"group-list"},e.getMetadata=function(){return{options:{"shrink-size":{type:"number",field:"shrinkSize",defaultValue:1024}}}},e.prototype.rerenderChildren=function(){var t,e=this.$container.children().map(function(t){return t.removeElement(),t.element});this.element.clear(),(t=this.element).append.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-grouplist",i.ORIENTATION_HORIZONTAL)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.insert=function(e,n){if(e instanceof r.default)return t.prototype.insert.call(this,e,n);throw new Error("child of <group-list> component must be <group> but actual <"+e.viewConfig.nodeName+">")},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(82));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n.$options,o,i));return a.parent=n,a.title=n.shrinkTitle,a.layout=new r.default,a}return a(e,t),e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-grp-btn-list"),this.moreElement=document.createElement("a"),this.moreElement.className="fv__ui-grp-more",this.moreElement.innerHTML='\n            <i class="fv__icon-toolbar-more"></i>\n        ',this.titleElement=document.createElement("span"),this.titleElement.setAttribute("data-i18n",this.title),this.titleElement.className="fv__ui-grp-btn-list-title"},e.prototype.setShrinkTitle=function(t){"string"==typeof t&&(this.title=t,this.titleElement.innerText=t,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement,{}),this.titleElement.parentElement||this.element.prepend(this.titleElement))},e.prototype.insert=function(e,n){this.$container.insert(e,n),e.parent=this.parent,t.prototype.resetDataScope.call(this),this.doInsert(e,n)},e.prototype.rerenderChildren=function(){var t=this;this.element.clear(),this.title&&this.element.appendChild(this.titleElement),this.$container.each(function(e){t.element.append(e.element)})},e.prototype.mounted=function(){var t=this,e=function(e){t.isActive?t.deactive():t.active()},n=function(e){t.deactive()},o=function(e){t.parent.isShrinked&&(e.target.classList.contains("fv__icon-toolbar-caret")||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&e.stopPropagation()};this.moreElement.addEventListener("click",e),document.addEventListener("mouseup",n),this.element.addEventListener("mouseup",o),this.addDestroyHook(function(){t.moreElement.removeEventListener("click",e)},function(){document.removeEventListener("mouseup",n),t.element.removeEventListener("mouseup",o)})},e.prototype.doActive=function(){this.element.classList.add("active"),this.moreElement.classList.add("active");var t=this.moreElement.getBoundingClientRect();this.element.style.cssText+="\n            left: "+t.left+"px;\n            top: "+t.bottom+"px;\n        "},e.prototype.doDeactive=function(){this.element.classList.remove("active"),this.moreElement.classList.remove("active")},e}(o.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.getName=function(){return"#noop#"},e.prototype.render=function(){},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(82)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=n(5),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"webpdf"},e.prototype.createDOMElement=function(){var t=document.createElement("div");return t.classList.add("fv__ui-webpdf"),t},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.getComponentByName(r.WEBPDF_VIEWER_COMPONENT_NAME).getPDFViewer();this.disableAll();var o=function(){e.enableAll()},a=function(){e.disableAll()};n.eventEmitter.on(i.default.willCloseDocument,a),n.eventEmitter.on(i.default.openFileSuccess,o),this.addDestroyHook(function(){n.eventEmitter.off(i.default.willCloseDocument,a),n.eventEmitter.off(i.default.openFileSuccess,o)})},e.prototype.disableAll=function(){this.$disabledComponents=[],this.disableToolbar(),this.disableSidebar()},e.prototype.enableAll=function(){this.enableToolbar(),this.enableSidebar(),this.$disabledComponents.forEach(function(t){return t.disable()}),this.$disabledComponents=[]},e.prototype.disableToolbar=function(){var t=this;this.getAllComponentsByType("tab").forEach(function(e){e.getAllComponentsByType("group-list").forEach(function(e){t.markupComponentRecursive(e),e.disable()})})},e.prototype.enableToolbar=function(){this.getAllComponentsByType("tab").forEach(function(t){t.getAllComponentsByType("group-list").forEach(function(t){return t.enable()})})},e.prototype.disableSidebar=function(){var t=this;this.getAllComponentsByType("sidebar-panel").forEach(function(e){e.children().forEach(function(e){t.markupComponentRecursive(e),e.disable()})})},e.prototype.enableSidebar=function(){this.getAllComponentsByType("sidebar-panel").forEach(function(t){t.children().forEach(function(t){return t.enable()})})},e.prototype.markupComponentRecursive=function(t){var e=this;t instanceof o.default?t.children().forEach(function(t){return e.markupComponentRecursive(t)}):t.disabled&&this.$disabledComponents.push(t)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(199)),r=n(23),i=n(155);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.target=o,u.anchor=a,u.pdfViewer=n,u.contextMenuComponent=r,u.contextmenuHandler=function(t){var e=u.findTarget(s.selector,t.target);e&&(u.currentAnchorElement=e,u.showAt(t.clientX,t.clientY),t.stopPropagation(),t.preventDefault())},u.detachContextMenuEvent=(0,i.attachContextMenuEvent)(a,u.contextmenuHandler),u}return a(e,t),e.prototype.findTarget=function(t,e){var n=e.querySelector(t);if(n)return n;for(var o=e;o;){if(o.matches(t))return o;o=o.parentElement}},e.prototype.showAt=function(t,e){var n=this.target;if(n instanceof r.AnnotComponent){var o=n.annot;if(o.isGrouped&&o.isGrouped()){var i=o.getGroupHeader(),a=i.getIntent();a&&"replace"===a.toLowerCase()&&(n=n.annotsRender.getAnnotRender(i.getId()).component)}this.contextMenuComponent.setCurrentTarget(n)}else{var s=+this.currentAnchorElement.closest("[data-index]").getAttribute("data-index"),u=this.pdfViewer.getPDFPageRender(s);this.contextMenuComponent.setCurrentTarget(u.page)}this.contextMenuComponent.trigger("beforeshow"),this.contextMenuComponent.showAt(t,e),this.contextMenuComponent.trigger("aftershow")},e.prototype.destroy=function(){this.detachContextMenuEvent()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(334)),r=n(13),i=n(23),a=u(n(6)),s=u(n(795));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=["line","linearrow","linedimension","polylinedimension","polygondimension","circle","square","polyline","polygon","polygoncloud","fileattachment","freetexttypewriter","typewriter","freetextcallout","callout","freetexttextbox","textbox","freetext","ink","stamp","text","areahighlight","highlight","caret","replace","squiggly","strikeout","redact","underline","media","image","link"].reduce(function(t,e){return t[e]="fv--"+e+"-contextmenu",t},{}),f=a.default.getLogger("XViewerUI"),p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.rootComponent=n,o}return c(e,t),e.prototype.createContextMenu=function(e,n,o){var a=void 0;switch(e){case r.STATE_HANDLER_HAND:case r.STATE_HANDLER_SELECT_TEXT_ANNOTATION:a=this.rootComponent.getComponentByName("fv--page-contextmenu");break;default:if(e instanceof i.AnnotComponent){var u=this.getAnnotsContextmenuName(e.annot);a=this.rootComponent.getComponentByName(u)}}return a||(e instanceof i.MarkupAnnotComponent?a=this.rootComponent.getComponentByName("fv--markup-contextmenu"):e instanceof i.TextMarkupAnnotComponent?a=this.rootComponent.getComponentByName("fv--textmarkup-contextmenu"):e instanceof i.AnnotComponent&&(a=this.rootComponent.getComponentByName("fv--default-annot-contextmenu"))),a?new s.default(this.pdfViewer,e,a,n,o):t.prototype.createContextMenu.call(this,e,n,o)},e.prototype.getAnnotsContextmenuName=function(t){if(t.isGrouped&&t.isGrouped()){var e=t.getGroupHeader(),n=e.getIntent();n&&"replace"===n.toLowerCase()&&(t=e)}var o=t.getType().toLowerCase(),r=t.getIntent&&t.getIntent(),i=t.getSubject&&t.getSubject(),a=void 0;if("highlight"===o&&t.isArea())return"fv--areahighlight-contextmenu";if("screen"===o){var s=t.info.action,u=s?s.renditions:void 0;if(u&&u[0])u[0].contentType.match(/^(audio|video)\/.+$/)&&(a=l.media);t.info.isAudioVideo&&(a=l.media),a||(a=l.image)}else{if(r&&""!==r&&(a=l[r.toLowerCase().replace(/^freetext/,"")]),!a)switch(o){case"freetext":if(i&&""!==i){var c=i.toLowerCase().replace(/^freetext/,"");a=l[c]}break;default:a=l[o]}a||(f.warn("context menu not found for this annotation: ",t,'now using "fv--default-annot-contextmenu" instead!'),a="fv--default-annot-contextmenu")}return a},e}(o.default);e.default=p},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<layer name=\'place-redact-dialog\' class="fv__ui-place-redact-dialog" @draggable="">\n   <layer-header title="dialog.placeRedactionDialog.title"></layer-header>\n   <div class="fv__place-redaction-dialog-body">\n        <div class="fv__redaction-container">\n        <label>\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span data-i18n="dialog.placeRedactionDialog.allPage"></span>\n        </label>\n        </div>\n        <div class="fv__redaction-container">\n            <label>\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span data-i18n="dialog.placeRedactionDialog.specificPage"></span>\n                <div class="fv__redaction-range"><span data-i18n=\'dialog.placeRedactionDialog.pageRange\'></span> <input type="text" class="fv__redaction-page-range" disabled /></div>\n                </label>\n        </div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n        <div class="fv__redaction-container" style="text-align:right">\n            <button type="button" class="fv__redaction-btn" data-i18n="dialog.ok"></button>\n            <button type="button" class="fv__redaction-cancel" name="place-redaction-dialog-close" data-i18n="dialog.cancel"></button>\n        </div>\n   </div>\n</layer>\n\n\n'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(797)),r=a(n(1));n(1454);a(n(9));var i=n(29);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e;var i=(0,o.default)();this.dialog=e.parseTemplate(i,[]),this.dialog.localize(),this.dialog.mounted(),e.addViewerEventListener("will-close-document",function(t){n.dialog.hide()}),this.$dialog=(0,r.default)(this.dialog.element),this._bindEvent()}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setAnnot=function(t){return this.annotRender=t,this.annot=t.annot,this},t.prototype.show=function(t){var e=this;return this.PDFUI.getPDFViewer().then(function(t){e.docPageCount=t.currentPDFDoc.info.pageCount,e.$dialog.find(".fv__redaction-page-range").val("").attr("placeholder","Max: "+e.docPageCount)}),this.PDFUI.getRootComponent().then(function(n){if(e.dialog.open(n.element),t){var o=e.dialog.element,r=o.offsetWidth,a=o.offsetHeight;i.isMobile?e.dialog.element.style.cssText="\n                        left: "+(n.element.offsetWidth/2-r/2)+"px;\n                        top: "+(n.element.offsetHeight/2-a/2)+"px;\n                    ":(t.pageX+260>n.element.offsetWidth?e.dialog.element.style.left=n.element.offsetWidth-260+"px":e.dialog.element.style.left=t.pageX+"px",t.pageY+410>n.element.offsetHeight?e.dialog.element.style.top=n.element.offsetHeight-410+"px":e.dialog.element.style.top=t.pageY+"px")}e.dialog.element.querySelector(".redaction-page-radio").checked=!0}),this},t.prototype.hide=function(){return this.dialog.hide(),this},t.prototype._getComponnet=function(t){return this.dialog.getComponentByName(t)},t.prototype._bindEvent=function(){var t=this;this.$dialog.on("click",".fv__redaction-cancel",function(){t.hide()}).on("click",".fv__redaction-btn",function(e){t.submit()}).on("change",".redaction-page-radio",function(e){e.target.checked&&(t.hideError(),"1"==e.target.value?(0,r.default)(".fv__redaction-page-range").attr("disabled",""):(0,r.default)(".fv__redaction-page-range").removeAttr("disabled"))}).on("keydown",".fv__redaction-page-range",function(e){t.hideError()})},t.prototype.submit=function(){var t=this,e=this.docPageCount,n=[];if("1"==(0,r.default)(".redaction-page-radio:checked").val())for(var o=0;o<e;o++)n.push(o);else{var i=(0,r.default)(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(i))return void this.showError();for(var a=i.split(","),s=0;s<a.length;s++){var u=a[s];if(u.indexOf("-")>-1){var c=u.split("-");if(c.length>2)return void this.showError();if(c[0]<1||c[0]>e||c[1]<1||c[1]>e)return void this.showError();for(var l=Math.min(c[0],c[1]),f=Math.max(c[0],c[1]),p=l;p<=f;p++)-1===n.indexOf(p)&&n.push(p-1)}else{if(u<1||u>e)return void this.showError();-1===n.indexOf(n)&&n.push(u-1)}}}this.annotRender.placeRedact(n).then(function(e){t.hide()})},t.prototype.hideError=function(){this.dialog.element.querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")},t.prototype.showError=function(){this.dialog.element.querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")},t.prototype.destroy=function(){this.dialog.destroy()},t}();e.default=s},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=((t=t||{}).dialogName,o.$escape);return e+="\n<layer name='",e+=n("annot-actions-dialog"),e+="' class=\"fv__ui-",e+=n("annot-actions-dialog"),e+=' center" @draggable="">\n    <layer-header title="dialog.actionDialog.title"></layer-header>\n    <div class="fv__action-dialog-container" @stop-drag>\n        <div class="fv__action-dialog-body">\n            <div class="fv__action-dialog-select">\n                <span class="fv__action-dialog-select-title"><span data-i18n="dialog.actionDialog.selectKey"></span><span>:</span></span>\n                <select id="select-action" name="select-action">\n                    <option value="TypeGoto" data-i18n="dialog.actionDialog.selectAction.goto"></option>\n                    <option value="TypeURI" data-i18n="dialog.actionDialog.selectAction.webLink"></option>\n                </select>\n            </div>\n            <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n                <div class="fv__action-dialog-url-title fv__action-box-title" data-i18n="dialog.actionDialog.URLAction.title"></div>\n                <div class="fv__action-dialog-url-input">\n                    <input class="fv__action-dialog-input" id="url-input" name="url-input" />\n                </div>\n            </div>\n            <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;" data-type="TypeGoto">\n                <div class="fv__action-dialog-goto-title fv__action-box-title" data-i18n="dialog.actionDialog.GotoAction.title"></div>\n                <div class="fv__action-dialog-goto-container">\n                    <div class="fv__action-dialog-goto-center">\n                        <div class="fv__action-dialog-goto-left">\n                            <div class="fv__action-dialog-goto-target"><span data-i18n="dialog.actionDialog.GotoAction.target"></span><span>:</span></div>\n                        </div>\n                        <div class="fv__action-dialog-goto-right">\n                            <div class="fv__action-dialog-goto-input">\n                                <input type="number" min="1" class="fv__action-dialog-input" id="goto-input" name="goto-input" />\n                            </div>\n                            <div class="fv__action-dialog-goto-position">\n                                <span class="fv__action-dialog-goto-position-left" data-i18n="dialog.actionDialog.GotoAction.left"></span><span>:</span><span class="fv__action-dialog-goto-left-value" name="goto-left">0</span>\n                                <span class="fv__action-dialog-goto-position-top" data-i18n="dialog.actionDialog.GotoAction.top"></span><span>:</span><span class="fv__action-dialog-goto-top-value" name="goto-top">0</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="fv__action-dialog-footer">\n            <div class="fv__action-dialog-btns">\n                <button type="button" class="fv__action-btn fv__action-btn-ok" data-i18n="dialog.actionDialog.OK" name="annot-action-ok"></button>\n                <button type="button" class="fv__action-btn fv__action-btn-cancel" data-i18n="dialog.actionDialog.Cancel" name="annot-action-close"></button>\n            </div>\n        </div>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=s(n(799)),i=s(n(1)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}n(1456);var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e;var o=(0,r.default)();this.dialog=e.parseTemplate(o,[{target:"annot-action-close",config:{callback:function(){n.hide()}}}]),this.dialog.localize(),this.dialog.mounted(),this.$gotoInput=(0,i.default)(this._getComponnet("goto-input").element),this.$urlInput=(0,i.default)(this._getComponnet("url-input").element),this.$selectAction=(0,i.default)(this._getComponnet("select-action").element),this.$gotoLeftValue=(0,i.default)(this._getComponnet("goto-left").element),this.$gotoTopValue=(0,i.default)(this._getComponnet("goto-top").element),this.$okButton=(0,i.default)(this._getComponnet("annot-action-ok").element),e.addViewerEventListener("will-close-document",function(t){n.dialog.hide()}),this._bindEvent()}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setAnnot=function(t){return this.annotRender=t,this.annot=t.annot,this},t.prototype.show=function(t){var e=this;return this.annot.getActionPromise().then(function(t){return e.action=t,e.PDFUI.getRootComponent()}).then(function(n){t&&(t.pageX+260>n.element.offsetWidth?e.dialog.element.style.left=n.element.offsetWidth-260+"px":e.dialog.element.style.left=t.pageX+"px",t.pageY+410>n.element.offsetHeight?e.dialog.element.style.top=n.element.offsetHeight-410+"px":e.dialog.element.style.top=t.pageY+"px"),e.dialog.open(n.element);var r=e.formatAction(),a=(0,i.default)(e.dialog.element);e.PDFUI.getPDFViewer().then(function(t){var n=t.getPDFDocRender().getPDFDoc().getPageCount();if(e.$gotoInput.attr("max",n),r&&r.type)switch(a.find("#select-action [value="+r.type+"]").prop("selected",!0),a.find(".fv__action-dialog-box").css("display","none"),a.find("[data-type="+r.type+"]").css("display","block"),r.type){case"TypeURI":e.$urlInput.val(r.uri),r.uri,e.$okButton.addClass("disabled");break;case"TypeGoto":e.$okButton.removeClass("disabled"),e.$gotoInput.val(r.destination.pageIndex+1);var i=t.getPDFPageRender(r.destination.pageIndex);i.getPDFPage().then(function(t){var n=t.getDevicePoint([r.destination.left,r.destination.top],i.getScale()),a=o(n,2),s=a[0],u=a[1];e.$gotoLeftValue.html(s.toFixed(2)),e.$gotoTopValue.html(u.toFixed(2))})}else{var s=t.getDeviceCurrentPosition();e.$gotoInput.val(s.pageIndex+1),e.$gotoLeftValue.html(s.left.toFixed(2)),e.$gotoTopValue.html(s.top.toFixed(2))}})}),this},t.prototype.hide=function(){return this.clear(),this.dialog.hide(),this},t.prototype._getComponnet=function(t){return this.dialog.getComponentByName(t)},t.prototype.clear=function(){this.$gotoInput.val(1),this.$gotoLeftValue.html(0),this.$gotoTopValue.html(0),this.$urlInput.val("")},t.prototype._bindEvent=function(){var t=this,e=this;this.PDFUI.getPDFViewer().then(function(n){var r=t.$selectAction,s=(0,i.default)(t.dialog.element),u=t.$gotoInput,c=t.$urlInput,l=t.$gotoLeftValue,f=t.$gotoTopValue,p=t.$okButton,d=n.getPDFViewerRender().scrollWrap;n.eventEmitter.on(a.default.zoomToSuccess,function(t,e){g()});var h=d.addScrollEventListener(g);function g(){var t=n.getDeviceCurrentPosition();u.val(t.pageIndex+1),l.html(t.left.toFixed(2)),f.html(t.top.toFixed(2))}t.dialog.on("destroy",function(){return h()}),r.on("change",function(e){var n=e.target.value;s.find(".fv__action-dialog-box").css("display","none"),s.find("[data-type="+n+"]").css("display","block"),"TypeURI"==n&&t.$urlInput.val().length<1&&t.$okButton.addClass("disabled"),"TypeURI"!=n&&t.$okButton.removeClass("disabled")}),r.on("pointerdown",function(t){t.stopPropagation(),t.stopImmediatePropagation()}),u.on("input",function(t){var e=t.target.value,o=Number(e);isNaN(o)||n.getPDFDocRender().goToPage(o-1,{x:0,y:0})}),p.on("click",function(i){var a=r.val();if(!t.$okButton.hasClass("disabled"))if("TypeURI"===a){var s=c.val();e.annot.setAction(a).then(function(){e.annot.setActionData({uri:s}).then(function(){n.getMementoManager().before({host:{pdfViewer:n,annot:e.annot},method:"addAction"}),n.getMementoManager().after({host:{pdfViewer:n,annot:e.annot},method:"addAction"}),e.hide()})})}else if("TypeGoto"===a){var p=n.getPDFDocRender().getScale();e.annot.setAction(a).then(function(){var t={};t.pageIndex=u.val()-1;var r=n.getPDFPageRender(t.pageIndex);r.getPDFPage().then(function(i){var a=i.reverseDevicePoint([Number(l.html()),Number(f.html())],r.getScale()),s=o(a,2),u=s[0],c=s[1];t.left=u,t.top=c,"fitWidth"===p?t.type="ZoomFitHorz":"fitHeight"===p?t.type="ZoomFitPage":(t.type="ZoomXYZ",t.zoomFactor=n.getPDFPageRender(t.pageIndex).getScale()),e.annot.setActionData(t).then(function(){n.getMementoManager().before({host:{pdfViewer:n,annot:e.annot},method:"addAction"}),n.getMementoManager().after({host:{pdfViewer:n,annot:e.annot},method:"addAction"}),e.hide()})})})}})}),this.$urlInput.on("keyup",function(e){t.$urlInput.val().length>0?t.$okButton.removeClass("disabled"):t.$okButton.addClass("disabled")})},t.prototype.formatAction=function(){var t=this.action,e={};if(t)switch(e.type=t.getType(),e.type){case"TypeURI":e.uri=t.getURI();break;case"TypeGoto":e.destination=t.getDestination()}return e},t.prototype.destroy=function(){this.dialog.destroy()},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[{value:0,lable:"propertiesDialog.endingStyle.none",class:"fv__ui-property-icon-end-style-0"},{value:1,lable:"propertiesDialog.endingStyle.square",class:"fv__ui-property-icon-end-style-1"},{value:2,lable:"propertiesDialog.endingStyle.circle",class:"fv__ui-property-icon-end-style-2"},{value:3,lable:"propertiesDialog.endingStyle.diamond",class:"fv__ui-property-icon-end-style-3"},{value:4,lable:"propertiesDialog.endingStyle.openArrow",class:"fv__ui-property-icon-end-style-4"},{value:5,lable:"propertiesDialog.endingStyle.closedArrow",class:"fv__ui-property-icon-end-style-5"},{value:6,lable:"propertiesDialog.endingStyle.butt",class:"fv__ui-property-icon-end-style-6"},{value:7,lable:"propertiesDialog.endingStyle.reverseOpenArrow",class:"fv__ui-property-icon-end-style-7"},{value:8,lable:"propertiesDialog.endingStyle.reverseClosedArrow",class:"fv__ui-property-icon-end-style-8"},{value:9,lable:"propertiesDialog.endingStyle.slash",class:"fv__ui-property-icon-end-style-9"}],r={iconclass:"fv__ui-property-icon-end-style",text:"propertiesDialog.endOfLine",layout:1,noOptionLable:!0,selectorClass:"fv__ui-end-style-selector",options:o},i={iconclass:"fv__ui-property-icon-start-style",text:"propertiesDialog.startOfLine",selectorClass:"fv__ui-start-style-selector",layout:1,noOptionLable:!0,options:o},a={colors:["#ff6633","#ff00ff","#ffcc00","#00ffff","#00ff00","#ffff00","#ff0000","#993399","#cc99ff","#ff99cc","#0000ff","#66cc33","#000000","#333333","#666666","#999999","#cccccc","#ffffff"],transparentclass:"fv__ui-property-icon-nocolor",addclass:"fv__ui-property-icon-add-color",removeclass:"fv__ui-property-icon-remove-color",deleteclass:"fv__ui-property-icon-delete-color-",selectedclass:"fv__ui-property-icon-selected-color-",lightpostname:"light",darkpostname:"dark"},s=Object.assign({transparent:!1},a),u=Object.assign({transparent:!0},a),c=Object.assign({transparent:!1},a);e.borderstyleConfig={iconclass:"fv__ui-property-icon-border-style",noOptionLable:!0,selectorClass:"fv__ui-border-style-selector",options:[{value:0,class:"fv__ui-line-style-0"},{value:1,class:"fv__ui-line-style-1"},{value:2,class:"fv__ui-line-style-2"},{value:3,class:"fv__ui-line-style-3"},{value:4,class:"fv__ui-line-style-4"},{value:5,class:"fv__ui-line-style-5"},{value:6,class:"fv__ui-line-style-6"},{value:7,class:"fv__ui-line-style-7"},{value:8,class:"fv__ui-line-style-8"}]},e.hilightmodeConfig={iconclass:"fv__ui-property-icon-hilightmode",options:[{value:0,lable:"propertiesDialog.highlightingMode.none"},{value:1,lable:"propertiesDialog.highlightingMode.invert"},{value:2,lable:"propertiesDialog.highlightingMode.outline"},{value:3,lable:"propertiesDialog.highlightingMode.push"},{value:4,lable:"propertiesDialog.highlightingMode.toggle"}]},e.rotateConfig={iconclass:"fv__ui-property-icon-rotate",options:[{value:0,lable:"propertiesDialog.rotate.degree0"},{value:1,lable:"propertiesDialog.rotate.degree1"},{value:2,lable:"propertiesDialog.rotate.degree2"},{value:3,lable:"propertiesDialog.rotate.degree3"}]},e.endstyleConfig=r,e.startstyleConfig=i,e.colorConfig=s,e.fillColorConfig=u,e.applyFillColorConfig=c},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).dialogName,r=o.$escape,i=t.color,a=t.fillColor,s=t.applyFillColor,u=t.font,c=t.borderWidth,l=t.iconBorderWidth,f=t.opacity,p=t.iconOpacity,d=t.borderStyle,h=t.highlightingMode,g=t.rotation,m=t.lineStartStyle,y=t.lineEndStyle,v=t.hasCap;return e+="\n",e+="\n<layer name='",e+=r(n="annot-properties-dialog"),e+="' class=\"fv__ui-",e+=r(n),e+='" >\n<div class="fv__ui-',e+=r(n),e+="-container\" @draggable=\"{type: 'closest', target:'",e+=r(n),e+="', overflow: 'ignore'}\">\n    <div name=\"",e+=r(n),e+='-body" class="fv__properties-body">\n        <tabs name="annot-property-tabs" canBeDisabled=\'false\'>\n            <tab title="propertiesDialog.color" class="fv__ui-',e+=r(i),e+='">\n            <color name="annot-property-',e+=r(i),e+='"></color>\n            </tab>\n            <tab title="propertiesDialog.fillColor" class="fv__ui-',e+=r(a),e+='">\n            <color name="annot-property-',e+=r(a),e+='"></color>\n            </tab>\n            <tab title="propertiesDialog.applyFillColor" class="fv__ui-',e+=r(s),e+='">\n            <color name="annot-property-',e+=r(s),e+='"></color>\n            </tab>\n            <tab name="annot-property-',e+=r(u),e+='" title="propertiesDialog.font" class="fv__ui-',e+=r(u),e+='">\n            </tab>\n        </tabs>\n        <slider class="fv__property-component" unit=\'pt\' max="12" min="0" step="1" value="0"\n            name="annot-property-',e+=r(c),e+='" iconclass="',e+=r(l),e+='" @stop-drag></slider>\n        <slider class="fv__property-component" unit=\'%\' max="100" min="0" step="1" value="100"\n            name="annot-property-',e+=r(f),e+='" iconclass="',e+=r(p),e+='" @stop-drag></slider>\n        <choice class="fv__property-component" name="annot-property-',e+=r(d),e+='"></choice>\n        <choice class="fv__property-component" name="annot-property-',e+=r(h),e+='"></choice>\n        <choice class="fv__property-component" name="annot-property-',e+=r(g),e+='"></choice>\n        <choice class="fv__property-component" name="annot-property-',e+=r(m),e+='"></choice>\n        <choice class="fv__property-component" name="annot-property-',e+=r(y),e+='"></choice>\n        <checkbox class="fv__property-component" name="annot-property-',e+=r(v),e+='"></checkbox>\n        <div handleon="click" name="annot-property-close" class="fv__stamp-button fv__ui-annot-property-close" canBeDisabled=false style=\'margin-top: 12px;\'>dialog.close</div>\n    </div>\n</div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(802));n(1490);var r=n(29),i=n(801),a=n(8);function s(t){return t&&t.__esModule?t:{default:t}}var u={borderWidth:"borderWidth",borderStyle:"borderStyle",highlightingMode:"highlightingMode",rotation:"rotation",lineStartStyle:"lineStartStyle",lineEndStyle:"lineEndStyle",opacity:"opacity",color:"color",fillColor:"fillColor",applyFillColor:"applyFillColor",font:"font",hasCap:"hasCap"},c=s(n(6)).default.getLogger("pdf-ui.CustomDialog"),l=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e;var r=(0,o.default)(Object.assign({},u,{iconBorderWidth:"fv__ui-property-icon-border-width",iconOpacity:"fv__ui-property-icon-opacity"}));this.dialog=e.parseTemplate(r,[{target:"annot-property-close",config:{callback:function(){Object.keys(u).map(function(t){var e=n._getComponnet(t);e?e.commit&&e.commit():c.info(t)}),n.dialog.lock(),n.dialog.hide()}}},{target:"annot-property-"+u.borderStyle,config:i.borderstyleConfig},{target:"annot-property-"+u.highlightingMode,config:i.hilightmodeConfig},{target:"annot-property-"+u.rotation,config:i.rotateConfig},{target:"annot-property-"+u.lineEndStyle,config:i.endstyleConfig},{target:"annot-property-"+u.lineStartStyle,config:i.startstyleConfig},{target:"annot-property-"+u.color,config:i.colorConfig},{target:"annot-property-"+u.fillColor,config:i.fillColorConfig},{target:"annot-property-"+u.applyFillColor,config:i.applyFillColorConfig},{target:"annot-property-"+u.hasCap,config:{text:"propertiesDialog.showCap",lableClass:"fv__ui-hasCap-lable",inputClass:"fv__ui-hasCap-input"}}]),this.dialog.localize(),this.dialog.mounted(),e.addViewerEventListener("will-close-document",function(t){n.dialog.hide()}),this.tabsComponent=this.dialog.getComponentByName("annot-property-tabs"),this._bindEvent()}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setViewerComponent=function(t){return this.viewerComponent=t,this.annotProperties=this.viewerComponent.getPropertyOptions(),this.synchronizeProperties(),this},t.prototype.show=function(t){var e=this;return this.dialog.unlock(),this.PDFUI.getRootComponent().then(function(n){t&&!r.isMobile&&(t.pageX+260>n.element.offsetWidth?e.dialog.element.style.left=n.element.offsetWidth-260+"px":e.dialog.element.style.left=t.pageX+"px",t.pageY+410>n.element.offsetHeight?e.dialog.element.style.top=n.element.offsetHeight-410+"px":e.dialog.element.style.top=t.pageY+"px"),e.dialog.isVisible||e.tabsComponent.first().active(),e.dialog.open(n.element)}),this},t.prototype.hide=function(){return this._getComponnet("opacity").deactive(),this.dialog.hide(),this},t.prototype.toggle=function(t){var e=this._getComponnet(u.color),n=this._getComponnet(u.fillColor),o=this._getComponnet(u.applyFillColor);t?(this.dialog.enable(),e.enable(),n.enable(),o.enable()):(this.dialog.disable(),e.disable(),n.disable(),o.disable())},t.prototype.isOpened=function(){return this.dialog.isVisible},t.prototype._bindEvent=function(){var t=this;this._getComponnet(u.font).hide(),Object.keys(u).map(function(e){var n=t._getComponnet(e);if(n){var o=function(o){var r=n.getValue();t.dataAccess("w",e,r),u.color===e&&(t.dialog.element.querySelector(".fv__ui-property-icon-border-width").style.borderColor=0===r?"transparent":r),u.borderWidth===e&&(t.dialog.element.querySelector(".fv__ui-property-icon-border-width").style.borderWidth=9*r/12+"px")};n.on("change",o);n.on("compositionupdate",o);n.on("active",function(e){return function(e,n){t.focusComponent&&"annot-property-tabs"!=t.focusComponent.parent.name&&t.focusComponent.deactive(),t.focusComponent=n}(0,n)})}else c.info(e)}),this._getComponnet("opacity").on("willCommit",function(e){var n=e.oldValue,o=e.commitValue;t.viewerComponent.setOpacity(o/100,!0,{oldValue:n/100,commitValue:o/100})}),this._getComponnet("borderWidth").on("willCommit",function(e){var n=e.oldValue,o=e.commitValue;t.viewerComponent.setBorderWidth(o,!0,{oldValue:n,commitValue:o})})},t.prototype.synchronizeProperties=function(){var t=this,e=this.annotProperties;(this.toggle(!e.disabled),this._getComponnet(u.fillColor).showTransparentColor(!("redact"===this.viewerComponent.name)),void 0!==e.borderTransparent)&&this._getComponnet(u.color).showTransparentColor(e.borderTransparent);0==e.borderStyle?delete e.borderStyle:e.borderStyle=this.getBorderStyle(),Object.keys(u).map(function(n){t.updateComponent(e[u[n]],n)});var n=this.dialog.element.querySelector(".fv__ui-property-icon-border-width").style;n.borderColor=e.borderTransparent?"transparent":e.color,n.borderWidth=3*e.borderWidth/4+"px";var o=this._countTabsNumber(e),r=this.tabsComponent.element.querySelectorAll(".fv__ui-annot-properties-dialog .fv__ui-tab-nav li");switch(o){case 0:this.tabsComponent.hide();break;default:this.tabsComponent.show();var i=!0,a=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=c.value;f.style.cssText+="width:"+100/o+"%",f.style.display=1==o?"none":"block"}}catch(t){a=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}}var p=function(e,n){var o=n?"block":"none";t.dialog.element.querySelector(e).parentElement.style.display=o};p.call(this,"div.fv__ui-line-style-7",e.cloudy),p.call(this,"div.fv__ui-line-style-8",e.cloudy)},t.prototype._countTabsNumber=function(t){var e=0;return void 0!==t.color&&e++,void 0!==t.fillColor&&e++,void 0!==t.applyFillColor&&e++,void 0!==t.font&&e++,e},t.prototype.updateComponent=function(t,e){var n=void 0;if(n=this._getComponnet(e))if(void 0!==t){switch(e){case u.opacity:t*=100;break;case u.fillColor:case u.applyFillColor:"0"!=t&&(t=(0,a.convertFromNumberToHex)(16777215&t)),n.parent.show();break;case u.color:t.length>7&&(t=t.replace(/#(\w\w)/,"#")),n.parent.show();break;case u.rotation:t=parseInt(t%360/90)}n.setValue&&n.setValue(t),n.show()}else switch(n.hide(),e){case u.color:case u.fillColor:case u.applyFillColor:n.parent.hide()}},t.prototype.dataAccess=function(t,e,n){switch(e){case u.borderWidth:"w"==t&&this.viewerComponent.setBorderWidth&&this.viewerComponent.setBorderWidth(n,!1);break;case u.opacity:"w"==t&&this.viewerComponent.setOpacity&&this.viewerComponent.setOpacity(n/100,!1);break;case u.borderStyle:"w"==t&&this.viewerComponent.setBorderStyle&&this.setBorderStyle(n);break;case u.highlightingMode:"w"==t&&this.viewerComponent.setHighlightingMode&&this.viewerComponent.setHighlightingMode(n);break;case u.rotation:"w"==t&&this.viewerComponent.setRotation&&this.viewerComponent.setRotation(90*n);break;case u.lineEndStyle:"w"==t&&this.viewerComponent.setEndingStyle&&this.viewerComponent.setEndingStyle(!1,n);break;case u.lineStartStyle:"w"==t&&this.viewerComponent.setEndingStyle&&this.viewerComponent.setEndingStyle(!0,n);break;case u.color:if("w"==t&&this.viewerComponent.setColor){var o=0===n?0:(0,a.colorConvertor)(n,"int",1);this.viewerComponent.setColor(o)}break;case u.fillColor:"w"==t&&this.viewerComponent.setFillColor&&this.viewerComponent.setFillColor(0===n?0:(0,a.colorConvertor)(n,"int",1));break;case u.applyFillColor:"w"==t&&this.viewerComponent.setApplyFillColor&&this.viewerComponent.setApplyFillColor(0===n?0:(0,a.colorConvertor)(n,"int",1));break;case u.hasCap:"w"==t&&this.viewerComponent.enableCaption&&this.viewerComponent.enableCaption(n)}},t.prototype.getBorderStyle=function(){var t=this.viewerComponent.getModel(),e=t.getBorderStyle(),n=0,o=t.getBorderDashes();if(1==e&&o.length>0){var r=Math.max.apply(Math,o),i=Math.min.apply(Math,o);n=i==r?i>3?3:i>2?2:i<2||2==i?1:3:r>8?6:r>4?5:4}else if(5==t.getBorderStyle()){n=t.getCloudIntensity()+6}return n},t.prototype.setBorderStyle=function(t){var e=void 0,n=1;switch(t+""){case"0":e=[],n=0;break;case"1":e=[2,2,2,2];break;case"2":e=[3,3,3,3];break;case"3":e=[4,4,4,4];break;case"4":e=[4,3,2,3];break;case"5":e=[8,4,4,4];break;case"6":e=[4,3,16,3];break;case"7":e=1,n=5;break;case"8":e=2,n=5}this.viewerComponent.setBorderStyle(n,e)},t.prototype._getComponnet=function(t){return this.dialog.getComponentByName("annot-property-"+t)},t.prototype.destroy=function(){this.dialog.destroy()},t}();e.default=l},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=/macintosh|mac os x/i.test(navigator.userAgent);e.default=(i(o={},r.KEY_MAP_OPEN_SIDEBAR,a?"Meta+Right":"Ctrl+Right"),i(o,r.KEY_MAP_CLOSE_SIDEBAR,a?"Meta+Left":"Ctrl+Left"),i(o,r.KEY_MAP_OPEN_QUICK_SEARCH,a?"Meta+F":"Ctrl+F"),o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(n(16)),r=n(5),i=h(n(219)),a=h(n(217));n(1492);var s=h(n(121)),u=h(n(804)),c=h(n(803)),l=(h(n(9)),h(n(800))),f=h(n(798)),p=(h(n(209)),n(29),h(n(6))),d=h(n(796));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=void 0,b=(p.default.getLogger("<viewer>"),function(t){function e(){g(this,e);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=m(this,t.call.apply(t,[this].concat(o)));return a.name=r.WEBPDF_VIEWER_COMPONENT_NAME,a.annotMap={},a.activePropertiesDialog=null,a.viewerComponents=[],a}return y(e,t),e.getName=function(){return"viewer"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.viewerElement=document.createElement("div"),this.element.appendChild(this.viewerElement),this.element.classList.add("fv__ui-pdfviewer")},e.prototype.initPDFViewer=function(t){var e=t.customs||{},n=this.element;e.ScrollWrap||(e.ScrollWrap=function(t){function e(n){return g(this,e),m(this,t.call(this,n))}return y(e,t),e.prototype.getScrollHost=function(){return n},e.prototype.scrollBy=function(t,e){n.scrollBy?n.scrollBy(t,e):(n.scrollLeft=n.scrollLeft+t,n.scrollTop=n.scrollTop+e)},e.prototype.scrollTo=function(t,e){n.scrollTo?n.scrollTo(t,e):(n.scrollLeft=t,n.scrollTop=e)},e.prototype.getScrollTop=function(){return n.scrollTop},e.prototype.getScrollLeft=function(){return n.scrollLeft},e.prototype.getWidth=function(){return n.offsetWidth-30},e.prototype.getHeight=function(){return n.offsetHeight},e.prototype.addScrollEventListener=function(e){return t.prototype.addScrollEventListener.call(this,e)},e}(a.default)),t.customs=e,t.viewerUI=new d.default(this.getRoot()),this.viewer=new i.default(this.prepareViewerOptions(t));var o=this.viewer.keyboard;for(var p in o.addEventBinder(new s.default(document.body,r.PDFUI_BINDER,0)),u.default)o.setCommandBinder(p,r.PDFUI_BINDER),o.registerKeybinding(p,u.default[p]);var h=new c.default(this.pdfUI),v=new l.default(this.pdfUI),b=new f.default(this.pdfUI);this.viewer.registerMatchRule(this.createAnnotMatcherRule(h,v,b,this.pdfUI)),this.viewerComponents.push(h,v,b),this.viewer.activePropertiesDialog=h,this.addDestroyHook(function(){h.destroy(),v.destroy(),b.destroy()})},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===r.COMPONENT_BROADCAST_LOCALIZE&&this.viewerComponents.forEach(function(t){return t.localize()})},e.prototype.prepareViewerOptions=function(t){var e=t.i18nOptions;e||(e={});var n=e.initOption;return n||(e.initOption=n={}),n.fallbackLng||(n.fallbackLng=this.pdfUI.i18n.options.fallbackLng),e.fallbackLng="en-US",t.i18nOptions=e,t},e.prototype.createAnnotMatcherRule=function(t,e,n,o){var r=this.annotMap;return function(i,a){var s=i.getType();if("widget"===s||"popup"===s||"psink"===s)return a;var u=i.getIntent&&i.getIntent()||"default";if(r[s]&&r[s][u])return r[s][u];var c=function(r){function i(){return g(this,i),m(this,r.apply(this,arguments))}return y(i,r),i.prototype.active=function(){t.isOpened()&&(clearTimeout(v),t.show(),this.showPropertiesDialog()),r.prototype.active.call(this)},i.prototype.unActive=function(){r.prototype.unActive.call(this),t.isOpened()&&(v=setTimeout(function(){t.hide()},100))},i.prototype.showPropertiesDialog=function(e,n,o){t.show(o).setViewerComponent(this)},i.prototype.hidePropertiesDialog=function(){t.hide()},i.prototype.showActionsDialog=function(){e.setAnnot(this).show()},i.prototype.hideActionsDialog=function(){e.hide()},i.prototype.showPlaceMarkDialog=function(t,e,o){n.setAnnot(this).show(o)},i.prototype.hidePlaceMarkDialog=function(){n.hide()},i.prototype.showReplyDialog=function(t){var e=this;"function"==typeof o.customShowReplyDialogHandler&&"freetext"!=this.annot.getType()?o.customShowReplyDialogHandler(this,t,function(){r.prototype.showReplyDialog.call(e,t)}):r.prototype.showReplyDialog.call(this,t)},i}(a);return r[s]=r[s]||{},r[s][u]=c}},e.prototype.getPDFViewer=function(){return this.viewer},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.viewer.init(this.viewerElement),this.addDestroyHook(function(){e.viewer.close()})},e}(o.default));e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(85)),r=i(n(191));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,i,a,s,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return l.input=n,l.template=u,l.range=new r.default(i,a,s),l.value=l.range.min,l.prepare(),l.eventEmitter=new o.default,l.localizer=c,l}return a(e,t),e.prototype.disable=function(){this.input.setAttribute("editable","editable")},e.prototype.enable=function(){this.input.removeAttribute("editable")},e.prototype.setValue=function(t){var e=this.range;this.value=e.normalizeValue(t);var n={value:this.value,min:e.min,max:e.max,step:e.step};if("function"==typeof this.template)this.input.setAttribute("data-i18n","[value]"+this.template.call(this,t));else{var o=(this.template+"").replace(/\$\{(.*?)\}/g,function(t,e){return n[e]||""});this.input.setAttribute("data-i18n","[value]"+o)}this.localizer.localizeElement(this.input)},e.prototype.setTemplate=function(t){this.template=t,this.setValue(this.value)},e.prototype.getValue=function(){return this.value},e.prototype.prepare=function(){var t=this,e=this.input,n=function(){var n=t.range.normalizeValue(e.value.trim()||t.value),o=t.value;t.setValue(n),o!==t.value&&t.eventEmitter.emit("change",t.value,o)};e.addEventListener("change",n),this.addDestroyHook(function(){e.removeEventListener("change",n),t.eventEmitter.removeAllListeners()})},e}(i(n(89)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(16)),r=(a(n(192)),a(n(119)),a(n(108))),i=a(n(806));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.text=n.text||i.attrs.text,i.iconCls=n.iconCls||i.viewConfig.attrs["icon-class"],i.editable=!0===n.editable,i.editOptions=n.editOptions||{},i.separate=n.separate,i.editType=i.editOptions.type||"text",i.editTemplate=i.editOptions.template||"${value}",i.editMin=i.editOptions.min,i.editMax=i.editOptions.max,i.editStep=i.editOptions.step,i.initEditValue=i.editOptions.value||("number"===i.editType?i.editMin:""),i}return s(e,t),e.getName=function(){return"dropdown-toggler"},e.prototype.createDOMElement=function(){return document.createElement("a")},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.classList.add("fv__ui-dropdown-toggler");var n=document.createElement("i"),o=document.createElement("span"),r=document.createElement("input"),a=document.createElement("i");n.classList.add("fv__ui-dropdown-icon"),a.classList.add("fv__ui-dropdown-caret","fv__icon-toolbar-caret"),r.classList.add("fv__ui-dropdown-editor"),o.classList.add("fv__ui-dropdown-toggler-text"),this.iconCls&&(n.addClass(this.iconCls),this.element.appendChild(n)),this.editable?(r.setAttribute("autocomplete","off"),"number"===this.editType&&(this.numberInput=new i.default(r,this.editMin,this.editMax,this.editStep,this.editTemplate,this.localizer),this.addDestroyHook(function(){return e.numberInput.destroy()})),this.element.appendChild(r)):this.text&&(o.setAttribute("data-i18n",this.text),this.element.appendChild(o)),this.element.appendChild(a),this.iconElement=n,this.textElement=o,this.editElement=r,this.caretElement=a,this.editable&&this.setEditValue(this.initEditValue)},e.prototype.getEditValue=function(){return this.numberInput?this.numberInput.getValue():this.editElement.value},e.prototype.setEditValue=function(t){this.numberInput?this.numberInput.setValue(t):this.editElement.value=t},e.prototype.setEditTemplate=function(t){this.numberInput&&this.numberInput.setTemplate(t)},e.prototype.setMaxValue=function(t){this.numberInput&&(this.numberInput.range.max=t,this.setEditValue(this.numberInput.value))},e.prototype.setMinValue=function(t){this.numberInput&&(this.numberInput.range.min=t,this.setEditValue(this.numberInput.value))},e.prototype.select=function(t){this.selectedItem&&this.iconElement.classList.remove(this.selectedItem.iconCls),this.selectedItem=t,this.setIconCls(t.iconCls),t.text&&this.setText(t.text)},e.prototype.setText=function(t){this.editable||(this.textElement.parentElement||this.element.insertBefore(this.textElement,this.caretElement),this.textElement.setAttribute("data-i18n",t),this.localizer.localizeElement(this.textElement))},e.prototype.setIconCls=function(t){if(t&&(this.iconElement.removeClass(this.iconCls),this.iconElement.addClass(t),this.iconCls=t,!this.iconElement.parentElement)){var e=this.element.firstElementChild;this.element.insertBefore(this.iconElement,e)}},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){return t.stopPropagation()},o=function(t){e.disabled||(e.parent.isActive?e.parent.deactive():e.parent.active(),t.stopPropagation())},i=function(t){e.disabled||(e.selectedItem&&e.separate?(e.selectedItem.triggerHandler(),t.stopPropagation()):e.parent.isActive?e.parent.deactive():e.parent.active())},a=function(t){(e.parent.parent?e.parent.parent.parent:void 0)instanceof r.default&&t.stopPropagation()},s=function(t){e.parent.isActive&&t.stopPropagation()};if(this.caretElement.addEventListener("click",o),this.caretElement.addEventListener("mouseup",s),this.element.addEventListener("click",i),this.element.addEventListener("mouseup",a),this.editElement.addEventListener("click",n),this.editable){var u=this.editElement.value,c=function(t){var n=e.editElement.value;e.parent.trigger("change",u,n),u=n};this.editElement.addEventListener("change",c),this.addDestroyHook(function(){e.editElement.removeEventListener("change",c)})}this.addDestroyHook(function(){e.caretElement.removeEventListener("click",o),e.caretElement.removeEventListener("mouseup",s),e.element.removeEventListener("click",i),e.element.removeEventListener("mouseup",a),e.editElement.removeEventListener("click",n)}),this.numberInput&&this.numberInput.eventEmitter.on("change",function(t,n){e.parent.trigger("change",t,n)})},e.prototype.doDisable=function(){this.element.classList.add("disabled"),this.editElement.setAttribute("readonly","readonly"),this.numberInput&&this.numberInput.disable()},e.prototype.doEnable=function(){this.element.classList.remove("disabled"),this.editElement.removeAttribute("readonly"),this.numberInput&&this.numberInput.enable()},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.filterByName=function(t){return function(e){return e.name===t}};var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$children=[]}return t.prototype.size=function(){return this.$children.length},t.prototype.append=function(t){return this.insert(t,this.size())},t.prototype.prepend=function(t){return this.insert(t,0)},t.prototype.insert=function(t,e){this.$children.splice(e,0,t)},t.prototype.insertAll=function(t,e){var n;(n=this.$children).splice.apply(n,[e,t.length].concat(o(t)));for(var r=e,i=e+t.length,a=0;a<r;a++){t.indexOf(this.$children[a])>-1&&(this.$children.splice($1,1),r--,i--)}for(var s=i;s<this.$children.length;s++){t.indexOf(this.$children[s])>-1&&this.$children.splice($1,1)}},t.prototype.indexOf=function(t){return this.$children.indexOf(t)},t.prototype.children=function(){return[].concat(o(this.$children))},t.prototype.removeChild=function(t){var e=this.$children.indexOf(t);return e>-1&&(this.$children.splice(e,1),!0)},t.prototype.find=function(t){return this.$children.filter(t)},t.prototype.findFirst=function(t){var e=!0,n=!1,o=void 0;try{for(var r,i=this.$children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;if(t(a))return a}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}},t.prototype.childAt=function(t){return this.$children[t]},t.prototype.each=function(t){this.$children.slice(0).forEach(t)},t.prototype.map=function(t){return this.$children.map(t)},t.prototype.eachUntil=function(t){for(var e=0;e<this.$children.length;e++){var n=t(this.$children[e],e);if(n)return n}},t.prototype.empty=function(){this.$children=[]},t}();e.default=r},function(t,e,n){"use strict";var o=function(t){return t&&t.__esModule?t:{default:t}}(n(7));n(317);var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(760));var i=o.default.root().getRegistry();for(var a in r)i.registerComponent(r[a])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AUTO=void 0;var o=i(n(82)),r=i(n(326));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=e.AUTO="auto",u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.cols,r=void 0===o?s:o,i=n.gaph,a=void 0===i?"no":i,u=n.gapv,c=void 0===u?"no":u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return l.cols=r,l.gapv=c,l.gaph=a,l}return a(e,t),e.getName=function(){return"grid"},e.prototype.render=function(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,r.default)()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(82)),r=n(5);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.orientation,i=void 0===o?r.ORIENTATION_HORIZONTAL:o,a=n.spaces,s=void 0===a?[]:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.orientation=i,u.spaces=s,u}return i(e,t),e.getName=function(){return"border"},e.prototype.render=function(t,e){if(t&&!(t.length<1)){var n=this.spaces;n&&0!=n.length||(n=this.elements.map(function(t){return 1}));var o=document.createElement("div");o.classList.add("fv__layout-border",this.orientation);var r=t.map(function(t,e){var o=document.createElement("div");o.classList.add("fv__layout-border-item");var r=n[e]||n[e%n.length];return o.style.flex=r,o.style.webkitFlex=r,o.style.msFlex=r,o.appendChild(t),o});o.append.apply(o,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r)),e.appendChild(o)}},e}(o.default);e.default=a},function(t,e,n){"use strict";var o=s(n(7)),r=s(n(811)),i=s(n(318)),a=s(n(810));function s(t){return t&&t.__esModule?t:{default:t}}var u=o.default.root().getRegistry();u.registerLayout(r.default),u.registerLayout(i.default),u.registerLayout(a.default)},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.directives=o,r.addDestroyHook(function(){r.directives.forEach(function(t){return t.destroy()})}),r}return o(e,t),e.getName=function(){return"<native-multiple>"},e.prototype.processComponentOptions=function(t){this.directives.forEach(function(e){return e.processComponentOptions(t)})},e.prototype.init=function(e){e.setDirective(this),t.prototype.init.call(this,e),this.directives.forEach(function(t){t.init(e),e.element.classList&&e.element.classList.add("fv__ui-directive-"+t.directiveName)})},e.prototype.beforeComponentRender=function(){this.directives.forEach(function(t){return t.beforeComponentRender()})},e.prototype.afterComponentRender=function(){this.directives.forEach(function(t){return t.afterComponentRender()})},e.prototype.componentPrelink=function(){this.directives.forEach(function(t){return t.componentPrelink()})},e.prototype.componentPostlink=function(){this.directives.forEach(function(t){return t.componentPostlink()})},e.prototype.componentMounted=function(){this.directives.forEach(function(t){return t.componentMounted()})},e.prototype.componentDestroyed=function(){this.directives.forEach(function(t){return t.componentDestroyed()}),this.destroy()},e.prototype.getDirective=function(t){return this.getDirectives(t)[0]},e.prototype.getDirectives=function(t){return this.directives.filter(function(e){return e.directiveName===t})},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{}));return o.selectors=n,o}return o(e,t),e.prototype.selectFrom=function(t){return this.selectors.reduce(function(t,e,n){return t.length<1?t:e.selectFrom(t,0===n)},t)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(63)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(63)),r=a(n(25)),i=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.prototype.selectFrom=function(t){return t.reduce(function(t,e){return e instanceof r.default?t.concat(e.children):e instanceof i.default&&e.isContainer()?t.concat(e.children()):t},[])},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.prototype.selectFrom=function(t){return t.map(function(t){return t.getRoot()}).reduce(function(t,e){return-1===t.indexOf(e)&&t.push(e),t},[])},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(63)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return o(e,t),e.prototype.selectFrom=function(e,n){return n?t.prototype.selectFrom.call(this,e,n):e},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(319)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(63)),r=s(n(6)),i=s(n(25)),a=s(n(16));s(n(196));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("method-selector");var c={eq:function(t,e){var n=parseInt(e);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: "+e);return n>=t.length?[]:[t[n]]},childAt:function(t,e){var n=parseInt(e);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: "+e);return t.map(function(t){return t instanceof i.default?t.childAt(n):t instanceof a.default&&t.isContainer()?t.childAt(n):void 0})},parent:function(t,e){return t.map(function(t){return t.parent})},first:function(t){return t.map(function(t){return t.first()})},last:function(t){return t.map(function(t){return t.last()})},allAfter:function(t){return t.reduce(function(t,e){var n=e.brothers(),o=n.indexOf(e);return t.concat(n.slice(o+1))},[]).reduce(function(t,e){return-1===t.indexOf(e)&&t.push(e),t},[])},allBefore:function(t){return t.reduce(function(t,e){var n=e.brothers(),o=n.indexOf(e);return t.concat(n.slice(0,o))},[]).reduce(function(t,e){return-1===t.indexOf(e)&&t.push(e),t},[])}},l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));if(o.name=n.name,o.params=n.parameter,o.selector=c[o.name],!o.selector)throw new Error("Invalid selector: method not found: "+n.name);return o}return u(e,t),e.prototype.selectFrom=function(t){return this.selector(t,this.params).filter(function(t){return!!t})},e}(o.default);e.default=l},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(63)),i=s(n(25)),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=(c(o={},"^=",function(t,e){return 0===e.indexOf(t)}),c(o,"=",function(t,e){return t==e+""}),c(o,"*=",function(t,e){return new RegExp(function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t)).test(e)}),c(o,"!=",function(t,e){return t!==e}),c(o,"|=",function(t,e){return e.split("-").indexOf(t)>-1}),c(o,"$=",function(t,e){return t.length<=e.length&&e.slice(e.length-t.length)===t}),o),f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.key=n.key,o.value=n.value,o.matcher=l[n.compare],o}return u(e,t),e.prototype.selectFrom=function(t,e){var n=this;return e?this.selectDeeply(t):t.filter(function(t){if(n.value){if(t instanceof i.default)return n.isNodeValueMatch(t);if(t instanceof a.default)return n.isComponentValueMatch(t)}else{if(t instanceof i.default)return n.isNodeContains(t);if(t instanceof a.default)return n.isComponentContains(t)}return!1})},e.prototype.selectDeeply=function(t){var e=this;return t.reduce(function(t,n){if(e.value){if(n instanceof i.default)return t.concat(n.findChildren(function(t){return e.isNodeValueMatch(t)}));if(n instanceof a.default)return t.concat(n.findChildren(function(t){return e.isComponentValueMatch(t)}))}else{if(n instanceof i.default)return t.concat(n.findChildren(function(t){return e.isNodeContains(t)}));if(n instanceof a.default)return t.concat(n.findChildren(function(t){return e.isComponentContains(t)}))}return t},[])},e.prototype.isMatch=function(t){return this.matcher.call(null,this.value,t)},e.prototype.isNodeContains=function(t){return this.key in t.attrs},e.prototype.isComponentContains=function(t){return this.key in t||this.key in t.attrs},e.prototype.isNodeValueMatch=function(t){return this.isMatch(t.attrs[this.key])},e.prototype.isComponentValueMatch=function(t){return this.isMatch(t[this.key])||this.isMatch(t.attrs[this.key])},e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(63)),r=i(n(25));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.type=n.type,o}return a(e,t),e.prototype.selectFrom=function(t,e){var n=this,o=function(t){return t.nodeName===n.type},i=function(t){var e=t.constructor.getName();return"{native}"===e?t.element.nodeName.toLowerCase()===n.type:e===n.type};return e?t.reduce(function(t,e){return e instanceof r.default?t.concat(e.findChildren(o,!1)):t.concat(e.findChildren(i,!1))},[]):t.filter(function(t){return t instanceof r.default?o(t):i(t)})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(63)),r=i(n(25));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.name=n.name,o}return a(e,t),e.prototype.selectFrom=function(t,e){var n=this;return e?t.reduce(function(t,e){return e instanceof r.default?t.concat(e.findChildren(function(t){return t.attrs.name===n.name})):t.concat(e.findChildren(function(t){return t.name===n.name}))},[]):t.filter(function(t){return t instanceof r.default?t.attrs.name===n.name:t.name===n.name})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(319)),r=f(n(821)),i=f(n(820)),a=f(n(819)),s=f(n(818)),u=f(n(817)),c=f(n(816)),l=f(n(815));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.create=function(t,e){switch(t){case"whitespace":return new o.default(e);case"name":return new r.default(e);case"type":return new i.default(e);case"attribute":return new a.default(e);case"method":return new s.default(e);case"all":return new u.default(e);case"dchildren":return new l.default(e);case"root":return new c.default(e);default:throw new Error("Unsupported selector: "+t)}},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.whitespace=function(t){var e=o.rWhitespace.exec(t);if(e)return{type:"whitespace",token:e[0],step:e[0].length}},e.dchildren=function(t){var e=o.rDirectlyChildren.exec(t);if(e)return{type:"dchildren",token:e[0],step:e[0].length}},e.type=function(t){var e=o.rType.exec(t);if(e)return{type:"type",token:e[0],options:{type:e[1]},step:e[0].length}},e.name=function(t){var e=o.rName.exec(t);if(e)return{type:"name",token:e[0],options:{name:e[0]},step:e[0].length}},e.attribute=function(t){var e=o.rAttribute.exec(t);if(e)return{type:"attribute",token:e[0],options:{key:e[1],compare:e[2],value:e[3]||e[4]||e[5]},step:e[0].length}},e.method=function(t){var e=o.rMethods.exec(t);if(e)return{type:"method",token:e[0],options:{name:e[1],parameter:e[3]||e[4]||e[5]},step:e[0].length}},e.all=function(t){if("*"===t[0])return{type:"all",token:"*",options:{},step:1}},e.root=function(t){var e=o.rRoot.exec(t);if(e)return{type:"root",token:e[0],options:{},step:e[0].length}};var o=n(320)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(823),r=n(320);var i=[o.all,o.dchildren,o.whitespace,o.name,o.type,o.attribute,o.method,o.root],a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.tokenize=function(t){for(var e=t.replace(r.rTrim,"$1"),n=[];e.length>0;){var o=!1,a=!0,s=!1,u=void 0;try{for(var c,l=i[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=(0,c.value)(e);f&&(o=!0,e=e.substring(f.token.length),n.push(f))}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}if(!o)throw new Error("'"+t+"' is not a valid selector: at "+(t.length-e.length))}return n},t}();e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,null));return o.selectors=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n)),o}return o(e,t),e.prototype.selectFrom=function(t){return this.selectors.reduce(function(e,n){return n.selectFrom(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e},[])},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(63)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{}));return o.component=n,o}return o(e,t),e.getName=function(){return"<native-noop>"},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(10)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.callbackfn=o,r}return o(e,t),e.getName=function(){return"CallbackController"},e.prototype.handle=function(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=this.callbackfn).call.apply(t,[this].concat(n))},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(4)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(41));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.subject=n,r.part=o,r.destinations=[],r.preValue=void 0,r.prepare(),r}return i(e,t),e.prototype.prepare=function(){(0,o.default)()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.disconnectAll()},e.prototype.notify=function(t,e){var n=this;this.isFreezed||(this.preValue=t,this.destinations.forEach(function(o){return o.receive(t,e,n)}))},e.prototype.connect=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.destinations.push(t),n&&t.receive(this.preValue,this.preValue,this),function(){var n=e.destinations.indexOf(t);n>-1&&(e.destinations.splice(n,1),t.lost(e))}},e.prototype.freeze=function(){var t=this;return this.isFreezed=!0,function(){t.isFreezed=!1}},e.prototype.disconnectAll=function(){var t=this;this.destinations.forEach(function(e){return e.lost(t)}),this.destinations=[]},e}(r(n(89)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(4)),r=s(n(827)),i=s(n(119)),a=s(n(118));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.newControllerInstance=function(t,e){if("function"==typeof t)return a.default.isSubClassOf(t,o.default)?new t(e):new r.default(e,t);if(t instanceof o.default){var n=Object.create(t),s=["mounted","prelink","postlink","destroy","uninstall"].reduce(function(t,e){return t[e]=i.default.prototype[e],t},{});return Object.assign(n,s),n.component=e,n}return new i.default(e)},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(16));var o=n(5),r=(i(n(144)),i(n(82)),i(n(4)),i(n(322)));i(n(118));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.module=e,this.controllers={},this.components={},this.directives={},this.layouts={},this.fragments={}}return t.prototype.registerDirective=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getName().toLowerCase();if(this.directives[n]&&!e)throw new Error("Duplicated directive name "+n);this.directives[n]=t},t.prototype.getDirectiveClass=function(t){t=t.toLowerCase();var e=this.directives[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getDirectiveClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerController=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getName();if(this.controllers[n]!==t){if(this.controllers[n]&&!e)throw new Error("Duplicated controller class name: "+n);this.controllers[n]=t}},t.prototype.getControllerClass=function(t){var e=this.controllers[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getControllerClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerComponent=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getName().toLowerCase();if(this.components[n]&&!e)throw new Error("Duplicated component name '"+n+"', component names must be unique and case-insensitive");t.$metadata=new r.default(t),this.components[n]=t;var i=this.module.name;if(i.length>0){var a=""+i+o.NAMESPACE_SEPERATOR+n;document.createElement(a),document.createElementNS("http://www.w3.org/1999/xhtml",a)}else document.createElement(n)},t.prototype.getComponentClass=function(t){t=t.toLowerCase();var e=this.components[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getComponentClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerLayout=function(t){var e=t.getName().toLowerCase();this.layouts[e]=t},t.prototype.getLayoutClass=function(t){t=t.toLowerCase();var e=this.layouts[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getLayoutClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerFragment=function(t,e){if(t=t.toLowerCase(),!!this.getComponentClass(t))throw new Error("conflict: a component names "+t+" is already exists.");if(this.fragments[t])throw new Error("Duplicate fragment name: "+t);this.fragments[t]=e},t.prototype.getFragment=function(t){t=t.toLowerCase();var e=this.fragments[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getFragment(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t}();e.default=a},function(t,e){t.exports="data:font/ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJAb0wIAAABjAAAAFZjbWFwiwju8gAAAggAAAHSZ2x5Zqn+hr8AAAPwAAAGFGhlYWQR9NnXAAAA4AAAADZoaGVhB78DyAAAALwAAAAkaG10eCAA//oAAAHkAAAAJGxvY2EGngfoAAAD3AAAABRtYXhwARoAjgAAARgAAAAgbmFtZaFDcxYAAAoEAAACjnBvc3Q5s/mjAAAMlAAAAGMAAQAAA8D/wAAABAD/+v/+BAIAAQAAAAAAAAAAAAAAAAAAAAkAAQAAAAEAAPl3r+hfDzz1AAsEAAAAAADXbMqtAAAAANdsyq3/+v/ABAIDwAAAAAgAAgAAAAAAAAABAAAACQCCAAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDjgGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOoB6ggDwP/AAFwDwABAAAAAAQAAAAAAAAAAAAAEAAAABAAAAAQA//oEAAAABAAAAAQAAAAEAAAABAAAAAAAAAUAAAADAAAALAAAAAQAAAFiAAEAAAAAAFwAAwABAAAALAADAAoAAAFiAAQAMAAAAAQABAABAADqCP//AADqAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAABwAAAAAAAAAAgAAOoBAADqAQAAAAEAAOoCAADqAgAAAAIAAOoDAADqAwAAAAMAAOoEAADqBAAAAAQAAOoFAADqBQAAAAUAAOoGAADqBgAAAAYAAOoHAADqBwAAAAcAAOoIAADqCAAAAAgAAAAAAAAAMgCMAVYB1gJIAnwCzgMKAAEAAAAAA5MDdwAjAAABFRQGKwEVFAYrASImPQEjIiY9ATQ2OwE1NDY7ATIWHQEzMhYDkiAX7SAXbhcg7RcgIBftIBduFyDtFyACG20XIO4XICAX7iAXbRcg7hcgIBfuIAAAAAAFAAD/wAQAA8AAHwAiACUAMwA8AAABMhYVERQGIyEiJj0BISImNRE0Nj8BPgE7ATIWHQE2Mw8BMwEHMxc3NSMVFAYrAREhNTQ2AREjFRQGKwERA8kXICAX/dwXIP7JFyAXEOkQNxftFyAnIkmrq/6Tq6twtNsgF+4BJRcCMtwgFu4C5SAX/UkXICAXpCAXAYAXNxDpEBcgF7sXeqsBhqvGtO7uFyD+k5IXN/5EApLtFyD+kgAH//oAAAQCAy4ACABLAFkAZwByAHsAgQAAATIWFAYiJjQ2FwUWBg8BBiInJQcGBxYHDgEHBiMiJyY3PgE3NjMyFzY/AScmJwYjIicuAScmNjc2MzIXHgEXFgcyHwElNjIfAR4BBwU2JicmIyIHBhYXFjMyAz4BJyYjIgcOARcWMzITFzU0PwEnBwYPAR8BAScFFQcfAQU3JQcGBwIlDhYWHRYWugEiEAURSQgSCP51PwQCCAMEOC9MUk4xNAcEOC5MUzAnBQdGRgcFJzBTTC44BAMXGTBPUkwvOAQDCAIEPwGLCBIISREFEP1ZGhwvNDkrFhocLzQ5KxsvHBoWKzk0LxwaFis5mjcTCC0VBAMEezcBpEn+SVsJHAHtSf7XZQEGAcAWHRYWHRYl4wspCSUEBd0mAgEcGyxRHjAtMEYrUh4wEggFKSoFCBIwHlEsIj0XLTAeUSwcHAIm3QUEJQkpC08YSx4hFBhMHSL+ax1MGBQhHUwYFAGAIgcUDAQbFQUCA4UTAUkl9kE3CBy3JOpPAgIAAAUAAAAAA5MDdwAPAB8ALwA3AFsAACURNCYrASIGFREUFjsBMjY3ETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNgEhJyYnIwYHBRUUBisBERQGIyEiJjURIyImPQE0NjsBNz4BOwEyFh8BMzIWAZIKCCUICgoIJQgKkwsIJAgLCwgkCAuSCgglCAoKCCUICv7JAQAbBAa1BgQB9goINzYl/iQlNjcICgoIsSgILRe2Fy0IKLEICq4BkggKCgj+bggLCwgBkggKCgj+bggLCwgBkggKCgj+bggLCwI/QgYBAQZVJAgL/eMwRUMvAiALCCQIC18VHh4VXwsAAAAFAAAAAAP8A3cABgAPADkAPgBIAAABNycHFTMVASYPAQYWPwE2ExUUBiMhIiY1ETQ2MyEyFx4BDwEGJyYjISIGFREUFjMhMjY9ATQ/ATYWAxcBIzUBByc3NjIfARYUAftDV0I2ARwJCsgKEwnICiVhRP4lRGFhRAHbJB8IBAccCAoNDf4lJjY2JgHbJjUGJAkXN6T+gKQCfTSlNRAuEFYQARtDV0MgNwGcCQrICRMKyAr+tWxEYWFEAdtEYQ4EEwccCAMENib+JSY2NiZIBwUlCQoBmqT+gKQBNTWlNBAQVxAtAAABAAD/0gPuA6kAIQAAARQOAiIuAjU0PgE3FQ4BFRQeAjI+AjU0Jic1HgID7k+Etsq2hE9vwHZ+pzthiJSIYTunfnbAbwHAZbaET0+EtmV61IkSgxnKg0qIYTs7YYhKg8oZgxKJ1AAAAAQAAP/ABAADwAAIABgAGwA3AAAlIREjIiY9ASM3NTQmIyEiBh0BFBYzITI2EzMnBREUBiMhIiY9ASEiJjURNDYzITIWHQEWHwEeAQG3AgDuFyDbkgsH/m4ICwsIAZIHC5KrqwElIBf93Bcg/skXICAXAm4WIAwJ6RAXCQFuIBftpSUHCwsHJQcLC/6Hq/T+gBcgIBdbIBcDABcgIBe7CAjpEDcAAQAAAAADVALvACQAACUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYDUxBNEC4QqKgQLhBNEBCoqBAQTRAuEKioEC4QTRAQqKgQzRcQThAQqKgQEE4QLRCoqBAuEE4QEKioEBBOEC4QqKgQAAAAAAAQAMYAAQAAAAAAAQASAAAAAQAAAAAAAgAHABIAAQAAAAAAAwASABkAAQAAAAAABAASACsAAQAAAAAABQALAD0AAQAAAAAABgASAEgAAQAAAAAACgArAFoAAQAAAAAACwATAIUAAwABBAkAAQAkAJgAAwABBAkAAgAOALwAAwABBAkAAwAkAMoAAwABBAkABAAkAO4AAwABBAkABQAWARIAAwABBAkABgAkASgAAwABBAkACgBWAUwAAwABBAkACwAmAaJjb250ZXh0LW1lbnUtaWNvbnNSZWd1bGFyY29udGV4dC1tZW51LWljb25zY29udGV4dC1tZW51LWljb25zVmVyc2lvbiAxLjBjb250ZXh0LW1lbnUtaWNvbnNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkBAgEDAQQBBQEGAQcBCAEJAQoAA2FkZARjb3B5A2N1dAZkZWxldGUEZWRpdAdsb2FkaW5nBXBhc3RlBHF1aXQAAAA="},function(t,e){t.exports="data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAiEAAsAAAAADPgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAb0wIY21hcAAAAYgAAABuAAAB0osI7vJnbHlmAAAB+AAABGMAAAYUqf6Gv2hlYWQAAAZcAAAAMQAAADYR9NnXaGhlYQAABpAAAAAgAAAAJAe/A8hobXR4AAAGsAAAABUAAAAkIAD/+mxvY2EAAAbIAAAAFAAAABQGngfobWF4cAAABtwAAAAfAAAAIAEaAI5uYW1lAAAG/AAAATwAAAKOoUNzFnBvc3QAAAg4AAAATAAAAGM5s/mjeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGTuY5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwOrxhfcTAf+H+AIYb5AIMDUJgRJAcAElcM+QB4nO2R0Q2EQAhE37q4EmMpflxB92UFV/c24TFgGZK8mTAhfACwAj04A4N20VB9I22Zd/bMjU/OmPLp9x3apNFb6hKzFhsHGx7B4K0j9fd0rpsVecWlQN4LfWNaobvOtdCn5iiQbwVyL/A/vZIXbwAAeJyFVEtoXFUYPv99z0w7uZOZuSfpvO487r2N6Tycx70JsQk2MXTaaUITNZQsyiyCCzUVwQotlkiqtribuCouE1oZEAptCnYzK2kDbqTgIu2quFDIuJEu1Nz6n7lJWgriXfznf5zzP8757keA4Mev8Z+SLCEQjUjDnsiYxyHLRNUegxoTZS0BlbLGt3S6o9Nlqu9Q/SWVi31I9S5zdXX6QmXpRUKedwTCd0iKZIhBKuQNrFXWoqGIlE2zIihqoao9AePgFbIrfVABuUKdWrbXTyiNTUBoz+Afsuy7j6nuokbV31SHYg9Wpt5uu2vt9kd3trE4GJQrP9a1Lvcrbq6zI+s6hRXq4AE8dp9easOX7R/vdLFZd61FHXeKa2Eet0Xk538RInB8gSjkNDlH3iMfk8vk817fESljVm0qalIfSBnLkCVZk4MgS9mMZTrj4NiVMsVhLNNirgIqds+XBKrJ5RQYNookyKJtWmY2I0sa1Splfhx6VhCYFaa1KqaQsUYKwBKjcgpEh9XijKCmJTTtB8ioYqiu9CvuJxMCp/DCSLExN/N6VRZGCo35kiXK09OyaJXmG4URgaeDpdm5RhE1hRMm4Gs8Vw+J6u65I/FidXRY85ZYMX5EGx6tessNJ6zkowIvXHZgve7WF31x2Km7vyyBBB3WQ0IzngaGfIYgPjE5iMeOnU2W8qXp4blkqV8Rh14Tlf5S8uyxzHGaZ2s8zplPRMHwDQVmB04n05GBRiLjvp9oDETSTMBKRo4cEmJRkeO/CEPdePamo8Tv5X6f5bgejvaw2odIKhKHLBJihKomwlVCMGmIHdv5HxvS+CxZSRY9JHkIrIUOsO54EEwxrEPLrxiKvyfWAkpOCfTES173IZCYIN2VBHjmVxzbcHOG7bDg7aNKnm7SvHL0tuL/HlrM5y6zDP+hcxMnJADpHSyw+7T01mSR03vVzkeTyej5ANmf/x+cX8IbGCXj5CTi0bHkaCUKJmJRmwA7HN0fqWpX0gxzGEBcpb0rQJeNg+JGjaeQrYFsOQyNWgT+nlw4YUPc53/gD/se+I3mlGtMNZtTsJ1LKYIcV/yHD7uGadsmbJs1Keejzrq7ss59Vt2oqQX1XRVikwuTugPfYgpfGNO4dz/wEkw1g0IYM/CCbXopTsqi4fPDDZYBarWNqqouqHkcB7niZ77Lf0fSaESCXKbA1ar4T0WDSExJrjyOpmnVkhzfnb26ubV5dfZC5+KVm2PNa99ca47dvHKxcwE6S+jG6NKlR9f7Vwe3Vk9hCHecWt0aXO2//givUTjgJIUMkBhiiRhpDwVZByuw+0qAd1/hiiW+SlXoR5rS2G8M9ziCBLLdCsj7jyoHWu02GC8oSqfcsqYf8iHv+GAZaXPDkAMBmQn3q/af7grbsqhTnjDlvqIgoxGPm9/m/iA57C7CyKaILIPCZNTABHu6vffrQ9rg59Uz+BS3bqE4o7L1Vfsnqs54gRk17wUO7N5GQv4FV5EzGAB4nGNgZGBgAOKf5V0F8fw2Xxm4WRhA4HrOqbUw+v+v/wdYmJgPALkcDEwgUQB8HQ4aAAAAeJxjYGRgYD7w/wADAwvD/1///7EwMQBFUAAnAKWfBo54nGNgYGBggeP/v1hQ+BAMACzQAhoAAAAAAAAAADIAjAFWAdYCSAJ8As4DCnicY2BkYGDgZGhiYGcAASYg5gJCBob/YD4DABaQAakAeJyNjrtOwzAUhn/TC6KVECoSEpuHCiGhppexEmvLwNShA1uaOm2qJI4ct2ofgHdg5jmYGXgYnoE/xmKgS23p+DvfuSQArvAJgeoIdFyszhnOmf1yjXTruU5+8NxAG4+em/RPnlvsePHcxjVeuUHUL2i6ePN8hkt8eK7Rf3muk789N3AjOp6b6Ip7zy3MxbPnNu7Ee6Rzq/a2l6l820uYlTO12qahOS4cm7kyZaJzOQwGx8WpypUJrVrKxUGWu9XI2ljGRmdyUvWmqZaF0RsV2WBtbTHu92Pvg0hniKCRw0Jhz9hDRsqxJSW+VmJGt6JLEcKcNHFKz5zO8E1cLjFEgMFJk1PnqunQdS45vcCBscSOfzqitYiZx+zR3CEx+dub8mqawtU2NBF9gLWbKjBGnzf+1x+4r2c/1uR9/3icbcjLCoAgEAXQuT7TvxRnCEHSaFz09wVtO8tDhj6Z/iUYWDh4BERsSMhkC7OrY962Lg0sXVSccNPYR+F27H6W661zNSV6AHljD4A="},function(t,e){t.exports="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAaMAAsAAAAADPgAAAZAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCDUgqMFIoSATYCJAMkCxQABCAFhQ4HYxscCxEVpHmS/UyIN152kZu16qMlGKnO5MPjpr2fhGjrrMwkVJSKz4SJIxOrnzB12DycolOlUzU4lQRAt7ig67vmNOnL+lM26+jtuqftlAesT+BR87/7/erfMI+cHzk7ndAsFuIEu9seIj5ErXuFUDSZSIOSCTUCAuCtJR5WfgsIABEGNAfVtn0XEyJsJWOGoTYYCDMJYDcnts+rSsAfEsHE+BHwMWzImfQ35DtoAGo+dQnAt3od8hFZhGduaGgIR/aobFeOlh/IB54+ph7DADUZLcvLB4B9I9AAUtuTTEpDMweANiFVV2JYJgNDvGRo94FXVXwgqmgtpy4FGgw0t388DjxAWAgqDKcRlTzwgcgSuqaQQNNIoBkk0Bok0CwSaA4JNA9GJiCobWMA1AMojqRZEDxzYAg04FCaeTuKyA1pOkIQ2kRESAIbtb4NL3NCskZsLETRdfWTYd8giopdCRBid1RLkr9zIwCTdWBicQQKa0w7duqs/ovbWgclk0mqlLLMVlJGUyqcOHaO1DjSRjs36j+vBBzV5hLvEtnkUeJKu3i0C2suuVVwS1S6XbEuv1t8V3IW+nVWiy9un6hYDtypv2xnylHJad5/u97Cms4aXcv8yi+b1y7V2qrvFF0RlcQNtwsvS84+B+8mB0Sly75bSRslZ/+uxJGgK0r0aLXmjlWWITDVSCqxlpo82jLa4euZ8YCye5s7Eb/VHf9FeCOeKXq0JbB7RJGx3xLDlDtEIyo+Qhx+SbIuPpgkbX8ts3KMt8pqMUFClU9r8mwcj+S+SHoM7bgrhTv13oXaRE+czwvXiobrwM0Cdta18K/tZy4Xyegelt79KvPaJ9tvCa7KnVrEcfeuFXYa7Ldxdd41xHHHQsgqi6SnJ8NKHIWle4C2Uhbw95UsJdTUADdvOBK8pdq2S+2IK4uS4HMMMYPXKABvFCVwYeM6Q3WqLhiCYXJ8KEj/vnw0db0+wN4NkuPX5G/a23WVau/USl3qbQ5WNjZODASqbbOpN/z0zp2hh3m3CQ3Vu3SVmQddjxJ0jAsNg3w0wlxP/Ir9cqMXfxt5ozw6Zozy6HVm1OTk4vwewc4ZvbqFtWDbFeX3fGw/obehpEN5u8R2SeUdSgy9O2c8zu9R3Mg259/uvVYoePWUyVTma+XRmJjRRpk3/r2um79Op6ChMKW37tv5U2Zabc+nXZW/d0qhgW9dOL2E06aMvtA2p1HWpFmlq41Gec9vrfrlzT34aY+xSeL78m6kJ77f7OIX8nqZgha1WeTiXPxGXoaCArMFvudit89rjtqtcnvs7pH7m0n2bp9fz5DbVv9In9s6o2H+kV+22J4waMxl3R7d5TFG9Hauhr9rt25tsbRq3TAvv87ieQvPnl3QeL4S1kK5k63tkCFtH54hB0dnVR4c7zoZ/jDeHC9fpV28kTPlzPs8b+Hq1dOnr1kzJSeHK7VRVc0WFTR/fqyi2+6ZM3d3uyBRjVpXrJg07ObReWOjZ06tue78zE5Fc4cMmVvkWdM1Xcd1mumlQdEzI9ofnTfsJvbwGDZtdYMPv1+j5wKdpDLT43gXXb6fUB0IyL/YnwDcH4DrsLiMg3vnLoQ2yDVc1qldujYC1gtMY3ZQQrEQg+xYH0i76fHqYCg63S10/G8D9QYdojeSbaJ++J/uhffjlRGDI5v+xku/3ZK7tgubN/nq3+qxcpoeA8CD+joq/CvZncXY/o/6W0YKSQIuEfJM9W/GHY7IESBgBjhDARDFEkCFkB2FM+VmE8Sk9gMoK8YG2rRqgRinFKKBhGaERQyMREQK+p0vIRazQYMwAghkLFgRChE4RGjIuIAYpxDRII7EEBYySSQiLKTLdSRAHmSVooVx52zGJWX9YRXxiTZNIgQO4PuLL4bY0wJVXka8pMMFg2DUIP8QV1szGzCBZmjT3WuaCHygARXnjtk3RWHC3p0rmg+KFsadM8y4pAx9eHp8HtbfpkmE1EOOh++6IsTevfKACjnKXKrz85xKpAJNuvyrdeNq65thA7IJNJuxbZkwiRUE8OHpA64rOIfLYXyDYjOeSavymq35uZ8HIEL4eoFQhCYM0RCWcIQnAhFxLtH6osj/zyrxTeOEjBfUPd8nElqdxV69iF7XX0o4HAA="},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.h=Math.random()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(109)),r=n(33);var i=function(){},a={},s={},u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worker=e;var n=this.listeners={};e.onmessage=function(t){var o=t.data;if(-1===o.type)return console.log(o.params);var u=o.destroyId;if(u)delete s[u];else{var c=o.params;if(o.uiListener){var l=n[o.uiListener];if(l)for(var f=0,p=l.length;f<p;f++)l[f](c)}else{var d=o.callId;if(d)Promise.resolve((s[d]||i)(c)).then(function(t){var n=t instanceof ArrayBuffer?[t]:[];(0,r.isIE10)()&&(n=null),e.postMessage({backId:o.backId,params:t},n)});else{var h=o.id,g=a[h],m=+o.type;try{g[["resolve","reject"][m]](c)}catch(t){}delete a[h]}}}},e.onerror=function(t){console.error("WorkerError",t)}}return t.prototype.emit=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,r.isIE10)()&&(i=null),new Promise(function(r,u){var c=(0,o.default)("worker");a[c]={resolve:r,reject:u},n.worker.postMessage({name:t,params:e,id:c,more:s},i)})},t.prototype.calls=function(t){var e=(0,o.default)("worker_call");return s[e]=t,e},t.prototype.on=function(t,e){(this.listeners[t]=this.listeners[t]||[]).push(e)},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(333)),r=s(n(835)),i=n(834),a=s(n(197));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function c(t){var e=[];return t instanceof ArrayBuffer&&(e=[t]),e}var l="FoxitPDFSDKForWeb_JREngineCache_",f=l+"wasmBinary",p=l+"asmMem",d=l+"asmJs",h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n)),a=n.workerPath;"/"!==a[a.length-1]&&(a+="/");var s=new Worker(a+"WebPDFJRWorker.js?h="+i.h),u=o.workerPromise=new r.default(s);return u.on("wasmBinary",function(t){localStorage.setItem(f,t)}),u.on("amsMem",function(t){localStorage.setItem(p,t)}),u.on("asmJs",function(t){localStorage.setItem(d,t)}),o}return u(e,t),e.prototype.init=function(){var t={},e=void 0;return(e=localStorage.getItem(f))&&(t.wasmBinary=e),(e=localStorage.getItem(p))&&(t.amsMem=e),(e=localStorage.getItem(d))&&(t.amsJs=e),this.option.cache=t,this.workerPromise.emit("initJREngine",this.option)},e.prototype.getPDFDocIdByFile=function(t){var e=c(t=(0,a.default)(t));return this.workerPromise.emit("getPDFDocByFile",{file:t},e)},e.prototype.createNewDoc=function(t,e,n){return this.workerPromise.emit("createNewDoc",{title:t,author:e,pageSize:n})},e.prototype.getPDFDocIdByChunk=function(t,e){var n=this.workerPromise.calls(e);return this.workerPromise.emit("getPDFDocAsync",{size:t,getChunk:n})},e.prototype.getPDFDocIdByHttpRangeRequest=function(t){return this.workerPromise.emit("getPDFDocIdByHttpRangeRequest",{size:t.size,range:t.range})},e.prototype.getPDFDocIdByArrayBuffer=function(t){return this.workerPromise.emit("getPDFDocByArrayBuffer",{buffer:t},[t])},e.prototype.setIcons=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.workerPromise.emit("setIcons",{icons:t})},e.prototype.addIcon=function(t){return this.workerPromise.emit("addIcon",{icon:t})},e.prototype.removeIcon=function(t,e,n){return this.workerPromise.emit("removeIcon",{type:t,catalog:e,name:n})},e.prototype.updateFormControl=function(t,e,n,o){return this.workerPromise.emit("updateFormControl",{docId:t,objectNumber:e,key:n,value:o})},e.prototype.parsePDFDocByPassword=function(t,e,n){var o=[];try{n.fdf.file instanceof ArrayBuffer&&(o=[n.fdf.file])}catch(t){}return this.workerPromise.emit("parsePDFDocByPassword",{id:t,password:e,initData:n},o)},e.prototype.getPDFDocInfoById=function(t){return this.workerPromise.emit("getPDFDocInfoById",t)},e.prototype.getMetadata=function(t){return this.workerPromise.emit("getMetadata",t)},e.prototype.setMetadataValue=function(t,e,n){return this.workerPromise.emit("setMetadataValue",{id:t,key:e,value:n})},e.prototype.loadForm=function(t){return this.workerPromise.emit("loadForm",{docId:t})},e.prototype.updateField=function(t,e,n,o){return this.workerPromise.emit("updateField",{docId:t,title:e,key:n,value:o})},e.prototype.updateMKProperty=function(t,e,n,o,r){return this.workerPromise.emit("updateMKProperty",{docId:t,pageId:e,annotId:n,key:o,value:r})},e.prototype.setWidgetAS=function(t,e,n,o){return this.workerPromise.emit("setWidgetAS",{docId:t,pageId:e,annotId:n,AS:o})},e.prototype.setFieldValue=function(t,e,n){return this.workerPromise.emit("setFieldValue",{docId:t,title:e,value:n})},e.prototype.formFillerEvent=function(t,e,n,o){return this.workerPromise.emit("formFillerEvent",{docId:t,type:e,pageIndex:n,point:o})},e.prototype.getFieldsValue=function(t){return this.workerPromise.emit("getFieldsValue",{docId:t})},e.prototype.addControl=function(t,e,n,o,r){return this.workerPromise.emit("addControl",{docId:t,pageIndex:e,fieldName:n,fieldType:o,rect:r})},e.prototype.validateFieldName=function(t,e,n){return this.workerPromise.emit("validateFieldName",{docId:t,fieldName:e,fieldType:n})},e.prototype.renameField=function(t,e,n){return this.workerPromise.emit("renameField",{docId:t,fieldName:e,newName:n})},e.prototype.removeField=function(t,e){return this.workerPromise.emit("removeField",{docId:t,fieldName:e})},e.prototype.removeControl=function(t,e,n){return this.workerPromise.emit("removeControl",{docId:t,fieldName:e,controlObjectNumber:n})},e.prototype.fixPageFields=function(t,e){return this.workerPromise.emit("fixPageFields",{docId:t,pageIndex:e})},e.prototype.getPageInfoByIndex=function(t,e){return this.workerPromise.emit("getPageInfoByIndex",{id:t,index:e})},e.prototype.setRenderFlag=function(t,e){return this.workerPromise.emit("setRenderFlag",{docId:t,flags:e})},e.prototype.getPageBitmap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["page"],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"view";return this.workerPromise.emit("getPageBitmap",{docId:t,pageId:e,scale:n,rotate:o,rect:r,flags:i,usage:a})},e.prototype.getPageAndHighlightBitmap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4];return this.workerPromise.emit("getPageAndHighlightBitmap",{docId:t,pageId:e,scale:n,rotate:o,rect:r})},e.prototype.getAnnotBitmapByRange=function(t,e,n,o,r,i){return this.workerPromise.emit("getAnnotBitmapByRange",{docId:t,pageId:e,range:n,scale:o,rotate:r,rect:i})},e.prototype.getAnnot=function(t,e,n){return this.workerPromise.emit("getAnnot",{docId:t,pageId:e,annotId:n})},e.prototype.getPageAnnotIDList=function(t,e){return this.workerPromise.emit("getPageAnnotIDList",{docId:t,pageId:e})},e.prototype.getAnnots=function(t,e,n){return this.workerPromise.emit("getAnnots",{docId:t,pageId:e,idList:n})},e.prototype.getAnnotBitmap=function(t,e,n,o,r,i){return this.workerPromise.emit("getAnnotBitmap",{docId:t,pageId:e,annotId:n,scale:o,rotate:r,rect:i})},e.prototype.getAnnotIdAtPoint=function(t,e,n,o){var r=n.x,i=n.y;return this.workerPromise.emit("getAnnotIdAtPoint",{docId:t,pageId:e,points:{x:r,y:i},tolerance:o})},e.prototype.getAnnotIdAtDevicePoint=function(t,e,n,o,r){var i=n.x,a=n.y;return this.workerPromise.emit("getAnnotIdAtDevicePoint",{docId:t,pageId:e,points:{x:i,y:a},tolerance:o,matrix:r})},e.prototype.getCharInfoAtPoint=function(t,e,n,o){var r=n.x,i=n.y;return this.workerPromise.emit("getCharInfoAtPoint",{docId:t,pageId:e,points:{x:r,y:i},tolerance:o})},e.prototype.getThumb=function(t,e){return this.workerPromise.emit("getThumb",{docId:t,pageId:e})},e.prototype.movePageTo=function(t,e,n){return this.workerPromise.emit("movePageTo",{docId:t,pageId:e,destIndex:n})},e.prototype.insertPage=function(t,e,n,o){return this.workerPromise.emit("insertPage",{docId:t,pageIndex:e,width:n,height:o})},e.prototype.removePage=function(t,e){return this.workerPromise.emit("removePage",{docId:t,pageIndex:e})},e.prototype.updateAnnotQuadPointsByCharIndex=function(t,e,n,o,r){return this.workerPromise.emit("updateAnnotQuadPointsByCharIndex",{docId:t,pageId:e,annotId:n,startCharIndex:o,endCharIndex:r})},e.prototype.setAnnotContent=function(t,e,n,o){return this.workerPromise.emit("setAnnotContent",{docId:t,pageId:e,annotId:n,content:o})},e.prototype.setAnnotBorderColor=function(t,e,n,o){return this.workerPromise.emit("setAnnotBorderColor",{docId:t,pageId:e,annotId:n,color:o})},e.prototype.setAnnotBorderStyle=function(t,e,n,o,r){return this.workerPromise.emit("setAnnotBorderStyle",{docId:t,pageId:e,annotId:n,style:o,styleParam:r})},e.prototype.setAnnotBorderWidth=function(t,e,n,o){return this.workerPromise.emit("setAnnotBorderWidth",{docId:t,pageId:e,annotId:n,width:o})},e.prototype.setAnnotFillColor=function(t,e,n,o){return this.workerPromise.emit("setAnnotFillColor",{docId:t,pageId:e,annotId:n,color:o})},e.prototype.setRedactApplyFillColor=function(t,e,n,o){return this.workerPromise.emit("setRedactApplyFillColor",{docId:t,pageId:e,annotId:n,color:o})},e.prototype.setAnnotOpacity=function(t,e,n,o){return this.workerPromise.emit("setAnnotOpacity",{docId:t,pageId:e,annotId:n,opacity:o})},e.prototype.setAnnotRotation=function(t,e,n,o){return this.workerPromise.emit("setAnnotRotation",{docId:t,pageId:e,annotId:n,rotation:o})},e.prototype.removeAnnot=function(t,e,n){return this.workerPromise.emit("removeAnnot",{docId:t,pageId:e,annotId:n})},e.prototype.annotAddReply=function(t,e,n,o){return this.workerPromise.emit("annotAddReply",{docId:t,pageId:e,annotId:n,content:o})},e.prototype.setAnnotRect=function(t,e,n,o){return this.workerPromise.emit("setAnnotRect",{docId:t,pageId:e,annotId:n,rect:o})},e.prototype.getAnnotInnerRect=function(t,e,n){return this.workerPromise.emit("getAnnotInnerRect",{docId:t,pageId:e,annotId:n})},e.prototype.moveAnnotTo=function(t,e,n,o){return this.workerPromise.emit("moveAnnotTo",{docId:t,pageId:e,annotId:n,position:o})},e.prototype.getPDFDocStream=function(t,e){var n=this.workerPromise.calls(e);return this.workerPromise.emit("getPDFDocStream",{docId:t,writeStream:n})},e.prototype.setAnnotIconName=function(t,e,n,o){return this.workerPromise.emit("setAnnotIconName",{docId:t,pageId:e,annotId:n,iconName:o})},e.prototype.getFileattachmentStream=function(t,e,n,o){var r=this.workerPromise.calls(o);return this.workerPromise.emit("getFileattachmentStream",{docId:t,pageId:e,annotId:n,writeStream:r})},e.prototype.setAnnotEndingStyle=function(t,e,n,o,r){return this.workerPromise.emit("setAnnotEndingStyle",{docId:t,pageId:e,annotId:n,isBeginning:o,style:r})},e.prototype.enableLineCaption=function(t,e,n,o){return this.workerPromise.emit("enableLineCaption",{docId:t,pageId:e,annotId:n,enable:o})},e.prototype.setLineStartPoint=function(t,e,n,o,r){return this.workerPromise.emit("setLineStartPoint",{docId:t,pageId:e,annotId:n,x:o,y:r})},e.prototype.setLineEndPoint=function(t,e,n,o,r){return this.workerPromise.emit("setLineEndPoint",{docId:t,pageId:e,annotId:n,x:o,y:r})},e.prototype.setAnnotLeaderLineLength=function(t,e,n,o){return this.workerPromise.emit("setAnnotLeaderLineLength",{docId:t,pageId:e,annotId:n,length:o})},e.prototype.updateAnnotVertexes=function(t,e,n,o,r,i){return this.workerPromise.emit("updateAnnotVertexes",{docId:t,pageId:e,annotId:n,pointIndex:o,x:r,y:i})},e.prototype.setAnnotVertexes=function(t,e,n,o){return this.workerPromise.emit("setAnnotVertexes",{docId:t,pageId:e,annotId:n,vertexes:o})},e.prototype.setHighlightingMode=function(t,e,n,o){return this.workerPromise.emit("setHighlightingMode",{docId:t,pageId:e,annotId:n,highlightingMode:o})},e.prototype.setAnnotAPBitmap=function(t,e,n,o,r){return this.workerPromise.emit("setAnnotAPBitmap",{docId:t,pageId:e,annotId:n,url:o,size:r})},e.prototype.setAnnotInnerRect=function(t,e,n,o){var r=o.left,i=o.right,a=o.top,s=o.bottom;return this.workerPromise.emit("setAnnotInnerRect",{docId:t,pageId:e,annotId:n,rect:{left:r,right:i,top:a,bottom:s}})},e.prototype.setCalloutLineEndingStyle=function(t,e,n,o){return this.workerPromise.emit("setCalloutLineEndingStyle",{docId:t,pageId:e,annotId:n,endingStyle:o})},e.prototype.setAction=function(t,e,n,o){return this.workerPromise.emit("setAction",{docId:t,pageId:e,annotId:n,type:o})},e.prototype.removeAnnotAction=function(t,e,n){return this.workerPromise.emit("removeAnnotAction",{docId:t,pageId:e,annotId:n})},e.prototype.getAction=function(t,e,n){return this.workerPromise.emit("getAction",{docId:t,pageId:e,annotId:n})},e.prototype.setActionDataByIndex=function(t,e,n,o,r){return this.workerPromise.emit("setActionDataByIndex",{docId:t,pageId:e,annotId:n,data:o,actionIndex:r})},e.prototype.setCalloutLinePoints=function(t,e,n,o){return this.workerPromise.emit("setCalloutLinePoints",{docId:t,pageId:e,annotId:n,calloutLinePoints:o})},e.prototype.setSubject=function(t,e,n,o){return this.workerPromise.emit("setSubject",{docId:t,pageId:e,annotId:n,subject:o})},e.prototype.setTitle=function(t,e,n,o){return this.workerPromise.emit("setTitle",{docId:t,pageId:e,annotId:n,title:o})},e.prototype.setCreateDateTime=function(t,e,n,o){return this.workerPromise.emit("setCreateDateTime",{docId:t,pageId:e,annotId:n,date:o})},e.prototype.setModifiedDateTime=function(t,e,n,o){return this.workerPromise.emit("setModifiedDateTime",{docId:t,pageId:e,annotId:n,date:o})},e.prototype.setUniqueId=function(t,e,n,o){return this.workerPromise.emit("setUniqueId",{docId:t,pageId:e,annotId:n,newId:o})},e.prototype.setDefaultAp=function(t,e,n,o){return this.workerPromise.emit("setDefaultAp",{docId:t,pageId:e,annotId:n,defaultAppearance:o})},e.prototype.setAlignment=function(t,e,n,o){return this.workerPromise.emit("setAlignment",{docId:t,pageId:e,annotId:n,value:o})},e.prototype.setAnnotFlag=function(t,e,n,o){return this.workerPromise.emit("setAnnotFlag",{docId:t,pageId:e,annotId:n,flag:o})},e.prototype.importFromFDF=function(t,e,n){var o=c(e=(0,a.default)(e));return this.workerPromise.emit("importFromFDF",{docId:t,fdf:e,dataType:n},o)},e.prototype.importFromFDFFile=function(t,e,n,o){return this.workerPromise.emit("importFromFDFFile",{docId:t,file:e,size:n,type:o})},e.prototype.exportToFDF=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return this.workerPromise.emit("exportToFDF",{docId:t,fileType:e,dataType:n})},e.prototype.addAnnot=function(t,e,n){return this.workerPromise.emit("addAnnot",{docId:t,pageId:e,annot:n})},e.prototype.markRedactAnnot=function(t,e,n,o){return this.workerPromise.emit("markRedactAnnot",{docId:t,pageId:e,rects:n,annotId:o})},e.prototype.redactApply=function(t,e,n){return this.workerPromise.emit("redactApply",{docId:t,pageId:e,annotId:n})},e.prototype.applyRedaction=function(t){return this.workerPromise.emit("applyRedaction",{docId:t})},e.prototype.addAnnotGroup=function(t,e,n,o){return this.workerPromise.emit("addAnnotGroup",{docId:t,pageId:e,annots:n,headerIndex:o})},e.prototype.getBookmarks=function(t){return this.workerPromise.emit("getBookmarks",{docId:t})},e.prototype.createRootBookmark=function(t){return this.workerPromise.emit("createRootBookmark",{docId:t})},e.prototype.insertBookmark=function(t,e,n,o,r,i){return this.workerPromise.emit("insertBookmark",{docId:t,pbkId:e,title:n,pageIndex:o,top:r,left:i})},e.prototype.setBookmarkProperty=function(t,e,n){return this.workerPromise.emit("setBookmarkProperty",{docId:t,bkId:e,properties:n})},e.prototype.removeBookmark=function(t,e){return this.workerPromise.emit("removeBookmark",{docId:t,bkId:e})},e.prototype.getLayerNodes=function(t){return this.workerPromise.emit("getLayerNodes",{docId:t})},e.prototype.setLayerNodeVisiable=function(t,e,n){return this.workerPromise.emit("setLayerNodeVisiable",{docId:t,layerId:e,visiable:n})},e.prototype.getTextRectsAtRect=function(t,e,n){return this.workerPromise.emit("getTextRectsAtRect",{docId:t,pageId:e,rect:n})},e.prototype.getTextContinuousRectsAtRect=function(t,e,n){return this.workerPromise.emit("getTextContinuousRectsAtRect",{docId:t,pageId:e,rect:n})},e.prototype.getTextContinuousCharsAtRect=function(t,e,n){return this.workerPromise.emit("getTextContinuousCharsAtRect",{docId:t,pageId:e,rect:n})},e.prototype.getTextSearch=function(t,e,n,o){return this.workerPromise.emit("getTextSearch",{docId:t,pageId:e,pattern:n,flags:o})},e.prototype.textSearchFindNext=function(t){return this.workerPromise.emit("textSearchFindNext",{id:t})},e.prototype.textSearchFindPrev=function(t){return this.workerPromise.emit("textSearchFindPrev",{id:t})},e.prototype.textSearchDestroy=function(t){return this.workerPromise.emit("textSearchDestroy",{id:t})},e.prototype.registerSecurityCallback=function(t,e){return this.workerPromise.emit("registerSecurityCallback",{type:t,options:e})},e.prototype.destroyDoc=function(t){return this.workerPromise.emit("destroyDoc",{id:t})},e.prototype.destroyPage=function(t,e){return this.workerPromise.emit("destroyPage",{docId:t,pageId:e})},e.prototype.setDocOpenAction=function(t,e){return this.workerPromise.emit("setDocOpenAction",{docId:t,type:e})},e.prototype.setDocActionData=function(t,e,n){return this.workerPromise.emit("setDocActionData",{docId:t,data:e,index:n})},e.prototype.moveCaretRectByCharIndex=function(t,e,n,o){return this.workerPromise.emit("moveCaretRectByCharIndex",{docId:t,pageId:e,annotId:n,charIndex:o})},e.prototype.setAnnotIntent=function(t,e,n,o){return this.workerPromise.emit("setAnnotIntent",{docId:t,pageId:e,annotId:n,intent:o})},e.prototype.setInkList=function(t,e,n,o){return this.workerPromise.emit("setInkList",{docId:t,pageId:e,annotId:n,inkList:o})},e.prototype.setUserName=function(t){return this.workerPromise.emit("setUserName",{name:t})},e.prototype.getUserName=function(){return this.workerPromise.emit("getUserName")},e.prototype.addAnnotReviewState=function(t,e,n,o){return this.workerPromise.emit("addAnnotReviewState",{docId:t,pageId:e,annotId:n,stateName:o})},e.prototype.addAnnotMarkedState=function(t,e,n,o){return this.workerPromise.emit("addAnnotMarkedState",{docId:t,pageId:e,annotId:n,stateName:o})},e.prototype.removeAllStateAnnots=function(t,e,n){return this.workerPromise.emit("removeAllStateAnnots",{docId:t,pageId:e,annotId:n})},e.prototype.setStateName=function(t,e,n,o){return this.workerPromise.emit("setStateName",{docId:t,pageId:e,stateAnnotId:n,stateName:o})},e.prototype.setNoteOpenStatus=function(t,e,n,o){return this.workerPromise.emit("setNoteOpenStatus",{docId:t,pageId:e,annotId:n,isOpen:o})},e.prototype.flatten=function(t,e,n){return this.workerPromise.emit("flatten",{docId:t,pageId:e,option:n})},e.prototype.setDynamicInfoFormula=function(t,e){return this.workerPromise.emit("setDynamicInfoFormula",{seperator:t,timeFormat:e})},e.prototype.getGraphicObjectsInfo=function(t,e){return this.workerPromise.emit("getGraphicObjectsInfo",{docId:t,pageId:e})},e.prototype.updatePageInfo=function(t,e){return this.workerPromise.emit("updatePageInfo",{docId:t,pageId:e})},e.prototype.setPageRotation=function(t,e,n){return this.workerPromise.emit("setPageRotation",{docId:t,pageId:e,rotation:n})},e.prototype.addPageImage=function(t,e,n,o,r,i){return this.workerPromise.emit("addPageImage",{docId:t,pageId:e,imageBuffer:n,point:o,width:r,height:i})},e.prototype.addWatermark=function(t,e,n){return this.workerPromise.emit("addWatermark",{docId:t,pageId:e,data:n})},e.prototype.setPasswordAndPermission=function(t,e,n,o,r,i){return this.workerPromise.emit("setPasswordAndPermission",{docId:t,userPassword:e,ownerPassword:n,permission:o,cipher:r,isEncryptMetaData:i})},e.prototype.removeSecurity=function(t){return this.workerPromise.emit("removeSecurity",{docId:t})},e.prototype.checkPassword=function(t,e){return this.workerPromise.emit("checkPassword",{docId:t,password:e})},e.prototype.getPermission=function(t){return this.workerPromise.emit("getPermission",{docId:t})},e.prototype.getStdCipherOptions=function(t){return this.workerPromise.emit("getStdCipherOptions",{docId:t})},e.prototype.getUserPassword=function(t,e){return this.workerPromise.emit("getUserPassword",{docId:t,password:e})},e.prototype.getPasswordType=function(t){return this.workerPromise.emit("getPasswordType",{docId:t})},e.prototype.setPasswordType=function(t,e){return this.workerPromise.emit("setPasswordType",{docId:t,type:e})},e.prototype.getGraphicsObjectAtPoint=function(t,e,n,o,r){return this.workerPromise.emit("getGraphicsObjectAtPoint",{docId:t,pageId:e,point:n,tolerance:o,type:r})},e.prototype.setGraphicsObjectMatrix=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectMatrix",{docId:t,pageId:e,id:n,rect:o})},e.prototype.getGraphicsObjectBitmap=function(t,e,n,o){return this.workerPromise.emit("getGraphicsObjectBitmap",{docId:t,pageId:e,id:n,scale:o})},e.prototype.setGraphicsObjectBorderStyle=function(t,e,n,o,r){return this.workerPromise.emit("setGraphicsObjectBorderStyle",{docId:t,pageId:e,id:n,value:o,dashes:r})},e.prototype.setGraphicsObjectBorderWidth=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectBorderWidth",{docId:t,pageId:e,id:n,width:o})},e.prototype.setGraphicsObjectBorderColor=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectBorderColor",{docId:t,pageId:e,id:n,color:o})},e.prototype.setGraphicsObjectFillColor=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectFillColor",{docId:t,pageId:e,id:n,color:o})},e.prototype.setGraphicsObjectOpacity=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectOpacity",{docId:t,pageId:e,id:n,opacity:o})},e.prototype.addGraphicsObject=function(t,e,n){return this.workerPromise.emit("addGraphicsObject",{docId:t,pageId:e,info:n})},e.prototype.setImageObjectOpacity=function(t,e,n,o){return this.workerPromise.emit("setImageObjectOpacity",{docId:t,pageId:e,id:n,opacity:o})},e.prototype.setImageObjectRotation=function(t,e,n,o){return this.workerPromise.emit("setImageObjectRotation",{docId:t,pageId:e,id:n,rotation:o})},e.prototype.insertSubAction=function(t,e,n,o){return this.workerPromise.emit("insertSubAction",{docId:t,objNum:e,index:n,type:o})},e.prototype.setSubAction=function(t,e,n,o){return this.workerPromise.emit("setSubAction",{docId:t,objNum:e,index:n,type:o})},e.prototype.removeAllSubActions=function(t,e){return this.workerPromise.emit("removeAllSubActions",{docId:t,objNum:e})},e.prototype.removeSubAction=function(t,e,n){return this.workerPromise.emit("removeSubAction",{docId:t,objNum:e,index:n})},e.prototype.setActionData=function(t,e,n){return this.workerPromise.emit("setActionData",{docId:t,objNum:e,data:n})},e.prototype.removeGraphicsObject=function(t,e,n){return this.workerPromise.emit("removeGraphicsObject",{docId:t,pageId:e,id:n})},e.prototype.setPopupOpenStatus=function(t,e,n,o){return this.workerPromise.emit("setPopupOpenStatus",{docId:t,pageId:e,annotId:n,status:o})},e.prototype.removePageAllAnnot=function(t,e){return this.workerPromise.emit("removePageAllAnnot",{docId:t,pageId:e})},e.prototype.setTextObjectChar=function(t,e,n,o){return this.workerPromise.emit("setTextObjectChar",{docId:t,pageId:e,id:n,char:o})},e.prototype.setTextObjectItalic=function(t,e,n,o){return this.workerPromise.emit("setTextObjectItalic",{docId:t,pageId:e,id:n,italic:o})},e.prototype.setTextObjectBold=function(t,e,n,o){return this.workerPromise.emit("setTextObjectBold",{docId:t,pageId:e,id:n,bold:o})},e.prototype.setTextObjectFontSize=function(t,e,n,o){return this.workerPromise.emit("setTextObjectFontSize",{docId:t,pageId:e,id:n,size:o})},e.prototype.setTextObjectStandardFont=function(t,e,n,o){return this.workerPromise.emit("setTextObjectStandardFont",{docId:t,pageId:e,id:n,standardId:o})},e.prototype.setTextObjectFontByName=function(t,e,n,o,r,i){return this.workerPromise.emit("setTextObjectFontByName",{docId:t,pageId:e,id:n,name:o,styles:r,charset:i})},e.prototype.getTextObjectWoff=function(t,e,n){return this.workerPromise.emit("getTextObjectWoff",{docId:t,pageId:e,id:n})},e.prototype.getAnnotWoff=function(t,e,n){return this.workerPromise.emit("getAnnotWoff",{docId:t,pageId:e,id:n})},e.prototype.drmEncrypt=function(t,e){return this.workerPromise.emit("drmEncrypt",{docId:t,options:e})},e.prototype.getActionFileStream=function(t,e,n){var o=this.workerPromise.calls(n);return this.workerPromise.emit("getActionFileStream",{docId:t,objNum:e,writeStream:o})},e.prototype.getTemplates=function(t){return this.workerPromise.emit("getTemplates",{docId:t})},e.prototype.hideTemplate=function(t,e,n){return this.workerPromise.emit("hideTemplate",{docId:t,templateObj:e,isHidden:n})},e.prototype.spawnPage=function(t,e,n,o,r){return this.workerPromise.emit("spawnPage",{docId:t,templateObj:e,nPage:n,bRename:o,bOverlay:r})},e.prototype.setFieldsValue=function(t,e,n){return this.workerPromise.emit("setFieldsValue",{docId:t,fieldsValue:e,resetAP:n})},e.prototype.removeTemplate=function(t,e){return this.workerPromise.emit("removeTemplate",{docId:t,name:e})},e}(o.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQuadPointsFromRect=e.normalizeQuadPoints=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(146));e.normalizeQuadPoints=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=new o.default;if(a.translate(e.x,e.y),a.rotate(Math.atan2(e.y-n.y,n.x-e.x)),a.transformPoint(r.x,r.y)[1]>0){var s=e;e=r,r=s,s=n,n=i,i=s}return[e,n,r,i]},e.getQuadPointsFromRect=function(t,e){var n=t.left,r=t.right,i=t.top,a=t.bottom;switch(e%4){case 0:return[{x:n,y:i},{x:r,y:i},{x:n,y:a},{x:r,y:a}];case 1:return[{x:r,y:i},{x:r,y:a},{x:n,y:i},{x:n,y:a}];case 2:return[{x:r,y:a},{x:n,y:a},{x:r,y:i},{x:n,y:i}];case 3:return[{x:n,y:a},{x:n,y:i},{x:r,y:a},{x:r,y:i}]}var s=new o.default,u=(n+r)/2,c=(i+a)/2;s.rotateAt(u,c,-radian);var l=s.transformRect(n,i,r,a),f=s.transformPoint(l[0],l[3]);f={x:f[0],y:f[1]};var p=s.transformPoint(l[2],l[3]);p={x:p[0],y:p[1]};var d=s.transformPoint(l[0],l[1]);d={x:d[0],y:d[1]};var h=s.transformPoint(l[2],l[1]);return[f,p,d,h={x:h[0],y:h[1]}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(145)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return a(e,t),e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage();return n.api.setImageObjectRotation(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){return e.info=t,e.engine.eventEmitter.emit(r.default.graphicsUpdated,n),t})},e}(o.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return o(e,t),e.prototype.getFillMode=function(){return this.info.fillMode},e.prototype.setBorderColor=function(e){return this.info.needStroke=0!==e,t.prototype.setBorderColor.call(this,e)},e.prototype.getPathPoints=function(){return this.info.path},e.prototype.needStroke=function(){return this.info.needStroke},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(145)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(145)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s={0:{id:"0",name:"StandardID_e_StdIDCourier",isBold:!1,isItalic:!1},1:{id:"1",name:"StandardID_e_StdIDCourierB",isBold:!0,isItalic:!1},2:{id:"2",name:"StandardID_e_StdIDCourierBI",isBold:!0,isItalic:!0},3:{id:"3",name:"StandardID_e_StdIDCourierI",isBold:!1,isItalic:!0},4:{id:"4",name:"StandardID_e_StdIDHelvetica",isBold:!1,isItalic:!1},5:{id:"5",name:"StandardID_e_StdIDHelveticaB",isBold:!0,isItalic:!1},6:{id:"6",name:"StandardID_e_StdIDHelveticaBI",isBold:!0,isItalic:!0},7:{id:"7",name:"StandardID_e_StdIDHelveticaI",isBold:!1,isItalic:!0},8:{id:"8",name:"StandardID_e_StdIDTimes",isBold:!1,isItalic:!1},9:{id:"9",name:"StandardID_e_StdIDTimesB",isBold:!0,isItalic:!1},10:{id:"10",name:"StandardID_e_StdIDTimesBI",isBold:!0,isItalic:!0},11:{id:"11",name:"StandardID_e_StdIDTimesI",isBold:!1,isItalic:!0},12:{id:"12",name:"StandardID_e_StdIDSymbol",isBold:!1,isItalic:!1},13:{id:"13",name:"StandardID_e_StdIDZapfDingbats",isBold:!1,isItalic:!1}},u=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return a(e,t),e.prototype.put=function(t){},e.prototype.isBold=function(){var t=this.info.textState.font;if(t.isStandard){if(s[t.standardId])return s[t.standardId].isBold;console.warn("No configuration found for standard font: ",t)}return t.isBold||t.styles>>5&1},e.prototype.isItalic=function(){var t=this.info.textState.font;if(t.isStandard){if(s[t.standardId])return s[t.standardId].isItalic;console.warn("No configuration found for standard font: ",t)}return t.isItalic||t.styles>>4&1},e.prototype.getText=function(){return this.info.textState.text},e.prototype.getFontInfo=function(){return this.info.textState.font},e.prototype.setText=function(t){var e=this;if(this.getText()===t)return Promise.resolve();var n=this.getPDFPage();return n.api.setTextObjectChar(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(r.default.graphicsUpdated,n)})},e.prototype.setItalic=function(t){var e=this;if(this.isItalic()===t)return Promise.resolve();var n=this.getPDFPage();return n.api.setTextObjectItalic(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(r.default.graphicsUpdated,n)})},e.prototype.setBold=function(t){var e=this;if(this.isBold()===t)return Promise.resolve();var n=this.getPDFPage();return n.api.setTextObjectBold(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(r.default.graphicsUpdated,n)})},e.prototype.getFontSize=function(){return this.info.textState.size},e.prototype.setFontSize=function(t){var e=this;if(this.getFontSize()===t)return Promise.resolve();var n=this.getPDFPage();return n.api.setTextObjectFontSize(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(r.default.graphicsUpdated,n)})},e.prototype.setStandardFont=function(t){var e=this,n=this.info.textState.font;if(!n||n.isStandard&&t===n.stardardId)return Promise.resolve();var o=this.getPDFPage();return o.api.setTextObjectStandardFont(o.getPDFDoc().getId(),o.getId(),this.getId(),t).then(function(t){e.info=t,e.engine.eventEmitter.emit(r.default.graphicsUpdated,o)})},e.prototype.setFontByName=function(t,e,n){var o=this;if(!this.info.textState.font)return Promise.resolve();var i=this.getPDFPage();return i.api.setTextObjectFontByName(i.getPDFDoc().getId(),i.getId(),this.getId(),t,e,n).then(function(t){o.info=t,o.engine.eventEmitter.emit(r.default.graphicsUpdated,i)})},e.prototype.getWoff=function(){var t=this.getPDFPage();return t.api.getTextObjectWoff(t.getPDFDoc().getId(),t.getId(),this.getId())},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(145)),r=s(n(840)),i=s(n(839)),a=s(n(838));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.engine=e}return t.prototype.get=function(t,e){var n=this.engine;switch(t.type){case 1:return new r.default(t,e,n);case 2:return new i.default(t,e,n);case 3:return new a.default(t,e,n);case void 0:return null;default:return new o.default(t,e,n)}},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={unKnownType:"unknowntype",text:"text",link:"link",freeText:"freetext",line:"line",square:"square",circle:"circle",polygon:"polygon",polyLine:"polyline",highlight:"highlight",underline:"underline",squiggly:"squiggly",strikeOut:"strikeout",stamp:"stamp",caret:"caret",ink:"ink",psInk:"psink",fileAttachment:"fileattachment",sound:"sound",movie:"movie",widget:"widget",screen:"screen",printerMark:"printermark",trapNet:"trapnet",watermark:"watermark",threeD:"3d",popup:"popup",redact:"redact"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(34));r(n(19));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e.prototype.isArea=function(){return this.info.isArea},e.prototype.getRects=function(){var t=[];return this.info.quadPoints&&this.info.quadPoints.length>0?this.info.quadPoints.forEach(function(e){t.push({left:e[0].x,top:e[0].y,right:e[3].x,bottom:e[3].y})}):t.push(this.info.rect),t},e.prototype.apply=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.api.redactApply(n.getId(),e.getId(),this.getId()).then(function(n){t.getPDFPage().clearAnnotIds(n);return[{pageIndex:e.getIndex(),removedAnnots:n}]})},e.prototype.getApplyFillColor=function(){return this.info.applyFillColor},e.prototype.setRedactApplyFillColor=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setRedactApplyFillColor(o.getId(),n.getId(),this.getId(),t).then(function(n){return n&&(e.info.applyFillColor=t),n})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(40)),r=n(20),i=s(n(200)),a=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.getOpenStatus=function(){return this.info.openStatus},e.prototype.setOpenStatus=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setPopupOpenStatus(o.getId(),n.getId(),this.getId(),t).then(function(){e.info.openStatus=t;var o=[e];return e.eventEmitter.emit(a.default.annotationAppearanceUpdated,o,n),o})},e.prototype.exportToJSON=function(){var t=this.info.flag,e="";for(var n in r.AnnotFlagsName)t&1<<parseInt(n)&&(e+=r.AnnotFlagsName[n]+",");(0,i.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'");var o=this.info.id,a=this.page.getIndex(),s=this.info.openStatus?"yes":"no",u=this.info.rect;return{flags:e,name:o,page:a,open:s,rect:u.left+","+u.bottom+","+u.right+","+u.top,type:"popup"}},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(40)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return n.action&&(r.action=r.engine.actionFactory.createAction(n.action,o.doc,r.api,r.eventEmitter,r)),r}return a(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.getAction=function(){return this.action},e.prototype.getActionPromise=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.api.getAction(n.getId(),e.getId(),this.getId()).then(function(e){return t.action=t.engine.actionFactory.createAction(e,n,t.api,t.eventEmitter,t),t.action})},e.prototype.getOpacity=function(){return this.info.opacity},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.setOpacity=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return t=+t,this.api.setAnnotOpacity(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(e){var n=0;for(e.length;n--;)e[n].info.opacity=t;return e}).then(function(t){return e.eventEmitter.emit(r.default.annotationUpdated,t,n),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n),t})},e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(n){var o=0;for(n.length;o--;)n[o].info.rotation=t;return e.info.rotation=t,n}).then(function(t){return e.eventEmitter.emit(r.default.annotationUpdated,t,n),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n),t})},e.prototype.setAction=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAction(o.getId(),n.getId(),this.getId(),t).then(function(t){return e.action?t.type!==e.action.getType()?e.action=e.engine.actionFactory.createAction(t,e.page.doc,e.api,e.eventEmitter,e):e.action.updateAction(t):e.action=e.engine.actionFactory.createAction(t,e.page.doc,e.api,e.eventEmitter,e),e.update()}).then(function(){return e.eventEmitter.emit(r.default.annotationUpdated,[e],n),e.eventEmitter.emit(r.default.actionAdd,e),!0})},e.prototype.setActionData=function(t){var e=this;return this.action&&this.action.setActionData(t).then(function(){return e.update()}).then(function(){return e.eventEmitter.emit(r.default.annotationUpdated,[e],e.getPDFPage()),!0})},e.prototype.setRect=function(t){var e=this;this.info.rect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotRect(o.getId(),n.getId(),this.getId(),t).then(function(t){return t?(e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage()),!0):t})},e.prototype.moveTo=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=e.top,i=Object.assign({},this.info.rect),a=i.right,s=i.bottom,u=n-i.left,c=o-i.top;this.info.rect={left:n,top:o,right:a+u,bottom:s+c};var l=this.getPDFPage(),f=l.getPDFDoc().getId(),p=l.getId(),d=this.getId();return this.api.moveAnnotTo(f,p,d,{left:n,top:o}).then(function(t){return l.getAnnotsByIdArray(t)}).then(function(e){t.eventEmitter.emit(r.default.annotationUpdated,e,l),t.eventEmitter.emit(r.default.annotationMovedPosition,e,l)})},e.prototype.removeAction=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.api.removeAnnotAction(n.getId(),e.getId(),this.getId()).then(function(){return t.action=null,t.update()}).then(function(){return t.eventEmitter.emit(r.default.annotationUpdated,[t],t.getPDFPage()),t.eventEmitter.emit(r.default.actionRemove,t),!0})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(34)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.getInkList=function(){return this.info.inkList},e.prototype.setInkList=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setInkList(o.getId(),n.getId(),this.getId(),t).then(function(){return e.update().then(function(){e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage())})}).then(function(){return e.eventEmitter.emit(r.default.annotationUpdated,[e],n),!0})},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.info.inkList,o="[",r=0;r<n.length;r++)0!=r&&1==n[r].type&&(o=o.substr(0,o.length-1),o+="],["),o+=n[r].x+","+n[r].y+";";return o=o.substr(0,o.length-1)+"]",Object.assign({},e,{inklist:o})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(40)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return n.action&&(r.action=r.engine.actionFactory.createAction(n.action,o.doc,r.api,r.eventEmitter,r)),r}return a(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.getAction=function(){return this.action},e.prototype.getActionPromise=function(){return Promise.resolve(this.action)},e.prototype.getHighlightingMode=function(){return this.info.highlightingMode},e.prototype.setHighlightingMode=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setHighlightingMode(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(t){for(var e=[],n=0,o=t.length;n<o;n++)e.push(t[n]._update());return Promise.all(e)}).then(function(t){return e.eventEmitter.emit(r.default.annotationUpdated,t,n),e.eventEmitter.emit(r.default.annotationMovedPosition,t,n),t})},e.prototype.setAction=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAction(o.getId(),n.getId(),this.getId(),t).then(function(t){return e.action?t.type!==e.action.getType()?e.action=e.engine.actionFactory.createAction(t,e.page.doc,e.api,e.eventEmitter,e):e.action.updateAction(t):e.action=e.engine.actionFactory.createAction(t,e.page.doc,e.api,e.eventEmitter,e),e.update()}).then(function(){return e.eventEmitter.emit(r.default.annotationUpdated,[e],n),e.eventEmitter.emit(r.default.actionAdd,e),!0})},e.prototype.setActionData=function(t){var e=this;return this.action&&this.action.setActionData(t).then(function(){return e.update()}).then(function(){return e.eventEmitter.emit(r.default.annotationUpdated,[e],e.getPDFPage()),!0})},e.prototype.removeAction=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.api.removeAnnotAction(n.getId(),e.getId(),this.getId()).then(function(){return t.action=null,t.update()}).then(function(){return t.eventEmitter.emit(r.default.annotationUpdated,[t],t.getPDFPage()),t.eventEmitter.emit(r.default.actionRemove,t),!0})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(34)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.getInnerRect=function(){return this.getRect()},e.prototype.exportToJSON=function(){return{}},e.prototype.getIconName=function(){return this.info.iconName||""},e.prototype.setBitmap=function(t,e){var n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotAPBitmap(o.getId(),n.getId(),this.getId(),t,e)},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(n){var o=0;for(n.length;o--;)n[o].info.rotation=t;return e.info.rotation=t,n}).then(function(t){var o=[],i=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;o.push(l.update())}}catch(t){a=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return Promise.all(o).then(function(o){return e.eventEmitter.emit(r.default.annotationUpdated,t,n),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n),t})})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(34)),r=n(20),i=n(8),a=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),e.prototype.setAlignment=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAlignment(o.getId(),n.getId(),this.getId(),t).then(function(){return e.info.justification=t,t})},e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.setInnerRectNoAction=function(t){this.info.innerRect=t;var e=this.getPDFPage(),n=e.getPDFDoc();return this.api.setAnnotInnerRect(n.getId(),e.getId(),this.getId(),t)},e.prototype.setInnerRect=function(t){var e=this;this.info.innerRect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotInnerRect(o.getId(),n.getId(),this.getId(),t).then(function(t){return t?e.update().then(function(){return e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t}):t})},e.prototype.getDefaultAp=function(){return this.info.defaultAppearance},e.prototype.getStyleFillColor=function(){return this.info.styleFillColor},e.prototype.setStyleFillColor=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),t).then(function(o){return o&&(e.info.styleFillColor=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)),o})},e.prototype.getCalloutLinePoints=function(){return this.info.calloutLinePoints},e.prototype.setCalloutLinePoints=function(t){this.info.calloutLinePoints=t;var e=this.getPDFPage(),n=e.getPDFDoc();return this.api.setCalloutLinePoints(n.getId(),e.getId(),this.getId(),t).then(function(t){return t||t})},e.prototype.getCalloutLineEndingStyle=function(){return this.info.calloutLineEndingStyle},e.prototype.setCalloutLineEndingStyle=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setCalloutLineEndingStyle(o.getId(),n.getId(),this.getId(),t).then(function(){e.info.calloutLineEndingStyle=t})},e.prototype.setDefaultAp=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setDefaultAp(o.getId(),n.getId(),this.getId(),t).then(function(){e.info.defaultAppearance=t})},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this);e.justification=this.info.justification;var n="";this.info.defaultAppearance.textSize&&(n+=this.info.defaultAppearance.textSize+" Tf ");var o=(0,i.convertFromNumberToRGBA)(this.getBorderColor());switch(n+=(o.r/255).toFixed(2)+" "+(o.g/255).toFixed(2)+" "+(o.b/255).toFixed(2)+" rg",e.defaultappearance=n,e.fontColor=(0,i.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),this.info.styleFillColor&&(o=(0,i.convertFromNumberToHex)(16777215&this.info.styleFillColor),e["interior-color"]=o),this.info.intent){case"FreeTextCallout":var a=this.info.rect,s=this.info.innerRect,u=[s.left-a.left,s.bottom-a.bottom,a.right-s.right,a.top-s.top].toString(),c=this.info.calloutLinePoints,l=c[0].x+","+c[0].y;l+=","+c[1].x+","+c[1].y,l+=","+c[2].x+","+c[2].y;var f=r.LineEndingName[this.info.calloutLineEndingStyle];return Object.assign({},e,{fringe:u,callout:l,head:f})}return e},e.prototype.setContent=function(e){var n=this;return t.prototype.setContent.call(this,e).then(function(t){return n.eventEmitter.emit(a.default.annotationAppearanceUpdated,t,n.getPDFPage()),t})},e.prototype.getWoff=function(){var t=this.getPDFPage();return t.api.getAnnotWoff(t.getPDFDoc().getId(),t.getId(),this.getId())},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),t).then(function(t){return n.getAnnotsByIdArray(t)}).then(function(n){var o=0;for(n.length;o--;)n[o].info.rotation=t;return e.info.rotation=t,n}).then(function(t){var o=[],r=!0,i=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;o.push(l.update())}}catch(t){i=!0,s=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}return Promise.all(o).then(function(o){return e.eventEmitter.emit(a.default.annotationUpdated,t,n),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,t,n),t})})},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(34)),r=n(8);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,i=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();if(this.info.fillColor){var a=(0,r.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=a}return Object.assign({},e,{fringe:i})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(34)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,r=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();return delete e.style,delete e.width,delete e.dashPhase,delete e.intensity,Object.assign({},e,{fringe:r})},e.prototype.moveRectByCharIndex=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.moveCaretRectByCharIndex(o.getId(),n.getId(),this.getId(),t).then(function(t){return t?e.update().then(function(){return e.eventEmitter.emit(r.default.annotationMovedPosition,[e],e.getPDFPage()),t}):t})},e.prototype.setBorderColor=function(e){var n=this;this.isGrouped()&&this.getGroupElements().map(function(t){t!=n&&t.setBorderColor(e)});return t.prototype.setBorderColor.call(this,e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=a(n(19)),i=a(n(120));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.fileSpec=n.fileSpec&&new i.default(n.fileSpec)||null,r}return s(e,t),e.prototype.getIconName=function(){return this.info.iconName||"PushPin"},e.prototype.setIconName=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotIconName(o.getId(),n.getId(),this.getId(),t).then(function(t){return t?e.update().then(function(){return e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t}):t})},e.prototype.exportToJSON=function(){return{}},e.prototype.getFileSpec=function(){return this.fileSpec},e.prototype.getFileattachmentStream=function(){var t=this.getPDFPage(),e=t.getPDFDoc(),n=[];return this.api.getFileattachmentStream(e.getId(),t.getId(),this.getId(),function(t){var e=t.arrayBuffer;n.push(e)}).then(function(){return n})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(34)),r=n(8);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,i=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();if(this.info.fillColor){var a=(0,r.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=a}return Object.assign({},e,{fringe:i})},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(34)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.getFlags=function(){return 24|t.prototype.getFlags.call(this)},e.prototype.getIconName=function(){return this.info.iconName},e.prototype.setIconName=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotIconName(o.getId(),n.getId(),this.getId(),t).then(function(t){return t?e.update().then(function(){return e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t}):t})},e.prototype.getState=function(){return this.info.state},e.prototype.setState=function(t){var e=this;if(!this.isStateAnnot())return Promise.reject(!1);if(this.getState()===t)return Promise.resolve(!0);var n=this.info.state,o=this.getPDFPage(),i=o.getPDFDoc();return this.api.setStateName(i.getId(),o.getId(),this.getId(),t).then(function(o){return e.info.state=t,e.eventEmitter.emit(r.default.stateAnnotNameUpdated,e,e.getPDFPage(),n,t),o})},e.prototype.isStateAnnot=function(){return this.info.isStateAnnot},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.iconName;return Object.assign({},e,{icon:n})},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=n(8),i=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getVertexes=function(){return this.info.vertexes},e.prototype.updateVertexes=function(t,e){var n=this,o=this.getPDFPage(),r=o.getPDFDoc();return this.api.updateAnnotVertexes(r.getId(),o.getId(),this.getId(),t,e.x,e.y).then(function(){return n.update()}).then(function(){n.eventEmitter.emit(i.default.annotationAppearanceUpdated,[n],n.getPDFPage())})},e.prototype.setVertexes=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotVertexes(o.getId(),n.getId(),this.getId(),t).then(function(){return e.info.vertexes=t,e.update()}).then(function(){e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],e.getPDFPage())})},e.prototype.getMeasureInfo=function(){return""},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.info.vertexes,o="",i=0;i<n.length;i++)o+=n[i].x+","+n[i].y+";";if(o=o.substr(0,o.length-1),this.info.fillColor){var a=(0,r.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=a}return Object.assign({},e,{vertices:o})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),r=n(20),i=s(n(34)),a=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),e.prototype.getVertexes=function(){return this.info.vertexes},e.prototype.updateVertexes=function(t,e){var n=this,o=e.x,r=e.y,i=this.getPDFPage(),s=i.getPDFDoc();return this.api.updateAnnotVertexes(s.getId(),i.getId(),this.getId(),t,o,r).then(function(){return n.info[t]={x:o,y:r},n.update()}).then(function(){n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage())})},e.prototype.setVertexes=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotVertexes(o.getId(),n.getId(),this.getId(),t).then(function(){return e.info.vertexes=t,e.update()}).then(function(){e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage())})},e.prototype.getMeasureInfo=function(){return""},e.prototype.getEndingStyle=function(){return this.info.endingStyle},e.prototype.setEndingStyle=function(t,e){var n=this,o=this.getPDFPage(),r=o.getPDFDoc();return this.api.setAnnotEndingStyle(r.getId(),o.getId(),this.getId(),t,e).then(function(){t?n.info.startStyle=e:n.info.endingStyle=e,n.eventEmitter.emit(a.default.annotationUpdated,[n],o),n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage())}).then(function(t){return n._update()})},e.prototype.getStartStyle=function(){return this.info.startStyle},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.info.vertexes,i="",a=0;a<n.length;a++)i+=n[a].x+","+n[a].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var s=(0,o.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=s}return Object.assign({},e,{head:r.LineEndingName[this.info.startStyle],tail:r.LineEndingName[this.info.endingStyle],vertices:i})},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(34)),r=n(20),i=n(8),a=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),e.prototype.getEndPoint=function(){return this.info.endPoint},e.prototype.setEndPoint=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setLineEndPoint(o.getId(),n.getId(),this.getId(),t.x,t.y).then(function(t){return e.update()}).then(function(){e.info.endPoint=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)})},e.prototype.getStartPoint=function(){return this.info.startPoint},e.prototype.setStartPoint=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setLineStartPoint(o.getId(),n.getId(),this.getId(),t.x,t.y).then(function(t){return e.update()}).then(function(){e.info.startPoint=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)})},e.prototype.getEndingStyle=function(){return this.info.endingStyle},e.prototype.getStartStyle=function(){return this.info.startStyle},e.prototype.setEndingStyle=function(t,e){var n=this,o=this.getPDFPage(),r=o.getPDFDoc();return this.api.setAnnotEndingStyle(r.getId(),o.getId(),this.getId(),t,e).then(function(){t?n.info.startStyle=e:n.info.endingStyle=e,n.eventEmitter.emit(a.default.annotationUpdated,[n],o),n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],o)})},e.prototype.hasCaption=function(){return this.info.hasCaption},e.prototype.enableCaption=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.enableLineCaption(o.getId(),n.getId(),this.getId(),t).then(function(){e.info.hasCaption=t,e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)})},e.prototype.setContent=function(e){var n=this;return t.prototype.setContent.call(this,e).then(function(t){return t&&n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage()),t})},e.prototype.getStyleFillColor=function(){return this.info.styleFillColor},e.prototype.setStyleFillColor=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),t).then(function(o){return o&&(e.info.styleFillColor=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)),o})},e.prototype.getLeaderLineLength=function(){return this.info.leaderLineLength||0},e.prototype.getLeaderLineExtend=function(){return this.info.leaderLineExtensionLength||0},e.prototype.getLeaderLineOffset=function(){return this.info.leaderLineOffset},e.prototype.getCaptionPos=function(){return this.info.capPos},e.prototype.getCaptionOffset=function(){},e.prototype.calculateLeaderLine=function(){var t=this.getStartPoint(),e=this.getEndPoint(),n=e.y-t.y,o=e.x-t.x,r=this.k=-1/(n/o),i=Math.atan(r),a=this.getLeaderLineLength(),s=Math.cos(i)*a,u=Math.sin(i)*a;this.leaderSartPoit={x:t.x+s,y:t.y+u};var c=this.getRect();c.left<this.leaderSartPoit.x&&this.leaderSartPoit.x<c.right&&c.bottom<this.leaderSartPoit.y&&this.leaderSartPoit.y<c.top?this.leaderEndPoint={x:e.x+s,y:e.y+u}:(this.leaderSartPoit={x:t.x-s,y:t.y-u},this.leaderEndPoint={x:e.x-s,y:e.y-u}),this.Sb=this.leaderSartPoit.y-this.k*this.leaderSartPoit.x,this.Eb=this.leaderEndPoint.y-this.k*this.leaderEndPoint.x},e.prototype.getLeaderLinePoints=function(){return this.leaderSartPoit||this.calculateLeaderLine(),{start:this.leaderSartPoit,end:this.leaderEndPoint}},e.prototype.update=function(){var e=this;return t.prototype._update.call(this).then(function(){e.calculateLeaderLine();var t=e.getPDFPage();e.eventEmitter.emit(a.default.annotationUpdated,[e],t)})},e.prototype.setLeaderLineLength=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.api.setAnnotLeaderLineLength(o.getId(),n.getId(),this.getId(),t).then(function(){return e.update()}).then(function(){e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)})},e.prototype.getMeasureInfo=function(){return""},e.prototype.getCaptionOffset=function(){return this.info.captionOffset},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.startPoint,o=this.info.endPoint,a=this.info.leaderLineLength,s=this.info.leaderLineExtensionLength,u=this.hasCaption()?"yes":"no";if(this.info.styleFillColor){var c=(0,i.convertFromNumberToHex)(16777215&this.info.styleFillColor);e["interior-color"]=c}return Object.assign({},e,{start:n.x+","+n.y,end:o.x+","+o.y,head:r.LineEndingName[this.info.startStyle],tail:r.LineEndingName[this.info.endingStyle],leaderLength:a,leaderExtend:s,caption:u})},e.prototype.getMeasureRatio=function(){return this.info.measureRatio},e.prototype.getMeasureUnit=function(){return this.info.measureUnit},e}(o.default);e.default=c},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(110)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(110)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return o(e,t),e.prototype.isReplace=function(){return"Replace"===this.info.typeAlias},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(110)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(110)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=E(n(40)),r=(E(n(34)),E(n(110)),E(n(861))),i=E(n(860)),a=E(n(859)),s=E(n(858)),u=E(n(857)),c=E(n(856)),l=E(n(855)),f=E(n(854)),p=E(n(853)),d=E(n(852)),h=E(n(851)),g=E(n(850)),m=E(n(849)),y=E(n(848)),v=E(n(847)),b=E(n(846)),w=E(n(330)),A=E(n(845)),_=E(n(844)),P=E(n(843)),O=E(n(842));function E(t){return t&&t.__esModule?t:{default:t}}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.get=function(t,e){switch(t.type){case O.default.highlight:return new r.default(t,e);case O.default.squiggly:return new s.default(t,e);case O.default.strikeOut:return new i.default(t,e);case O.default.underline:return new a.default(t,e);case O.default.line:return new u.default(t,e);case O.default.polyLine:return new c.default(t,e);case O.default.polygon:return new l.default(t,e);case O.default.fileAttachment:return new d.default(t,e);case O.default.text:return new f.default(t,e);case O.default.circle:return new p.default(t,e);case O.default.caret:return new h.default(t,e);case O.default.freeText:return new m.default(t,e);case O.default.ink:return new b.default(t,e);case O.default.square:return new g.default(t,e);case O.default.stamp:return new y.default(t,e);case O.default.link:return new v.default(t,e);case O.default.widget:return new w.default(t,e);case O.default.screen:return new A.default(t,e);case O.default.popup:return new _.default(t,e);case O.default.redact:return new P.default(t,e);default:return new o.default(t,e)}},t}();e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(19));var r=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.engine=e,this.api=e.api,this.docId=n,this.parent=r,o)if("children"==i){this.children=[];for(var a=0;a<o[i].length;a++)this.children.push(new t(e,n,o[i][a],this))}else this[i]=o[i]}return t.prototype.insertBookmark=function(e,n,r,i){var a=this,s=this;return this.api.insertBookmark(this.docId,this.id,e,n,r,i).then(function(e){if(e){var n=new t(s.engine,s.docId,e,s);return s.children.push(n),a.engine.eventEmitter.emit(o.default.bookmarkAdded,n),n}return null})},t.prototype.setProperty=function(t){var e=this,n=this;return this.api.setBookmarkProperty(this.docId,this.id,t).then(function(t){if(t){for(var r in t)"children"!==r&&(n[r]=t[r]);n.engine.eventEmitter.emit(o.default.bookmarkUpdated,n)}return e})},t.prototype.remove=function(){var t=this;return this.api.removeBookmark(this.docId,this.id).then(function(e){if(e&&(t.engine.eventEmitter.emit(o.default.bookmarkRemoved,t.id),t.parent))for(var n=t.parent,r=0;r<n.children.length;r++)if(t.id==n.children[r].id){n.children.splice(r,1);break}return e})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(1));e.default=function(t){"string"==typeof t&&(t=o.default.parseXML(t));var e="";return(0,o.default)(t).children().children().each(function(){var t=function(t,e){var n="";return t&&void 0!==t.attr(e)&&(n=function(t){var e=t;return e=(e=(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')).replace(/\r/g,"")).replace(/\n/g," ")}(t.attr(e))),n}((0,o.default)(this),"xfdf:original");t&&""!==t&&0!==t.length||(t=this.tagName);var n=(0,o.default)(this).text();e+='<field name="'+t+'"><value>'+n+"</value></field>"}),new Blob(['<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="a.pdf"/><fields>\n'+e+'</fields>\n<ids original="abcdef" modified="0123456"/>\n</xfdf>'],{type:"application/vnd.xfdf"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(n(331));var o=r(n(109));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=(0,o.default)("doc_text_search"),this.pattern=e,this.flags=n,this.doc=r,this.api=r.api,this.startPageIndex=0,this.currentPageIndex=0,this.endPageIndex=r.getPageCount()-1}return t.prototype.getId=function(){return this.id},t.prototype.findNext=function(){var t=this;return this.getCurrentPageTextSearch().then(function(t){return t.findNext()}).then(function(e){return e||(t.currentPageIndex<t.endPageIndex?(t.currentPageIndex++,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,t.findNext()):(t.currentPageIndex=t.startPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,null))})},t.prototype.findNexts=function(){var t=this;return this.getCurrentPageTextSearch().then(function(e){return new Promise(function(n,o){t.iterationPageFindNext(e,[],function(e){if(e.length){var r=t.currentPageIndex<t.endPageIndex;return t.currentPageIndex<t.endPageIndex?(t.currentPageIndex++,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null):(t.currentPageIndex=t.startPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null),n({hasMore:r,list:e})}return t.currentPageIndex<t.endPageIndex?(t.currentPageIndex++,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,t.findNexts().then(function(t){n(t)},function(){o()})):(t.currentPageIndex=t.startPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,n({hasMore:!1,list:e}))})})}).then(function(t){return t})},t.prototype.iterationPageFindNext=function(t,e,n){var o=this;t.findNext().then(function(r){if(!r)return n(e);e.push(r),o.iterationPageFindNext(t,e,n)})},t.prototype.findPrev=function(){var t=this;return this.getCurrentPageTextSearch().then(function(t){return t.findPrev()}).then(function(e){return e||(t.currentPageIndex>t.startPageIndex?(t.currentPageIndex--,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,t.findPrev()):(t.currentPageIndex=t.endPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,null))})},t.prototype.getCurrentPageTextSearch=function(){var t=this;return this.currentPageTextSearch?Promise.resolve(this.currentPageTextSearch):this.currentPageTextSearchPromise?this.currentPageTextSearchPromise:this.currentPageTextSearchPromise=this.doc.getPageByIndex(this.currentPageIndex).then(function(e){return e.getTextSearch(t.pattern,t.flags)}).then(function(e){return t.currentPageTextSearch=e,t.currentPageTextSearchPromise=null,e})},t.prototype.setStartPageIndex=function(t){this.startPageIndex=t},t.prototype.setCurrentPageIndex=function(t){t<this.startPageIndex&&(t=this.startPageIndex),t>this.endPageIndex&&(t=this.endPageIndex),this.currentPageIndex!==t&&this.destroy(),this.currentPageIndex=t},t.prototype.setEndPageIndex=function(t){this.endPageIndex=t},t.prototype.destroy=function(){var t=this;this.currentPageTextSearch&&this.currentPageTextSearch.destroy(),this.currentPageTextSearch=null,this.currentPageTextSearchPromise&&this.currentPageTextSearchPromise.then(function(e){e.destroy(),t.currentPageTextSearch=null}),this.currentPageTextSearchPromise=null},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.info=n,this.changes={}}return t.prototype.updateProperty=function(t,e){this.changes[t]=e,this.doc.api.updateFormControl(this.doc.id,this.info.objectNumber,t,e)},t.prototype.getProperty=function(t){return this.changes[t]},t.prototype.isEmpty=function(){return this.changes==={}},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(64),r=n(8),i=function(t){return t&&t.__esModule?t:{default:t}}(n(867));var a=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.form=n,this.info=o,this.updateControls(this.info.controls)}return t.prototype.getIndex=function(){return this.info.index},t.prototype.updateWidgetsUI=function(t,e,n,o,r){for(var i=0;i<this.info.controls.length;i++)this.controls[this.info.controls[i].objectNumber].updateProperty(n,o);for(var a=t.fieldWidgets[e]||[],s=[],u=function(t){!function(e,n){var o=a[t],i=void 0;(i=r?r(o):Promise.resolve()).then(function(t){o.updateUI({type:e,value:n})}),s.push(i)}(n,o)},c=0;c<a.length;c++)u(c);return Promise.all(s).then(function(t){return!0})},t.prototype.getPDFForm=function(){return this.form},t.prototype.getName=function(){return this.info.name},t.prototype.getAlternateName=function(){return this.info.alternateName},t.prototype.setAlternateName=function(t){this.info.alternateName=t,this.update("alternateName",t)},t.prototype.getType=function(){return this.info.type},t.prototype.getFlags=function(){return this.info.flag},t.prototype.setComb=function(t){this.info.flag=t?this.info.flag|o.FieldFlag.TextComb:this.info.flag&~o.FieldFlag.TextComb,this.updateWidgetsUI(this.form,this.info.name,"comb",t),this.update("flag",this.info.flag)},t.prototype.setMultiline=function(t){this.info.flag=t?this.info.flag|o.FieldFlag.TextMultiline:this.info.flag&~o.FieldFlag.TextMultiline,this.updateWidgetsUI(this.form,this.info.name,"multiline",t),this.update("flag",this.info.flag)},t.prototype.update=function(t,e){return this.doc.api.updateField(this.doc.id,this.info.name,t,e).then(function(t){})},t.prototype.getValue=function(){return String(this.info.value).length>0?this.info.value:this.info.defaultValue.length>0?this.info.defaultValue:""},t.prototype.getValueIndex=function(){for(var t=this.info.options,e=0;e<t.length;e++)if(t[e].value==this.info.value)return e;return-1},t.prototype.getDefaultValue=function(){return this.info.defaultValue},t.prototype.setDefaultValue=function(t){return this.update("defaultValue",t),this.info.defaultValue=t},t.prototype.getAlignment=function(){return this.info.alignment},t.prototype.setAlignment=function(t){if(1!==this.getType()){var e=void 0;switch(t){case 0:e="left";break;case 1:e="center";break;case 2:e="right"}return this.updateWidgetsUI(this.form,this.info.name,"align",e),this.update("align",t),this.info.alignment=t}},t.prototype.setAlignmentWithString=function(t,e){return this.updateWidgetsUI(this.form,this.info.name,"align",e||t),this.update("align",t),this.info.alignment=t},t.prototype.getBorderStyle=function(){var t=this.form.fieldWidgets[this.getName()];if(!t||!t.length)return"solid";switch(t[0].getBorderStyle()){case 0:return"solid";case 1:return"dashed";case 2:return"underline";case 3:return"beveled";case 4:return"inset"}},t.prototype.getRotation=function(){var t=this.form.fieldWidgets[this.getName()];return t&&t.length?-90*t[0].getRotation():"0"},t.prototype.setBorderStyle=function(t){if(7===this.getType())return Promise.resolve(!1);var e=void 0,n=void 0;switch(t){case"solid":n=0;break;case"dashed":n=1,e=[3,3];break;case"underline":n=2;break;case"beveled":n=3,t="outset";break;case"inset":n=4;break;default:return}return this.setBorderStyleWithParam(n,t,e)},t.prototype.setBorderStyleWithParam=function(t,e,n){return this.updateWidgetsUI(this.form,this.info.name,"borderStyle",e,function(e){return e.setBorderStyle(t,n)})},t.prototype.setBorderColor=function(t){return 7===this.getType()?Promise.resolve(!1):(t=(0,r.colorConvertor)(t,"int"),this.updateWidgetsUI(this.form,this.info.name,"borderColor",t,function(e){return e.setMKProperty("borderColor",t)}))},t.prototype.getBorderColor=function(){var t=this.form.fieldWidgets[this.getName()];return t&&t.length?t[0].getMKProperty("borderColor"):0},t.prototype.setFillColor=function(t){return 7===this.getType()?Promise.resolve(!1):(t=(0,r.colorConvertor)(t,"int"),this.updateWidgetsUI(this.form,this.info.name,"fillColor",t,function(e){return e.setMKProperty("fillColor",t)}))},t.prototype.getFillColor=function(){var t=this.form.fieldWidgets[this.getName()];return t&&t.length>0?t[0].getMKProperty("fillColor"):0},t.prototype.getOptions=function(){return this.info.options},t.prototype.getMaxLength=function(){return this.info.maxLength},t.prototype.setMaxLength=function(t){return 6!==this.getType()?0:(this.info.maxLength=t,this.updateWidgetsUI(this.form,this.info.name,"maxLength",t),this.update("maxLength",t),t)},t.prototype.setValueWithoutAction=function(t){this.info.value=t},t.prototype.setValue=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(7===this.getType()||1===this.getType())return"";var r=this.getType()==o.FieldType.RadioButton||this.getType()==o.FieldType.CheckBox,i=this.getType()==o.FieldType.ListBox;if(r){var a=!1;this.info.controls.forEach(function(t){t.exportValue==e&&(a=!0)}),a||(e="Off")}if(i){for(var s=this.getOptions(),u=!1,c=0;c<s.length;c++){if(s[c].value==e){u=!0;break}}u||(e="")}return e=""+e,this.info.value=e,this.doc.api.setFieldValue(this.doc.id,this.info.name,e).then(function(o){t.updateWidgetsUI(t.form,t.info.name,"value",e,function(t){return r?Promise.resolve(t.setAS(e,n)):Promise.resolve()})}),e},t.prototype.setValueByIndex=function(t){var e=this.info.options[t].value;return this.setValue(e),t},t.prototype.setHidden=function(t){this.updateWidgetsUI(this.form,this.info.name,"hidden",t,function(e){var n=e.info.flag;return t?(n&=-2,n&=-33,n|=6):(n&=-2,n&=-3,n&=-33,n|=4),e.setFlagValue(n)})},t.prototype.setPassword=function(t){this.info.flag=t?this.info.flag|o.FieldFlag.TextPassword:this.info.flag&~o.FieldFlag.TextPassword,this.updateWidgetsUI(this.form,this.info.name,"password",t),this.update("flag",this.info.flag)},t.prototype.setReadonly=function(t){this.info.flag=t?this.info.flag|o.FieldFlag.ReadOnly:this.info.flag&~o.FieldFlag.ReadOnly,this.updateWidgetsUI(this.form,this.info.name,"readonly",t),this.update("flag",this.info.flag)},t.prototype.setRequired=function(t){this.info.flag=t?this.info.flag|o.FieldFlag.Required:this.info.flag&~o.FieldFlag.Required,this.updateWidgetsUI(this.form,this.info.name,"required",t),this.update("flag",this.info.flag)},t.prototype.setMKProperty=function(t,e){this.updateWidgetsUI(this.form,this.info.name,t,e,function(n){return n.setMKProperty(t,e)})},t.prototype.clearItems=function(){this.info.options.length=0,this.info.value="",this.updateWidgetsUI(this.form,this.info.name,"clearItems"),this.update("clearItems")},t.prototype.deleteItems=function(t){this.info.options[t].value==this.info.value&&this.info.value,this.info.options.splice(t,1),this.updateWidgetsUI(this.form,this.info.name,"deleteItems",t),this.update("deleteItems",t)},t.prototype.insertItemAt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;-2==n&&(n=this.info.options.length-1),e||(e=t);var o=this.info.options;this.info.options=[].concat(o.slice(0,n),{lable:t,value:e,defaultSelected:!1,selected:!1},o.slice(n,o.length)),this.updateWidgetsUI(this.form,this.info.name,"insertItemAt",n),this.update("insertItemAt",{index:n,lable:t,value:e,defaultSelected:!1,selected:!1})},t.prototype.showDisplayValue=function(t){this.updateWidgetsUI(this.form,this.info.name,"displayValue",t)},t.prototype.getAction=function(t){if(!this.engineActions)for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=this.doc.engine.actionFactory.createAction(this.info.AA[e],this);return this.engineActions[t]},t.prototype.getDAFontSize=function(){return this.info.DA.textSize},t.prototype.getDAFontColor=function(){return this.info.DA.textColor},t.prototype.setDAFontColor=function(t){var e=(0,r.colorConvertor)(t,"int");return this.info.DA.textColor=e,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,r.colorConvertor)(t,"HTML")),this.update("textColor",e),e},t.prototype.getControl=function(t){return this.controls[t]},t.prototype.getWidget=function(t){var e=this,n=this.form.fieldWidgets[this.getName()][t];return n.getObjNum()==this.info.controls[t].objectNumber?n:(this.form.fieldWidgets[this.getName()].map(function(o){n.getObjNum()==e.info.controls[t].objectNumber&&(n=o)}),n)},t.prototype.getControlObjectNumber=function(t){return this.info.controls[t].objectNumber},t.prototype.removeControlInfo=function(t){for(var e=0;e<this.info.controls.length;e++){if(this.info.controls[e].objectNumber==t){this.info.controls.splice(e,1);break}}return this.info.controls.length},t.prototype.getControlCount=function(){return this.info.controls.length},t.prototype.focus=function(){var t=this.form.fieldWidgets[this.info.name];t&&t[0]&&t[0].updateUI({type:"focus"})},t.prototype.getExportValues=function(){for(var t=this.form.fieldWidgets[this.info.name],e=[],n=0;n<t.length;n++)e.push(t[n].getOnAS());return e},t.prototype.setWidgetDisplay=function(t){this.updateWidgetsUI(this.form,this.info.name,"display",t,function(e){return e.setDisplay(t)})},t.prototype.setIconObj=function(t,e){this.updateWidgetsUI(this.form,this.info.name,"icon",null,function(n){return n.setIconObj(t,e)})},t.prototype.setOptions=function(t){4!==this.getType()&&5!==this.getType()||(this.info.options=t,this.info.value="",this.updateWidgetsUI(this.form,this.info.name,"setItems"),this.update("setItems",this.info.options))},t.prototype.setItems=function(t){t=t.map(function(t){return"string"==typeof t?{value:t,lable:t,selected:!1,defaultSelected:!1}:{value:t[1],lable:t[0],selected:!1,defaultSelected:!1}}),this.setOptions(t)},t.prototype.setDisplayValue=function(t){this.displayValue=t},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.setRect=function(t){this.updateWidgetsUI(this.form,this.info.name,"rect",t,function(e){return e.setRect(t)})},t.prototype.updateControls=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.controls={};for(var e=0;e<t.length;e++){var n=new i.default(this.doc,t[e]);this.controls[t[e].objectNumber]=n}this.info.controls=t},t.prototype.setAction=function(t,e){var n={objNumber:-1,type:"TypeJavaScript",subAction:[],subActionCount:0,javascript:e};(this.form.fieldWidgets[this.info.name]||[]).forEach(function(t){t.setAction(n)})},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=l(n(868)),a=l(n(19)),s=l(n(1)),u=n(64),c=l(n(84));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.engine=n,this.api=n.api,this.fields=[],this.fieldsNameMap={},this.fieldWidgets={},this.actionDepth=0,this.calculationEnabled=!0}return t.prototype.mapFormControl=function(t,e){this.fieldWidgets[t]=this.fieldWidgets[t]||[],this.fieldWidgets[t].push(e)},t.prototype.isEmpty=function(){return!this.fields.length},t.prototype.setActionHandler=function(t){this.actionHandler=t},t.prototype.setFormJson=function(t){if(t){this.formInfo=t;for(var e=0,n=t.fields.length;e<n;e++){var o=t.fields[e],i=new r.default(this.doc,this,o);this.fields.push(i),this.fieldsNameMap[o&&o.name||e]=i}}},t.prototype.getAlignment=function(){return this.formInfo.alignment},t.prototype.getFieldCount=function(){return this.fields.length},t.prototype.getField=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.fieldsNameMap[t];if(!e||n)return n;var o=[];for(var r in this.fieldsNameMap)r.startsWith(t)&&o.push(this.fieldsNameMap[r]);return o},t.prototype.getFieldByIndex=function(t){return this.fields[t]},t.prototype.setFieldValue=function(t,e){if("string"==typeof t&&(t=this.fieldsNameMap[t]),t.setValue(e),this.actionDepth++,this.actionDepth<2){var n=this.formInfo.calculationOrder;for(var o in n){var r=this.getField(n[o]),i=r.getAction(c.default.FieldRecalculateValue);i&&this.actionHandler&&this.actionHandler(i,t,r,c.default.FieldRecalculateValue)}}this.actionDepth--},t.prototype.calculate=function(t){if(this.calculationEnabled){if("string"==typeof t&&(t=this.fieldsNameMap[t]),this.actionDepth++,this.actionDepth<2){var e=this.formInfo.calculationOrder;for(var n in e){var o=this.getField(e[n]),r=o.getAction(c.default.FieldRecalculateValue);r&&this.actionHandler&&this.actionHandler(r,t,o,c.default.FieldRecalculateValue)}}this.actionDepth--}},t.prototype.resetForm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments[2];this.enumFields(t,n,function(t,n,o){var r=e.getField(n),i=r.getDefaultValue();r.setValue(i)},!0),o&&this.calculate(o)},t.prototype.submitForm=function(t,e,n){var o={};switch(u.FormActionFlags.getType(n)){case"HTML":this.enumFields(fields,n,function(t,e,n){o[e]=n});break;case"FDF":o={formData:this.exportFDF(e,n)};break;case"XFDF":o={formData:this.exportXFDF(e,n)};break;case"PDF":return console.error("unspported submition type")}var r=u.FormActionFlags.isGetMethod(n);s.default.ajax({url:t,type:r?"GET":"POST",data:o,async:!1,success:function(t){console.log("submit form success."),console.log(t)},error:function(t){console.log("submit form failed."),console.log(t)}})},t.prototype.enumFields=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(u.FormActionFlags.isExclude(e)){var r=Object.keys(this.fieldsNameMap);if(0==(t=r.filter(function(e){return-1==t.indexOf(e)})).length)return}0==t.length&&(t=Object.keys(this.fieldsNameMap));for(var i=u.FormActionFlags.isIncludeNoValueFields(e),a=0;a<t.length;a++){var s=t[a],c=this.getField(s);if(c){var l=c.getType(),f=c.getValue();l==u.FieldType.Sign||l==u.FieldType.PushButton||u.FieldFlag.isNoExport(c.getFlags())&&!o||!f&&!i||n(l,c.getName(),f||"")}}},t.prototype.exportFDF=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[37,70,68,70,45,49,46,50,10,49,32,48,32,111,98,106,10,60,60,47,70,68,70,60,60,47,70,40];p(n,this.doc.info.fileName),p(n,")/Fields[",!0),this.enumFields(t,e,function(t,e,o){switch(p(n,"<</T(",!0),p(n,e),p(n,")/V",!0),t){case u.FieldType.CheckBox:case u.FieldType.RadioButton:p(n,"/",!0),p(n,o);break;default:p(n,"(",!0),p(n,o),p(n,")")}p(n,">>",!0)});var o="]/ID[<"+this.doc.info.fileID[0]+"><"+this.doc.info.fileID[1]+">]/UF("+this.doc.info.fileName+")>>/Type/Catalog>>\nendobj\ntrailer\n<</Root 1 0 R>>\n%%EOF";return p(n,o,!0),new Uint8Array(n)},t.prototype.exportXFDF=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n='<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="'+this.doc.info.fileName+'"/><fields>\n',o='</fields>\n<ids original="'+this.doc.info.fileID[0]+'" modified="'+this.doc.info.fileID[1]+'"/>\n</xfdf>',r="";return this.enumFields(t,e,function(t,e,n){r+='<field name="'+e+'"><value>'+n+"</value></field>"}),n+r+o},t.prototype.importFDF=function(t){var e=t.match(/<<\/T\([\s\S]*?\)(\/V[\s\S]*?)?>>/g);for(var n in e){var o=e[n].match(/<<\/T\(([\s\S]*?)\)(?:\/V\/?([\s\S]*?))?>>/);if(void 0!==o[2]){var r=this.getField(o[1]);if(!r)return;var i=o[2];i!==r.getValue()&&(i=r.getType()===u.FieldType.CheckBox||r.getType()===u.FieldType.RadioButton?d(i):d(i.match(/\(([\s\S]*)\)/)[1]),r.setValue(i))}}},t.prototype.importXFDF=function(t){var e=t.match(/<field\s*name=["|'][\s\S]*?["|']\s*?>\s*?(<value\s*?(\/>|>[\s\S]*?<\/value\s*?>))?\s*?<\/field\s*?>/g);for(var n in e){var o=e[n].match(/<field name=["|']([\s\S]*?)["|']\s*?>\s*?<value\s*?(?:\/>|>([\s\S]*?)<\/value\s*?>)/);if(o&&void 0!==o[2]){var r=this.getField(o[1]);if(!r)return;var i=o[2];i!==r.getValue()&&r.setValue(i)}}},t.prototype.exportXML=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="",o={},r=0;return this.enumFields(t,e,function(t,e,i){var a=e,s="",u=e.match(/[^0-9][a-zA-Z0-9:\-_\.]*/);u&&u[0].length!==e.length&&(a="fxTag"+e.replace(/[^a-zA-Z0-9]/g,""),s=' xfdf:original="'+e+'"'),isNaN(parseInt(a))||(a="fxTag"+e,s||(s=' xfdf:original="'+e+'"')),i=function(t){if(!t)return"";var e=t;return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\'/g,"&apos;")).replace(/\"/g,"&quot;")}(i);for(var c=a;c in o;)c=a+r,r+=1;o[c]=!0,n+="<"+a+s+">"+i+"</"+a+">\r"}),'<?xml version="1.0" encoding="UTF-8"?><fields xmlns:xfdf="http://ns.adobe.com/xfdf-transition/">'+n+"</fields>"},t.prototype.importXML=function(t){this.isEmpty()||("string"==typeof t&&(t=s.default.parseXML(t)),(0,s.default)(t).children().children().each(function(){var t=getNodeString((0,s.default)(this),"xfdf:original");t&&""!==t&&0!==t.length||(t=this.tagName);var e=(0,s.default)(this).text(),n=this.getField(t);n&&n.setValue(e)}))},t.prototype.upadateValue=function(t){for(var e in t){var n=this.getField(e);if(!n)return;var o=t[e];o!==n.getValue()&&n.setValue(o)}},t.prototype.updateFields=function(t,e,n){switch(e){case"controlFlag":var o=!0,r=!1,i=void 0;try{for(var a,s=Object.keys(this.fieldsNameMap)[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var u=a.value;u.startsWith(t)&&this.fieldsNameMap[u].setWidgetDisplay(n)}}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}}},t.prototype.addControlSync=function(t){return this.addControl(t.pageIndex,t.fieldName,t.fieldType,t.rect),this.fieldsNameMap[t.fieldName]},t.prototype.addControl=function(t,e,n,s){var u=this;if(t<0||t>this.doc.getPageCount()-1||!e||!n||n<1||n>6)return Promise.resolve(!1);var c=this.fieldsNameMap[e];if(!c&&!this.isEmpty()){var l=g(e,n);this.formInfo.fields.push(l),c=new r.default(this.doc,this,l),this.fields.push(c),this.fieldsNameMap[l&&l.name||i]=c}return this.doc.api.addControl(this.doc.id,t,e,n,s).then(function(e){return e.form?u.setFormJson(e.form):c.updateControls(e.controls),u.doc.getPageByIndex(t)}).then(function(t){return Promise.all([t,t.getUnloadedAnnots()])}).then(function(t){var e=o(t,2),n=e[0],r=e[1];return u.engine.eventEmitter.emit(a.default.annotationAdd,r,n),Promise.resolve(!0)})},t.prototype.removeEngineField=function(t){delete this.fieldWidgets[t],delete this.fieldsNameMap[t],this.fields.splice();var e=0;this.fields.forEach(function(n,o){if(n.getName()==t)return e=o,!1}),this.fields.splice(e,1)},t.prototype.removeField=function(t){if(!this.fieldsNameMap[t]||7==this.fieldsNameMap[t].getType())return Promise.resolve(!1);var e=this.fieldWidgets[t];for(var n in e)e[n].getPDFPage().clearAnnotIds([e[n].getId()]),this.engine.eventEmitter.emit(a.default.annotationRemoved,[e[n]],e[n].getPDFPage());return this.removeEngineField(t),this.doc.api.removeField(this.doc.id,t)},t.prototype.removeControl=function(t,e){var n=this.fieldWidgets[t];for(var o in n)if(n[o].getObjNum()==e){n[o].getPDFPage().clearAnnotIds([n[o].getId()]),this.engine.eventEmitter.emit(a.default.annotationRemoved,[n[o]],n[o].getPDFPage()),n.splice(o,1);break}return 0==this.fieldsNameMap[t].removeControlInfo(e)&&this.removeEngineField(t),this.doc.api.removeControl(this.doc.id,t,e)},t.prototype.fixPageFields=function(t){return this.doc.api.fixPageFields(this.doc.id,fieldName,t)},t.prototype.setFieldsValue=function(t,e){return this.doc.api.setFieldsValue(this.doc.id,t,e)},t}();function p(t,e,n){var o=void 0;for(o=0;o<e.length&&!(e.charCodeAt(o)>255);o++);if(o!==e.length)for(t.push(254),t.push(255),o=0;o<e.length;o++)t.push(e.charCodeAt(o)>>8),t.push(255&e.charCodeAt(o));else for(o=0;o<e.length;o++)t.push(e.charCodeAt(o))}function d(t){if(254==t.charCodeAt(0)&&255==t.charCodeAt(1)){for(var e="",n=2;n<t.length;n+=2)e+=String.fromCharCode((t.charCodeAt(n)<<8)+t.charCodeAt(n+1));return e}return t}var h={alignment:0,alternateName:"",controls:[{index:0,isChecked:!1,isDefaultChecked:!1,isEmpty:!1,objectNum:-1}],DA:{flags:3,fontName:"FoxitSansOTF",textColor:4278190080,textSize:0},defaultValue:"",flag:0,mappingName:"",maxLength:0,name:"",options:[],topVisibleIndex:0,type:1,value:"",isEmpty:!1,AA:{}},g=function(t,e){var n=JSON.parse(JSON.stringify(h));return n.defaultValue=n.value=2==e||3==e?"Off":"",n.name=t,n.type=e,n};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(47)),r=i(n(120));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,u));return c.rootFile=c.info.rootFile&&new r.default(c.info.rootFile)||null,c}return a(e,t),e.prototype.getDestinationName=function(){return this.info.destinationName},e.prototype.getDestination=function(){return this.info.destination},e.prototype.getRootFile=function(){return this.rootFile},e.prototype.getNewWindowFlag=function(){return this.info.newWindowFlag},e.prototype.checkOutData=function(t){return function(t){var e=void 0;return e=!!t.type,{ZoomXYZ:function(){e=null!=t.pageIndex&&null!=t.left&&null!=t.top&&null!=t.zoomFactor},ZoomFitPage:function(){e=!(null==t.pageIndex)},ZoomFitHorz:function(){e=null!=t.pageIndex&&null!=t.top},ZoomFitVert:function(){e=null!=t.pageIndex&&t.left},ZoomFitRect:function(){e=null!=t.pageIndex&&t.left&&null!=t.top&&null!=t.bottom&&null!=t.right},ZoomFitBBox:function(){e=!(null==t.pageIndex)},ZoomFitBHorz:function(){e=null!=t.pageIndex&&null!=t.top},ZoomFitBVert:function(){e=null!=t.pageIndex&&null!=t.left}}[t.type](),e&&t.buffer&&t.newWindowFlag}(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(47)),r=i(n(120));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,u));return c.fileSpec=c.info.fileSpec&&new r.default(c.info.fileSpec)||null,c}return a(e,t),e.prototype.getDestinationName=function(){return this.info.destinationName},e.prototype.getDestination=function(){return this.info.destination},e.prototype.getFileSpec=function(){return this.fileSpec},e.prototype.getNewWindowFlag=function(){return this.info.newWindowFlag},e.prototype.getFileSpecStream=function(){var t=[];return this.api.getActionFileStream(this.doc.getId(),this.info.objNumber,function(e){var n=e.arrayBuffer;t.push(n)}).then(function(){return t})},e.prototype.checkOutData=function(t){return function(t){var e=void 0;return e=!!t.type,{ZoomXYZ:function(){e=null!=t.pageIndex&&null!=t.left&&null!=t.top&&null!=t.zoomFactor},ZoomFitPage:function(){e=!(null==t.pageIndex)},ZoomFitHorz:function(){e=null!=t.pageIndex&&null!=t.top},ZoomFitVert:function(){e=null!=t.pageIndex&&t.left},ZoomFitRect:function(){e=null!=t.pageIndex&&t.left&&null!=t.top&&null!=t.bottom&&null!=t.right},ZoomFitBBox:function(){e=!(null==t.pageIndex)},ZoomFitBHorz:function(){e=null!=t.pageIndex&&null!=t.top},ZoomFitBVert:function(){e=null!=t.pageIndex&&null!=t.left}}[t.type](),e&&t.buffer&&t.newWindowFlag}(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return o(e,t),e.prototype.getFieldNames=function(){return this.info.fieldNames},e.prototype.getHideState=function(){return this.info.hideState},e.prototype.checkOutData=function(t){return t&&t.fieldNames&&t.hideState},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(47)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=n,n instanceof o.PDFDoc||(this.doc=n.doc),this.engine=o,this.destination=e}return t.createFitBBox=function(t,e,n){return t.Destination.CreateFitBBox(e,n.pageIndex)},t.createFitBHorz=function(t,e,n){return t.Destination.CreateFitBHorz(e,n.pageIndex,n.top)},t.createFitBVert=function(t,e,n){return t.Destination.CreateFitBHorz(e,n.pageIndex,n.left)},t.createFitHorz=function(t,e,n){return t.Destination.CreateFitHorz(e,n.pageIndex,n.top)},t.createFitPage=function(t,e,n){return t.Destination.CreateFitPage(e,n.pageIndex)},t.createFitRect=function(t,e,n){return t.Destination.CreateFitRect(e,n.pageIndex,n.left,n.bottom,n.right,n.top)},t.createFitVert=function(t,e,n){return t.Destination.CreateFitVert(e,n.pageIndex,n.left)},t.createFromPDFArray=function(t,e,n){return t.Destination.CreateFromPDFArray(e,n.pdfArray)},t.createXYZ=function(t,e,n){return t.Destination.CreateXYZ(e,n.pageIndex,n.left,n.top,n.zoomFactor)},t.prototype.toJson=function(){var t=null;return this.destination.IsEmpty()||(t={top:this.getTop(),bottom:this.getBottom(),left:this.getLeft(),right:this.getRight(),pageIndex:this.getPageIndex(),zoomFactor:this.getZoomFactor(),zoomMode:this.getZoomMode()}),t},t.prototype.getTop=function(){return this.destination.GetTop()},t.prototype.getBottom=function(){return this.destination.GetBottom()},t.prototype.getLeft=function(){return this.destination.GetLeft()},t.prototype.getRight=function(){return this.destination.GetRight()},t.prototype.getPageIndex=function(){return this.destination.GetPageIndex(this.doc)},t.prototype.getDestArray=function(){return this.destination.GetDestArray()},t.prototype.getZoomFactor=function(){return this.destination.GetZoomFactor()},t.prototype.getZoomMode=function(){return this.destination.GetZoomMode().constructor.name.replace(/^ZoomMode_e_/,"")},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));r(n(40)),r(n(873));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getDestination=function(){return this.info.destination},e.prototype.checkOutData=function(t){return function(t){var e=void 0;return e=!!t.type,{ZoomXYZ:function(){e=null!=t.pageIndex&&null!=t.left&&null!=t.top&&null!=t.zoomFactor},ZoomFitPage:function(){e=!(null==t.pageIndex)},ZoomFitHorz:function(){e=null!=t.pageIndex&&null!=t.top},ZoomFitVert:function(){e=null!=t.pageIndex&&t.left},ZoomFitRect:function(){e=null!=t.pageIndex&&t.left&&null!=t.top&&null!=t.bottom&&null!=t.right},ZoomFitBBox:function(){e=!(null==t.pageIndex)},ZoomFitBHorz:function(){e=null!=t.pageIndex&&null!=t.top},ZoomFitBVert:function(){e=null!=t.pageIndex&&null!=t.left}}[t.type](),e}(t)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(47)),r=(i(n(40)),i(n(120)));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,u));return c.fileSpec=c.info.fileSpec&&new r.default(c.info.fileSpec)||null,c}return a(e,t),e.prototype.getFDFFileSpec=function(){return this.fileSpec},e.prototype.checkOutData=function(t){return t&&t.buffer},e.prototype.updateAction=function(e){return this.fileSpec=e.fileSpec&&new r.default(e.fileSpec)||null,t.prototype.updateAction.call(this,e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));r(n(40));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getFlags=function(){return this.info.flags},e.prototype.getURL=function(){return this.info.url},e.prototype.getFieldNames=function(){return this.info.fieldNames},e.prototype.checkOutData=function(t){return t&&t.fieldNames},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));r(n(40)),r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getFlags=function(){return this.info.flags},e.prototype.getURL=function(){return this.info.url},e.prototype.getFieldNames=function(){return this.info.fieldNames},e.prototype.checkOutData=function(t){return t&&t.fieldNames&&t.url},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));r(n(40)),r(n(19));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getScript=function(){return this.info.javascript},e.prototype.checkOutData=function(t){return t&&t.script},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));r(n(40)),r(n(19));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getName=function(){return this.info.name},e.prototype.checkOutData=function(t){return t&&t.name},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(47)),r=i(n(120));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,u));return c.fileSpec=c.info.fileSpec&&new r.default(c.info.fileSpec)||null,c}return a(e,t),e.prototype.getFileSpec=function(){return this.fileSpec},e.prototype.checkOutData=function(t){return t&&t.buffer},e.prototype.updateAction=function(e){return this.fileSpec=e.fileSpec&&new r.default(e.fileSpec)||null,t.prototype.updateAction.call(this,e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));r(n(40)),r(n(19));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getURI=function(){return this.info.uri},e.prototype.checkOutData=function(t){return t&&t.uri},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.match=e}return t.prototype.getEndCharIndex=function(){return this.match.endCharIndex},t.prototype.getPageIndex=function(){return this.match.pageIndex},t.prototype.getRects=function(){return this.match.rectArray},t.prototype.getSentence=function(){return this.match.sentence},t.prototype.getSentenceStartIndex=function(){return this.match.sentenceStartIndex},t.prototype.getStartCharIndex=function(){return this.match.startCharIndex},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(30),i=c(n(146)),a=c(n(19)),s=c(n(331)),u=(c(n(330)),c(n(34)));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.info=e,this.doc=n,this.engine=n.engine,this.api=n.api,this._pxWdith=(0,r.pt2px)(this.getWidth()),this._pxHeight=(0,r.pt2px)(this.getHeight()),this.annots=[],this.annotIdMap={},this.info.AA[0]&&(this.openAction=this.engine.actionFactory.createAction(this.info.AA[0],n,this.api,this.engine.eventEmitter,this)),this.info.AA[1]&&(this.closeAction=this.engine.actionFactory.createAction(this.info.AA[1],n,this.api,this.engine.eventEmitter,this))}return t.prototype.getAction=function(t){return"open"==t?this.openAction:this.closeAction},t.prototype.getId=function(){return this.info.id},t.prototype.getInfo=function(){return this.info},t.prototype.getPDFDoc=function(){return this.doc},t.prototype.getIndex=function(){return this.info.index},t.prototype.getWidth=function(){return this.info.width},t.prototype.getHeight=function(){return this.info.height},t.prototype.updateInfo=function(){var t=this;return this.api.updatePageInfo(this.getPDFDoc().getId(),this.getId()).then(function(e){t.info=e,t._pxWdith=(0,r.pt2px)(t.getWidth()),t._pxHeight=(0,r.pt2px)(t.getHeight()),t.engine.eventEmitter.emit(a.default.pageInfoChange,t)})},t.prototype.getRotation=function(){return this.info.rotation},t.prototype.setRotation=function(t){var e=this,n=this.getRotation();return t===n?Promise.resolve():this.api.setPageRotation(this.getPDFDoc().getId(),this.getId(),t).then(function(t){return Promise.all([t,e.updateInfo()])}).then(function(t){var r=o(t,1)[0];e.engine.eventEmitter.emit(a.default.pageRotationChange,e,r,n)},function(){return Promise.reject()})},t.prototype.getRotationAngle=function(){var t=this.getRotation();if(4===t)throw"unknown rotation angle";return[0,90,180,270][t]},t.prototype.getPxWidth=function(){return this._pxWdith},t.prototype.getPxHeight=function(){return this._pxHeight},t.prototype.getPDFMatrix=function(){return new i.default(this.info.matrix)},t.prototype.getDeviceMatrix=function(){var t=this.getPDFMatrix();t.translate(0,-this.getHeight());var e=(0,r.pt2px)(1);return t.scale(e,-e),t},t.prototype.getDeviceMatrix2=function(){var t=this.getPDFMatrix(),e=this.getRotation(),n=(0,r.pt2px)(1);switch(e%4){case 0:t.translate(0,-this.getHeight()),t.scale(n,-n);break;case 1:t.scale(-n,n),t.rotate(Math.PI/2);break;case 2:t.translate(-this.getWidth(),0),t.scale(-n,n);break;case 3:t.translate(this.getWidth(),this.getHeight()),t.rotate(Math.PI/2),t.scale(n,-n)}return t},t.prototype.getDevicePoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getDeviceMatrix();return n.scale(e,e),n.transformPoint(t[0],t[1])},t.prototype.getDeviceRect=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.getDeviceMatrix());n.scale(e,e);var o=n.transformRect(t.left,t.top,t.right,t.bottom);return{left:o[0],top:o[1],right:o[2],bottom:o[3]}},t.prototype.reverseDevicePoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getDeviceMatrix();return n.scale(e,e),n.setReverse(),n.transformPoint(t[0],t[1])},t.prototype.reverseDeviceOffset=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getDeviceMatrix();return n.e=n.f=0,n.scale(e,e),n.setReverse(),n.transformPoint(t[0],t[1])},t.prototype.reverseDeviceRect=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getDeviceMatrix();n.scale(e,e),n.setReverse();var o=n.transformRect(t.left,t.top,t.right,t.bottom);return{left:o[0],top:o[3],right:o[2],bottom:o[1]}},t.prototype.getPageBitmap=function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view";return this.api.getPageBitmap(this.getPDFDoc().getId(),this.getId(),t,e,n,o,r)},t.prototype.getPageAndHighlightBitmap=function(t,e,n){return this.api.getPageAndHighlightBitmap(this.getPDFDoc().getId(),this.getId(),t,e,n)},t.prototype.getAnnotBitmap=function(t,e,n,o){return this.api.getAnnotBitmap(this.getPDFDoc().getId(),this.getId(),t,e,n,o)},t.prototype.getAnnotBitmapByRange=function(t,e,n,o){return this.api.getAnnotBitmapByRange(this.getPDFDoc().getId(),this.getId(),t,e,n,o)},t.prototype.getAnnotCount=function(){return this.info.annotCount},t.prototype.getAnnots=function(){var t=this,e=Object.keys(this.annotIdMap);return e.length?Promise.resolve(e.map(function(e){return t.annotIdMap[e]})):this.annotsPromise=this.annotsPromise||this.api.getAnnots(this.getPDFDoc().getId(),this.getId()).then(function(e){return e.map(function(e){return t.engine.annotManager.get(e,t)})}).then(function(e){t.annotIdMap=e.reduce(function(t,e,n){return t[e.getId()]=e,t},t.annotIdMap);var n=e.map(function(e){return e.reviseSummary(function(e){return t.annotIdMap[e]})});return Promise.all(n).then(function(){return t.annots=e,t.annotsPromise=null,t.annots})})},t.prototype.getMarkupAnnots=function(){var t=!0===arguments[0];return this.getAnnots().then(function(e){return function(e){var n=[],o=[];(e=e.filter(function(t){return t.isMarkup()&&!t.isDeleted()&&!function(t){return"popup"===t}(t.getType())&&!function(t){return"widget"===t}(t.getType())&&t.getReplies&&(!t.isStateAnnot||!t.isStateAnnot())})).forEach(function(t){var e=t.getReplies();n.push.apply(n,l(e)),n.forEach(function t(e){if(!e&&e.getReplies){var o=e.getReplies();n.push.apply(n,l(o)),o.forEach(t)}}),o.push.apply(o,l(t.getReviewStates())),o.push.apply(o,l(t.getMarkedStates()))});var r=e.filter(function(t){return-1===n.indexOf(t)&&-1===o.indexOf(t)});return t?r.reduce(function(t,e){var n=e.getGroupHeader&&e.getGroupHeader()||e;return-1===t.indexOf(n)&&t.push(n),t},[]):(r.forEach(function(t){"Replace"===t.getIntent()&&t.groupElements.forEach(function(e){if(e!==t){var n=r.indexOf(e);n>-1&&r.splice(n,1)}})}),r)}(e)})},t.prototype.getAnnotTree=function(){var t=this,e=!0===arguments[0];return this.getMarkupAnnots(e).then(function(e){return t.getAnnots().then(function(t){var n=t.filter(function(t){return!t.isMarkup()&&!t.isDeleted()&&"popup"!==t.info.type});return e.concat(n).sort(function(e,n){return t.indexOf(e)-t.indexOf(n)})})})},t.prototype.getAnnotIdAtDevicePoint=function(t,e,n){return this.api.getAnnotIdAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:t[0],y:t[1]},e,n)},t.prototype.getCharInfoAtPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.api.getCharInfoAtPoint(this.getPDFDoc().getId(),this.getId(),{x:t[0],y:t[1]},e)},t.prototype.removeAnnot=function(t){return this.removeAnnotById(t.getId())},t.prototype.removeAnnotById=function(t){var e=this;return this.getAnnots().then(function(n){return e.api.removeAnnot(e.getPDFDoc().getId(),e.getId(),t)}).then(function(t){return e.clearRelatives(t),e.clearAnnotIds(t)}).then(function(t){return e.engine.eventEmitter.emit(a.default.annotationRemoved,t,e),t})},t.prototype.changeAnnotId=function(t,e){t in this.annotIdMap&&(this.annotIdMap[e]=this.annotIdMap[t],delete this.annotIdMap[t])},t.prototype.removeAllAnnot=function(){var t=this,e=void 0;return this.getAnnots().then(function(n){return e=Object.keys(t.annotIdMap),t.api.removePageAllAnnot(t.getPDFDoc().getId(),t.getId())}).then(function(){return t.clearRelatives(e),t.clearAnnotIds(e)}).then(function(e){return t.engine.eventEmitter.emit(a.default.annotationRemoved,e,t),e})},t.prototype.getThumb=function(){var t=this.getPDFDoc().getId(),e=this.getId();return this.api.getThumb(t,e)},t.prototype.clearRelatives=function(t){if(Array.isArray(t)&&t){var e=t.slice(0);this.getAnnots().then(function(t){t.some(function(t){return t instanceof u.default&&0==(e=t.removeRepliesByIdLocaly(e)).length})})}},t.prototype.clearAnnotIds=function(t){for(var e=[],n=this.annotIdMap,o=this.info,r=t.length;r--;){var i=t[r];e[r]=n[i],e[r]?e[r].info.isDeleted=!0:(console.log("have not info"),console.log(e[r])),delete n[i],o.annotCount--}return e},t.prototype.addReplyAnnot=function(t){return this.addAddonAnnot(t)},t.prototype.addAddonAnnot=function(t){var e=this,n=t.getId();return this.info.annotCount++,this.annotIdMap[n]=t,t.reviseSummary(function(t){return e.annotIdMap[t]})},t.prototype.removeAddonAnnotById=function(t){return!!this.annotIdMap[t]&&(this.info.annotCount-=1,delete this.annotIdMap[t])},t.prototype.addAnnot=function(t){var e=this,n=this.getPDFDoc().getId(),o=this.getId();return this.api.addAnnot(n,o,t).then(function(t){return e._doAfterAddAnnots(t)})},t.prototype.markRedactAnnot=function(t,e){var n=this,o=this.getPDFDoc().getId(),r=this.getId();return this.api.markRedactAnnot(o,r,t,e).then(function(t){return n._doAfterAddAnnots(t)})},t.prototype.addAnnotGroup=function(t,e){var n=this,o=this.getPDFDoc().getId(),r=this.getId();return this.api.addAnnotGroup(o,r,t,e).then(function(t){return n._doAfterAddAnnots(t)})},t.prototype._doAfterAddAnnots=function(t){var e=this,n=t.map(function(t){return t&&e.engine.annotManager.get(t,e)});n.reduce(function(t,e){return t[e.getId()]=e,t},this.annotIdMap);var o=n.map(function(t){return t.reviseSummary(function(t){return e.annotIdMap[t]})});return Promise.all(o).then(function(){return e.engine.eventEmitter.emit(a.default.annotationAdd,n,e),n})},t.prototype.getUnloadedAnnots=function(){var t=this,e=this.getPDFDoc().getId(),n=this.getId();return this.api.getPageAnnotIDList(e,n).then(function(o){var r=o.filter(function(e){return!t.annotIdMap[e]});return t.api.getAnnots(e,n,r).then(function(e){return e.map(function(e){return e?t.engine.annotManager.get(e,t):null})}).then(function(e){var n=e.reduce(function(t,e){return t[e.getId()]=e,t},{});t.annotIdMap=o.reduce(function(e,o){return e[o]=t.annotIdMap[o]||n[o],e},{});var r=e.map(function(e){return e?e.reviseSummary(function(e){return t.annotIdMap[e]}):Promise.resolve()});return Promise.all(r)})})},t.prototype.getTextRectsAtRect=function(t){return this.api.getTextRectsAtRect(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.getTextContinuousRectsAtRect=function(t){return this.api.getTextContinuousRectsAtRect(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.getTextContinuousCharsAtRect=function(t){return this.api.getTextContinuousCharsAtRect(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.getTextSearch=function(t,e){var n=this;return this.api.getTextSearch(this.getPDFDoc().getId(),this.getId(),t,e).then(function(t){return new s.default(t,n)})},t.prototype.destroy=function(){return this.api.destroyPage(this.getPDFDoc().getId(),this.getId())},t.prototype.getAnnotsByIdArray=function(t){var e=this;return this.getAnnots().then(function(){for(var n=e.annotIdMap,o=[],r=0,i=t.length;r<i;r++){var a;(a=n[t[r]])&&o.push(a)}return o})},t.prototype.flatten=function(t){return this.api.flatten(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.addImage=function(t,e){var n=this,o={x:e.left,y:e.bottom},r=e.right-e.left,i=e.top-e.bottom;return this.api.addPageImage(this.getPDFDoc().getId(),this.getId(),t,o,r,i).then(function(t){return t&&n.engine.eventEmitter.emit(a.default.imageAdded,n),t})},t.prototype.addWatermark=function(t){var e=this;return this.api.addWatermark(this.getPDFDoc().getId(),this.getId(),t).then(function(t){if(t)if(t.typeInEngine&&"AnnotType_e_Watermark"===t.typeInEngine){var n=[].concat(e.engine.annotManager.get(t,e));e.engine.eventEmitter.emit(a.default.annotationAdd,n,e)}else e.engine.eventEmitter.emit(a.default.watermarkAdded,e);return t})},t.prototype.getGraphicsObjectAtPoint=function(t,e,n){var o=this;return this.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),t,e,n).then(function(t){return o.engine.graphicsObjectManager.get(t,o)})},t.prototype.setGraphicsObjectMatrix=function(t){var e=this;return this.api.setGraphicsObjectMatrix(this.getPDFDoc().getId(),t).then(function(t){e.engine.eventEmitter.emit(a.default.graphicsUpdated,e)})},t.prototype.addGraphicsObject=function(t){var e=this;return this.api.addGraphicsObject(this.getPDFDoc().getId(),this.getId(),t).then(function(t){return e.engine.eventEmitter.emit(a.default.graphicsUpdated,e),e.engine.graphicsObjectManager.get(t,e)})},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(333)),r=c(n(332)),i=c(n(862)),a=c(n(329)),s=c(n(841)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(837));c(n(197));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=new o.default(e),this.annotManager=new i.default,this.actionFactory=a.default,this.graphicsObjectManager=new s.default(this),this.eventEmitter=n,this.userName=null}return t.prototype.init=function(){return this.api.init().catch(function(t){return Promise.reject(t.error)})},t.prototype.setIcons=function(t){return this.api.setIcons(t)},t.prototype.addIcon=function(t){return this.api.addIcon(t)},t.prototype.removeIcon=function(t,e,n){return this.api.removeIcon(t,e,n)},t.prototype.getPDFDocByFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.fileName=n.fileName||t.name||"",this.api.getPDFDocIdByFile(t).then(function(t){return new r.default(t,e,n)})},t.prototype.createNewDoc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDoc(t,n,o).then(function(n){return new r.default(n,e,{fileName:t})})},t.prototype.getPDFDocByChunk=function(t,e,n){var o=this;return this.api.getPDFDocIdByChunk(t,e).then(function(t){return new r.default(t,o,n)})},t.prototype.getPDFDocByHttpRangeRequest=function(t,e){var n=this;return this.api.getPDFDocIdByHttpRangeRequest(t).then(function(t){return new r.default(t,n,e)})},t.prototype.getPDFDocByArrayBuffer=function(t,e){var n=this;return this.api.getPDFDocIdByArrayBuffer(t).then(function(t){return new r.default(t,n,e)})},t.prototype.getPDFDocById=function(t,e){return Promise.resolve(new r.default(t,this,e))},t.prototype.setUserName=function(t){var e=this;return this.api.setUserName(t).then(function(n){e.userName=t})},t.prototype.getUserName=function(){var t=this;return this.userName?Promise.resolve(this.userName):this.api.getUserName().then(function(e){return t.userName=e,e})},t.prototype.setDynamicInfoFormula=function(t,e){return this.api.setDynamicInfoFormula(t,e)},t.prototype.getUtils=function(){return u},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(884)),r=i(n(836));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return i.api=new r.default(n),i}return a(e,t),e.prototype.registerSecurityCallback=function(t,e){return this.api.registerSecurityCallback(t,e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(41));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.show=function(){(0,o.default)()},t.prototype.hide=function(){(0,o.default)()},t.prototype.destroy=function(){(0,o.default)()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(41));r(n(886)),r(n(199));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){this.pdfViewer=t},t.prototype.showReply=function(t){(0,o.default)()},t.prototype.showPropertiesInfo=function(t){(0,o.default)()},t.prototype.createContextMenu=function(t,e,n){(0,o.default)()},t}();e.default=i},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-print-process">\n    <div class="fv__ui-print-process-title">',e+=(0,o.$escape)(t.title),e+='</div>\n    <div class="fv__ui-print-process-digital-progress"><span class="fv__ui-print-process-current">0</span>/<span class="fv__ui-print-process-total">0</span></div>\n    <div class="fv__ui-print-process-bar">\n        <div class="fv__ui-print-process-percent"></div>\n    </div>\n</div>'}},function(t,e,n){"use strict";function o(t,e){if(!function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function t(e,n){o(this,t),this.counter=0,this.modes={iframe:"iframe",popup:"popup"},this.standards={strict:"strict",loose:"loose",html5:"html5"};var r={mode:this.modes.iframe,standard:this.standards.html5,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!0,extraCss:"",extraHead:"",retainAttr:["id","class","style"]};this.settings=Object.assign({},r,n),this.idPrefix="printArea_",this.ele=1===e.nodeType?e:document.querySelector(e)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"print",value:function(){var t=this;this.counter++;for(var e=document.querySelectorAll("[id^="+this.idPrefix+"]");e.length;)e[0].parentNode.removeChild(e[0]),e=document.querySelectorAll("[id^="+this.idPrefix+"]");this.settings.id=this.idPrefix+this.counter;var n=this.getPrintWindow();this.write(n.doc,this.ele),setTimeout(function(){t.windowPrint(n)},1e3)}},{key:"windowPrint",value:function(t){var e=t.win;e.focus(),e.print(),this.settings.mode===this.modes.popup&&this.settings.popClose&&setTimeout(function(){e.close()},1e3)}},{key:"write",value:function(t,e){t.open(),t.write(this.docType()+"<html>"+this.getHead()+this.getBody(e)+"</html>"),t.close()}},{key:"docType",value:function(){return this.settings.mode===this.modes.iframe?"":this.settings.standard===this.standards.html5?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(this.settings.standard===this.standards.loose?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(this.settings.standard===this.standards.loose?"loose":"strict")+'.dtd">'}},{key:"getHead",value:function(){var t="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,function(e){t+=e});var e=document.querySelectorAll("link");return e=Array.from(e).filter(function(t){var e=t.getAttribute("rel");return e&&"stylesheet"===e.toLowerCase()}).filter(function(t){var e=t.getAttribute("media");return!e||"print"===e.toLowerCase()||"all"===e.toLowerCase()}).map(function(t){var e=t.getAttribute("href");return'<link type="text/css" rel="stylesheet" href="'.concat(e,'" >')}),this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,function(e){t+='<link type="text/css" rel="stylesheet" href="'+e+'">'}),"<head><title>"+this.settings.popTitle+"</title>"+t+e.join()+"</head>"}},{key:"getBody",value:function(t){var e="",n=this.settings.retainAttr,o=this.getFormData(t),r="";return n.forEach(function(t){var e=o.getAttribute(t);e&&(r+=(r.length>0?" ":"")+t+"='"+e+"'")}),"<body>"+(e+="<div "+r+">"+o.innerHTML+"</div>")+"</body>"}},{key:"getFormData",value:function(t){var e=t.cloneNode(!0),n=e.querySelectorAll("input,select,textarea");return Array.from(t.querySelectorAll("input,select,textarea")).forEach(function(t,e){var o=t.getAttribute("type");if(!o){var r=t.nodeName;o="SELECT"===r?"select":"TEXTAREA"===r?"textarea":""}var i=n[e];if("radio"===o||"checkbox"===o)i.removeAttribute("checked"),t.checked&&i.setAttribute("checked",!0);else if("text"===o||""===o)i.setAttribute("value",t.textContent);else if("select"===o){var a=t.querySelectorAll("option"),s=i.querySelectorAll("option");Array.from(a).forEach(function(t,e){s[e].removeAttribute("selected"),t.selected&&s[e].setAttribute("selected",!0)})}else"textarea"===o&&(i.textContent=t.value)}),e}},{key:"getPrintWindow",value:function(){switch(this.settings.mode){case this.modes.iframe:var t=this.Iframe();return{win:t.contentWindow||t,doc:t.doc};case this.modes.popup:var e=this.Popup();return{win:e,doc:e.doc}}}},{key:"Iframe",value:function(){var t,e=this.settings.id;try{t=document.createElement("iframe"),document.body.appendChild(t),t.setAttribute("style","border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;"),t.setAttribute("id",e),t.setAttribute("src","#"+(new Date).getTime()),t.doc=null,t.doc=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:t.document}catch(t){throw t+". iframes may not be supported in this browser."}if(null==t.doc)throw"Cannot find document.";return t}},{key:"Popup",value:function(){var t="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";t+=",width="+this.settings.popWd+",height="+this.settings.popHt,t+=",resizable=yes,screenX="+this.settings.popX+",screenY="+this.settings.popY+",personalbar=no,scrollbars=yes";var e=window.open("","_blank",t);return e.doc=e.document,e}}]),t}();e.default=i},function(t,e,n){t.exports=n(889)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(890)),r=a(n(888));n(1675);var i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.a4Width=794,this.a4Height=1123,this.printDom=(0,i.default)("<div id='print-dom'></div>"),this.total=0}return t.prototype.setTotal=function(t){this.total=t},t.prototype.getScale=function(t,e){return Math.min(this.a4Width/t,this.a4Height/e)},t.prototype.createPagePrintHtml=function(t){this.printDom.append("<div style='page-break-after:always;width: 100%;height:100%;position: relative;' data-index="+t+"><img style='position: absolute;left:0;top:0;'></img></div>")},t.prototype.insertImageByIndex=function(t,e){this.printDom.find("[data-index="+t+"] img").prop({src:e})},t.prototype.print=function(){var t=new o.default(this.printDom[0]);t.getHead=function(){return"<style>*{margin: 0;padding: 0;}</style>"},t.print(),this.out()},t.prototype.out=function(){this.printDom.empty()},t.prototype.showProcess=function(){var t=this.pdfViewer.i18n.t("viewer_:dialog.printProcess");this.$process=(0,i.default)((0,r.default)({title:t})),this.$process.find(".fv__ui-print-process-total").html(this.total),(0,i.default)(document.body).append(this.$process)},t.prototype.updateProcess=function(t){this.$process.find(".fv__ui-print-process-current").html(t),this.$process.find(".fv__ui-print-process-percent").css({width:t/this.total*100+"%"})},t.prototype.hideProcess=function(){this.$process.remove()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=e,this.bottom=n,this.right=o,this.top=r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(34)),r=i(n(110));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s={setContent:function(t){var e=t.method;return function(){t.host[e](t.content)}},setBorderColor:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.color).then(function(){n.updateRender()})}},setOpacity:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.opacity).then(function(){n.updateRender()})}},updateQuadPointsByCharIndex:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.start,t.end).then(function(){n.isReplace?n.caretAnnot.moveRectByCharIndex(t.end).then(function(){n.getGroupRenders().map(function(t){t.active()})}):n.active()})}},setStyleFillColor:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.fillColor)}},setFillColor:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.fillColor)}},setBorderWidth:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.borderWidth)}},setBorderStyle:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.borderStyle.style,t.borderStyle.param)}},setCalloutLineEndingStyle:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](+t.style).then(function(){n.activeRect(),n.redraw()})}},setEndingStyle:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.isBeginning,+t.style).then(function(){n.activeRect(),n.redraw()})}},enableCaption:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.enableCaption)}},setRotation:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o]((t.rotation+360)%360)}},setHighlightingMode:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.mode)}},setRect:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.rect).then(function(){n.active()})}},eraseInk:function(t){t.host.pdfViewer;var e=t.host.annot;e.getUniqueID(),e.getPDFPage().getIndex()},updateLinePoints:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=(t.method,n.getUniqueID()),r=n.getPDFPage().getIndex(),i=[];return function(){var n=e.getAnnotRender(r,o).component;i.push(n.annot.setStartPoint(t.startPoint)),i.push(n.annot.setEndPoint(t.endPoint)),Promise.all(i).then(function(){n.active()})}},setLeaderLineLength:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex(),a=t.leaderLinePoints,s=t.startPoint,u=t.endPoint,c=a.start,l=(a.end,Math.sqrt(Math.pow(s.x-c.x,2)+Math.pow(s.y-c.y,2))),f=!0;return(u.x-s.x)*(c.y-u.y)-(c.x-u.x)*(u.y-s.y)>0&&(f=!1),f&&(l=-l),function(){var t=e.getAnnotRender(i,r).component;t.annot[o](l).then(function(){t.active()})}},updateVertexes:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex(),a=t.vertexes,s=t.index;return function(){var t=e.getAnnotRender(i,r).component;t.annot[o](s,a[s]).then(function(){t.active()})}},removeAnnot:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex(),s=void 0,c=void 0,l=[];return(o.getReplies&&o.getReplies()||[]).map(function(t){l.push({id:t.getId(),content:t.getContent(),createTime:new Date(t.getCreateDateTime()).getTime(),modifiedTime:new Date(t.getModifiedDateTime()).getTime()})}),o.isGrouped&&o.isGrouped()?(s=[],o.groupElements.map(function(t,e){s.push(new u(t).getJson()),t.isGroupHeader()&&(c=e)})):s=new u(o).getJson(),"before"===e?"redact"===o.getType()?function(){i.markRedactAnnot(s.rects,s.name)}:o.isGrouped&&o.isGrouped()?function(){i.addAnnotGroup(s,c).then(function(){var t=n.getAnnotRender(a,r).component;l.length>0?f(t.annot).then(function(){t.getGroupRenders().map(function(t){t.active()})}):t.active()})}:function(){i.addAnnot(s).then(function(){var t=n.getAnnotRender(a,r).component;l.length>0?f(t.annot).then(function(){t.active()}):t.active()})}:function(){var t=n.getAnnotRender(a,r).component;i.removeAnnot(t.annot)};function f(t){var e=[];return l.map(function(n){e.push(t.addReply(n.content).then(function(t){t.setUniqueID(n.id).then(function(){t.setCreateDateTime(n.createTime).then(function(){t.setModifiedDateTime(n.modifiedTime)})})}))}),Promise.all(e)}},addAnnot:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex(),s=void 0,c=void 0;return o.isGrouped&&o.isGrouped()?(s=[],o.groupElements.map(function(t,e){s.push(new u(t).getJson()),t.isGroupHeader()&&(c=e)})):s=new u(o).getJson(),"before"===e?function(){i.removeAnnot(o)}:o.isGrouped&&o.isGrouped()?function(){i.addAnnotGroup(s,c).then(function(){n.getAnnotRender(a,r).component.getGroupRenders().map(function(t){t.active()})})}:function(){i.addAnnot(s).then(function(){n.getAnnotRender(a,r).component.active()})}},markRedactAnnot:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex();return"before"===e?function(){i.removeAnnot(o)}:function(){var t=new u(o).getJson();i.markRedactAnnot(t.rects,t.name).then(function(){n.getAnnotRender(a,r).component.active()})}},makeRedactByPages:function(t,e){var n=t.host;return"before"===e?function(){n.map(function(t){t.getPDFPage().removeAnnot(t)})}:function(){n.map(function(t){t.getPDFPage().markRedactAnnot([t.info.rect],t.id)})}},placeRedact:function(t,e){var n=t.host;return"before"===e?function(){n.map(function(t){t.getPDFPage().removeAnnot(t)})}:function(){n.map(function(t){t.getPDFPage().markRedactAnnot([t.info.rect],t.id)})}},eraser:function(t,e){var n=t.inkArray,o=t.host;return function(){n.map(function(t){o.getAnnotRender(t.annot.getId()).component.annot.setInkList(t.inkList)})}},updateCalloutPoints:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=(t.method,n.getUniqueID()),r=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(r,o).component;n.annot._setRect(t.rect,!1).then(function(){n.annot.setInnerRectNoAction(t.innerRect).then(function(){n.annot.setCalloutLinePoints(t.calloutLinePoints).then(function(){n.annot.update().then(function(){n.redraw(),n.active()})})})})}},addReply:function(t,e){var n=t.host,o=t.replyAnnot,r=(t.component,t.pdfViewer),i=n.getPDFPage(),a=i.getIndex(),s=n.getId(),u=o.getId(),c=o.getCreateDateTime(),l=o.getModifiedDateTime();return"before"===e?function(){i.removeAnnot(o)}:function(){r.getAnnotRender(a,s).component.annot.addReply(o.getContent()).then(function(t){t.setUniqueID(u).then(function(){t.setCreateDateTime(new Date(c).getTime()).then(function(){t.setModifiedDateTime(new Date(l).getTime())})})})}},deleteReply:function(t,e){var n=t.host,o=t.replyAnnot,r=t.pdfViewer,i=n.getPDFPage(),a=i.getIndex(),s=o.getId(),u=n.getId(),c=o.getCreateDateTime(),l=o.getModifiedDateTime();return"before"===e?function(){r.getAnnotRender(a,u).component.annot.addReply(o.getContent()).then(function(t){t.setUniqueID(s).then(function(){t.setCreateDateTime(new Date(c).getTime()).then(function(){t.setModifiedDateTime(new Date(l).getTime())})})})}:function(){i.removeAnnotById(s)}},addAction:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage().getIndex(),a=o.getAction();return"before"===e?function(){o.removeAction()}:function(){!function(t,e){t.setAction(e.type).then(function(){var n=new c(e).toJson();return t.setActionData(n).then(function(){return function t(e,n){var o=n.subActionCount;var r=[];var i=function(o){r.push(e.insertSubAction(o,n.subAction[o].type).then(function(){var r=new c(n.subAction[o]).toJson(),i=e.getSubAction(o);return i.setActionData(r).then(function(){return t(i,n.subAction[o])})}))};for(var a=0;a<o;a++)i(a);return Promise.all(r)}(t.getAction(),e)})})}(n.getAnnotRender(i,r).component.annot,a.info)}}};e.default=s;var u=function(){function t(e){a(this,t);var n=function(t){if("number"!=typeof t)throw new TypeError("Unexpected color value:"+t);if(t<0)return-1;var e=t.toString(16),n=6;for(t>16777215&&(n=8);e.length<n;)e="0"+e;return e}(e.getBorderColor());switch(this.json={objNumber:e.info.objNumber,name:e.getUniqueID(),rect:e.getRect(),color:n.length>6?"0x"+n:"0xff"+n,style:e.getBorderStyle(),contents:e.getContent(),date:new Date(e.getModifiedDateTime()).getTime(),type:e.getType(),flags:e.getFlags()},e instanceof o.default&&this.markup(e),e instanceof r.default&&this.textMarkup(e),e.getType()){case"ink":this.ink(e);break;case"fileattachment":this.fileattachment(e);break;case"polygon":this.polygon(e);break;case"polyline":this.polyline(e);break;case"stamp":this.stamp(e);break;case"freetext":this.freetext(e);break;case"screen":this.screen(e);break;case"line":this.line(e);break;case"redact":this.redact(e);break;case"highlight":this.highlight(e);break;case"link":this.link(e);break;case"square":this.square(e);break;case"circle":this.circle(e)}}return t.prototype.markup=function(t){this.json=Object.assign({intent:t.getIntent(),opacity:t.getOpacity(),subject:t.getSubject(),title:t.getTitle(),creationTimestamp:new Date(t.getCreateDateTime()).getTime()},this.json)},t.prototype.textMarkup=function(t){this.json=Object.assign({startCharIndex:t.getStartCharIndex(),endCharIndex:t.getEndCharIndex(),coords:t.getQuadPoints()},this.json)},t.prototype.ink=function(t){this.json=Object.assign({inkList:t.getInkList(),borderWidth:t.getBorderWidth()},this.json)},t.prototype.fileattachment=function(t){this.json=Object.assign({fObjNum:t.info.fObjNum},this.json)},t.prototype.polygon=function(t){this.json=Object.assign(this.json,{vertexes:t.getVertexes(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,fillColor:t.info.fillColor,style:void 0,borderWidth:t.getBorderWidth()})},t.prototype.polyline=function(t){this.json=Object.assign(this.json,{vertexes:t.getVertexes(),fillColor:t.info.fillColor,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0,startStyle:t.getStartStyle(),endStyle:t.getEndingStyle()})},t.prototype.stamp=function(t){this.json=Object.assign({icon:t.info.icon,rotate:(t.getRotation()+360)%360,apObjeNum:t.info.apObjeNum},this.json)},t.prototype.freetext=function(t){this.json=Object.assign(this.json,{calloutLinePoints:t.getCalloutLinePoints(),innerRect:t.getInnerRect(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0,"interior-color":t.getStyleFillColor(),borderWidth:t.getBorderWidth(),calloutLineEndingStyle:t.getCalloutLineEndingStyle()})},t.prototype.line=function(t){var e=t.getMeasureRatio(),n=t.getMeasureUnit(),o=null;e&&n&&(o={unit:n,ratio:e});var r=t.getStartPoint(),i=t.getEndPoint();this.json=Object.assign(this.json,{startStyle:t.getStartStyle(),endStyle:t.getEndingStyle(),enableCaption:t.hasCaption(),startPoint:{x:r.x,y:r.y},endPoint:{x:i.x,y:i.y},measure:o,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0})},t.prototype.screen=function(t){this.json=Object.assign({apObjNum:t.info.apObjNum,rotate:{0:0,90:1,180:2,270:3}[t.getRotation()],iObjNum:t.info.iObjNum,aObjNum:t.info.aObjNum,borderWidth:t.getBorderWidth()},this.json)},t.prototype.redact=function(t){var e=t.info.quadPoints,n=[];e.length>0?e.map(function(t){n.push({left:t[0].x,right:t[3].x,top:t[0].y,bottom:t[3].y})}):n.push(t.info.rect),this.json=Object.assign({rects:n},this.json)},t.prototype.highlight=function(t){t.info.isArea&&(this.json=Object.assign(this.json,{coords:[t.getRect()],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)},t.prototype.link=function(t){this.json=Object.assign(this.json,{aObjNum:t.info.aObjNum,borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0,borderWidth:t.getBorderWidth()})},t.prototype.circle=function(t){this.json=Object.assign(this.json,{fillColor:t.info.fillColor,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0})},t.prototype.square=function(t){this.json=Object.assign(this.json,{fillColor:t.info.fillColor,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0})},t.prototype.getJson=function(){return this.json},t}();var c=function(){function t(e){a(this,t),this.action=e,this.json={},this[e.type]()}return t.prototype.TypeGoto=function(){var t=this.action.destination;this.json=Object.assign(t,{type:t.zoomMode})},t.prototype.TypeURI=function(){var t=this.action.uri;this.json=Object.assign({},{uri:t})},t.prototype.TypeJavaScript=function(){var t=this.action.javascript;this.json=Object.assign({},{script:t})},t.prototype.TypeNamed=function(){var t=this.action.name;this.json=Object.assign({},{name:t})},t.prototype.TypeHide=function(){var t=this.action,e=t.fieldNames,n=t.hideState;this.json=Object.assign({},{fieldNames:e,hideState:n})},t.prototype.TypeSubmitForm=function(){var t=this.action,e=t.flags,n=t.url,o=t.fieldNames;this.json=Object.assign({},{flags:e,url:n,fieldNames:o})},t.prototype.TypeResetForm=function(){var t=this.action,e=t.flags,n=t.fieldNames;this.json=Object.assign({},{flags:e,fieldNames:n})},t.prototype.TypeGoToR=function(){var t=this.action,e=t.destinationName,n=t.destination;this.json=Object.assign({},{destinationName:e,destination:n})},t.prototype.toJson=function(){return this.json},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(893));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.undo=function(t){t.before()},t.redo=function(t){t.after()},t.createRecord=function(t,e){var n=t.method;return o.default[n](t,e)},t.getUniqueId=function(t){return t.host&&t.host.annot?t.host.annot.getId():null},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stackArray=[]}return t.prototype.push=function(t){this.stackArray.push(t)},t.prototype.pop=function(){return this.stackArray.pop()},t.prototype.size=function(){return this.stackArray.length},t.prototype.clear=function(){this.stackArray=[]},t.prototype.filter=function(t){this.stackArray=this.stackArray.filter(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(895)),r=s(n(894)),i=n(49),a=s(n(3));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.undoStack=new o.default,this.redoStack=new o.default,this.beforeFn=null,this.afterFn=null,this.pdfViewer.eventEmitter.on(a.default.willCloseDocument,function(){n.clear()}),this.addEventListener()}return t.prototype.addEventListener=function(){var t=this,e=this.pdfViewer.getKeyboardEventBinder(i.VIEWER_BINDER);this.removeUndo=e.on(i.KEY_MAP_DOCUMENT_UNDO,function(e){var n=e.native.target;"true"!==n.contentEditable&&"TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName&&t.undo()}),this.removeRedo=e.on(i.KEY_MAP_DOCUMENT_REDO,function(e){var n=e.native.target;"true"!==n.contentEditable&&"TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName&&t.redo()})},t.prototype.removeEventListener=function(){this.removeUndo(),this.removeRedo()},t.prototype.before=function(t){this.beforeFn=r.default.createRecord(t,"before")},t.prototype.after=function(t){this.afterFn=r.default.createRecord(t,"after"),this.remember(r.default.getUniqueId(t))},t.prototype.remember=function(t){this.beforeFn&&this.afterFn&&this.undoStack.push({before:this.beforeFn,after:this.afterFn,uniqueId:t})},t.prototype.removeById=function(t){this.undoStack.filter(function(e){return t!==e.uniqueId}),this.redoStack.filter(function(e){return t!==e.uniqueId})},t.prototype.undo=function(){var t=this.undoStack.pop();t&&(this.redoStack.push(t),r.default.undo(t))},t.prototype.redo=function(){var t=this.redoStack.pop();t&&(this.undoStack.push(t),r.default.redo(t))},t.prototype.clear=function(){this.undoStack.clear(),this.redoStack.clear()},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t}();e.default=u},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return a.name="customRender",a.data=n,a.eUi=o,a.eHandler=r,a.customsRender=i,a}return o(e,t),e.prototype.init=function(){},e.prototype.redraw=function(){},e.prototype.active=function(){},e.prototype.unActive=function(){},e.prototype.destroy=function(){},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(76)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(897));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.matchRules=[],this.getPageCustomData=function(){return[]},this.getCustomDataId=function(){}}return t.prototype.registerMatchRule=function(t){return this.matchRules.push(t),t},t.prototype.unRegisterMatchRule=function(t){var e=this.matchRules.indexOf(t);-1!==e&&this.matchRules.splice(e,1)},t.prototype.get=function(t){for(var e=this.matchRules,n=o.default,r=e.length;r--;){var i=e[r];if("function"==typeof i){var a=i(t,n);if(a)return a}}return n},t}();e.default=r},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=n(49);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=(i(o={},r.KEY_MAP_SELECT_ALL_ANNOTATIONS,{shortcut:"Ctrl+A",bindTo:r.VIEWER_BINDER}),i(o,r.KEY_MAP_POLYLINE_DELETE_LAST_POINT,{shortcut:"Backspace",bindTo:r.VIEWER_BINDER}),i(o,r.KEY_MAP_DOCUMENT_UNDO,{shortcut:"Ctrl+Z",bindTo:r.VIEWER_BINDER}),i(o,r.KEY_MAP_DOCUMENT_REDO,{shortcut:"Ctrl+Y",bindTo:r.VIEWER_BINDER}),i(o,r.KEY_MAP_DELETE_ANNOTATION,{shortcut:"Delete",bindTo:r.VIEWER_BINDER}),i(o,r.KEY_MAP_ESC_CREATING_DRAWING,{shortcut:"Escape",bindTo:r.ANNOTATION_CREATING_BINDER}),o);e.default=a},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.lastActives=[],i.isActive=!1,i}return o(e,t),e.prototype.active=function(){var e=this;t.prototype.active.call(this),this.keyboard.activeBinders.forEach(function(t){t!==e&&t.isActive&&(e.lastActives.push(t),t.deactive())})},e.prototype.deactive=function(){t.prototype.deactive.call(this),this.lastActives.forEach(function(t){return t.active()}),this.lastActives=[]},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(121)).default);e.default=r},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,n,o));return r.isActive=!1,r}return o(e,t),e.prototype.acceptElement=function(t){return document.activeElement===t},e.prototype.handleEvent=function(e,n){n.stopPropagation(),t.prototype.handleEvent.call(this,e,n)},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(121)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return[{binder:new i.default(r.FOCUS_ELEMENT_BINDER,0)},{binder:new a.default(document.body,r.ANNOTATION_PROPERTIES_BINDER,0)},{binder:new a.default(document.body,r.DOCUMENT_PROPERTIES_BINDER,0)},{binder:new o.default(document.body,r.VIEWER_BINDER,0),active:!0},{binder:new o.default(document.body,r.ANNOTATION_CREATING_BINDER,0),deps:[r.VIEWER_BINDER]}]};var o=s(n(121)),r=n(49),i=s(n(901)),a=s(n(900));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nativeEvent=e,this.isStopped=!1}return t.prototype.stop=function(){this.isStopped=!0},t.prototype.stopPropagation=function(){this.nativeEvent.stopPropagation()},t.prototype.preventDefault=function(){this.nativeEvent.preventDefault()},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(202));var r=function(){function t(e,n,r,i,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctrlKey=e,this.shiftKey=n,this.altKey=r,this.metaKey=i,this.keyCode=a,this.key=o.default.toString(a),this.native=s,this.propagationStopped=!1,this.preventedDefault=!1}return t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.preventDefault=function(){this.preventedDefault=!0},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeStrMap=void 0;var o=n(338);e.KeyCodeStrMap=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._keyCodeToStr=[],this._strToKeyCode={}}return t.prototype.define=function(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t},t.prototype.keyCodeToStr=function(t){return this._keyCodeToStr[t]},t.prototype.strToKeyCode=function(t){return this._strToKeyCode[t.toLowerCase()]||o.KeyCodes.Unknown},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1}return t.prototype.getPassword=function(){return this.password},t.prototype.setPassword=function(t){var e=this.encipherment;this.password=e?e(t):t,this.isEncryption=!!e},t.prototype.setEncryptionAlgorithm=function(t){this.encipherment=t},t.prototype.verify=function(t){var e=void 0;this.isEncryption?e=this.encipherment(t)===this.password:e=t===this.password;return e},t.prototype.getDataURL=function(){return this.dataURL},t.prototype.setDataURL=function(t){this.dataURL=t},t.prototype.export=function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}},t.prototype.import=function(t){this.password=t.password,this.dataURL=t.dataURL,this.encipherment=t.encipherment,this.isEncryption=t.isEncryption},t.prototype.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,o=new Uint8Array(n);n--;)o[n]=e.charCodeAt(n);return o},t.prototype.arrayBufferToBase64=function(t){for(var e="",n=new Uint8Array(t),o=n.byteLength,r=0;r<o;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(906)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.inkSignList=[],this.currentInkSign=null}return t.prototype.getList=function(){return this.inkSignList},t.prototype.push=function(t){this.inkSignList.push(t),this.pdfViewer.eventEmitter.emit(r.default.inkSignAdded,this.inkSignList)},t.prototype.delete=function(t){this.inkSignList.splice(t,1),this.pdfViewer.eventEmitter.emit(r.default.inkSignDeleted,this.inkSignList)},t.prototype.get=function(t){return this.inkSignList[t]},t.prototype.addInkSign=function(){return new o.default},t.prototype.setCurrentInkSign=function(t){this.currentInkSign=this.inkSignList[t]},t.prototype.getCurrentInkSign=function(){return this.currentInkSign},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(54)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.stateHandlers={},this.currentStateHandler=o.default,this.register(o.default),this.config=e.config.stateHandlerConfig||{}}return t.prototype.getStateHandlerConfig=function(t){return this.config[t]},t.prototype.setStateHandlerConfig=function(t,e){this.config[t]=e},t.prototype.pushStateHandlerConfig=function(t,e){var n=this.config[t];this.config[t]=Object.assign(e,n)},t.prototype.register=function(t){this.stateHandlers[t.getStateName()]=t},t.prototype.get=function(t){return this.stateHandlers[t]||o.default},t.prototype.switchTo=function(t){var e=this.currentStateHandler,n=this.get(t);if(e!==n){this.currentStateHandler=n;var o=this.pdfViewer.pdfViewerRender;if(o){var i=o.pdfDocRender;if(i){i.setStateHandler(n);var a=i.pagesRender;if(a){var s=a.pageRenders;if(s){for(var u=0,c=s.length;u<c;u++)s[u].setStateHandler(n);this.pdfViewer.eventEmitter.emit(r.default.switchStateHandler,n,e),t&&this.pdfViewer.setActiveElement(null)}}}}}},t.prototype.getCurrentStates=function(){return this.currentStateHandler},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={clear:function(){window.console.clear()},show:function(){return!0},hide:function(){return!0},println:function(t){window.console.log(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={Times:"Times-Roman",TimesB:"Times-Bold",TimesI:"Times-Italic",TimesBI:"Times-BoldItalic",Helv:"Helvetica",HelvB:"Helvetica-Bold",HelvI:"Helvetica-Oblique",HelvBI:"Helvetica-BoldOblique",Cour:"Courier",CourB:"Courier-Bold",CourI:"Courier-Oblique",CourBI:"Courier-BoldOblique",Symbol:"Symbol",ZapfD:"ZapfDingbats"}},function(t,e,n){t.exports=n(205).PassThrough},function(t,e,n){t.exports=n(205).Transform},function(t,e,n){t.exports=n(90)},function(t,e,n){t.exports=n(204)},function(t,e,n){"use strict";t.exports=i;var o=n(341),r=n(122);function i(t){if(!(this instanceof i))return new i(t);o.call(this,t)}r.inherits=n(91),r.inherits(i,o),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var o=!1;return function(){if(!o){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return t.apply(this,arguments)}}}).call(this,n(60))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var o,r=1,i={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},o=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;o=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return i[r]=a,o(r),r++},u.clearImmediate=c}function c(t){delete i[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=i[t];if(e){a=!0;try{!function(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}(e)}finally{c(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(60),n(111))},function(t,e,n){(function(t){var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(917),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(60))},function(t,e){},function(t,e,n){"use strict";var o=n(147).Buffer,r=n(919);function i(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e){e.read=function(t,e,n,o,r){var i,a,s=8*r-o-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?r-1:0,p=n?-1:1,d=t[e+f];for(f+=p,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=o;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,o),i-=c}return(d?-1:1)*a*Math.pow(2,i-o)},e.write=function(t,e,n,o,r,i){var a,s,u,c=8*i-r-1,l=(1<<c)-1,f=l>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:i-1,h=o?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,r),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;t[n+d]=255&s,d+=h,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+d]=255&a,d+=h,a/=256,c-=8);t[n+d-h]|=128*g}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],o=e[1];return 3*(n+o)/4-o},e.toByteArray=function(t){for(var e,n=c(t),o=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,o,a)),u=0,l=a>0?o-4:o,f=0;f<l;f+=4)e=r[t.charCodeAt(f)]<<18|r[t.charCodeAt(f+1)]<<12|r[t.charCodeAt(f+2)]<<6|r[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=r[t.charCodeAt(f)]<<2|r[t.charCodeAt(f+1)]>>4,s[u++]=255&e);1===a&&(e=r[t.charCodeAt(f)]<<10|r[t.charCodeAt(f+1)]<<4|r[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(f(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],i.push(o[e>>2]+o[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return i.join("")};for(var o=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)o[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}function f(t,e,n){for(var o,r=[],i=e;i<n;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),r.push(l(o));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e,n){t.exports=r;var o=n(206).EventEmitter;function r(){o.call(this)}n(91)(r,o),r.Readable=n(205),r.Writable=n(914),r.Duplex=n(913),r.Transform=n(912),r.PassThrough=n(911),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===o.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t){var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},o=0;o<e.length;o++)n[e[o]]=Object.getOwnPropertyDescriptor(t,e[o]);return n},r=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,i=o.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}}),u=o[n];n<i;u=o[++n])g(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,o){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,o).apply(this,arguments)};var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),r=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var o={seen:[],stylize:c};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),h(n)?o.showHidden=n:n&&e._extend(o,n),v(o.showHidden)&&(o.showHidden=!1),v(o.depth)&&(o.depth=2),v(o.colors)&&(o.colors=!1),v(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=u),l(o,t,o.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,o){if(t.customInspect&&n&&P(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,t);return y(r)||(r=l(t,r,o)),r}var i=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(P(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return f(n)}var c,w="",O=!1,E=["{","}"];(d(n)&&(O=!0,E=["[","]"]),P(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),A(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+f(n)),0!==a.length||O&&0!=n.length?o<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=O?function(t,e,n,o,r){for(var i=[],a=0,s=e.length;a<s;++a)C(e,String(a))?i.push(p(t,e,n,o,String(a),!0)):i.push("");return r.forEach(function(r){r.match(/^\d+$/)||i.push(p(t,e,n,o,r,!0))}),i}(t,n,o,s,a):a.map(function(e){return p(t,n,o,s,e,O)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,E)):E[0]+w+E[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,o,r,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),C(o,r)||(a="["+r+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(i&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===O(t)}function w(t){return"object"==typeof t&&null!==t}function A(t){return w(t)&&"[object Date]"===O(t)}function _(t){return w(t)&&("[object Error]"===O(t)||t instanceof Error)}function P(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var o=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,o,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=h,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=A,e.isError=_,e.isFunction=P,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(925);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(91),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t};var S="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(S&&t[S]){var e;if("function"!=typeof(e=t[S]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,S,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,o=new Promise(function(t,o){e=t,n=o}),r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);r.push(function(t,o){t?n(t):e(o)});try{t.apply(this,r)}catch(t){n(t)}return o}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),S&&Object.defineProperty(e,S,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=S,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return r.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(D,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,o(e)),n}}).call(this,n(111))},function(t,e,n){var o=n(926),r=function(t){this._mapped=!1,this._format=t,this._tokens=function(t,e,n,o){for(var r,i,a=[],s=0;r=e.exec(t);){if((i=t.slice(s,e.lastIndex-r[0].length)).length&&a.push(i),n){var u=n.apply(o,r.slice(1).concat(a.length));void 0!==u&&("%"===u.specifier?a.push("%"):a.push(u))}s=e.lastIndex}return(i=t.slice(s)).length&&a.push(i),a}(t,this._re,this._parseDelim,this)};r.prototype._re=/\%(?:\(([\w_.]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%bscdeEfFgGioOuxX])/g,r.prototype._parseDelim=function(t,e,n,o,r,i,a){return t&&(this._mapped=!0),{mapping:t,intmapping:e,flags:n,_minWidth:o,period:r,_precision:i,specifier:a}},r.prototype._specifiers={b:{base:2,isInt:!0},o:{base:8,isInt:!0},x:{base:16,isInt:!0},X:{extend:["x"],toUpper:!0},d:{base:10,isInt:!0},i:{extend:["d"]},u:{extend:["d"],isUnsigned:!0},c:{setArg:function(t){if(!isNaN(t.arg)){var e=parseInt(t.arg);if(e<0||e>127)throw new Error("invalid character code passed to %c in printf");t.arg=isNaN(e)?""+e:String.fromCharCode(e)}}},s:{setMaxWidth:function(t){t.maxWidth="."==t.period?t.precision:-1}},e:{isDouble:!0,doubleNotation:"e"},E:{extend:["e"],toUpper:!0},f:{isDouble:!0,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:!0,doubleNotation:"g"},G:{extend:["g"],toUpper:!0},O:{isObject:!0}},r.prototype.format=function(t){if(this._mapped&&"object"!=typeof t)throw new Error("format requires a mapping");for(var e,n="",o=0,r=0;r<this._tokens.length;r++)if("string"==typeof(e=this._tokens[r]))n+=e;else{if(this._mapped){for(var i=e.mapping.split("."),a=t,s=0,u=i.length;s<u&&void 0!==(a=a[i[s]]);s++);if(void 0===a)throw new Error("missing key "+e.mapping);e.arg=a}else{if(e.intmapping&&(o=parseInt(e.intmapping)-1),o>=arguments.length)throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");e.arg=arguments[o++]}if(!e.compiled){e.compiled=!0,e.sign="",e.zeroPad=!1,e.rightJustify=!1,e.alternative=!1;for(var c={},l=e.flags.length;l--;){var f=e.flags.charAt(l);switch(c[f]=!0,f){case" ":e.sign=" ";break;case"+":e.sign="+";break;case"0":e.zeroPad=!c["-"];break;case"-":e.rightJustify=!0,e.zeroPad=!1;break;case"#":e.alternative=!0;break;default:throw Error("bad formatting flag '"+e.flags.charAt(l)+"'")}}e.minWidth=e._minWidth?parseInt(e._minWidth):0,e.maxWidth=-1,e.toUpper=!1,e.isUnsigned=!1,e.isInt=!1,e.isDouble=!1,e.isObject=!1,e.precision=1,"."==e.period&&(e._precision?e.precision=parseInt(e._precision):e.precision=0);var p=this._specifiers[e.specifier];if(void 0===p)throw new Error("unexpected specifier '"+e.specifier+"'");if(p.extend){var d=this._specifiers[p.extend];for(var h in d)p[h]=d[h];delete p.extend}for(var g in p)e[g]=p[g]}if("function"==typeof e.setArg&&e.setArg(e),"function"==typeof e.setMaxWidth&&e.setMaxWidth(e),"*"==e._minWidth){if(this._mapped)throw new Error("* width not supported in mapped formats");if(e.minWidth=parseInt(arguments[o++]),isNaN(e.minWidth))throw new Error("the argument for * width at position "+o+" is not a number in "+this._format);e.minWidth<0&&(e.rightJustify=!0,e.minWidth=-e.minWidth)}if("*"==e._precision&&"."==e.period){if(this._mapped)throw new Error("* precision not supported in mapped formats");if(e.precision=parseInt(arguments[o++]),isNaN(e.precision))throw Error("the argument for * precision at position "+o+" is not a number in "+this._format);e.precision<0&&(e.precision=1,e.period="")}e.isInt?("."==e.period&&(e.zeroPad=!1),this.formatInt(e)):e.isDouble?("."!=e.period&&(e.precision=6),this.formatDouble(e)):e.isObject&&this.formatObject(e),this.fitField(e),n+=""+e.arg}return n},r.prototype._zeros10="0000000000",r.prototype._spaces10="          ",r.prototype.formatInt=function(t){var e=parseInt(t.arg);if(!isFinite(e)){if("number"!=typeof t.arg)throw new Error("format argument '"+t.arg+"' not an integer; parseInt returned "+e);e=0}e<0&&(t.isUnsigned||10!=t.base)&&(e=4294967295+e+1),e<0?(t.arg=(-e).toString(t.base),this.zeroPad(t),t.arg="-"+t.arg):(t.arg=e.toString(t.base),e||t.precision?this.zeroPad(t):t.arg="",t.sign&&(t.arg=t.sign+t.arg)),16==t.base&&(t.alternative&&(t.arg="0x"+t.arg),t.arg=t.toUpper?t.arg.toUpperCase():t.arg.toLowerCase()),8==t.base&&t.alternative&&"0"!=t.arg.charAt(0)&&(t.arg="0"+t.arg)},r.prototype.formatDouble=function(t){var e=parseFloat(t.arg);if(!isFinite(e)){if("number"!=typeof t.arg)throw new Error("format argument '"+t.arg+"' not a float; parseFloat returned "+e);e=0}switch(t.doubleNotation){case"e":t.arg=e.toExponential(t.precision);break;case"f":t.arg=e.toFixed(t.precision);break;case"g":Math.abs(e)<1e-4?t.arg=e.toExponential(t.precision>0?t.precision-1:t.precision):t.arg=e.toPrecision(t.precision),t.alternative||(t.arg=t.arg.replace(/(\..*[^0])0*e/,"$1e"),t.arg=t.arg.replace(/\.0*e/,"e").replace(/\.0$/,""));break;default:throw new Error("unexpected double notation '"+t.doubleNotation+"'")}t.arg=t.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1"),t.alternative&&(t.arg=t.arg.replace(/^(\d+)$/,"$1."),t.arg=t.arg.replace(/^(\d+)e/,"$1.e")),e>=0&&t.sign&&(t.arg=t.sign+t.arg),t.arg=t.toUpper?t.arg.toUpperCase():t.arg.toLowerCase()},r.prototype.formatObject=function(t){var e="."===t.period?t.precision:null;t.arg=o.inspect(t.arg,{showHidden:!t.alternative,depth:e,colors:t.sign,compact:!0})},r.prototype.zeroPad=function(t,e){e=2==arguments.length?e:t.precision;var n=!1;"string"!=typeof t.arg&&(t.arg=""+t.arg),"-"===t.arg.substr(0,1)&&(n=!0,t.arg=t.arg.substr(1));for(var o=e-10;t.arg.length<o;)t.arg=t.rightJustify?t.arg+this._zeros10:this._zeros10+t.arg;var r=e-t.arg.length;t.arg=t.rightJustify?t.arg+this._zeros10.substring(0,r):this._zeros10.substring(0,r)+t.arg,n&&(t.arg="-"+t.arg)},r.prototype.fitField=function(t){if(t.maxWidth>=0&&t.arg.length>t.maxWidth)return t.arg.substring(0,t.maxWidth);t.zeroPad?this.zeroPad(t,t.minWidth):this.spacePad(t)},r.prototype.spacePad=function(t,e){e=2==arguments.length?e:t.minWidth,"string"!=typeof t.arg&&(t.arg=""+t.arg);for(var n=e-10;t.arg.length<n;)t.arg=t.rightJustify?t.arg+this._spaces10:this._spaces10+t.arg;var o=e-t.arg.length;t.arg=t.rightJustify?t.arg+this._spaces10.substring(0,o):this._spaces10.substring(0,o)+t.arg},t.exports=function(){var t,e,o=Array.prototype.slice.call(arguments);o[0]instanceof n(924).Stream&&(t=o.shift()),e=o.shift();var i=new r(e),a=i.format.apply(i,o);if(!t)return a;t.write(a)},t.exports.Formatter=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(149)),r=i(n(927));function i(t){return t&&t.__esModule?t:{default:t}}e.default={printd:function(t,e,n){if(!e||!e instanceof Date||isNaN(e.getTime()))return"";if(t){if("string"==typeof t)return o.default.FXFormatDate(t,e);if("number"==typeof t)switch(t){case 0:var r="D:";return r+=e.getFullYear(),r+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r+=e.getDate()<10?"0"+e.getDate():e.getDate(),r+=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),r+=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),r+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();case 1:r="";return r+=e.getFullYear()+".",r+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r+=".",r+=e.getDate()<10?"0"+e.getDate():e.getDate(),r+=" ",r+=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),r+=":",r+=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),r+=":",r+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();case 2:r="";return r+=e.getFullYear()+"/",r+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r+="/",r+=e.getDate()<10?"0"+e.getDate():e.getDate(),r+=" ",r+=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),r+=":",r+=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),r+=":",r+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();default:return""}return""}return""},printf:function(t,e){if(!t||!e)return"";var n=arguments.length;if(n<1)return"";var o=t,i=(t=t.replace("%x","%X")).indexOf("%,"),a=!1,s=",";if(-1!=i){var u=parseInt(t.substr(i+2,1));if(u>4)return"";switch(u){case 0:a=TRUE,s=",",".";break;case 1:".";break;case 2:a=TRUE,s=".",",";break;case 3:","}var c="0",l=t.substr(i+3,1);"0"===l?c="0":"+"===l&&(c="+");var f=0,p=t.indexOf(".",i+4);f=p>i+3?parseInt(t.substr(i+4,p-i-4)):parseInt(t.substr(i+4,1));var d=t.length;if(p>-1&&i+p<d){var h=t.substr(i+1,p-1);t=t.replace(h,"")}else if("."===l&&-1===p){p=i+3;h=t.substr(i+1,p-1);t=t.replace(h,"")}else{var g=d-2;if(!(i+1+g<d&&g>=0))return e;h=t.substr(i+1,g);t=t.replace(h,"")}}var m=0,y=0,v=t;v="S"+v;for(var b=new Array,w=!1;-1!=m;){var A="",_=(A=-1===(y=v.indexOf("%",m+1))?v.substr(m):v.substr(m,y-m)).indexOf("%");if(-1!==_){var P=A.substr(_+1);"c"!==P&&"C"!==P&&"d"!==P&&"i"!==P&&"o"!==P&&"u"!==P&&"x"!==P&&"X"!==P&&"e"!==P&&"E"!==P&&"f"!==P&&"g"!==P&&"G"!==P||(w=!0)}b.push(A),m=y}for(var O="",E="",x=0;x<b.length;x++)if(E=O,E+=b[x],0!==x){if(x>=n)break;O=(0,r.default)(E,e)}else O=E;""===O&&(o.replace("%,","%"),O=o);var C=(O=O.substr(1)).indexOf(".");if(C<0)C=O.length;else{h=(O=O.slice(0,C)+"."+O.slice(C)).substr(C+1,1);O=O.replace(h,"")}if(a&&w)for(var S=C-3;S>0;S-=3)O=O.slice(0,S)+s+O.slice(S);var D=O.length;if(f>D)for(S=0;S<f-D;S++)O=c+O;return O},printx:function(t,e){if(!t||!e)return"";for(var n=e.length,o=t.length,r="",i=0,a=0;a<o;a++){var s=t[a];switch(s){case"?":r+=e[i],i++;break;case"X":for(;i<n;){if(e[i]>="0"&&e[i]<="9"||e[i]>="a"&&e[i]<="z"||e[i]>="A"&&e[i]<="Z"){r+=e[i],i++;break}i++}break;case"A":for(;i<n;){if(e[i]>="a"&&e[i]<="z"||e[i]>="A"&&e[i]<="Z"){r+=e[i],i++;break}i++}break;case"9":for(;i<n;){if(e[i]>="0"&&e[i]<="9"){r+=e[i],i++;break}i++}break;case"*":r+=e.substring(i),i=n-1;break;case"\\":break;case">":e=e.toLocaleUpperCase();break;case"<":e=e.toLocaleLowerCase();break;case"=":break;default:r+=s}}return r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setPersistent:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(149)),r=c(n(350)),i=c(n(929)),a=c(n(928)),s=c(n(910)),u=c(n(909));function c(t){return t&&t.__esModule?t:{default:t}}var l=URL.createObjectURL(new Blob(["<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>Document</title>\n    <script>\n        window.initJS=function(PDFJSGlobal){\n          window.PDFJSGlobal = PDFJSGlobal          \n          function appClosure() {\n            for (var i in window) {\n              if (i != 'PDFJSGlobal' \n              && i != 'location'\n              && i !='window'\n              && i != 'appClosure') {\n                  eval('var ' + i+ '=null');\n              }\n            }\n            var keys=['jsEngine',\n                    '_calculate',\n                    '_dirty',\n                    '_layout',\n                    '_arrTemplate',\n                    'printParams',\n                    'annotManage',\n                    'engineDoc',\n                    'engineForm',\n                    'timeStamp',\n                    'cleanFields']\n            for(var key in window.PDFJSGlobal.doc){\n              if(keys.indexOf(key)!=-1){\n                continue;\n              }\n              (function(key){\n                if(typeof window.PDFJSGlobal.doc[key] == \"function\"){\n                  window[key]=function(){\n                    return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc,arguments)\n                  }\n                }else{\n                  Object.defineProperty(window,key,{get:function(){\n                    return window.PDFJSGlobal.doc[key]\n                  },set:function(val){\n                    window.PDFJSGlobal.doc[key] = val\n                  }})\n                }\n              })(key)\n            }\n\n            return {\n                docClosure: function (f) {\n                  with (PDFJSGlobal) {\n                    with (PDFJSGlobal.doc) {\n                    eval(f);\n                    return function (f) {\n                            return eval(f)\n                        }\n                      }\n                    }\n                }\n            }\n          }\n          window.app = appClosure();\n        }\n\n        window.runJS = function (data, engineEvent) {\n            var doc = window.PDFJSGlobal.doc;\n            window.PDFJSGlobal.event = engineEvent;\n\n            doc.timeStamp = engineEvent&&engineEvent.timeStamp;\n            if(data.global){\n              try{\n                doc.exec = app.docClosure.call(doc,data.code);\n              }catch(e){\n                doc.exec = app.docClosure(data.code);\n              }\n                return;\n            }\n            switch (data.action) {\n                case 'execute':\n                    doc.exec(data.code, data, engineEvent);\n            }\n        }\n    <\/script>\n</head>\n\n<body>\n</body>\n\n</html>"],{type:"text/html"})),f="ActiveXObject"in self||navigator.userAgent.toLowerCase().match(/msie [\d\.]+/),p=window.PDFJSGlobal={};for(var d in p.border={s:"solid",b:"beveled",d:"dashed",i:"inset",u:"underline"},o.default)p[d]=o.default[d];p.global=i.default,p.console=u.default,p.color=r.default,p.display={visible:0,hidden:1,noPrint:2,noView:3},p.util=a.default,p.font=s.default;var h=void 0,g=void 0;var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.initJSEnv=function(t,e,n){var r=this;if(o.default.setJE(t),g=t,p.app=e,p.doc=n,p.this=n,p.getEvent=function(e){return t.getEvent(e)},p.postRunScripts=function(e){return t.postRunScripts(e)},!f)return(h=document.createElement("iframe")).style.display="none",h.style.position="absolute",h.style.top=0,this.enable=!1,new Promise(function(t,e){h.onload=t,h.src=l,document.body.appendChild(h)}).then(function(t){r.enable=!0,h.contentWindow.initJS(p)});window.appClosure=function(){var t=["jsEngine","_calculate","_dirty","_layout","_arrTemplate","printParams","annotManage","engineDoc","engineForm","timeStamp","cleanFields"],e=window.PDFJSGlobal.doc;for(var n in e)-1==t.indexOf(n)&&function(t){"function"==typeof e[t]?window[t]=function(){return e[t].apply(e,arguments)}:Object.defineProperty(window,t,{get:function(){return e[t]},set:function(n){e[t]=n}})}(n);return{DocClosure:function(t){return new Function("f","with(window.PDFJSGlobal){with(window.PDFJSGlobal.doc){eval(f);return function(f){eval(f);}}}")(t)}}}(),window.runJS=function(t,e){var n=window.PDFJSGlobal.doc;if(window.PDFJSGlobal.event=e,n.timeStamp=e&&e.timeStamp,t.global)try{n.exec=window.appClosure.DocClosure.call(n,t.code)}catch(e){n.exec=window.appClosure.DocClosure(t.code)}else switch(t.action){case"execute":n.exec(t.code,t,e)}},this.enable=!0},t.exec=function(t,e,n,o){var r={action:"execute",code:t,global:e,event:n.event};this.enable||u.default.error("js env is not ready!!");var i=g.events[r.event];return f?window.runJS(r,i):h.contentWindow.runJS(r,i),i.rc},t}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.change="",this.changeEx="",this.commitKey="",this.fieldFull="",this.keyDown="",this.modifier="",this.name="",this.rc="",this.richChange="",this.richChangeEx="",this.richValue="",this.selEnd="",this.selStart="",this.shift="",this.source="",this.target="",this.targetName="",this.type="",this.value=null,this.willCommit="",this.bExtractDenpends=!1,this.depends=[],this.isLoading=!1,this.isSensitiveCheck=!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(35)),i=a(n(73));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),o(e,[{key:"type",get:function(){return"Underline"}},{key:"quads",get:function(){var t=[];return this.annot.getQuadPoints().map(function(e){e.map(function(e){t.push(e.x,e.y)})}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=i.default.buildRectByPoints(e);n.annot.setRect(t)})}}]),e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.stateModelValue="Review",r}return r(e,t),o(e,[{key:"type",get:function(){return"Text"}},{key:"noteIcon",get:function(){return this.annot.getIconName()},set:function(e){var n=this;e||(e="Note"),t.prototype._delayOrExec.call(this,function(){n.annot.setIconName(e).then(function(t){})})}},{key:"point",get:function(){var t=this.annot.getRect();return[t.left,t.top]},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){!e||!Array.isArray(e)||e.length<2||n.annot.moveTo({left:e[0],top:e[1]})})}},{key:"state",get:function(){return"Marked"===this.stateModel?this.annot.getMarkedState(0):this.annot.getReviewState(0)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){if("Review"===n.stateModelValue){switch(e){case"accepted":case"rejected":case"cancelled":case"completed":case"none":break;default:e="none"}n.annot.addReviewState(e)}else"Marked"===n.stateModelValue&&("marked"!==e&&"unmarked"!==e&&(e="unmarked"),n.annot.addMarkedState(e))})}},{key:"stateModel",get:function(){return this.stateModelValue},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){"Marked"!==e&&"Review"!==e&&(e="Review"),n.stateModelValue=e})}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(35)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(35)),i=a(n(73));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),o(e,[{key:"type",get:function(){return"StrikeOut"}},{key:"quads",get:function(){var t=[];return this.annot.getQuadPoints().map(function(e){e.map(function(e){t.push(e.x,e.y)})}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=i.default.buildRectByPoints(e);n.annot.setRect(t)})}}]),e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i={Approved:"Approved",AsIs:"AsIs",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"ForComment",ForPublicRelease:"ForPublicRelease",NotApproved:"NotApproved",NotForPublicRelease:"NotForPublicRelease",Sold:"Sold",TopSecret:"TopSecret"},a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return r(e,t),o(e,[{key:"type",get:function(){return"Stamp"}},{key:"AP",get:function(){var t=this.annot.getIconName();if(t&&"#"===t[0]){var e=t.substr(1);(e=i[e])&&(t=e)}return t},set:function(t){}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(35)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(35)),i=a(n(73));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),o(e,[{key:"type",get:function(){return"Squiggly"}},{key:"quads",get:function(){var t=[];return this.annot.getQuadPoints().map(function(e){e.map(function(e){t.push(e.x,e.y)})}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=i.default.buildRectByPoints(e);n.annot.setRect(t)})}}]),e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(35)),i=n(8);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),o(e,[{key:"type",get:function(){return"Square"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,i.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=(0,i.colorConvertor)(e,"int",0);n.annot.setFillColor(t)})}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setBorderWidth(e)})}}]),e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return r(e,t),o(e,[{key:"type",get:function(){return"Sound"}},{key:"point",get:function(){var t=this.annot.getRect();return[t.left,t.top]},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){!e||!Array.isArray(e)||e.length<2||n.annot.moveTo({left:e[0],top:e[1]})})}},{key:"soundIcon",get:function(){},set:function(t){}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(35)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=s(n(35)),i=s(n(73)),a=n(8);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),o(e,[{key:"type",get:function(){return"Polygon"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,a.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=(0,a.colorConvertor)(e,"int",0);n.annot.setFillColor(t)})}},{key:"vertices",get:function(){var t=[];return this.annot.getVertexes().map(function(e){t.push(e.x,e.y)}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=i.default.buildVertexesByPoints(e);n.annot.setVertexes(t)})}}]),e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=u(n(35)),i=n(20),a=u(n(73)),s=n(8);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),o(e,[{key:"type",get:function(){return"PolyLine"}},{key:"arrowBegin",get:function(){var t=this.annot.getStartStyle();return i.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,function(){var t=i.LineEndingStyle[e];n.annot.setEndingStyle(!0,t)})}},{key:"arrowEnd",get:function(){var t=this.annot.getEndingStyle();return i.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,function(t){var o=i.LineEndingStyle[e];n.annot.setEndingStyle(!1,o)})}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,s.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=(0,s.colorConvertor)(e,"int",0);n.annot.setFillColor(t)})}},{key:"vertices",get:function(){var t=[];return this.annot.getVertexes().map(function(e){t.push(e.x,e.y)}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=a.default.buildVertexesByPoints(e);n.annot.setVertexes(t)})}}]),e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(35)),i=n(20),a=n(8);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),o(e,[{key:"type",get:function(){return"Line"}},{key:"arrowBegin",get:function(){var t=this.annot.getStartStyle();return i.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,function(){var t=i.LineEndingStyle[e];n.annot.setEndingStyle(!0,t)})}},{key:"arrowEnd",get:function(){var t=this.annot.getEndingStyle();return i.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,function(){var t=i.LineEndingStyle[e];n.annot.setEndingStyle(!1,t)})}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"doCaption",get:function(){return this.annot.hasCaption()},set:function(t){this.annot.enableCaption(t)}},{key:"fillColor",get:function(){var t=this.annot.getStyleFillColor();return(0,a.convertFromNumberToJSColor)(t)},set:function(t){var e=this;this._delayOrExec(function(){var n=(0,a.colorConvertor)(t,"int",0);e.annot.setStyleFillColor(n)})}},{key:"leaderExtend",get:function(){return this.annot.getLeaderLineExtend()},set:function(t){}},{key:"leaderLength",get:function(){return this.annot.getLeaderLineLength()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setLeaderLineLength(e)})}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setBorderWidth(e)})}}]),e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(35)),i=a(n(73));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),o(e,[{key:"type",get:function(){return"Ink"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"gestures",get:function(){var t=[],e=void 0;return this.annot.getInkList().map(function(n){1===n.type&&(e=[],t.push(e)),e.push([n.x,n.y])}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=i.default.buildGesturesByArrays(e);n.annot.setInkList(t)})}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setBorderWidth(e)})}}]),e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(35)),i=a(n(73));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),o(e,[{key:"type",get:function(){return"Highlight"}},{key:"quads",get:function(){var t=[];return this.annot.getQuadPoints().map(function(e){e.map(function(e){t.push(e.x,e.y)})}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=i.default.buildRectByPoints(e);n.annot.setRect(t)})}}]),e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=u(n(35)),i=n(8),a=n(20),s=u(n(73));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),o(e,[{key:"type",get:function(){return"FreeText"}},{key:"alignment",get:function(){return this.annot.getInfo().justification},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setAlignment(e).then(function(){n.component.redraw()})})}},{key:"callout",get:function(){var t=[];return this.annot.getCalloutLinePoints().map(function(e){t.push(e.x,e.y)}),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=s.default.buildVertexesByPoints(e);n.annot.setCalloutLinePoints(t)})}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,i.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=(0,i.colorConvertor)(e,"int",0);n.annot.setFillColor(t)})}},{key:"lineEnding",get:function(){var t=this.annot.getCalloutLineEndingStyle();return a.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,function(){var t=a.LineEndingStyle[e];n.annot.setCalloutLineEndingStyle(!0,t)})}},{key:"richDefaults",get:function(){},set:function(t){}},{key:"rotate",get:function(){var t=360-this.annot.getRotation();return 360===t&&(t=0),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=0;0!==e&&(t=360-e),n.annot.setRotation(t)})}},{key:"textFont",get:function(){},set:function(t){}},{key:"textSize",get:function(){return this.annot.getDefaultAp().textSize},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=n.annot.getDefaultAp();t.textSize=e,n.annot.setDefaultAp(t).then(function(t){})})}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setBorderWidth(e)})}}]),e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i={Paperclip:"Paperclip",PushPin:"PushPin",Graph:"Graph",Tag:"Tag"},a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return r(e,t),o(e,[{key:"type",get:function(){return"FileAttachment"}},{key:"attachIcon",get:function(){return this.annot.getIconName()},set:function(e){var n=this;i[e]&&t.prototype._delayOrExec.call(this,function(){n.annot.setIconName(e)})}},{key:"point",get:function(){var t=this.annot.getRect();return[t.left,t.top]},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){!e||!Array.isArray(e)||e.length<2||n.annot.moveTo({left:e[0],top:e[1]})})}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(35)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(35)),i=n(8);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),o(e,[{key:"type",get:function(){return"Circle"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)})}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,i.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){var t=(0,i.colorConvertor)(e,"int",0);n.annot.setFillColor(t)})}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,function(){n.annot.setBorderWidth(e)})}}]),e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return r(e,t),o(e,[{key:"type",get:function(){return"Caret"}},{key:"caretSymbol",get:function(){},set:function(t){}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(n(35)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.templateObject=e,this.templateHidden=n,this.pdfDoc=o}return t.prototype.spawn=function(t,e,n,o){if(this.pdfDoc)return this.pdfDoc.spawnPage(this.templateObject,t,e,n)},o(t,[{key:"hidden",get:function(){return this.templateHidden},set:function(t){if(t!==this.templateHidden)return this.pdfDoc?this.pdfDoc.hideTemplate(this.templateObject,t):void 0}},{key:"name",get:function(){return this.templateObject.name}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.doc=n,this.params={}}return o(t,[{key:"printerName",get:function(){return"Web Printer"},set:function(t){}},{key:"firstPage",get:function(){return void 0!==this.params.firstPage?this.params.firstPage:0},set:function(t){this.params.firstPage=t}},{key:"lastPage",get:function(){return void 0!==this.params.lastPage?this.params.lastPage:this.doc.numPages},set:function(t){this.params.lastPage=t}},{key:"pageHandling",get:function(){return void 0!==this.params.pageHandling?this.params.pageHandling:3},set:function(t){this.params.pageHandling=t}},{key:"constants",get:function(){return{interactionLevel:{automatic:1,full:0,silent:2},handling:{none:1,fit:2,shrink:3,tileAll:4,tileLarge:5,nUp:6,booklet:7},flagValues:{applyOverPrint:131072,applySoftProofSettings:2097152,applyWorkingColorSpaces:262144,emitHalftones:1,emitPostScriptXObjects:524288,emitFormsAsPSForms:4194304,maxJP2KRes:8388608,setPageSize:1024,suppressBG:16,suppressCenter:256,suppressCJKFontSubst:64,suppressCropClip:4,suppressRotate:128,suppressTransfer:8,suppressUCR:32,useTrapAnnots:16777216,usePrintersMarks:33554432},bookletBindings:{Left:0,Right:1,LeftTall:2,RightTall:3},bookletDuplexMode:{BothSides:0,FrontSideOnly:1,BackSideOnly:2},colorOverrides:{auto:0,gray:1,mono:2},fontPolicies:{everyPage:2,jobStart:0,pageRange:1},nUpPageOrders:{Horizontal:0,HorizontalReversed:1,Vertical:2},printContents:{doc:0,docAndComments:1,formFieldsOnly:3},rasterFlagValues:{textToOutline:1,strokesToOutline:2,allowComplexClip:4,preserveOverprint:8},subsets:{all:-3,even:-5,odd:-4},tileMarks:{none:0,west:1,east:2},usages:{auto:0,use:1,noUse:2}}}},{key:"flags",get:function(){return void 0!==this.params.flags?this.params.flags:0},set:function(t){this.params.flags=t}},{key:"interactive",get:function(){return void 0!==this.params.interactive?this.params.interactive:0},set:function(t){this.params.interactive=t}},{key:"fileName",get:function(){return void 0!==this.params.fileName?this.params.fileName:""},set:function(t){this.params.fileName=t}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=f(n(349)),a=f(n(949)),s=n(64),u=(n(20),f(n(948))),c=f(n(73)),l=f(n(149));function f(t){return t&&t.__esModule?t:{default:t}}var p=l.default.ANSB_None,d=(l.default.ANSB_Page,l.default.ANSB_Author,l.default.ANSB_ModDate,l.default.ANSB_Type,l.default.ANFB_ShouldNone),h=(l.default.ANFB_ShouldPrint,l.default.ANFB_ShouldView,l.default.ANFB_ShouldEdit,l.default.ANFB_ShouldAppearInPanel,l.default.ANFB_ShouldSummarize,l.default.ANFB_ShouldExport,{}),g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this._dirty="",this._layout="",this._arrTemplate=new Array,this.printParams=new a.default(this.jsEngine,this),this.annotManage=new c.default(e)}return t.prototype.getPrintParams=function(){return this.printParams},t.prototype.getTemplate=function(t){if(!t||""===t)return null;if(this._arrTemplate.length<=0){var e=this.engineDoc.visibleTemplates;if(e&&e.length>0)for(var n=0;n<e.length;n++){if(t===e[n].name)return new u.default(e[n],!1,this.engineDoc)}if((e=this.engineDoc.invisibleTemplates)&&e.length>0)for(var o=0;o<e.length;o++){if(t===e[o].name)return new u.default(e[o],!0,this.engineDoc)}return null}for(var r=0;r<this._arrTemplate.length;r++){var i=this._arrTemplate[r];if(i.name===t)return i}return null},t.prototype.removeTemplate=function(t){if(!t||""===t)return!1;if(this.engineDoc){var e=this;this.engineDoc.removeTemplate(t).then(function(n){for(var o=0;o<e._arrTemplate.length;o++){if(e._arrTemplate[o].name===t){e._arrTemplate.splice(o,1);break}}})}},t.prototype.print=function(t,e,n,r,i,a,s,u,c){if(!this.jsEngine.getEvent().isSensitiveCheck){var l=void 0;l="object"==(void 0===t?"undefined":o(t))?{startIndex:t.firstPage,endIndex:t.lastPage,silent:t.interactive,printType:["page","annot"]}:c?{startIndex:c.firstPage,endIndex:c.lastPage+1,silent:c.interactive,printType:["page","annot"]}:{ui:t,startIndex:e,endIndex:n,silent:r,shrinkToFit:i,asImage:a,reverse:s,printType:u?["page","annot"]:["page"]},this.jsEngine.PDFViewer.printPDFDocument(l)}},t.prototype.addAnnot=function(t){return"FileAttachment"!==t.type&&"Sound"!==t.type?this.annotManage.addAnnot(t):this.annotManage.showFileDialog(t)},t.prototype.syncAnnotScan=function(){return this.engineDoc.getAnnots()},t.prototype.getAnnots=function(t){var e=this,n=-1,o=d,r=p,i=!1;t&&(t.nPage>=0&&(n=t.nPage),t.nSortBy>=0&&(r=t.nSortBy),t.nFilterBy>=0&&(o=t.nFilterBy),t.bReverse&&(i=t.bReverse));var a=this.numPages,s=this.engineDoc.pageCache,u=0,c=[];if(-1!==n&&(u=n),u>=a)return null;var l=function(){var t=s[u];if(!t)return u++,"continue";var e=Object.keys(t.annotIdMap);if(!e.length)return u++,"continue";var o=e.map(function(e){return{pageIndex:u,annot:t.annotIdMap[e]}});if(c.push.apply(c,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o)),-1!==n)return"break";u++};t:do{switch(l()){case"continue":continue;case"break":break t}}while(u<a);var f=[];return c.map(function(t){var n=t.pageIndex,o=t.annot,r=e.annotManage.getAnnot(o,n);r&&f.push(r)}),this.annotManage.getAnnots(f,o,r,i)},t.prototype.getAnnot=function(t,e){var n,o=this.engineDoc.pageCache;if(!(n=o[t]))return null;var r=Object.keys(n.annotIdMap);if(!r.length)return null;var i=r.map(function(t){return n.annotIdMap[t]}).find(function(t){return t.getId()==e});return this.annotManage.getAnnot(i,t)},t.prototype.calculateNow=function(){},t.prototype.closeDoc=function(){this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.closeDoc()},t.prototype.getField=function(t){if(!t)return null;var e=this.engineDoc.getPDFForm().getField(t),n=void 0;return e||(n=this.engineDoc.getPDFForm().getField(t,!0))?h[t]?h[t]:h[t]=new i.default(this.jsEngine,e,n):null},t.prototype.getNthFieldName=function(t){if("number"!=typeof t&&(t=parseInt(t),isNaN(t)))throw"require interge param.";return this.engineDoc.getPDFForm().getFieldByIndex(t).getName()},t.prototype.getPageBox=function(t,e){return[0,0,612,792]},t.prototype.getPageRotation=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 90*this.engineDoc.pageCache[t].getRotation()},t.prototype.getURL=function(){},t.prototype.resetForm=function(t){if(!this.jsEngine.getEvent().isSensitiveCheck){var e=void 0;this.jsEngine.PDFViewer.activeElement&&this.jsEngine.PDFViewer.activeElement.annot&&(e=this.jsEngine.PDFViewer.activeElement.annot.getField()),this.engineForm.resetForm(t,0,e)}},t.prototype.submitForm=function(t,e,n,r,i,a,u,c,l,f,p,d,h,g,m,y,v,b,w,A,_,P,O,E){if(!this.jsEngine.getEvent().isSensitiveCheck){var x=0;1===arguments.length&&"object"===o(arguments[0])&&(t=arguments[0].cURL,arguments[0].bFDF,arguments[0].bEmpty,r=arguments[0].aFields,i=arguments[0].bGet,arguments[0].bAnnotations,arguments[0].bXML,arguments[0].bIncrChanges,l=arguments[0].bPDF,arguments[0].bCanonical,arguments[0].bExclNonUserAnnots,d=arguments[0].bExclFKey,arguments[0].cPassword,arguments[0].bEmbedForm,arguments[0].oJavaScript,arguments[0].cSubmitAs,arguments[0].bInclNMKey,arguments[0].aPackets,arguments[0].cCharset,arguments[0].oXML,arguments[0].cPermID,arguments[0].cInstID,arguments[0].cUsageRights,E=arguments[0].bHTMLForm),i&&(x|=s.FormActionFlags.FlagGetMethod),l&&(x|=s.FormActionFlags.FlagSubmitAsPDF),d&&(x|=s.FormActionFlags.FlagExclFKey),E&&(x|=s.FormActionFlags.FlagExportFormat),this.engineForm.submitForm(t,r,x)}},t.prototype.cleanFields=function(){h={}},t.prototype.createIcon=function(t,e,n){return{name:"",stream:t,width:e,height:n}},r(t,[{key:"engineDoc",get:function(){return this.jsEngine.getPDFDoc()}},{key:"engineForm",get:function(){return this.jsEngine.getPDFForm()}},{key:"author",get:function(){return this.engineDoc.getMetadataValue("Author")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.engineDoc.setMetadataValue("Author",t)}},{key:"calculate",get:function(){return this.engineForm.calculationEnabled},set:function(t){return this.engineForm.calculationEnabled=t}},{key:"creationDate",get:function(){return this.engineDoc.getMetadataValue("CreationDate")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.engineDoc.setMetadataValue("CreationDate",t)}},{key:"dirty",get:function(){return this._dirty},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._dirty=t}},{key:"docID",get:function(){return this.engineDoc.info.fileID.slice(0,2)}},{key:"creator",get:function(){return this.engineDoc.getMetadataValue("Creator")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.engineDoc.setMetadataValue("Creator",t)}},{key:"documentFileName",get:function(){return this.engineDoc.info.fileName}},{key:"filesize",get:function(){return this.engineDoc.info.filesize}},{key:"info",get:function(){return this.engineDoc.metadata}},{key:"icons",get:function(){return this.engineDoc.getNameTreeIcons()}},{key:"keywords",get:function(){return this.engineDoc.getMetadataValue("Keywords")}},{key:"layout",get:function(){switch(this.jsEngine.PDFViewer.getPDFDocRender().getViewMode().constructor.getName()){case"continuous-view-mode":return"OneColumn";case"single-page-view-mode":return"SinglePage";case"'multipage-view-mode'":return"TwoColumnLeft";case"facing-page-view-mode":return"TwoPageLeft"}}},{key:"modDate",get:function(){return this.engineDoc.getMetadataValue("ModDate")}},{key:"numFields",get:function(){return this.engineDoc.getPDFForm().getFieldCount()}},{key:"numPages",get:function(){return this.engineDoc.getPageCount()}},{key:"path",get:function(){return"c:/fakepath/"+this.engineDoc.info.fileName}},{key:"pageNum",get:function(){return this.jsEngine.PDFViewer.activeElement&&this.jsEngine.PDFViewer.activeElement.annot?this.jsEngine.PDFViewer.activeElement.annot.getPage().getIndex():this.jsEngine.PDFViewer.getPDFDocRender().getCurrentViewMode().getCurrentPageIndex()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.jsEngine.PDFViewer.goToPage(t,0,0,!1),t}},{key:"templates",get:function(){if(this._arrTemplate.length<=0){var t=this.engineDoc.visibleTemplates;if(t&&t.length>0)for(var e=0;e<t.length;e++){var n=t[e],o=new u.default(n,!1,this.engineDoc);this._arrTemplate.push(o)}if((t=this.engineDoc.invisibleTemplates)&&t.length>0)for(var r=0;r<t.length;r++){var i=t[r],a=new u.default(i,!0,this.engineDoc);this._arrTemplate.push(a)}}return this._arrTemplate}}]),t}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(350));var i={hidden:0,delay:1,visible:2},a=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._backgroudColor=r.default.yellow,this._clickAdvances=!1,this._isFullScreen=!0,this._cursor=i.visible,this._defaultTransition="",this._escapeExits=!1,this._loop=!1,this._timedelay=3,this._transitions="",this._usePageTiming=!1,this._useTimer=!1}return o(t,[{key:"backgroudColor",get:function(){return this._backgroudColor},set:function(t){}},{key:"clickAdvances",get:function(){return this._clickAdvances},set:function(t){}},{key:"cursor",get:function(){return this._cursor},set:function(t){}},{key:"defaultTransition",get:function(){return this._defaultTransition},set:function(t){}},{key:"escapeExits",get:function(){return this._escapeExits},set:function(t){}},{key:"isFullScreen",get:function(){return this._isFullScreen},set:function(t){this._isFullScreen=t}},{key:"loop",get:function(){return this._loop},set:function(t){}},{key:"timedelay",get:function(){return this._timedelay},set:function(t){}},{key:"transitions",get:function(){return this._transitions},set:function(t){}},{key:"usePageTiming",get:function(){return this._usePageTiming},set:function(t){}},{key:"useTimer",get:function(){return this._useTimer},set:function(t){}}]),t}();e.default=a},function(t,e,n){(function(t){function n(t,e){for(var n=0,o=t.length-1;o>=0;o--){var r=t[o];"."===r?t.splice(o,1):".."===r?(t.splice(o,1),n++):n&&(t.splice(o,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return o.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var n=[],o=0;o<t.length;o++)e(t[o],o,t)&&n.push(t[o]);return n}e.resolve=function(){for(var e="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var a=r>=0?arguments[r]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),r="/"===a(t,-1);return(t=n(i(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&r&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function o(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=o(t.split("/")),i=o(n.split("/")),a=Math.min(r.length,i.length),s=a,u=0;u<a;u++)if(r[u]!==i[u]){s=u;break}var c=[];for(u=s;u<r.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],o=e[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(111))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=arguments[0];this.change="",this.changeEx="",this.events=[],this.init(e)}return t.prototype.init=function(t){for(var e in t){var n={};n[e]=t[e],this.add(n)}},t.prototype.add=function(t){for(var e in t)this.events[e]?this.events[e]=t[e]:(this.events[e]=[],this.events[e]=t[e])},t.prototype.dispatch=function(){},t.prototype.remove=function(t){},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(953));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.addStockEvent=function(){},t.prototype.alertFileNotFount=function(){},t.prototype.alertSelectFailed=function(){},t.prototype.argsDWIM=function(){},t.prototype.canPlayOrAlert=function(){},t.prototype.computerFloatWinRect=function(){},t.prototype.constrainRectToScreen=function(){},t.prototype.createPlayer=function(){},t.prototype.Events=function(t){return new r.default(t)},t.prototype.getAltTextData=function(){},t.prototype.getAltTextSettings=function(){},t.prototype.getAnnotStockEvents=function(){},t.prototype.getAnnotTraceEvents=function(){},t.prototype.getPlayers=function(){},t.prototype.getPlayerStockEvents=function(){},t.prototype.getPlayerTraceEvents=function(){},t.prototype.getURLData=function(){},t.prototype.getURLSettings=function(){},t.prototype.getWindowBorderSize=function(){},t.prototype.openPlayer=function(){},t.prototype.removeStockEvents=function(){},t.prototype.startPlayer=function(){},o(t,[{key:"align",get:function(){}},{key:"canResize",get:function(){}},{key:"closeReason",get:function(){}},{key:"ifOffScreen",get:function(){}},{key:"layout",get:function(){}},{key:"monitorType",get:function(){}},{key:"openCode",get:function(){}},{key:"over",get:function(){}},{key:"pageEventNames",get:function(){}},{key:"raiseCode",get:function(){}},{key:"raiseSystem",get:function(){}},{key:"renditionType",get:function(){}},{key:"stauts",get:function(){}},{key:"trace",get:function(){}},{key:"version",get:function(){}},{key:"windowType",get:function(){}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(1));function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(1677);var i=function(){function t(){r(this,t),this.storeMap={},this.itemMap={}}return t.prototype.setStore=function(t,e){this.storeMap=t,this.itemMap=e},t.prototype.updateStoreByElements=function(t,e){var n=this;t.map(function(t){if(t.type&&"gap"!==t.type&&"ok"!==t.type&&"ok_cancel"!==t.type&&"ok_cancel_other"!==t.type)if("cluster"!==t.type&&"view"!==t.type){if(t.item_id)switch(t.type){case"check_box":case"radio":var r=(0,o.default)("#"+e+" #"+t.item_id).is(":checked");n.storeMap[t.item_id].value=r;break;case"static_text":case"button":var i=(0,o.default)("#"+e+" #"+t.item_id).text();n.storeMap[t.item_id].value=i;break;case"edit_text":var a=(0,o.default)("#"+e+" #"+t.item_id).val();n.storeMap[t.item_id].value=a}}else n.updateStoreByElements(t.elements,e)})},t.prototype.getAlignStyle=function(t){var e="";switch(t){case"align_left":e+="text-align:left;";break;case"align_center":e+="margin:0 auto;";break;case"align_right":e+="text-align:right;"}return e},t.prototype.getElementStyle=function(t){var e="";if(t.width&&(e+="width:"+t.width+"px;"),t.height&&(e+="height:"+t.height+"px;"),t.char_width&&(e+="width:"+10*t.char_width+"px;"),t.char_height&&(e+="height:"+10*t.char_height+"px;"),"edit_text"===t.type){var n="resize:none;";t.width||t.char_width||(n+="width:100%;"),e+=n}else"check_box"===t.type||t.type;return t.align_children&&(e+=this.getAlignStyle(t.align_children)),t.alignment&&(e+=this.getAlignStyle(t.alignment)),t.multiline||"static_text"!==t.type&&"edit_text"!==t.type||(e+="white-space: nowrap;"),t.bold&&(e+="font-weight:600;"),t.italic&&(e+="font-style:italic;"),e},t.prototype.buildWithWrapper=function(t,e){var n="js-item-wrapper";return e&&"button"===e.type&&(n+=" btn-wrapper"),'<div class="'+n+'">'+t+"</div>"},t.prototype.buildCheckBox=function(t,e){var n=t.name,o=this.storeMap[t.item_id],r="";o&&!0===o.value&&(r='checked="'+o.value+'"');var i='<input type="checkbox" '+r+' name="'+n+'" id="'+t.item_id+'" style="'+e+'"/><span>'+n+"</span>";return i=this.buildWithWrapper(i)},t.prototype.buildRadio=function(t,e){var n=t.name,o=t.group_id,r=this.storeMap[t.item_id],i="";r&&!0===r.value&&(i='checked="'+r.value+'"');var a='<input type="radio" '+i+' name="'+o+'" id="'+t.item_id+'" style="'+e+'"/><span>'+n+"</span>";return a=this.buildWithWrapper(a)},t.prototype.buildStaticText=function(t,e){if(name=t.name?t.name:"",name=unescape(name.replace(/\\/g,"%")),t.item_id){var n=this.storeMap[t.item_id];n&&n.value&&(name=n.value+"")}var o="";t.item_id&&(o='id="'+t.item_id+'"');var r="<span "+o+' style="'+e+'">'+name+"</span>";return r=this.buildWithWrapper(r)},t.prototype.buildButton=function(t,e,n){if(!n){n=t.name?t.name:"",n=unescape(n.replace(/\\/g,"%"));var o=this.storeMap[t.item_id];o&&o.value&&(n=o.value+"")}n||(n='<span style="color: transparent;">A</span>');var r='<button style="'+e+'" type="submit" id="'+t.item_id+'" class="pdf_js_btn btn btn-outline btn-xs btn-circle ">'+n+"</button>";return r=this.buildWithWrapper(r,t)},t.prototype.buildEditText=function(t,e){var n=t.readonly?'readOnly="true"':"",o=this.storeMap[t.item_id],r="";o&&o.value&&(r=o.value);var i="";return i=t.multiline?'<textarea style="'+e+'" name="" id="'+t.item_id+'" '+n+'">'+r+"</textarea>":t.password?'<input style="'+e+'" type="password" value="'+r+'" name="" id="'+t.item_id+'" '+n+"/>":t.SpinEdit?'<input style="'+e+'" type="number" value="'+r+'" name="" id="'+t.item_id+'" '+n+"/>":'<input  style="'+e+'" type="text" value="'+r+'" id="'+t.item_id+'" '+n+"/>",i=this.buildWithWrapper(i)},t.prototype.buildListBox=function(t,e){},t.prototype.buildView=function(t,e){var n="";for(var o in t.elements)n+=this.JSWindowToHTML(t.elements[o]);var r="js-view-component";return"align_row"===t.align_children&&(r+=" children-in-row"),'<div class="'+r+'" style="'+e+'">'+n+"</div>"},t.prototype.buildCluster=function(t,e){var n="";for(var o in t.elements)n+=this.JSWindowToHTML(t.elements[o]);var r="js-cluster-component";"align_row"===t.align_children&&(r+=" children-in-row");var i=t.name?t.name:"";return'<div class="'+r+'" style="'+e+'position:relative;"><fieldset style="text-align: left; border-color: gray; border-style: solid; border-width: 1px;"><legend><span>'+(i=unescape(i.replace(/\\/g,"%")))+"</span></legend><div>"+n+"</div></fieldset></div>"},t.prototype.buildOkCancelOther=function(t,e){var n="",o=this.buildButton({item_id:"jscancle",type:"button"},"",t.cancel_name?t.cancel_name:"Cancel"),r=this.buildButton({item_id:"jsok",type:"button"},"",t.ok_name?t.ok_name:"Ok"),i=this.buildButton({item_id:"jsother",type:"button"},"",t.other_name?t.other_name:"Other");return"ok"===t.type?n=r:"ok_cancel"===t.type?n=r+o:"ok_cancel_other"===t.type&&(n=r+i+o),n?'<div class="js-buttons " style="'+e+'">'+n+"</div>":""},t.prototype.JSWindowToHTML=function(t){t&&t.item_id&&t.type&&(this.itemMap[t.item_id]||(this.itemMap[t.item_id]={}),this.storeMap[t.item_id]||(this.storeMap[t.item_id]={}),this.storeMap[t.item_id].type=t.type,this.itemMap[t.item_id].type=t.type);var e=this.getElementStyle(t),n="";switch(t.type){case"button":n=this.buildButton(t,e);break;case"check_box":n=this.buildCheckBox(t,e);break;case"radio":n=this.buildRadio(t,e);break;case"list_box":case"hier_list_box":break;case"static_text":n=this.buildStaticText(t,e);break;case"edit_text":n=this.buildEditText(t,e);break;case"popup":break;case"ok":case"ok_cancel":case"ok_cancel_other":n=this.buildOkCancelOther(t,e);break;case"view":n=this.buildView(t,e);break;case"cluster":n=this.buildCluster(t,e)}return n},t.prototype.buildDialogWrapper=function(t,e){return'<div id="'+t+'" class="js-window-modal modal fade bs" ><div class="js-modal-dialog modal-dialog " style="'+e+'" ><div class="modal-content "><div class="modal-header" ><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-title">JavaScript Window</div></div><div class="modal-body" >{body}</div><div class="js-warning-footer" ><div class="js-warning" ><span >Warning: JavaScript Window</span></div></div></div></div></div>'},t}(),a=function(){function t(e,n){r(this,t),this.componentUtils=new i,this.callback=n,this.dialogId="jsWindow",this.monitor=e,this.width=void 0,this.height=void 0,this.storeMap={},this.itemMap={},this.componentUtils.setStore(this.storeMap,this.itemMap)}return t.prototype.updateComponents=function(){if((0,o.default)("#"+this.dialogId).length>0)for(var t in this.itemMap){this.itemMap[t].disabled?(0,o.default)("#"+this.dialogId+" #"+t).addClass("disabled"):(0,o.default)("#"+this.dialogId+" #"+t).removeClass("disabled")}},t.prototype.enable=function(t){for(var e in t){var n=t[e];this.itemMap[e]||(this.itemMap[e]={}),this.itemMap[e].disabled=!n}this.updateComponents()},t.prototype.end=function(t){this.callback&&this.callback(t),(0,o.default)("#"+this.dialogId).hide()},t.prototype.load=function(t){for(var e in t){var n=t[e];this.updateStoreItem(e,n)}},t.prototype.store=function(){if(0===(0,o.default)("#"+this.dialogId).length)return{};this.componentUtils.updateStoreByElements(this.monitor.description.elements,this.dialogId);var t={};for(var e in this.storeMap){var n=this.storeMap[e];t[e]=n.value}return t},t.prototype.updateStoreItem=function(t,e){this.storeMap[t]={value:e}},t.prototype.getStore=function(){return this.storeMap},t.prototype.getCallbacks=function(t){var e="";for(var n in t)if("description"!==n&&"initialize"!==n&&"validate"!==n&&"commit"!==n&&"destroy"!==n){var o=t[n];"function"==typeof o&&(this.itemMap[n]||(this.itemMap[n]={}),""!==e&&(e+=","),e+="#"+n,this.itemMap[n].callback=o)}return e},t.prototype.initialize=function(){var t=this,e="";void 0!==this.monitor.description.width&&(this.width=this.monitor.description.width,e+="width:"+this.width+"px;"),void 0!==this.monitor.description.height&&(this.height=this.monitor.description.height,e+="min-height:"+this.height+"px;"),this.monitor.initialize(this);var n="";for(var r in this.monitor.description.elements)n+=this.componentUtils.JSWindowToHTML(this.monitor.description.elements[r]);var i=this.dialogId,a=this.componentUtils.buildDialogWrapper(i,e),s=this.getCallbacks(this.monitor);(0,o.default)("#"+i).length>0&&(0,o.default)("#"+i).remove();var u=a.replace("{body}",n);return(0,o.default)("body").append(u),this.updateComponents(),(0,o.default)("#"+i+" #jsok").off("click").on("click",function(e){t.monitor.validate&&t.monitor.validate(t),t.monitor.commit&&t.monitor.commit(t),t.monitor.ok&&t.monitor.ok(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("ok")}),(0,o.default)("#"+i+" #jscancle, #"+i+" .close").off("click").on("click",function(e){t.monitor.cancel&&t.monitor.cancel(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("cancel")}),(0,o.default)("#"+i+" #jsother").off("click").on("click",function(e){t.monitor.other&&t.monitor.other(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("other")}),(0,o.default)("#"+i+" .modal-dialog").off("click",s).on("click",s,function(e){var n=e.target.id;t.itemMap[n].callback&&t.itemMap[n].callback(t)}),!0},t.prototype.doModal=function(){(0,o.default)("#"+this.dialogId).show()},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={error:"data:audio/mp3;base64,SUQzBAAAAAAAJ1RTU0UAAAATAAADVVBZVU4gVHJhbnNjb2RpbmcAAAAAAAAAAAAAAP/zwMAAAAAAAAAAAABJbmZvAAAADwAAAA4AABh8ACIiIiIiIiIzMzMzMzMzRERERERERFVVVVVVVVVmZmZmZmZmd3d3d3d3d4iIiIiIiIiZmZmZmZmZmaqqqqqqqqq7u7u7u7u7zMzMzMzMzN3d3d3d3d3u7u7u7u7u/////////wAAAABMYXZjNTguMzUAAAAAAAAAAAAAAAAkAuAAAAAAAAAYfNJCphkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zwMQAUHwOTAdawAEmXGgLFAkxKU3Mk6dc6s04bESZmMQHJlnHdmnKhwOmpVby2ZccsgYQUY4kZIcAiDNS3ZhQoGDlrEAiRDEIpdfdh6p0AhdwtgWULIFmEADTKFYQv4WUMAAEBAAwSldtdiwipExEVEVFNISw8tgAAGARkIZiGQRdhkJjWfvH7RyUGAfUuuWTL5w0X/RTdeu6aX6Adf6NhrWaRo5y5yHcsV7fPwqRh2HcnJW1hYRQBIRIhYjXJ1212MQZZLOZ/hSRu/KIxYm3bh+1Dcbt/Xlcbn5Q1tr8Py/uGGG6TD+6lEYsStyHIhyWYfnTxt/IcpOf/1425DuP5GJZSWMMKent9lD+OQ7ksl+eqljn1H8Ym1+H6enjb/w/L+aqUlJYwqRhy4fn9UljCpSP+/7tuW5blv/fiDO2vw/flEMP5GLHf/CpSUgGAAZMWhiMZldMDSOMgUPABaGRbgnPqSmaoJnuYgms5DHh4SmrooGFwTFAImIADAYPDBQCRgIjRRg1g+OGRjM2gyxCOUKzJVA2lEMrQwgqMuAjAf/zwsRSbOQWeUGd2AAJMnIjSA8AAQUCBKCCqMa+YhcUHkwyMHNJBzBSk18QNKLTdAAwwtMDCACTmCghpQwr8UFCZEMoFTgx0FHAgLx0QMTHTC0ImUzDyUILSJOAwgYIJmjppiZ6JHQ8RG6EgWK14GzFxhDUY+BGKiBoIqAAEyozNFWzA1My0oLhg0XBIYBTQORC38lfZZbpmCCxjpwAScwYmIids6uyANMRATCyMwUqNcBjBykmBn+0MgVKYSEtqt1PRCgSD42iorG7bwS6XiqKWAuDUxwYAhAEGCcsZXSohN1xAgAJETkFUJJQkaDC4sPKTa2ls6z/xuKNYguWSGXxFnb9vxJZfAk9Xv0jxvbFlJS+H3NiEXjtDHIy9Lk3HYbu3yg8XiTuO5F4xBU3XiNSV2oHr34foJZar5Z4apO7vd4zClmH2fqSN1f2TWX8lcPPz8/R5Uk9pxJC9blTVO772xjCVReVU7y0NmtnScoAAFxgMgBGya0Gigx3CwsODHM9AoiMj105eUjQYmNvloyuEjVLUMagIBCIwGOjJoLMNir/88LEM2YsEpInnNAAHjOEBdACGejmgjKAzRgTfiDDHzBIQwalCRbkAaJpEVEC8LAQN4QACxwUCApqAhw9WCo4aJGQJBi8RhQ41NAUkZoOq0CA1jAwQRapoLiSySUpnBSUapGsGYKBQO4xpgxiCwcCLyGBGpymEFmZImFLgkE0kEjAQPSjNYGMsGCBwcER9hgwAxMF0tQwwpIhS5R0cIl9luRWlZ6+wwDAgcDBC4aZsmqrAl4xESWVVWysHIV5yuN33SpfMCIKAicW2dpcW1Y3vkawVPIgShUNlyTiSzNVaI/FI0vqG5uQOsxZyUe2JOomIw1O1AIwaGmJyqJNHymyUA3N2H0pWVtfo4+1l53YZRFXmVNJ5svDKm4sqZk48teliGLxXVKEPUQGGK2Kna8y1kTIl8yBEZ/WCzrKJe2lxrLLVZUTGPtYYm4sQhl9ZI56jL3uPm5fJmRI9tbeFdD2syVlhDYIMa4xZerFnOgqMSal7QAACYAQoNjKPfMFhwzHyTCQUMu6MwqvAULDVDOM2B85YrjKRDEiWYBBaCcYE5hQ//PCxC9fZA6J45zQAUxiQkmOMnWCgvgASR0kAS5MmcMEYMOdQBEQkcRGJJGjGoEysMBmQqbHugANgqiaUyEVBQQgBAx0InCM4a8EPIUhzaGxYaWYNWWEA8jbu8YUgGETAnTHEkmwoUDgRjEI4JL6mdbmPXmDELtK35gAoQPN0kM8WByIWWGYFiMCp8GnRCVRAV6FxRgDJpQ4AFPzCm5NUXGIxIIEiEaAiTK4feZVYKAhEISFMyiMABVroIBeNiKkUWlwNiT0QvWM2N1IKeJj8vCiRJaDVg21X8n9FHYmo889pAcPAFnLJUPgGCWgPZHJc06/Q15tu1IzidoZulppRUqTcTuT0alz8P7Vzk0hlGolK5uU3ex+OUUO0fY5QcmZu3SV6CmoKstksrr1LHfp4VP3Mr9/+xDKPR37duP1KWclMpl9/f2//T+ZvVdkEKkteWU0rwi9TDOtYtCFIABMP0Bs1BIVQCAghGTAngoBE4Dl4zD5HCXgzIwKQETA7AlMMkRUxuh90Uk3QcAmycxxT45FxY8/yJgLZlzL8TnXuYlEGf/zwsRGaTwOLAue6ACTSBmwTstKi9gFA2KAAHAAZbKmaFDeY2HaZ2tBVrQDSgYGBUAQ4AwcDYKkYx+Hsw6IUw2HQzPMatAMM0kdBgGBAKGEQGJSojmW6pAqCzS50wuKpnknZn0MJiUOcZj0fiMCuk4S/03wgCxIE2gJhhgBmEwtGeq3GSRwmGhDGPoRGFgkmFALmDgSiAN5e9UNV4Khq3U0lohQHAI7dSpVi+jJ40zLAgTAkDiULzJ5BzDUZjE0MDD8WjAUHjB0BBgAzA4NzDgI6aIwzSR2U83vn75Vl7lw04i1I/P09axIL4KBlHlghgiFw6BhheHBhaDBf0Kg4YZhoDQKDAeMFBFBIDGAoBA4AssvrZd//xx+rjzdJLP/+/3WFjPD8PMAwYDgaUWAAKmCgJmCgImAANmEgOlmFSp7MHLmkABAoEkvnmWBUyk8R/mv+tl3LXf/8cf3jz8cqSc7hf5nP8zv7zn+W7agYDSZHEcDgcDgZGJNsx9TDzafmvkAXAvhoKgUn8a7ybFSKBgBAEIWmA4AAJAEmGwMGYt4OKL/88LENmiD9sJfnvIDISAMmAsACAADzO8UMNxqCY3JDmC8RgCABAYBlKpRZSRlIh3mB6F+Yyoms2py3OlgaCTtUi6Nzpxo28kEDVzKXj8SvuQ0+G3zrGWWsebmaQ5kQBEmBkR0ZwhIUmcaeppDWW58M0Zx6ugmm+TOYYguBoelUmSiPaYLIVhlYiOQRk7TawmVW3Vhqdaky65TGWcTUYGAe5wVJRGEcL2YcoCphyA3GCuG+YWIGJmGmiy+OwXHL36uZy2GYpP4/3KoZAo9Zi0hEmHsGYYKAKZhnhJmDQEWYfYdphAgEmEaB+BQGzBVA3MNAHIwHABU5XfhEAO5D/ZHbr7orDMLm78k7LMedrY+WvSgScBwCBgXgShwD8ohpxIm5Lvv2AgBFLIEuY6r5y/9bu4freOf7s8ztawyyt/97vFTuO/6VjKGmLvZfU44cjQBsvtILqb0c01h+Kmdi3e7T5/jVynrNT9/v+0GpqJ53ebzv5Y2ZgUCAVAgMFIICEzHBkwUC0xYXU+0NYCBKYiGqa0D2AidIhBMbASSMRSL0uyF//PCxClfZAZ0Ad3YAUEDA4RDAkJK5lGBQXApHkyJJIZCgaA0EkLDBwBNMCwcTFBqm6kKloBogWgzJQIqh5ADgZQMMVyJjYgBDwWOjBilYUISjExswlsN6BwYCiEACCxlYhDBUPMaIzAREBBBWCMVOFCRgqfAwgMAJoHBhmomQlCIZyg474OCwdumFlCV5c4VIC8gVDWdP8ASYaDBI4QSI2jVkYmQAJhS4BAuEIwGL3ZkTSqaRuQz2wpg2NLgGiq2FmrjCpIMDrXYaDhtPSHqezChoRgJewJE2fKEOIm8lgrVDjQWmwLBzPMYQ0iflRICVZVAeFqkuyqgotTMYd7ll08FP3HhZ1I4FsbpatiWP9DMVci3Aj1XbV2HMoo/sc3Zcegn6fuo1K4s9N2vM5Uz72rzgcn8e7huTTkQqwfGY3KsJbDFyjrzNHepqSVRmMVKK9KaSWT2r1i7Lbuu16aeuLwKC04vkIzkPMk4zQrA9KDUw6CUwVNE/d8w5YGKDRDRwFKkY2xKbmkOtyFhJ/hyRDBD+ZyEcVggoMUyKBxn4BewiP/zwsRAVgQWfALfdCBLutIbiBeiQIQ0UsTSMUHMMCJpTzkMBq5mQyihEnGDxYmDYiGCoAIiDYGfFDMdYLQIogULFg+BUSYyCgyDTiBxUwBYVIA4Md9Wl8W+OqGLBomDJujo4eOFrIsx8KoU9FeqLCAYMDBlaVgk5S4AsbLUSi0/M18bbHJnHdNQguwvpoa5VZg7u97+rmaVGMnglQ0LhqbJAz9LMkaqTQFiw1ZVWi3wuWXoalmC0mhyaW26LVSilWNDjZgG/jCZVLqePt49N/PVNT09iEx/GV5RWVx2mrflM7k03N0tNS7lMbhOdqGt0VnOXw5U+L3a9PO5yimkUNcwuXZVvVDLsKty3G6T3hlb8VJe/Ev5Ny2SZVqSXzOfK+Wt473aEKGy6IVGEHHEYBgmYaPMcCEaYPBYBBLNVwDAwFkIIGKYBsHcVRZsEMiw9ICxIADF8P13IkmPYsCoKIklm3WRLJBRUcka+l9JrGEYRiQcA4ISAApgmnlSQGDlxjLQiGGeArAEQ4VUlioRXXbIAmTU1tjxoxYkGAhABR/V0Jz/88LEfVS0FnwE7pk8ERD2IlrguZKBphjr4Bhc4EJGwoRHAIkAgmVFUIsooirDR1iwYJTOFk7/vYHbQY7L5oREBoMBEgWHLzTrkHwxBsIhL4MdLPPwRC0piUSYMM3bSoXfbNSvRTlvIAlw6HgBTiGWMSFZUGU605VC2w9nobnLDlreder2XZUVNcpal6BXQlVd0oAZpGYahl2YftuZuD8XamESATLuLdcbgdctF3IulfVGVZn25V4uJOuHh9x080kdOVx0zqq3I4nF7+GpNJw2KZahYMC02nNzo8SMtNTmJJYhfkxBTUUzLjEwMKqqqqqqqqqqqqoluQ+g0VSaDiUIguK3g0KXwwRGDCkaHEymoJAYGIS27a3YAZAYUACSqqphIYS1iBlISjAEU8gpDaURkQL6Tji77xoAdrOFk22UxQSCsiAyqKiDyhNOsExccIJOChSUJtNCrqJusBCXaJmxUEgOC4qHF30gBxFfYOmWuXiM+dRJk4HWR2KClzthKyFVXjnB0x6UsnrHQQgNERC9khKc+SSUu3AtS1L5uQxZ8J1J//PCxKxQTBaIBuZe/NaPA0DNHIsJNBj/tju7Yj8E/SS+Fqbi0choMQ73i0arWtJy7tEy0Db1JSNT6cYGobVEV+HJPw0DiRBpBycFfN4bsrC62UauWEG1vXF+4zrhpcG5mT7ZGXTCulQpynZ/M3zk1gxUwwYzd+0vpCrQyO3Ipl20oTBc19/cuS8eJxHswahubA/mMNDmGDRzrHcJIMNitBs5VUxP0qAIiIQEwHQHDAaADMIUpw01Q3zAnBVBgnx2pUGJAEAR+Z6EA8DBYDAYDwGMg0CEskFIXAhiRaumGBw4OaiEbCwNBR2QgYcDGwm40GkS+pik6nSZ1MA5fMtBhCOs4NGCRYXNaAlLwSFkVAaINCAkKCsgVQDQDTioyKhQ0pgICEAmBkQKMyCcBKwAEkmSl2EYkEERCJgQZBy+bAECAtHisA1hgQ8Y6BnDDoVEg6LBAQSCossig5HB4MMFNQAImNAy2IbNtCjAXQqAgEBQKECzIRJj6Tia8NV2sQCjCX9TKfEGES2y7AwEpLGoCKtsNiw0pqrXcj7aGBhS8H5MIP/zwsT+ZMwWbAD3NlBVrhEIMRHQJHMcBKRbxe5ddAzp8oYaJF6dHkaAGCwFSx+7UkUAXIhEoFa4/cLchrb1y+IqxMyfiK9tRa9p22ZwtwNPZUm5yPbkER058pxh61C4egLNyYap3Esyycymm+g+jbDTbiee3RgqzEX7jkPWKO7WrNvWiE3Nv5ledl9oGf6kzq2KDCNQ7AM1I5RbnrNzeFnt/qoOkozAdDZAQXCoTAvA7NMcEwwhQKTBlAcMfAF9cZgZAMGDMBOOgGF8wCAIxwDAMGCqBkKANmBOBKYPITRgGALGBsBAYdAPIGA2L1gIpMJDUGjUkcx8dAwUOACPCKhm8cBlg0QEAQaTA5pIeYyugaQMIAjDzcDRhjYeABoSLzBkwwaUMrGRYDTLIlJAGyAygLCDoSPTOAQwIuBpGa4kGHFzQzBRAIABJvNHIQCVgYCC1KlWZWImxsgCGCh6Gh4VFzGQkiIwwAeUwYrQqMWCUcmeGsBAwpDRADgZSZEykREyCCVq1nOfOGEmVFFsCwUYCDBgIHDq7U+ha/c9h40AOIr/88LE/2b0FnADXtgATf+LKaAAR62UQjjxI0vtkRDaA5tY0hPaFArptpFWiW6j8kQK154L8Qnp2I/AvYYkbCs5Io5WV12KJmwO3sxSdkv5vw7cQpIAlboU83TxyRy/CET8teSYkV6YlbKs67XpZYq3Y6tnKYeGG6PdHYlL2UEhe+NRhtb0RiNufo7MnpXifqD5x06CbiF2LT85fnr0a07NeNz+Nmlpbcut6gEYQ43poHJHggGIw9wwIarm/+UcZKgPZhVDPiEFRmStxh4g5mCoHsYNoFhgRgsPfSGNxunCipAtMzCIKTCkbgwj8u6MLSiNWwMMfSWBIIDQJmAwF5d4aFI+YsDSaIDgabFGYDgwkOYChgYSid/47NHR8NgSeMXSiMNT1MQhdMLwDMQhRfwdAUwyF/lbK1VMZjnEkEMHBHMm26MymJMWTJBIlmBYVGF4XGHIjAUMDGMYDA8O3dx5r/35g2exlOLZiQbpkYboYUgYI4FA4wCGoIGwGgQCgKQZMFAlMKApZinyYAgwMgR+v////DjkMsQ9MOQUMBBaMWSH//PCxPhnw7ZQA57oATDMGy8piQGZgYFYVBwLBkTDKUAuYShQBgPUxSOFARQZMBgFSRoXVCoEJpL+///f////+FwCYACgTJAEGQIAIKlyQCBRVB0Kgk5ZYAQtegssoLgfDMNSuHXShTAX2kTAd7fWU0r6//////////+IQBL8l0QcDrzFQCCYEEvkx1yhQAVFIuRACs9SoCAWtjj+RtwXlYE0plymS8kimXTVO7OMqnppypFFTEFNRTMuMTAwqqqqqqqqqqqqqqqqAlZVvVpAgyZUZmWDoYCGKlBmZgZKJItAQdNXgjnaQ5lyMhAzQGc3h1NcMxAPGhrxoyaaEcmXD4QCGUohqKcZ6OEoqZcgmbMGPDA4E1sCBTEBwgC3AGggAFMIFBQFtC3RgwRfJ4y6pd5AMmFC1yoqrpljSlMUxVNYwgmLTIpOMxkCijJljJiE6zCEzMFzHA1WAUsZxmb6GbpSEFDOtDgvjYmC65lFpqWxu3Rs0QYPMwxN05NURHAxnVRnD5mCJiga6DBjjJkAUSSdMMNAQJ+qbcZf2W3I1GaWl//zwsTZW6P9CZXb0AEfyy3jVjMtwlT/S67GY1TU1reONa1NO0/1uGXJh25DUZjMts1qamy3Ko1Ls5S/strRqzrLL8asMxVuKQqYMUUyQeWtBqmK7nejVeGXdis0/0t53//VNaiTWmvUcMuTDtA/0trU3caWlpb0Ray12ifZyn6vxF2mdONTuCzl+Zp2pbzLv/ulszLku7YdpyoeoXZjVr4ooKpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",warning:"data:audio/mp3;base64,SUQzBAAAAAADBVRDT04AAAAHAAADT3RoZXIAVElUMgAAACEAAAPDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRYWFgAAAApAAADY29tbWVudADDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRBTEIAAAAhAAADw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAAJgAAA1RZRVIAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAALAAAA2x5cmljcy1jaGkAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUUEUxAAAAIQAAA8OVwr7Cs8Kkw4vDmMKyw4Qoc2MuY2hpbmF6LmNvbSkAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAB7DAAAUFJJVgAAAA4AAFBlYWtWYWx1ZQAhewAAVFNTRQAAABMAAANVUFlVTiBUcmFuc2NvZGluZwAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAARAAAdYgAcHBwcHCoqKioqKjg4ODg4OEdHR0dHR1VVVVVVVWNjY2NjY3FxcXFxcX9/f39/f46Ojo6OnJycnJycqqqqqqqquLi4uLi4x8fHx8fH1dXV1dXV4+Pj4+Pj8fHx8fHx//////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAJAAAAAAAAAHWJUiMoVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI81BSOKmGTTAAAA0gAAABD/09FhTGAAAAADSCgAAEAJAVbVtVpKZFAPBHOIWq2r/9/TOMqjc8XwGpRbVm9nOIhwsIPKmlLVlTqk4uIts2C6zjCOE6TWIRcTihGldXJzE6/9Xu5ue5Re2xf91F72NzYLpMubYnC/8zc3JRacSI1Llm5v+5ubjbcKr218Dh21VYSCYlBMD5PfzU4Cw/o2wXxLBoTIvqSxHecmxIdX/S7B+dk+BkzXnZPilOZiWjcbucKDs/YZEMRyeeVX4weOQ2P70c6862s67FJ9juO4zisY4Fi9X0kV5zfXktX0ziwwP2N9gSCYeV5iI7fmWKHZPfYcxYspkJmSy2/Hz3Do0EgdDgjCIRAQTrYEsCm0aRgGMVvUeViS3EjDGkRylySjhmxgdxXG/fuMiSRxdNidBmjkuuwE9DCzgACh524Etu/qKQKGCGWCgu/cTj0zSTkIrLFQBQplk465sKGgVI5TIeySkfyWUsDwmlS4MgQxBERJGtCvGsqtyilD8zEtp6LO+rhOtx77bvBFKSekMd//uSZEmABw1hTG5nIAAAAA0gwAAAGIVhVfmcAAAAADSDAAAA7XlGrFB9i3Us8zl0sYApoXbfNphjil83vpu6jd7tLe7Uln2Kt3VJR7uWtloyy6a7E0v2TwI4brq4pf//////////5+HP//////tssjF2wzkyiYAQAQBRngYBAUAwGkHUoYnESIx7LX2ulnAECj5bFhUPhACWAlaFlstL1KXQU6SkQcdGWRRZdkAR9lTeO+XrcJbwQJgEu3FJFYpZ5dKpUJKwxfHH+x+KQPKKK/J00XwjrVWYSScfnt6iksUpLkowuyuT3KatfiMQy53/ktNUm7+GqXCT09qNWsKaNSXnLef4Ycp62X0EooOXr04+1FJqCdlupmzbsW6etup+dr62W7n4b+r/43c8f//////+1ij6yyI8AAAAAJmuneg/VEzFQEeKTqBQDEqDqVrgJqhUMARsYFhmLYpnAWLGKKRhIUQhxiIgYaNmhG5sAjByWEPJjRJ+nKW2NBa73HpZTP7lqMwoBF7GGN2et/KRhqsIkOlz0vlFmLwxDDwoBQEGlv/7kmQ1hvYzStNPb2ACAAANIOAAARVdOU3OYZVAAAA0gAAABO1xrBLPgiPRNMVlLS4Bp2TTWD/OnA09RQLbtcvRvLnMr9itTUkZkeql7dqpL4blj+UWGu00WlU5Kae5LK9PKrmFPT50dWlraxzq4U9vDD8+6u5Uk0iMZdj/2/+E8qAAGnjg/chdiKQM8RZcw2jU4pDbiDnQ4lWIBmYJpAVA5MAJibUeYe3JgJgkhGbxXF37ncu4y1hICCLbyv7q1pdOonAprrWIdoLMaXkhKOPAlFPHtyO+zqRMoCNyu/Fo3yasOCiByW52t8vRJVNpEm/9bxxjMFQdK8Zl2+uror6tqfPFMRN33LLmoDYDiy9v8xQiUHcc1eZd7vZv/w12uTMp2gVO4C4AFgaqLJMAYAACAAADkWKMvaXbdpCe8CW4YABk5It4snXkYGALxqoDwuJIsAj3G2mt9SQ+2r8rHMQBRZ8st6q1Y02BNQOB1atjr/rtLMGgJ87tacwyyX2ikWta64N+9N+9aEtUi3Gfuo1qn+MJykxGnjYVhoCGrN9Rb1//+5JkO4D1UFfTe49HEgAADSAAAAEVIT9HjeF1QAAANIAAAAQrutoSjEIkUB0TFXLFi4hiFbMtiyi4YepW4MQQgUqan1KE+pMTc39CCIj/enAs73/qMfMfIAAAAAASrePMwSwuxw0bBYXOSQR4MgeO3mxMDUgZaVmVnQEGEV1gViMoeGqmOF00MYYMjbu35XjNI7AqTfYT2Vj5XEW4SudrWq9FA0uR9UFdWb+3WjyYggKzVtbvZzGcgtB8WTKZjG/nT226M/X7Oa1lW+5N1LPP2fYeBIMS2nq1uG8fScfW10RvTDEhTJLcXSwxLzptZxhyp1WVzLUuPuuO1En4qc4lSmQAEAAAAAAmIwa6Cy3jhuUPiSESbmmbOQNdjLxRsyR03Ng0ClSxY0jguUL2MIXMKeMEDmrTdS/+zmbYFY2cVkg2lit0kHTKvryy5awsq0fQ4jNgB/FubTQuLpNQySrrgSsVvn831ONlVVn6wrcn+7++K8JIg02W6GCsYNTis+LnSDvhMlikI33fwWMvR9gbE87DK10pXL9l8Nvw+7I0njDi//uSZFED9FRD0nNPTTIAAA0gAAABEUEvPgykdcgAADSAAAAEPKkUAVdLk62bufGkvmDLmgaGRfzJVW2rmclNrREBRdk1iA6kWsmPxFCwhD6ECASPoCoqZVILApphps+nLEBV9IVftNybfGJk2qik2cVDyN0KqPGJB/Wj5nZTUeirQ99kilXPilC1JvX1MkFgW9M9uS9WijVIAAAoTqNmBhM+noBoC7lwS9A2kfNpCfDqtqDvjzYS0lhTTr6bRZJ4MBDWpfKSRW+tNZ0JdR9FoESoS5ZNBUoEEItQojmGniTQQ+UEl2jbC0q0rXXh3y3h6ddciVZ2TBckcziirgehSNAZ//BC9VFvbbD+cdzXwGIUtXJkggAJRl0QUGadflbKnPS9fCGpVFokuZp8OkA4nWgEGTxCKh4gEIZMo3QPQuQZSclrRBOhIVkwfNVbmVlRMyqowXWXZRY487H3C4MAjCh934SVB4MMiU7pzLTUxkJIdkTZZNuLmDTXU1EBKdsxfyYRNaZebMNoNoF76p5CoAAAADFBRYyxmsMXkErZDFXWev/7kmSFg/PjStBDDDSQAAANIAAAAQ81GT0MJNFAAAA0gAAABKHn1dKYo6WMhkGwZlZh+IjEkaFIhx1RImTWSm5pemaqa0tganV45rygnCp5BOcqu2JrRqSubsN6cJM0rOC87KpQIunHIKrtIUqe+ElJtKu9xtIi9MqHIehJgdJn8l/+1v/oACwIIGAAC0nnp44a4wsCsLQO5BxkypGIg9lMw3htzpmzrSXtgSuahaJc2lQ1AdiWU4OOHFZgRtBD7SNht6kx0CmgsKMsGLlujJo1SXYYoZ+kj4ACGCAmbBlqBADoNWqt2My+extwucHgQXCIapaFvhkDAFBGozLIaq137qX5flgnokmY0KhISPHi4OERN5WdSK7EpZA8Ay3CM0taWO5PwwkwOAlWp4GAKFwRZi3QLgZa+jty1wW4QVA7k8yfi3J5Rbmrkss0/QSJac6NE0FDdnSqq11Nl0TP1qb///////7n////////8YZP2mdWhoiFhWdkRrvNrbI2gADIQYqAaiJaD0cpgMDy+YABJhMIigBQFGAwUYQF5UIZlSP/+5JkyYADtUFP5WEgAgAADSCgAAEdXYEbGa0AAAAANIMAAADhAiMHDsws9M7Ozt3A0sHkb1Gok5sRwBA00x3MxRjVR5f0NNeBwuRAjS1vNCYe87oz8qcJQZWUu3GlrwwmVRgQAFgkvbEZxpTYlBntSbhxpj0PA6q5SIMWQ+S5XK1T9Xkps7DQ4Ga5AjXWT4NxdiBlV5BFrUq07NyNP85MBuBDTbvi6kMZwbDM1DbrZulp6u1ZTr62NWq4rfNbcedrUMzF5dduXcKWcs6q1Q0HcjKf3EhxONwOCQ2GMJAkAgAE8beG31SsmvGwQ+6YODjQhowECDB2nZaYkZCILMeNzBAd+XVP9kxb1FIPf9y6wFINAgAXKxLveliiYEArHAB5csYlMUovzDCwyLwGPJQAYAZASaaeZisGQWuUHSq4gRTGLNPVqRTZgrSLAMLRmR4KBkeR0FWiXtJjluWw1Rw/DExFJu+4S2H6aarbDK3oddqEtu0d/KK3UwvZ9tZVXCtQdBeDrvhH5ZFm3jzWmCv+0yIOhz//n7//905JG4KpalLT//uSZNeABwdJUP5zYAAAAA0gwAAAHFU/M7m8gBAAADSDAAAAZ0e4W/dE883Uikows2v6hifgqH76IEAAAD8FUBYq/bwTjiukyyMx19JK6anbhOyygIye4gBRn4QQuJLlWaQ9Tef5TWgn6n3BVPXZxqZXKlgWHiPY1avFwWE8ag9nZQHyfrCXJDDMsb4sK2rH1mKp2TotdFGfbaquiJ1sqjnmkcZsMZ0p85k64rCAqfieZXNYcF0ha4MhUSsU1G1WlmkzGaCamUYch9phFLgv6BPYvk6TRxmKM+TXSa4VzabsiPUDcwttUQ8guLdElhv82vSPOS0CQ5oiAIAGFjEQKjURYEqbyJjN6jkUDS3wF2sOiUs2Ss0SwIIChzo5Dxql4JQp2qT9qMmoq+mZoGGkNtrh31CCKDCVP1aMTRUlOYZL7EMgdtLhR0tVvWnmYx6xlBrLMkyxsDF0laVDE00KNMUg9G5M71O8LjkL5XTVO6ABEQAAAAMEoxh4VBpHvglBugQB4LtD0PUQtitHcL8I4Ogv51nGJIdI/znW106HyDiAg//7kmS0gvXhVEzHZeACAAANIOAAAQ8BNUXHpM/AAAA0gAAABBBml4QPYmd4wHOZpTjUBRbgOosqTjBpkqeYy3aT3p3aO0Z3b/2zd2aHxHTKxHi3cvEgM9OxTkSzdc2bgwhDpvSRQQKg9bFSKuhe4pUAQRhlVdUkCp7GKB8YWahkQLpyiQNMCAFW4woNBATQ1vnpngbnOJqsJJoATUcPDoi5A6RtPjpiGoUKTHWeZhg6GpgklOgYNAO/bXHbgB3l6M0bG762mku0tEuuGDsPa2/S4Ef33X0vFW9myPaDSChbB7V0WH7ijW1lo5y+XOxSx5+AKGMY5vQCeW1pYb1vVk5+Oo1hMQlNqLFjeMPOwXfbYpNkKpy5SzeWZWa26savjyd5O4kGhOFAA0IW8tYqS0NAAgAAAAMWBFdRF9YKWWMk43AHTEgQBQAZPAbpF7jHdJNumUw8CJIw9iA0DzCxWBIRBAEQrljV0nkGjLQDX40F7qGVU6TJEfZnN8lCuhaRm8Yk0GRmXHMchgny5D6v4tkEVKqK4Ze9LyVwagPoF2Ii7z7/+5Jk2QHz6EnS8e8xcAAADSAAAAEYBSVJbmWPwAAANIAAAATx9eZuJLkb1rcdc7QXPT4axL5hucuYCkHDcgo79PVXvhf8/XHIMwaOEMte0ZlQsOYsfgtE2v/IBWJaljkbR6fq2FTLDJ2vpt61bX5T8v1/cnOlgd1gxLvyZSwCAAAA2bjLHDrrLU6MYgYmCjcHApq60jAhNONlEDCNqDtMfiAJDBlUxGVAdDMjwtvgZZHeqsfzOMrfYudBtbnMZ2XIIlLKLd+kT2QvCKOvTaxbkXeJDtkhNNOwIpkqMoAweXY4u0xJEFRxmlm/H2VOu0Fl8j+/DMJay+j8WMasM2FnwkShUMiA+QPihyElG/7gzKEHLkTXlresUDToQRfMdybFBZF/u/8OVWtQAgAAAAAAAUiGr5l2UCDAVDFZwslw4Bw/m6k67AUGJ0iSDwEg2o3idKd4MARq4VsOma16bwFCR66rvleZgoQmSmz3CUWoALhzmtyuFXhGEaQF3tqzUgsxEziKX9DsxlecICiNfyqRu9thooO396pjQYTitzyZ1rkz//uSZPkD9mNRU3OZZVAAAA0gAAABFVkPVc5hM4gAADSAAAAE9M7tH+vdQfSUdiFnF4ZFnCh5hUIMde5K3DcLSOfTt1Gwe7uXUpZqt9bbufq3rt/+WO//LjtPv4TPAhP85rPyVoABEwExWNuxI3ySvMTBHAyBhcDUGV9w6pUYCAecXreYBAKqZT5cYwPARyTAQQhKFmfQ6+rrUccHGwMQ7saxg+346lM0/34rTVAo2wfHN+J+y+4umyyVXH/qx0YMNjuFwzBjrzUpTQH04HlDpy3T/Er6/71aG7tLOA1VUMeudnpVgX+tYfn8xcIgYpGtXu8iVz692lxwjbQs6ZmJgOgQRSPixW0rAyqtt4Nx2xFOerBdEV7SFu/b0Qv/+frV8tTyykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqfQCAAAAAABqtFdpCy482NFwwspgMLodYa1SDWqAwIHdFQBgvzBeiCrgA0IhE4NBbnc76h4s2z2zf7ivKtf+bsbmE9IVV3J9Q+/gsmM45xq7BQP/7kmT8BvXLWlR7mVzgAAANIAAAARgBW0ku5XPAAAA0gAAABMUA9RWTxCesLAGIiFWeUZ+gUoKEyfH6mUslBMHP8bXx932S0VrDsCGDbeJthQPjronGBwEo8fEPCALB8qQ9JDVC2/VVd1Uul89s8/+9f/lSjNvsABKA5FGIsndVq6QoCwYsYE0BUGK7Y0IQeYaoxoOKmBhAWrVjKAIRApXZVtBzsE24lKaebMRNXuNPTWvxQpnO/qVVET0odVbExWQbMlBpuqSVZx4wlD3CXteh6H50ZBA2yENarf3gXsLttpFn9fa88K3jMDajZlGdRrAiBdWU/PcwCgVY3Fl0ZSZ+p2qcCcK6TUXAGNarvZUK5BOLmZpTuWfHbaCCYVI1I49MQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpJUAEAAB9AABeJgJp1kTHLWAUPMiFsOCbponvxAzeGGSQc1Co0H2WQA+r4x8QJX5znb9WmRyT5VUcOCIrI3oTNo6O/y22J2a/f/83ZREn/+5Jk6Ab1HVbT65hEcAAADSAAAAEVbSdHbmUxwAAANIAAAAR/MKnI4FWUmdSU7vLAjxb28a3aiqzN93M7X0KQsD/ju9uAmn26mvz0b3iKg7KjTbZWDwkMV1qKmJqMHmQ2FAXDxBTJcBNl0fmjAAAwAAAAQJTsGQHHl9jgaMA4oRgZrhEGYkIwCKAoxnNzoswMPhEIAiJi8xYMlzTApvDAu5Fi7SZ3DEPSraRk28ZfFsUX+M25VYm2GK+7fxkdVsZwqtChiT1JywIIkI2hxrOHo2wsCjMSpppypVEY2GLX4znuUQY+Is1LLFJH6FYAaEfOGKs5RXc8refb05XaPB0/rCtnYvfvLHCRABnF4K05G76zZG/ba2/nXjuuSKuFT+pFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUpAAAAACoAAF4oEZWsKxqZboxkzdtVDEljSiKppGDKZ8AghC/z9xpyHZBQaRBdNnzW5tPpjzeTL301Z//uSZOYA9LREVHuYLHAAAA0gAAABFoUtQ05lM8AAADSAAAAEmE9/3tVppxtfz8tI7qmleGGV2UEgNEI/3uGZ+I11WucZPdLdqxukMkUe2fhyMBH7gw83oBV/1fd/rtUXMyx8XEzViqX7w+381u81qg64FJqx3D47AGAAEgSnHKLk32YpvGdRUIxvGBgBc9pjxGCgkHDwYlACOs/LJk0k7iAUAwFovPSm1SEqR4ER1MyibvNSpfvXLOmqKEUm5dWjESMUWAyuxPyGNjhBg7THehcXkbcQaRmt14cJiVpppDN/HZdTzDZQLMiDKc4ei/IZYNIreNDK62IAETmxRhITMecU9KFVG2Wji0C7PwgQio8VG8BEkM6qnEy1vOfuM3/mVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSmAYAAACAAABUoAKqun9yWLLzjUtoalKg0plLuGGhx+wG51SihxmEKQ/j2OO98IQurKIjWmZDUg7HX//twluVnerLxojSfCYxp6q//7kmTchPRvTVR7b0cQAAANIAAAARUtNUWO4ROAAAA0gAAABAT3WMqeesugLNnJmkqZ6T13c7dsyhfbmZa7q/K1g7W7V7LUTfliZsgYlHJCwqkaXpFeHPIjjCxKLh4+ULDDt7nDq/UmAAJCGITwoAmsAgAFgcm9nYnDAwOFqhphkTmPzSbR8Z7QdGSBcDAOYLHZAMEakgb7KoOjedE4RgWX7n8bnv+1hrNq5Z3Mu2kE887B0tvsHKhSizsx5riuIRNDhWDSqal7GmWp1DeKCRPtDkpec8mgx9Yu69I6gp+OuBIofuwtP8u9Tuo5HJmWihZqKagy9MZ/fr27FSxFf1fy1OUE/nf/l3Kkzsdyps7NvOraxoLdb7/eVdVcbrERthVMQU1FMy4xMDBVVVWUgAAABJpLQABGcoWEIyBAUMB0BmDgYYmJRmNamJggZOXBicFiqzGjYYNsoZNQriTGgBMJV0wgFHBB5nDRDOM1Q5iRIAPLPuMEIEwc2ALBQCG1vP0i++jsXFO3sTTXfmsR0wEo8bNGoRItzWLADNJQjUx9rzv/+5Jk5IT0cUPTe3gccAAADSAAAAEXJS9AlcwACAAANIKAAARYltbRATG41Cih6eXKx9tW6oAHMZ8s9nCimlH2KS9kTWhYGq4Fm21FgduULyc6NR9472U7ParU3c9WcblWvLKsYgSYf+V08CTFLQV5+H6TWM3b7qtZqS+vSYz93H3HgvF5HUkz/wHNu5GP/////////+5c7///////4S+X25ZSWJfT26SksU9P////4EDGraAAABARclN0elZN4txOjSUTeT4gw9RClUiRbQcoGUAIRj5cuXLjIyWrQUFBQYKCgoKN/wUG/+BQKCisjgoKfF+KCgov//IFFfFBv/4X//Tf/gUK//v/+FX/+kv/8gUV0FBgr4QUCiugoMFPCgoFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSZPmACBVmUmZzIAAAAA0gwAAADew7Vbz2AAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(6)),i=c(n(956)),a=(c(n(1)),c(n(955))),s=c(n(954)),u=(n(952),c(n(951)));function c(t){return t&&t.__esModule?t:{default:t}}var l=r.default.getLogger("pdf-viewer.jsApp"),f=new u.default,p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.viewerApp=n,this._calculate=!0,this._fullscreen=!0,this._fs=f,this._runtimeHighlight=!0,this._highlightColor=["RGB",0,0,1]}return t.prototype.popUpMenu=function(){for(var t=this.viewerApp.i18n.t("viewer_:pdfjs.popupMenu"),e={},n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];o.forEach(function n(o){var r=1;return function(i){var a=Object.prototype.toString.call(i);if(a.indexOf("String")>-1&&"-"!==i){var s=void 0;s=void 0!==o?o+"-"+r:String(r),t+=s+". "+i+" \n",e[s.trim()]=i,r++}else if(a.indexOf("Array")>-1){var u=void 0;u=o?o+"-"+r:String(r),t+=u+". "+i[0]+" \n",e[u.trim()]=i[0],void 0!==o?i.slice(1).forEach(n("  "+o+"-"+r)):i.slice(1).forEach(n("  "+r)),r++}}}());var i=prompt(t);if(null===i)return null;for(var a in e)if(e.hasOwnProperty(a)&&i.trim()===a)return e[a]},t.prototype.response=function(t){var e=t.cQuestion,n=(t.cTitle,t.cDefault);t.bPassword,t.cLabel;return window.prompt(e,n)},t.prototype.beep=function(t){var e=void 0;switch(t){case 0:e="error";break;case 1:e="warning";break;default:e="error"}var n=new Audio(i.default[e]);n.addEventListener("load",function(){n.play()},!0),n.autoplay=!0},t.prototype.alert=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments[3];if(!this.jsEngine.getEvent().isSensitiveCheck&&!this.jsEngine.getEvent().isLoading){var o=this.jsEngine.getEvent();if(!o.isSensitiveCheck&&!o.isLoading){var r,i;t&&t.nType&&t.nType;switch(r=n,t&&void 0!==t.nType&&(r=t.nType),(i=t&&t.cMsg?t.cMsg:"")||(i=void 0===t||null===t?"undefined":"string"==typeof t?t:t.toString()),r){default:case 0:return alert(i);case 1:return confirm(i)?1:2;case 2:case 3:return confirm(i)?4:3}}}}),t.prototype.clearInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){clearInterval(t)}),t.prototype.clearTimerOut=function(t){clearTimeout(t)},t.prototype.launchURL=function(t){if(this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.getEvent().isLoading)this.jsEngine.sensitiveOp=!0;else{if(/\w*:\/\/[\s\S]*/.test(t)){if("file"===t.match(/(\w*):\/+[\s\S]*/)[0])return}else t="http://"+t;var e=this.viewerApp.i18n.t("viewer_:pdfjs.launchURLHint");confirm(e+"\n"+t)&&window.open(t)}},t.prototype.execDialog=function(t,e,n){if(!this.jsEngine.getEvent().isSensitiveCheck)return new Promise(function(e,n){var o=new a.default(t,function(t){e(t)});o.initialize(),o.doModal()})},t.prototype.execMenuItem=function(){l.info("app.execMenuItem is not completed now.")},t.prototype.setInterval=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return setInterval(window.eval(t),e)}),t.prototype.setTimeOut=function(t,e){var n=this;return setTimeout(function(e){return n.jsEngine.exec(t)},e)},o(t,[{key:"activeDocs",get:function(){return[this.jsEngine.cacheJSDoc]}},{key:"calculate",get:function(){return this._calculate},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._calculate=t}},{key:"constants",get:function(){return{algin:{left:0,center:1,right:2,top:3,bottom:4}}}},{key:"focusRect",get:function(){return this._focusRect},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._focusRect=t}},{key:"formsVersion",get:function(){return 7}},{key:"fullscreen",get:function(){return this._fullscreen},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._fullscreen=t}},{key:"fs",get:function(){return this._fs}},{key:"runtimeHighlight",get:function(){return this.viewerApp.highlightControls()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setRuntimeHighlight(t)}},{key:"runtimeHighlightColor",get:function(){return this.viewerApp.getDisplayHighlightColor(.2,"RGB")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setRuntimeHighlightColor(t)}},{key:"viewerVersion",get:function(){return 7}},{key:"viewerType",get:function(){return"Exchange-Pro"}},{key:"viewerVariation",get:function(){return"Business Tools"}},{key:"printerNames",get:function(){return["Web Printer"]}},{key:"platform",get:function(){var t=window.navigator.platform,e=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?e="MAC":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?e="WIN":!e&&/Linux/.test(t)&&(e="UNIX"),e}},{key:"language",get:function(){var t=void 0,e=navigator.language||navigator.userLanguage;return[{language:"zh-CN",code:"CHS"},{language:"zh-HK",code:"CHT"},{language:"zh-TW",code:"CHT"},{language:"da",code:"DAN"},{language:"de",code:"DEU"},{language:"en",code:"ENU"},{language:"es",code:"ESP"},{language:"fr",code:"FRA"},{language:"it",code:"ITA"},{language:"ko",code:"KOR"},{language:"ja",code:"JPN"},{language:"nl",code:"NLD"},{language:"nb",code:"NOR"},{language:"pt-BR",code:"PTB"},{language:"fi",code:"SUO"},{language:"sv",code:"SVE"}].some(function(n){e.indexOf(n.language)>-1&&(t=n.code)}),t}},{key:"numPlugIns",get:function(){return 2}},{key:"plugIns",get:function(){return[{name:"Annots",certified:!0,loaded:!0,path:"",version:7},{name:"Forms",certified:!0,loaded:!0,path:"",version:7}]}},{key:"media",get:function(){return new s.default(this.jsEngine)}}]),t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(957)),r=s(n(950)),i=(s(n(349)),s(n(931)),s(n(930))),a=s(n(84));s(n(3));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var c=[],l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.curEvent=null,this.PDFViewer=e,this.hasInitAnnots=!1;var n=e.config.enableJS;this.enableJS=null==n||n;var a=new o.default(this,e),s=new r.default(this);i.default.initJSEnv(this,a,s),this.cacheJSDoc=s}return t.prototype.setStatus=function(t,e){this.status=t,this.eventSource=e},t.prototype.getEvent=function(t){return t?this.events[t]:this.events[this.cacheJSDoc.timeStamp||this.curEvent]||{}},t.prototype.getEnableJS=function(){return this.enableJS},t.prototype.setEnableJS=function(t){this.enableJS=t},t.prototype.getPDFDoc=function(){return this.engineDoc},t.prototype.getFieldValue=function(t){return this.getPDFForm().getField(t).getValue()},t.prototype.getPDFForm=function(){return this.getPDFDoc().getPDFForm()},t.prototype.initEvent=function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"Init"==o&&(this.engineDoc=r.doc,this.events={},this.cacheJSDoc.cleanFields());var i={};i.engineTarget=n,i.target=this.cacheJSDoc.getField(n&&n.getName()),i.name=o,i.source=this.cacheJSDoc.getField(e&&e.getName()),i.type=t,i.rc=!0,i.value="";var s=function(t){return t+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}((new Date).valueOf()+""+o);for(e&&(s+=e.getName()+"_"),n&&(s+=n.getName());this.events[s];)s+="p";for(var u in i.timeStamp=this.curEvent=s,this.events[s]=i,i.change="",r)i[u]=r[u];switch(o){case a.default.FieldKeyStroke:i.value=n.getValue(),i.changeEx=n.getValue();break;case a.default.FieldRecalculateValue:break;case a.default.FieldValueChanged:i.value=n.getValue();break;case"WillPrint":break;case"Focus":case a.default.AnnotReceiveInputFocus:i.value=n.getValue();break;case"DidPrint":break;case"Blur":case a.default.AnnotLoseInputFocus:i.value=n.getValue();break;case"WillSave":break;case"Format":case a.default.FieldWillFormat:i.rc=!0,i.value=n.getValue()}return s},t.prototype.closeDoc=function(){this.PDFViewer.pdfViewerRender.pdfDocRender.destroy()},t.prototype.postRunScripts=function(t){var e="";switch(t.name){case a.default.FieldRecalculateValue:e=t.rc,void 0!==t.value&&(t.value+"").length>0&&t.engineTarget.setValue(t.value);break;case a.default.FieldWillFormat:t.rc&&t.engineTarget.showDisplayValue(t.value),e={rc:t.rc,format:t.format,value:t.value};break;case a.default.FieldKeyStroke:e=t.change,e={rc:t.rc,format:t.format,change:e};break;case a.default.FieldValueChanged:e={rc:t.rc,format:t.format,value:t.value}}return"calculate"==this.status&&(this.getPDFForm().calculate(this.eventSource),this.status=""),delete this.events[t.timeStamp],t=null,e},t.prototype.handleJavaScripts=function(t,e,n){var o=void 0,r=this.events[n.event]||{};try{if(this.isBusy=!0,o=i.default.exec(t,!!e,n),this.isBusy=!1,"boolean"==typeof o)return this.postRunScripts(r)}catch(t){window.jsLog&&window.jsLog(t),this.isBusy=!1,r.rc=!0,this.postRunScripts(r),o=-1}return o},t.prototype.delayHandle=function(){var t=this;setTimeout(function(){if(t.isBusy)t.delayHandle();else for(var e=c.pop();e;)t.exec.apply(t,u(e)),e=c.pop()},10)},t.prototype.exec=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.event=n.event||this.curEvent,this.handleJavaScripts(t,e,n)},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs,o=this;Promise.resolve((n.remoteGotoActionCallback||r.default)(this.getDestination())).then(function(t){if(!1!==t){var n=e.action.getFileSpec();if(n.isEmbedded()){var r=e.getDestination();e.action.getFileSpecStream().then(function(t){var e=new Blob(t,{type:"application/pdf"}),n=URL.createObjectURL(e);window.open(location.href+"#FOXITPDFREMOTE");window.addEventListener("message",function(t){t.source!==window&&t.data.isReady&&t.source.postMessage(Object.assign({foxitSdkActionType:o.action.getType(),foxitSdkActionUrl:n,foxitSdkActionFileName:o.action.getFileSpec().getFileName()},r),window.location.origin)},!1)})}else{var i=e.annot.pdfViewer.i18n.t("viewer_:dialog.action.remoteGoto.message");alert(i+"("+n.getFileName()+")")}}}),t.prototype.active.call(this)},e.prototype.getDestination=function(){return this.action.getDestination()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(55));r(n(38));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e.prototype.active=function(){var t=this,e=this.annot.pdfViewer.getPDFDocRender().getPDFDoc();this.getFieldNames().forEach(function(n){e.getPDFForm().getField(n).setHidden(t.getHideState())})},e.prototype.getFieldNames=function(){return this.action.getFieldNames()},e.prototype.getHideState=function(){return this.action.getHideState()},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.gotoActionCallback||r.default)(this.getDestination())).then(function(t){!1!==t&&function(t,e){e.getPDFDocRender().getPDFDoc().getPageByIndex(t.pageIndex).then(function(n){switch(t.zoomMode){case"ZoomXYZ":var o=t.zoomFactor;0===o?e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top):e.zoomTo(o).then(function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)});break;case"ZoomFitHorz":e.zoomTo("fitWidth").then(function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)});break;case"ZoomFitPage":e.zoomTo("fitHeight").then(function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)});break;case"ZoomFitRect":var r=e.getPDFViewerRender().scrollWrap,i=r.getScrollHost(),a=i.clientWidth,s=i.clientHeight;e.getPDFPageRender(t.pageIndex).getPDFPage().then(function(n){var r=n.getDeviceRect({left:t.left,top:t.top,bottom:t.bottom,right:t.right}),i=r.right-r.left,u=r.bottom-r.top;o=Math.min(a/i,s/u),e.zoomTo(o).then(function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)})});break;default:e.zoomTo("fitWidth").then(function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)})}})}(e.getDestination(),e.pdfViewer)}),t.prototype.active.call(this)},e.prototype.getDestination=function(){return this.action.getDestination()},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this.annot.pdfViewer.customs;Promise.resolve((e.importDataActionCallback||r.default)(this.getFDFFileSpec())).then(function(t){}),t.prototype.active.call(this)},e.prototype.getFDFFileSpec=function(){return this.action.getFDFFileSpec()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.resetFormActionCallback||r.default)(this.getFlags(),this.getFieldNames())).then(function(t){!1!==t&&e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().resetForm(e.getFieldNames(),e.getFlags(),e.source)}),t.prototype.active.call(this)},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e.prototype.setSource=function(t){this.source=t},e.prototype.getFlags=function(){return this.action.getFlags()},e.prototype.getFieldNames=function(){return this.action.getFieldNames()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.submitFormActionCallback||r.default)({flags:this.getFlags(),url:this.getURL(),fieldNames:this.getFieldNames()})).then(function(t){!1!==t&&e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().submitform(e.getURL(),e.getFieldNames(),e.getFlags())}),t.prototype.active.call(this)},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e.prototype.getFlags=function(){return this.action.getFlags()},e.prototype.getURL=function(){return this.action.getURL()},e.prototype.getFieldNames=function(){return this.action.getFieldNames()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.annot.pdfViewer.JSEngine;if(o.getEnableJS()){var i=this.annot.pdfViewer.customs;if(!n){if(!1===(i.javascriptActionCallback||r.default)(this.getScript()))return;return o.initEvent(this.getType(),this.source,this.target,this.name,this.param),o.exec(this.getScript())}Promise.resolve((i.javascriptActionCallback||r.default)(this.getScript())).then(function(t){!1!==t&&(o.initEvent(e.getType(),e.source,e.target,e.name),o.exec(e.getScript()))})}t.prototype.active.call(this)},e.prototype.setTypeName=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=t,this.name=e},e.prototype.getType=function(){return this.type},e.prototype.setSourceTarget=function(t,e){this.source=t,this.target=e},e.prototype.getScript=function(){return this.action.getScript()},e.prototype.setScript=function(t){return this.action.setScript(t)},e.prototype.setParam=function(t){this.param=t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.namedActionCallback||r.default)(this.getName())).then(function(t){if(!1!==t){var n=e.pdfViewer.getPDFDocRender();switch(e.getName()){case"NextPage":n.nextPage();break;case"PrevPage":n.prevPage();break;case"FirstPage":n.goToPage(0,{x:0,y:0});break;case"LastPage":var o=n.doc.getPageCount();n.goToPage(o-1,{x:0,y:0})}}}),t.prototype.active.call(this)},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e.prototype.getName=function(){return this.action.getName()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fileSpec=e}return t.prototype.getChecksum=function(){return this.fileSpec.getChecksum()},t.prototype.getCreationDateTime=function(){return this.fileSpec.getCreationDateTime()},t.prototype.getDescription=function(){return this.fileSpec.getDescription()},t.prototype.getDict=function(){return this.fileSpec.dict},t.prototype.getFileData=function(){return this.fileSpec.fileData},t.prototype.getFileName=function(){return this.fileSpec.getFileName()},t.prototype.getFileSize=function(){return this.fileSpec.fileSize},t.prototype.getModifiedDateTime=function(){return this.fileSpec.modifiedDateTime},t.prototype.getSubtype=function(){return this.fileSpec.subtype},t.prototype.isEmbedded=function(){return this.fileSpec.isEmbedded},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(55)),r=a(n(967)),i=a(n(38));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return i.fileSpec=i.getFileSpec()&&new r.default(i.getFileSpec())||null,i}return s(e,t),e.prototype.active=function(){var e=this.annot.pdfViewer.customs;Promise.resolve((e.launchActionCallback||i.default)(this.getFileSpec())).then(function(t){}),t.prototype.active.call(this)},e.prototype.getFileSpec=function(){return this.action.getFileSpec()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.URIActionCallback||r.default)(this.getURI())).then(function(t){if(!1!==t){var n=e.getURI();if(/\w*:\/\/[\s\S]*/.test(n)){if("file"===n.match(/(\w*):\/+[\s\S]*/)[0])return}else n="http://"+n;return!!confirm("open following link in new window?\n"+n)&&window.open(n)}}),t.prototype.active.call(this)},e.prototype.getURI=function(){return this.action.getURI()},e.prototype.setURI=function(t){return this.action.setURI(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(n(55)),r=h(n(969)),i=h(n(968)),a=h(n(966)),s=h(n(965)),u=h(n(964)),c=h(n(963)),l=h(n(962)),f=h(n(961)),p=h(n(960)),d=h(n(959));function h(t){return t&&t.__esModule?t:{default:t}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.actionOptions=e.actionOptions;var n=this.actionOptions.remoteGotoActionInit;n&&n()}return t.prototype.get=function(t,e){switch(t&&t.getType()||null){case"TypeURI":return new r.default(t,e);case"TypeLaunch":return new i.default(t,e);case"TypeNamed":return new a.default(t,e);case"TypeJavaScript":return new s.default(t,e);case"TypeSubmitForm":return new u.default(t,e);case"TypeResetForm":return new c.default(t,e);case"TypeImportData":return new l.default(t,e);case"TypeHide":return new p.default(t,e);case"TypeGoto":return new f.default(t,e);case"TypeGoToR":return new d.default(t,e);default:return new o.default(t,e)}},t}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(971));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.flag=e}return t.prototype.getValue=function(){return this.flag},t.prototype.checkInvisible=function(){return this.flag&o.default.invisible},t.prototype.checkHidden=function(){return this.flag&o.default.hidden},t.prototype.checkPrint=function(){return this.flag&o.default.print},t.prototype.checkNoZoom=function(){return this.flag&o.default.noZoom},t.prototype.checkNoRotate=function(){return this.flag&o.default.noRotate},t.prototype.checkNoView=function(){return this.flag&o.default.noView},t.prototype.checkReadOnly=function(){return this.flag&o.default.readOnly},t.prototype.checkLocked=function(){return this.flag&o.default.locked},t.prototype.checkToggleNoView=function(){return this.flag&o.default.toggleNoView},t.prototype.checkLockedContents=function(){return this.flag&o.default.lockedContents},t.prototype.and=function(t){return this.flag=this.flag&t,this},t.prototype.or=function(t){return this.flag=this.flag|t,this},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(93)),r=n(30),i=a(n(75));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.$ui.addClass("fv__pdf-page-watermark-annot-container"),a}return s(e,t),e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1),s=i.getDeviceRect(o),u=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(u/r),u,c,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,a=this.annot;if(this.scale=n,this.rotate=o,a.isEmpty()||a.isDeleted()||a.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var s=this.tileCanvas;if(!a.getBorderWidth())return s&&s.hideContainer(),Promise.resolve();var u=this.getTileConfig(n,o);return s||(s=this.tileCanvas=new i.default(function(t,n,o,i,s,u,c,l){return e.getPDFPage().getAnnotBitmap(a.getId(),(0,r.pt2px)(u),0,{x:c*u+n*s,y:l*u+t*s,width:o,height:i})},this.$ui)),s.showContainer(),(t=s).redraw.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(u))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="annotComponent",r={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data(o).showPropertiesDialog(t,e,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(o).showActionsDialog()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(o).removeAnnot()},disabled:function(){return this.data(o).deleteDisabled()}}},i={properties:r.properties,download:{name:"download",nameI18nKey:"viewer_:contextmenu.annot.download",callback:function(){this.data(o).download()}},remove:r.remove};e.getImageContextMenu=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:r,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.getMultiMediaContextMenu=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:i,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(123)),r=a(n(84)),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return s(e,t),e.prototype.handleEvnet=function(e,n){var o=t.prototype.handleEvnet.call(this,e,n);if(o)return o;switch(e){case r.default.AnnotMouseButtonPressed:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonDown,this.annot);break;case r.default.AnnotMouseButtonReleased:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonUp,this.annot);break;case r.default.AnnotCursorEnter:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseEnter,this.annot);break;case r.default.AnnotCursorExit:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseExit,this.annot)}},e}(o.default);e.default=u},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColor,a=(t.position,t.background),s=t.align,u=(t.readonlyAttr,t.readonly),c=t.comboEditable,l=(t.cursor,t.fs,t.fontSize),f=(t.fcolor,t.color),p=t.style,d=t.dropButtonDisplay,h=o.$escape,g=t.value;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}p=n+"left:0px;top:0px;height:100%;width:100%;position:absolute;"+a+s+("font-size:"+l+";")+("color:"+f+";")+(c?"":"cursor:pointer;"),d=u?"display:none":"display:block";return e+='\n<input class="fwr__ui-combo-input" ',e+=h(u||!c?"readonly":""),e+=' style="',e+=h(p),e+='" value="',e+=h(g),e+='"></input>\n<div class="fwr__ui-combo-dropdown" style="',e+=h(d),e+='"></div>'}},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColorHex,a=(t.position,t.background),s=t.align,u=(t.style,o.$escape),c=t.i,l=t.options,f=t.optClass,p=t.value;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}e+='\n<div class="checkbox form-field-options" style="',e+=u(n+"left:0px;top:100%;max-height:200px;width:100%;position:absolute;"+a+s+"overflow-y:auto"),e+='">\n    ';for(c=0;c<l.length;c++){f="form-field-option";l[c].value==p&&(f+=" selected"),e+='\n    <div class="',e+=u(f),e+='" data-val="',e+=u(l[c].value),e+='" data-index="',e+=u(c),e+='">',e+=u(l[c].lable),e+="</div>\n    "}return e+="\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=f(n(123)),i=f(n(977)),a=f(n(976)),s=n(64),u=f(n(1)),c=f(n(84)),l=n(8);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_combobox_field"),a.available=!0,a.handleFiller=!1,a.genDropDownUI(1),a.genLabelUI(),a.bindDropDownUIEvent(),a}return p(e,t),e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=e,this.rotate=n,this.available){this.updateForgroundAndHandler(e);var o=this.annot.getDeviceRect(e),r=o.right-o.left,i=o.bottom-o.top;this.$optionsList.css({left:o.left,top:o.top+i,width:r,"font-size":"1em","overflow-y":"auto"});var a=4*this.annot.getBorderWidth()/3*e,s=this.annot.getField();if(!s)return!1;this.$textInput.css({"font-size":c,"border-width":a+"px",padding:a+"px"});var u=.3*i>20?20:.3*i;this.$handler.find(".fwr__ui-combo-dropdown").css({"border-width":u+"px "+.6*u+"px 0",top:(i-u)/2+"px"});var c=4*s.getDAFontSize()/3;c?c+="px":(clearTimeout(this.autoFontSizeTimeout),this.autoFontSizeTimeout=setTimeout(function(){t.autoFontSize(t.$textInput.val(),2*u)},200))}},e.prototype.handleEvnet=function(e,n){var o=this,r=t.prototype.handleEvnet.call(this,e,n);if(1==r)return r;switch(e){case c.default.AnnotMouseButtonPressed:this.optionsMounted=this.optionsMounted||this.$handler.after(this.$optionsList),this.$optionsList.show();break;case c.default.AnnotMouseButtonReleased:if((0,u.default)(n.target).hasClass("form-field-option")){(0,u.default)(n.target).data("val");n.stopPropagation(),this.$optionsList.hide()}setTimeout(function(){var t=o.annot.action;o.formRender.execAction("Field",t,null,o.annot.getField())},150)}this.performAction(e)},e.prototype.genDropDownUI=function(t){var e=this.annot,n=this.annot.getField();if(n){var o=4*e.getBorderWidth()/3*t,r=e.getMKProperty("borderColor"),a=(0,l.convertFromNumberToHex)(r);0===r&&(a="gray");var s=e.getMKProperty("fillColor"),c=(0,l.convertFromNumberToHex)(s);0===s&&(c="white");var f=n.getOptions(),p=n.getValue(),d=(0,i.default)({borderWidth:o,borderColorHex:a,fillColorHex:c,background:"white",options:f,value:p});this.$optionsList=(0,u.default)(d),this.$optionsList.hide()}else this.available=!1},e.prototype.bindDropDownUIEvent=function(){var t=this;this.available&&this.$optionsList.on("click",function(e){if((0,u.default)(e.target).hasClass("form-field-option")){var n=(0,u.default)(e.target).data("val");e.stopPropagation(),t.$optionsList.hide(),t.$optionsList.find(".selected").removeClass("selected"),(0,u.default)(e.target).addClass("selected");var o=t.annot.getField();if(!o)return;if(o.getValue()===n)return;t.updateUIMore({type:"value",value:n}),t.formRender.setValue(t.annot,n),t.formRender.calculate(t.annot.getField()),t.performAction(c.default.FieldValueChanged),t.performAction(c.default.FieldKeyStroke)}setTimeout(function(){var e=t.annot.action;t.formRender.execAction("Field",e,null,t.annot.getField())},150)})},e.prototype.blur=function(){var e=this;if(this.$optionsList.hide(),this.$textInput.length>0){var n=this.$textInput.val();setTimeout(function(){var t=e.annot.getField();if(t){var o=n;t.getOptions().forEach(function(t){n==t.lable+""&&(o=t.value)}),o!==t.getValue()&&(e.formRender.setValue(e.annot,o),e.formRender.calculate(e.annot.getField()),e.performAction(c.default.FieldValueChanged))}},0)}t.prototype.blur.call(this)},e.prototype.focus=function(){var e=this;t.prototype.focus.call(this);var n=this.annot.getField();if(n){var o=n.getValue(),r=o;n.getOptions().forEach(function(t){o==t.value+""&&(r=t.lable)}),this.$textInput.val(r),setTimeout(function(){e.$textInput.focus()},10)}},e.prototype.genLabelUI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.annot.getField())return!1;var e=(0,a.default)(this.getStyle(t)),n=this.$input=(0,u.default)(e);return this.$foreground.after(n),this.$textInput=this.$handler.find("input"),!0},e.prototype.updateUIMore=function(t){var e=t.type,n=t.value,o=this.annot.getField();if(o)switch(e){case"value":return o.getOptions().forEach(function(t){n==t.value+""&&(n=t.lable)}),this.$textInput.val(n);case"displayValue":return this.$textInput.val(n);case"align":return this.$textInput.css("text-align",n);case"borderStyle":return this.$textInput.css("border-style",n);case"borderColor":this.$textInput.css("border-color",0===n?"transparent":(0,l.convertFromNumberToHex)(16777215&n));break;case"fillColor":return this.$input.find(".textCombContainer").css("background-color",0===n?"transparent":(0,l.convertFromNumberToHex)(16777215&n)),this.$textInput.css("background-color",0===n?"transparent":(0,l.convertFromNumberToHex)(16777215&n));case"readonly":n?(this.$foreground.hide().addClass("form-field-readonly").css("visibility","hidden"),this.$textInput.attr("readonly",!0)):(this.$foreground.show().removeClass("form-field-readonly").css("visibility","visible"),this.$textInput.removeAttr("readonly"));var r=this.annot.getMKProperty("fillColor"),i=(0,l.convertFromNumberToHex)(r);0===r&&(i="transparent"),this.$textInput.css("background-color",i);break;case"clearItems":this.$optionsList.find(".form-field-option").remove(),this.updateUIMore({type:"value",value:o.getValue()});break;case"deleteItems":this.$optionsList.find(".form-field-option:nth-child("+(n+1)+")").remove(),this.updateUIMore({type:"value",value:o.getValue()});break;case"insertItemAt":var a="";this.annot.getField().getOptions().forEach(function(t,e){a+='<div class="form-field-option" data-val="'+t.value+'" data-index="'+e+'">'+t.lable+"</div>"}),this.$optionsList.empty().append(a),this.updateUIMore({type:"value",value:o.getValue()});break;case"setItems":var s=this.annot.getField().getOptions().map(function(t){return'<div class="form-field-option" data-val="'+t.value+'" data-index="'+n+'">'+t.lable+"</div>"});this.$optionsList.find(".form-field-option").remove(),this.$optionsList.append(s.join("")),this.updateUIMore({type:"value",value:o.getValue()})}},e.prototype.getStyle=function(t){var e=this.annot.getField();if(!e)return!1;var n=this.checkReadOnly(),r=4*this.annot.getBorderWidth()/3*t,i=this.annot.getMKProperty("borderColor"),a=void 0;a=0===i?"transparent":(0,l.convertFromNumberToHex)(16777215&i);var u=this.annot.getMKProperty("fillColor"),c="transparent";0!=u&&(c=(0,l.convertFromNumberToHex)(16777215&u));var f=e.getAlignment(),p=!this.checkInvisible(),d=(0,l.convertFromNumberToHex)(16777215&e.getDAFontColor()),h=4*e.getDAFontSize()/3;h?h+="px":h="16px";var g=s.FieldFlag.isComboEdit(e.getFlags()),m=e.getOptions(),y=e.getValue();return m.map(function(t){"object"==(void 0===t?"undefined":o(t))&&y===t.value&&(y=t.lable)}),{comboEditable:g,borderWidth:r,borderColor:a,background:c,readonly:n,align:f,value:y,maxLength:e.getMaxLength(),visible:p,color:d,fontSize:h}},e}(r.default);e.default=d},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColor,a=(t.position,t.background),s=t.align,u=(t.fs,t.fontSize),c=(t.fcolor,t.color),l=(t.style,t.optsClass,o.$escape),f=t.i,p=t.options,d=t.optClass,h=t.value,g=t.readonly;n="border-width:"+r+"px;border-style:solid;border-color:"+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}e+='\n<div class="form-field-options" style="',e+=l(n+"left:0px;top:0px;height:100%;width:100%;"+a+s+"overflow-y:auto;"+("font-size:"+u+";")+("color:"+c+";")),e+='">\n';for(f=0;f<p.length;f++){d="form-field-option";p[f].value==h&&(d+=" selected"),g&&(d+=" readonly"),e+='\n<div class="',e+=l(d),e+='" data-val="',e+=l(p[f].value),e+='" data-index="',e+=l(f),e+='">',e+=l(p[f].lable),e+="</div>\n"}return e+="\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=c(n(123)),i=c(n(979)),a=(n(64),c(n(1))),s=c(n(84)),u=n(8);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_listbox_field"),n.setRenderNotifier(function(t){return a.updateUI(t)}),a.defaultEvnet=!1,a.generateHandler(1),a}return l(e,t),e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=t,this.rotate=e;var n=this.getTileConfig(t,e);this.updateForgroundAndHandler(t);var o=this.annot.getField().getDAFontSize()*t*4/3;o||(o=16*t),o+="px";var r=4*this.annot.getBorderWidth()/3*t;this.$input.css({"font-size":o,"border-width":r+"px"}),this.$ui.css({left:n[8]*n[6],top:n[9]*n[6],width:n[2],height:n[3],transform:"scale("+1/n[6]+")"});var i=this.$input.find(".selected");i.length>0&&(this.$input[0].scrollTop=i[0].offsetTop)},e.prototype.generateHandler=function(t){var e=this.annot.getField();if(e){var n=this.checkReadOnly(),r=4*this.annot.getBorderWidth()/3*t,s=this.annot.getMKProperty("borderColor"),c=void 0;c=0===s?"transparent":(0,u.convertFromNumberToHex)(16777215&s);var l=this.annot.getMKProperty("fillColor"),f=void 0;f=0===l||n?"transparent":(0,u.convertFromNumberToHex)(16777215&l);var p=e.getAlignment(),d=e.getOptions(),h=e.getOptions(),g=e.getValue();h.map(function(t){"object"==(void 0===t?"undefined":o(t))&&g===t.value&&(g=t.lable)});var m=(0,u.convertFromNumberToHex)(16777215&e.getDAFontColor()),y=4*e.getDAFontSize()/3;y?y+="px":y="12px";var v=(0,i.default)({borderWidth:r,borderColor:c,background:f,options:d,align:p,readonly:n,value:g,color:m,fontSize:y});this.checkInvisible()&&this.$handler.hide();var b=this.$input=(0,a.default)(v);this.$handler.append(b)}},e.prototype.handleEvnet=function(t,e){var n=this;if(this.checkReadOnly())t!=s.default.AnnotMouseButtonReleased&&t!=s.default.AnnotReceiveInputFocus&&t!=s.default.AnnotMouseButtonReleased||this.formRender.blurControl();else{if(e.isTrigger)return!1;switch(t){case s.default.AnnotMouseButtonPressed:this.formRender.focusControl(this);break;case s.default.AnnotMouseButtonReleased:if((0,a.default)(e.target).hasClass("form-field-option")){var o=(0,a.default)(e.target).data("val")+"";this.formRender.setValue(this.annot,o),this.formRender.calculate(this.annot.getField()),this.performAction(s.default.FieldValueChanged)}(0,a.default)(e.target).hasClass("fv__ui-form-foreground"),setTimeout(function(){var t=n.annot.action;n.formRender.execAction("Field",t,null,n.annot.getField())},0)}this.performAction(t)}},e.prototype.updateUIMore=function(t){var e=t.type,n=t.value;switch(e){case"value":this.$input.find(".form-field-option.selected").removeClass("selected"),this.$input.find('[data-val="'+n+'"]').addClass("selected");break;case"align":return this.$input.css("text-align",n);case"borderStyle":return this.$input.css("border-style",n);case"clearItems":return this.updateUIMore({type:"value",value:field.getValue()}),this.$input.find(".form-field-option").remove();case"deleteItems":return this.updateUIMore({type:"value",value:field.getValue()}),this.$input.find(".form-field-option:nth-child("+(n+1)+")").remove();case"insertItemAt":var o=this.annot.getField().getOptions()[n],r='<div class="form-field-option" data-val="'+o.value+'" data-index="'+n+'">'+o.lable+"</div>";this.$input.find(".form-field-option:nth-child("+(n+1)+")").before(r);break;case"borderColor":this.$input.css("border-color",0===n?"transparent":(0,u.convertFromNumberToHex)(16777215&n));break;case"fillColor":this.$input.css("background-color",0===n?"transparent":(0,u.convertFromNumberToHex)(16777215&n));break;case"setItems":var i=this.annot.getField().getOptions().map(function(t){return'<div class="form-field-option" data-val="'+t.value+'" data-index="'+n+'">'+t.lable+"</div>"});this.$input.find(".form-field-option").remove(),this.$input.append(i.join(""))}},e}(r.default);e.default=f},function(t,e,n){var o,r,i;
/*!
 * Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */r=[n(1)],void 0===(i="function"==typeof(o=function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function o(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function i(n,o){return function(){return o!==e&&t.fn.datepicker.deprecated(o),this[n].apply(this,arguments)}}var a=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,o=this.length;n<o;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new a;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),s=function(e,n){t.data(e,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(n),this.dates=new a,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(h.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};s.prototype={constructor:s,_resolveViewName:function(e){return t.each(h.viewModes,function(n,o){if(e===n||-1!==t.inArray(e,o.names))return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{if(n===e||""===n)return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;var o=t(n);return o.length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),i=r.language;d[i]||(i=i.split("-")[0],d[i]||(i=f.language)),r.language=i,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=h.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=h.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-1/0),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=h.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=t.map(r.datesDisabled,function(t){return h.parseDate(t,a,r.language,r.assumeNearbyYear)});var s=String(r.orientation).toLowerCase().split(/\s+/g),u=r.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else u=t.grep(s,function(t){return/^left|right$/.test(t)}),r.orientation.x=u[0]||"auto",u=t.grep(s,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=u[0]||"auto";if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=h.parseDate(r.defaultViewDate,a,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var c=r.defaultViewDate.year||(new Date).getFullYear(),l=r.defaultViewDate.month||0,p=r.defaultViewDate.day||1;r.defaultViewDate=n(c,l,p)}else r.defaultViewDate=o()},_applyEvents:function(t){for(var n,o,r,i=0;i<t.length;i++)n=t[i][0],2===t[i].length?(o=e,r=t[i][1]):3===t[i].length&&(o=t[i][1],r=t[i][2]),n.on(r,o)},_unapplyEvents:function(t){for(var n,o,r,i=0;i<t.length;i++)n=t[i][0],2===t[i].length?(r=e,o=t[i][1]):3===t[i].length&&(r=t[i][1],o=t[i][2]),n.off(o,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var o=n||this.dates.get(-1),r=this._utc_to_local(o);this.element.trigger({type:e,date:r,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return h.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:i("setDates"),setUTCDate:i("setUTCDates"),remove:i("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var o=this.o.language;return t.map(this.dates,function(t){return h.formatDate(t,n,o)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),o=t(this.o.container),r=o.width(),i="body"===this.o.container?t(document).scrollTop():o.scrollTop(),a=o.offset(),s=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&s.push(Number(e))});var u=Math.max.apply(Math,s)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),f=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-a.left,d=c.top-a.top;"body"!==this.o.container&&(d+=i),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-f)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-10):p+e>r?(this.picker.addClass("datepicker-orient-right"),p+=f-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var h=this.o.orientation.y;if("auto"===h&&(h=-i+d-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+h),"top"===h?d-=n+parseInt(this.picker.css("padding-top")):d+=l,this.o.rtl){var g=r-(p+f);this.picker.css({top:d,right:g,zIndex:u})}else this.picker.css({top:d,left:p,zIndex:u});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],o=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),o=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return h.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),o?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&o&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+d[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t,e=this._utc_to_local(this.viewDate),n="",o=0;o<12;o++)t=e&&e.getMonth()===o?" focused":"",n+='<span class="month'+t+'">'+d[this.o.language].monthsShort[o]+"</span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=o();return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<a?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>a)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(e,s)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,o,r,i,a,s,u){for(var c,l,f,p="",d=r/10,h=this.picker.find(n),g=Math.floor(i/r)*r,m=g+9*d,y=Math.floor(this.viewDate.getFullYear()/d)*d,v=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),b=g-d;b<=m+d;b+=d)c=[o],l=null,b===g-d?c.push("old"):b===m+d&&c.push("new"),-1!==t.inArray(b,v)&&c.push("active"),(b<a||b>s)&&c.push("disabled"),b===y&&c.push("focused"),u!==t.noop&&((f=u(new Date(b,0,1)))===e?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1===f.enabled&&c.push("disabled"),f.classes&&(c=c.concat(f.classes.split(/\s+/))),f.tooltip&&(l=f.tooltip)),p+='<span class="'+c.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+b+"</span>";h.find(".datepicker-switch").text(g+"-"+m),h.find("td").html(p)},fill:function(){var r,i,a=new Date(this.viewDate),s=a.getUTCFullYear(),u=a.getUTCMonth(),c=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,f=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,p=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,g=d[this.o.language].today||d.en.today||"",m=d[this.o.language].clear||d.en.clear||"",y=d[this.o.language].titleFormat||d.en.titleFormat,v=o(),b=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&v>=this.o.startDate&&v<=this.o.endDate&&!this.weekOfDateIsDisabled(v);if(!isNaN(s)&&!isNaN(u)){this.picker.find(".datepicker-days .datepicker-switch").text(h.formatDate(a,y,this.o.language)),this.picker.find("tfoot .today").text(g).css("display",b?"table-cell":"none"),this.picker.find("tfoot .clear").text(m).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var w=n(s,u,0),A=w.getUTCDate();w.setUTCDate(A-(w.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(w);w.getUTCFullYear()<100&&_.setUTCFullYear(w.getUTCFullYear()),_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var P,O,E=[];w.valueOf()<_;){if((P=w.getUTCDay())===this.o.weekStart&&(E.push("<tr>"),this.o.calendarWeeks)){var x=new Date(+w+(this.o.weekStart-P-7)%7*864e5),C=new Date(Number(x)+(11-x.getUTCDay())%7*864e5),S=new Date(Number(S=n(C.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),D=(C-S)/864e5/7+1;E.push('<td class="cw">'+D+"</td>")}(O=this.getClassNames(w)).push("day");var M=w.getUTCDate();this.o.beforeShowDay!==t.noop&&((i=this.o.beforeShowDay(this._utc_to_local(w)))===e?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1===i.enabled&&O.push("disabled"),i.classes&&(O=O.concat(i.classes.split(/\s+/))),i.tooltip&&(r=i.tooltip),i.content&&(M=i.content)),O=t.isFunction(t.uniqueSort)?t.uniqueSort(O):t.unique(O),E.push('<td class="'+O.join(" ")+'"'+(r?' title="'+r+'"':"")+' data-date="'+w.getTime().toString()+'">'+M+"</td>"),r=null,P===this.o.weekEnd&&E.push("</tr>"),w.setUTCDate(w.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(E.join(""));var T=d[this.o.language].monthsTitle||d.en.monthsTitle||"Months",j=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?T:s).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&j.eq(e.getUTCMonth()).addClass("active")}),(s<c||s>f)&&j.addClass("disabled"),s===c&&j.slice(0,l).addClass("disabled"),s===f&&j.slice(p+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var I=this;t.each(j,function(n,o){var r=new Date(s,n,1),i=I.o.beforeShowMonth(r);i===e?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||t(o).hasClass("disabled")||t(o).addClass("disabled"),i.classes&&t(o).addClass(i.classes),i.tooltip&&t(o).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,s,c,f,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,c,f,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,c,f,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),o=n.getUTCFullYear(),r=n.getUTCMonth(),i=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(o/c)*c<=i,e=Math.floor(o/c)*c+c>s;break;case 0:t=o<=i&&r<=a,e=o>=s&&r>=u}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){var r,i,a,s;e.preventDefault(),e.stopPropagation(),(r=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(o(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),i=1,1===this.viewMode?(s=r.parent().find("span").index(r),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s)):(s=0,a=Number(r.text()),this.viewDate.setUTCFullYear(a)),this._trigger(h.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(a,s,i)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget),o=n.data("date"),r=new Date(o);this.o.updateViewDate&&(r.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),r.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(r)},navArrowsClick:function(e){var n=t(e.currentTarget),o=n.hasClass("prev")?-1:1;0!==this.viewMode&&(o*=12*h.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,o),this._trigger(h.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!function(t){return t&&!isNaN(t.getTime())}(t))return this.o.defaultViewDate;if(!e)return t;var n,o,r=new Date(t.valueOf()),i=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1===s)o=-1===e?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+e,r.setUTCMonth(n),n=(n+12)%12;else{for(var u=0;u<s;u++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(i),o=function(){return n!==r.getUTCMonth()}}for(;o();)r.setUTCDate(--i),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,o=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}o&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+h.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,l.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},clearDates:function(){t.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var o=t.data(n.target,"datepicker");if(o!==e){var r=o.getUTCDate(),i=this.keepEmptyValues,a=t.inArray(n.target,this.inputs),s=a-1,u=a+1,c=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==o&&i||e.setUTCDate(r)}),r<this.dates[s])for(;s>=0&&r<this.dates[s];)this.pickers[s--].setUTCDate(r);else if(r>this.dates[u])for(;u<c&&r>this.dates[u];)this.pickers[u++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:i("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var c=t.fn.datepicker,l=function(n){var o,r=Array.apply(null,arguments);if(r.shift(),this.each(function(){var e=t(this),i=e.data("datepicker"),a="object"==typeof n&&n;if(!i){var c=function(e,n){var o,r=t(e).data(),i={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");function s(t,e){return e.toLowerCase()}for(var u in n=new RegExp("^"+n.toLowerCase()),r)n.test(u)&&(o=u.replace(a,s),i[o]=r[u]);return i}(this,"date"),l=t.extend({},f,c,a),h=function(e){var n={};if(d[e]||(e=e.split("-")[0],d[e])){var o=d[e];return t.each(p,function(t,e){e in o&&(n[e]=o[e])}),n}}(l.language),g=t.extend({},f,h,c,a);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),i=new u(this,g)):i=new s(this,g),e.data("datepicker",i)}"string"==typeof n&&"function"==typeof i[n]&&(o=i[n].apply(i,r))}),o===e||o instanceof s||o instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return o};t.fn.datepicker=l;var f=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=s;var d=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},h={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,r,i,a){if(!n)return e;if(n instanceof Date)return n;if("string"==typeof r&&(r=h.parseFormat(r)),r.toValue)return r.toValue(n,r,i);var u,c,l,f,p,g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},m={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in m&&(n=m[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(u=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,f=0;f<u.length;f++)c=u[f].match(/([\-+]\d+)([dmwy])/i),l=Number(c[1]),p=g[c[2].toLowerCase()],n=s.prototype[p](n,l);return s.prototype._zero_utc_time(n)}u=n&&n.match(this.nonpunctuation)||[];var y,v,b={},w=["yyyy","yy","M","MM","m","mm","d","dd"],A={yyyy:function(t,e){return t.setUTCFullYear(a?function(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};A.yy=A.yyyy,A.M=A.MM=A.mm=A.m,A.dd=A.d,n=o();var _=r.parts.slice();function P(){var t=this.slice(0,u[f].length),e=u[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(u.length!==_.length&&(_=t(_).filter(function(e,n){return-1!==t.inArray(n,w)}).toArray()),u.length===_.length){var O,E,x;for(f=0,O=_.length;f<O;f++){if(y=parseInt(u[f],10),c=_[f],isNaN(y))switch(c){case"MM":v=t(d[i].months).filter(P),y=t.inArray(v[0],d[i].months)+1;break;case"M":v=t(d[i].monthsShort).filter(P),y=t.inArray(v[0],d[i].monthsShort)+1}b[c]=y}for(f=0;f<w.length;f++)(x=w[f])in b&&!isNaN(b[x])&&(E=new Date(n),A[x](E,b[x]),isNaN(E)||(n=E))}return n},formatDate:function(e,n,o){if(!e)return"";if("string"==typeof n&&(n=h.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,o);var r={d:e.getUTCDate(),D:d[o].daysShort[e.getUTCDay()],DD:d[o].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:d[o].monthsShort[e.getUTCMonth()],MM:d[o].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var i=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)i.length&&e.push(i.shift()),e.push(r[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+f.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+f.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=h,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t.fn.datepicker.version="1.9.0",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),l.call(n,"show"))}),t(function(){l.call(t('[data-provide="datepicker-inline"]'))})})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColor,a=(t.position,t.background),s=t.transform,u=t.rotation,c=t.alignStyle,l=t.align,f=(t.fs,t.fontSize),p=(t.fcolor,t.color),d=t.transformStyle,h=t.style,g=t.ml,m=t.maxLength,y=t.isMultiline,v=o.$escape,b=t.ro,w=t.value,A=t.comb,_=t.diffLen,P=t.i,O=t.v,E=t.type,x=t.isPassword,C=t.readonly;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;",s="";switch(0!==u&&(s="transform:rotate("+u+"deg)"),l){case 0:c="text-align:left;";break;case 1:c="text-align:center;";break;case 2:c="text-align:right;"}d=s,h=n+"left:0px;top:0px;height:100%;width:100%;"+a+c+("font-size:"+f+";")+("color:"+p+";"),g=m?"maxlength="+m:"";if(y)h+="resize: none;",e+='\n        <div class="textCombInput"><textarea ',e+=v(b),e+=' style="',e+=v(h),e+='overflow: hidden;">',e+=v(w),e+="</textarea></div>\n";else if(A){e+='\n        <div class="textCombInput" >\n            <div class="textCombContainer">\n';for(_=m-w.length,P=0;P<m;P++){O=w[P];2==l&&m>w.length&&P<_&&(O=""),2==l&&P>=_&&(O=w[P-_]),e+='\n                <div class="textComb" style="',e+=v(n),e+='" data-index="',e+=v(P),e+='">',e+=v(O),e+="</div>\n"}e+='\n            </div>\n\n            <input type="',e+=v(E),e+='" ',e+=v(b),e+=' style="',e+=v(h),e+='" ',e+=v(g),e+=" value=",e+=v(w),e+=" ",e+=v(g),e+=">\n        </div>\n    "}else{E=x?"password":"text",b=C?"readonly":"";e+='\n        <div class="textCombInput" style="',e+=v(d),e+='">\n        <input type="',e+=v(E),e+='" ',e+=v(b),e+=" ",e+=v(g),e+=' style="',e+=v(h),e+='" value="',e+=v(w),e+='"></div>\n        '}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(123)),r=c(n(982)),i=n(64),a=c(n(1)),s=c(n(84)),u=n(8);c(n(981));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_text_field"),n.setRenderNotifier(function(t){return a.updateUI(t)}),a.defaultEvnet=!1,a.generateHandler(1)&&a.bindInputEvent(),a}return l(e,t),e.prototype.generateHandler=function(t){var e=this.annot.getField();if(!e)return!1;var n=this.checkReadOnly(),o=4*this.annot.getBorderWidth()/3*t,c=this.annot.getMKProperty("borderColor"),l=void 0;l=0===c?"transparent":(0,u.convertFromNumberToHex)(16777215&c);var f=this.annot.getMKProperty("fillColor"),p=void 0;p=0===f?"transparent":(0,u.convertFromNumberToHex)(16777215&f),this.$handler.css("background-color",p);var d=e.getAlignment(),h=i.FieldFlag.isMultiline(e.getFlags()),g=i.FieldFlag.isPassword(e.getFlags()),m=i.FieldFlag.isComb(e.getFlags())&&e.getMaxLength()>0,y=!this.checkInvisible(),v=(0,u.convertFromNumberToHex)(16777215&e.getDAFontColor()),b=4*e.getDAFontSize()/3;b?b+="px":b=h?"16px":"xx-large";var w=e.getValue(),A=(0,r.default)({borderWidth:o,borderColor:l,background:"transparent",isMultiline:h,isPassword:g,comb:m,readonly:n,align:d,value:w,maxLength:e.getMaxLength(),visible:y,color:v,fontSize:b,rotation:0}),_=this.$input=(0,a.default)(A);return this.$textInput=this.$input.find("input"),0==this.$textInput.length&&(this.$textInput=this.$input.find("textarea")),this.$foreground.before(_),i.FieldFlag.isComb(e.getFlags())&&e.getMaxLength()>0&&this.$textInput.hide(),w&&this.formRender.execAction("Field",this.annot.getAdditionalAction(s.default.FieldWillFormat),null,e,s.default.FieldWillFormat),!0},e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=t,this.rotate=e;var n=this.getTileConfig(t,e),o=this.updateForgroundAndHandler(t),r=this.annot.getField();if(r&&i.FieldFlag.isComb(r.getFlags())&&r.getMaxLength()>0&&this.$input.find(".textComb").css({width:(o.right-o.left)/r.getMaxLength(),height:o.bottom-o.top,"line-height":o.bottom-o.top+"px"}),r){var a=4*r.getDAFontSize()/3*t;if(a)a+="px";else if(i.FieldFlag.isMultiline(r.getFlags()))a=16*t+"px";else{clearTimeout(this.autoFontSizeTimeout);var s=this;this.autoFontSizeTimeout=setTimeout(function(){s.autoFontSize(r.getValue())},200)}var u=4*this.annot.getBorderWidth()/3*t;this.$textInput.css({"font-size":a,"border-width":u+"px"})}this.$ui.css({left:n[8]*n[6],top:n[9]*n[6],width:n[2],height:n[3],transform:"scale("+1/n[6]+")"})},e.prototype.focus=function(t){var e=this,n=this.annot.getField();n&&this.$textInput.val(n.getValue()||""),t||(this.lastAvailableValue=n.getValue()),setTimeout(function(){document.activeElement!=e.$textInput[0]&&e.$textInput.focus(),e.$foreground.hide()},50),this.$input.find(".textCombContainer").hide(),this.$textInput.show();var o=this.annot.getAdditionalAction(s.default.FieldWillFormat);if(o&&o.getScript&&-1!=o.getScript().indexOf("AFDate_Format")){var r=this.$textInput.val(),i=o.getScript().match(/AFDate_FormatEx\("([\s\S]*?)"\)/),a=!1;if(i&&2==i.length){var u=i[1];this.$textInput.val(function(t,e){e=e.toLowerCase();var n=new Date,o={};o.y=n.getFullYear(),o.m=n.getMonth()+1,o.d=n.getDate();for(var r=0,i=0;i<e.length&&r<t.length;){var a=e[i];switch(a){case"y":for(var s="";"0"<=t[r]&&t[r]<="9";)s+=t[r],r++;for(;"y"==e[i];)i++;switch(s.length){case 2:s="20"+s}o.y=parseInt(s);break;case"m":var u="";if("A"<=t[r]&&t[r]<="Z")for(;u.length<3;)u+=t[r],r++;else for(;"0"<=t[r]&&t[r]<="9";)u+=t[r],r++;for(;"m"==e[i];)i++;switch(u.length){case 1:case 2:o.m=parseInt(u);break;case 3:o.m=p[u]}break;case"d":for(var c="";"0"<=t[r]&&t[r]<="9";)c+=t[r],r++;for(;"d"==e[i];)i++;o.d=parseInt(c);break;default:r++,i++}}return o.m+"/"+o.d+"/"+o.y}(r,u)),a=!0}this.$textInput.datepicker({autoclose:1,keyboardNavigation:!1,forceParse:!1}),a&&this.$textInput.val(r)}(o=this.annot.getAdditionalAction(s.default.AnnotReceiveInputFocus))&&this.formRender.execAction("Field",o,null,n)},e.prototype.handleEvnet=function(t,e){var n=this;if(this.checkReadOnly())t!=s.default.AnnotMouseButtonReleased&&t!=s.default.AnnotReceiveInputFocus||this.formRender.blurControl();else{switch(s.default.AnnotMouseButtonReleased,t){case s.default.AnnotMouseButtonPressed:this.formRender.focusControl(this);break;case s.default.AnnotMouseButtonReleased:if(!this.formRender.isSameTarget(this))return;var o=this.annot.action;o&&this.formRender.execAction("Field",o,null,this.annot.getField()),setTimeout(function(){document.activeElement!=n.$textInput[0]&&n.$textInput.focus()},50),this.$input.find(".textCombContainer").hide(),this.$textInput.show()}this.performAction(t)}},e.prototype.bindInputEvent=function(){var t=this,e=this;this.$textInput.on("keydown",function(e){var n=t.annot.getField();i.FieldFlag.isMultiline(n.getFlags())||13!=e.keyCode||t.formRender.focusControl(null,!0)}).on("keyup",function(t){e.valueChanged=!0}).on("mousedown",function(e){if(t.checkReadOnly())return!1}).on("mouseup",function(e){if(t.checkReadOnly())return t.formRender.blurControl(),!1})},e.prototype.updateUIMore=function(t){var e=t.type,n=t.value,o=this.annot.getField();if(o)switch(e){case"value":var r=this.annot.getAdditionalAction(s.default.FieldWillFormat);if(0!=o.getValue().length&&r){this.formRender.execAction("Field",r,null,o,s.default.FieldWillFormat).rc||(o.setValue(this.lastAvailableValue,this),this.valueChange(!1,o));break}case"displayValue":if(i.FieldFlag.isComb(o.getFlags())&&o.getMaxLength()>0){var a=o.getMaxLength();switch(o.getAlignment()){default:for(var c=0;c<n.length;c++)this.$input.find(".textComb[data-index="+c+"]").html(n[c]);for(var l=n.length;l<a;l++)this.$input.find(".textComb[data-index="+l+"]").html("");break;case 2:var f=this.$input.find(".textComb").length,p=n.length,d=f-n.length-1,h=0;d<-1&&(d=-1),n.length>f&&(h=n.length-f);for(var g=f-1;g>d;g--)this.$input.find(".textComb[data-index="+g+"]").html(n[g-f+p-h]);for(var m=d;m>-1;m--)this.$input.find(".textComb[data-index="+m+"]").html("")}}o.setDisplayValue(n),this.$textInput.val(n);break;case"align":return this.$textInput.css("text-align",n);case"borderStyle":return this.$textInput.css("border-style",n);case"borderColor":return n=0===n?"transparent":(0,u.convertFromNumberToHex)(16777215&n),this.$input.find(".textComb").css("border-color",n),this.$textInput.css("border-color",n);case"maxLength":case"comb":case"multiline":return this.$input.remove(),this.generateHandler(this.scale),this.bindInputEvent(),this.render();case"fillColor":this.$handler.css("background-color",0===n?"transparent":(0,u.convertFromNumberToHex)(16777215&n));break;case"password":return this.$textInput.attr("type",n?"password":"text");case"readonly":n?(this.$foreground.addClass("form-field-readonly").css("visibility","hidden"),this.$textInput.attr("readonly",!0)):(this.checkReadOnly()||this.checkInvisible()||this.$foreground.removeClass("form-field-readonly").css("visibility","visible"),this.$textInput.removeAttr("readonly"));var y=this.annot.getMKProperty("fillColor"),v=(0,u.convertFromNumberToHex)(y);(0===y||n)&&(v="transparent"),this.$textInput.css("background-color",v);break;case"hidden":n?(this.$ui.hide(),this.$handler.hide()):(this.$ui.show(),this.$handler.show());break;case"textColor":this.$textInput.css("color",n)}},e.prototype.blur=function(){return this.setValue(this.$textInput.val())},e.prototype.setValue=function(t){var e=this.annot.getField();e.setValueWithoutAction(t);var n=void 0;t===this.lastAvailableValue&&(this.valueChanged=!1);var o=!1,r=this.annot.getAdditionalAction(s.default.FieldKeyStroke);if(this.valueChanged&&r&&-1!==(n=this.formRender.execAction("Field",r,null,e,s.default.FieldKeyStroke,{change:t,willCommit:!0}))&&(n.rc?e.setValueWithoutAction(n.change):(o=!0,t=this.lastAvailableValue)),o)return e.setValue(this.lastAvailableValue,this),this.valueChange(o,e);var i=this.annot.getAdditionalAction(s.default.FieldValueChanged);if(this.valueChanged&&i&&-1!==(n=this.formRender.execAction("Field",i,null,e,s.default.FieldValueChanged))&&(n.rc?e.setValueWithoutAction(n.value):o=!0),o)e.setValue(this.lastAvailableValue,this);else if(this.valueChanged)e.setValue(e.getValue(),this);else{var a=this.annot.getAdditionalAction(s.default.FieldWillFormat),u=this.formRender.execAction("Field",a,null,e,s.default.FieldWillFormat);u&&!u.rc&&(e.setValue(this.lastAvailableValue,this),this.valueChange(!1,e))}return this.valueChange(o,e)},e.prototype.valueChange=function(e,n){return this.valueChanged&&this.formRender.calculate(n),this.valueChanged=!1,n&&i.FieldFlag.isComb(n.getFlags())&&n.getMaxLength()>0&&(this.$textInput.hide(),this.$input.find(".textCombContainer").show()),t.prototype.blur.call(this),e},e}(o.default),p={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Mov:11,Dec:12};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(123)),r=c(n(983)),i=c(n(980)),a=c(n(978)),s=c(n(975)),u=n(64);function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){if(t.page.doc.getPDFForm().isEmpty())return o.default;switch(t.getFieldType()){case u.FieldType.Text:case u.FieldType.File:return r.default;case u.FieldType.ListBox:return i.default;case u.FieldType.ComboBox:return a.default;case u.FieldType.Sign:return s.default;default:return o.default}}},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv-callout">\n    <div class="fv__shape-control callout">\n        <canvas class="fv__shape-control-previewer"></canvas>\n        <div class="fv__shape-control-move-area"></div>\n        <div class="fv__shape-control-inner-area">\n            <div class="fv__shape-controller callout left text"></div>\n            <div class="fv__shape-controller callout top text"></div>\n            <div class="fv__shape-controller callout right text"></div>\n            <div class="fv__shape-controller callout bottom text"></div>\n        </div>\n        <div class="fv__shape-control-text-area"></div>\n        <div class="fv__shape-controller callout calloutStart"></div>\n        <div class="fv__shape-controller callout calloutKnee"></div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="annotComponent",r={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(o).showReplyDialog("reply")},disabled:function(){return this.data(o).replyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(o).removeAnnot()},disabled:function(){return this.data(o).deleteDisabled()}},apply:{name:"apply",nameI18nKey:"viewer_:contextmenu.annot.apply",callback:function(){return this.data(o).apply()},disabled:function(){return this.data(o).assembleDocDisabled()}},applyAll:{name:"applyAll",nameI18nKey:"viewer_:contextmenu.annot.applyAll",callback:function(){return this.data(o).applyAll()},disabled:function(){return this.data(o).assembleDocDisabled()}},place:{name:"place",nameI18nKey:"viewer_:contextmenu.annot.place",callback:function(t,e,n){this.data(o).showPlaceMarkDialog(t,e,n)},disabled:function(){return this.data(o).moveDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data(o).showPropertiesDialog(t,e,n)}}};e.getCommonContextMenu=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:r,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey=o},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape;return e+='<dialog class="fv__ui-layer fv__place-redaction-dialog" >\n   <div class="fv__place-redaction-dialog-header">\n      <div class="fv__place-redaction-dialog-title">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.title")),e+='</div>\n      <div class="fv__place-redaction-dialog-close"><i class="fv__place-redaction-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__place-redaction-dialog-body">\n        <div class="fv__redaction-container">\n        <label>\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span>',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.allPage")),e+='</span>\n        </label>\n        </div>\n        <div class="fv__redaction-container">\n            <label>\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span>',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.specificPage")),e+='</span>\n                <div class="fv__redaction-range">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.pageRange")),e+=': <input type="text" class="fv__redaction-page-range" disabled placeholder="',e+=n(t),e+='"/></div>\n                </label>\n        </div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n        <div class="fv__redaction-container" style="text-align:right">\n            <button type="button" class="fv__redaction-btn">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.OK")),e+='</button>\n            <button type="button" class="fv__redaction-cancel">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.Cancel")),e+="</button>\n        </div>\n   </div>\n</dialog>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(987)),r=a(n(128)),i=a(n(1));n(1679);n(20);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewerComponent=e,this.docPageCount=a;var s="max page: "+a,u=(0,o.default)(s);n||(u='<dialog class="fv__dialog fv__annot-properties-dialog">'+u+"</dialog>");var c=this.$dialog=(0,i.default)(u);this.bindChangeEvent();var l=n||document.body;if(c.appendTo(l),!n){var f=c[0];r.default.registerDialog(f),f.showModal()}}return t.prototype.bindChangeEvent=function(){var t=this;this.$dialog.on("click",".fv__redaction-cancel",function(){t.close()}).on("click",".fv__place-redaction-dialog-close-icon",function(){t.close()}).on("click",".fv__redaction-btn",function(e){t.submit()}).on("change",".redaction-page-radio",function(e){e.target.checked&&(t.hideError(),"1"==e.target.value?(0,i.default)(".fv__redaction-page-range").attr("disabled",""):(0,i.default)(".fv__redaction-page-range").removeAttr("disabled"))}).on("keydown",".fv__redaction-page-range",function(e){t.hideError()})},t.prototype.submit=function(){var t=this,e=this.docPageCount,n=[];if("1"==(0,i.default)(".redaction-page-radio:checked").val())for(var o=0;o<e;o++)n.push(o);else{var r=(0,i.default)(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(r))return void this.showError();for(var a=r.split(","),s=0;s<a.length;s++){var u=a[s];if(u.indexOf("-")>-1){var c=u.split("-");if(c.length>2)return void this.showError();if(c[0]<1||c[0]>e||c[1]<1||c[1]>e)return void this.showError();for(var l=Math.min(c[0],c[1]),f=Math.max(c[0],c[1]),p=l;p<=f;p++)-1===n.indexOf(p)&&n.push(p-1)}else{if(u<1||u>e)return void this.showError();-1===n.indexOf(n)&&n.push(u-1)}}}this.viewerComponent.placeRedact(n).then(function(e){t.close()})},t.prototype.reset=function(){this.hideError(),this.element.querySelector(".redaction-page-radio").checked=!0,this.element.querySelector(".fv__redaction-page-range").value=""},t.prototype.showError=function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")},t.prototype.hideError=function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")},t.prototype.close=function(){var t=this.$dialog;t&&(t[0].close(),t.remove(),this.$dialog=null)},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="annotComponent",r={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data(o).showPropertiesDialog(t,e,n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(o).removeAnnot()},disabled:function(){return this.data(o).deleteDisabled()}}};e.getDefaultConfig=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:r,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=void 0,r=void 0,i={};"function"==typeof FontFace?(e.addFont=o=function(t,e){return i[t]?i[t]:i[t]=new Promise(function(n,o){e().then(function(e){if(!e)return o(),void i[t];var r=new FontFace(t,e.buffer||e.url);r.load().then(function(){document.fonts.add(r),n(r)})},function(){o(),delete i[t]})})},e.removeFont=r=function(t){i[t]&&i[t].then(function(e){delete i[t],document.fonts.delete(e)})}):(e.addFont=o=function(t,e){return i[t]?i[t]:i[t]=new Promise(function(n,o){e().then(function(e){if(!e)throw o(),delete i[t],"woff is invalid";return e.buffer?URL.createObjectURL(new Blob([e.buffer],"application/x-font-woff")):e.url}).then(function(e){var o=document.createElement("style");o.innerHTML='@font-face{font-family:"'+t+'"; src:url("'+e+'");}',document.head.appendChild(o),n(o)})})},e.removeFont=r=function(t){i[t]&&i[t].then(function(e){delete i[t],e.parentNode.removeChild(e)})}),e.addFont=o,e.removeFont=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3],r=arguments[4];t.save(),t.beginPath(),t.rect(e,n,o,r),t.closePath(),t.restore()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCircleContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return(0,o.getCommonContextMenu)(t)};var o=n(154)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TOWPI=2*Math.PI},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){var a=Math.max(r,i),s=r/a,u=i/a;t.save(),t.scale(s,u),t.beginPath(),t.arc(e/s,n/u,a,0,o.TOWPI,!1),t.closePath(),t.restore()};var o=n(993)},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape;return e+='<dialog class="fv__ui-layer fv__action-dialog" >\n   <div class="fv__action-dialog-header">\n      <div class="fv__action-dialog-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.title")),e+='</div>\n      <div class="fv__action-dialog-close"><i class="fv__action-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__action-dialog-body">\n      <div class="fv__action-dialog-select">\n         <span class="fv__action-dialog-select-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.selectKey")),e+=':</span>\n         <select id="select-action">\n            <option value="TypeGoto">',e+=n(o.i18n("viewer_:dialog.actionDialog.selectAction.goto")),e+='</option>\n            <option value="TypeURI">',e+=n(o.i18n("viewer_:dialog.actionDialog.selectAction.webLink")),e+='</option>\n         </select>\n      </div>\n      <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n         <div class="fv__action-dialog-url-title fv__action-box-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.URLAction.title")),e+='</div>\n         <div class="fv__action-dialog-url-input">\n            <input class="fv__action-dialog-input" id="url-input"/>\n         </div>\n      </div>\n      <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;"  data-type="TypeGoto">\n         <div class="fv__action-dialog-goto-title fv__action-box-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.title")),e+='</div>\n         <div class="fv__action-dialog-goto-container">\n            <div class="fv__action-dialog-goto-center">\n               <div class="fv__action-dialog-goto-left">\n                  <div class="fv__action-dialog-goto-target">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.target")),e+=':</div>\n               </div>\n               <div class="fv__action-dialog-goto-right">\n                  <div class="fv__action-dialog-goto-input">\n                     <input type="number" min="1" class="fv__action-dialog-input" id="goto-input"/>\n                  </div>\n                  <div class="fv__action-dialog-goto-position">\n                     <span class="fv__action-dialog-goto-position-left">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.left")),e+=':</span><span class="fv__action-dialog-goto-left-value">0</span>\n                     <span class="fv__action-dialog-goto-position-top">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.top")),e+=':</span><span class="fv__action-dialog-goto-top-value">0</span>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n   </div>\n   <div class="fv__action-dialog-footer">\n      <div class="fv__action-dialog-btns">\n          <button type="button" class="fv__action-btn fv__action-btn-ok">',e+=n(o.i18n("viewer_:dialog.actionDialog.OK")),e+='</button>\n          <button type="button" class="fv__action-btn fv__action-btn-cancel ">',e+=n(o.i18n("viewer_:dialog.actionDialog.Cancel")),e+="</button>\n      </div>\n   </div>\n</dialog>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="annotComponent",r={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data(o).showPropertiesDialog(t,e,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(o).showActionsDialog()},disabled:function(){return this.data(o).actionsDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(o).removeAnnot()},disabled:function(){return this.data(o).deleteDisabled()}}};e.getLinkContextMenu=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:r,events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(125)),r=n(124);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="lineMeasurement",a}return i(e,t),e.prototype.getLengthInInchUnit=function(){var t=this.getDimension(),e=t.width,n=t.height;return this._getLengthInInchUnit(e,n)},e.prototype._getLengthInInchUnit=function(t,e){var n=r.PIXEL_HORIZONTAL.convertTo(t,r.INCH),o=r.PIXEL_VERTICAL.convertTo(e,r.INCH);return Math.round(100*Math.sqrt(n*n+o*o))/100},e}(o.default);e.default=a},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).i,r=(t.pointIndex,o.$escape);for(n=0;n<t.anchorCount;n++){e+="\n";e+='\n<div class="fv__pdf-annot-line-point" data-index="',e+=r(n),e+='"><div class="fv__pdf-annot-line-point-item"></div></div>\n'}return e+="\n\n"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(n(371));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.appenders=n||[],o}return r(e,t),e.prototype.print=function(t,e){this.appenders.forEach(function(n){return n.print(t,e)})},e}(o(n(213)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(126);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.format=function(t,e,n){var r=this,i=(new Error).stack,a=void 0;i&&(a="\n  "+i.split("\n")[4].trim());return[{type:"string",style:"color: "+this.levelColor(e)+";",value:"["+this.levelText(e)+"]"},{type:"string",style:"color: magenta",value:"{"+t+"}"}].concat(n.map(function(t){return void 0===t||null===t?{type:void 0===t?"undefined":o(t),style:"color: megenta;font-weight: bold",value:t+""}:"string"==typeof t?{type:void 0===t?"undefined":o(t),style:"color: "+r.levelColor(e),value:t}:{type:void 0===t?"undefined":o(t),value:t}})).concat({type:"string",style:"color: grey;",value:a})},t.prototype.levelColor=function(t){switch(t){case r.LEVEL_DEBUG:return"blue";case r.LEVEL_INFO:return"green";case r.LEVEL_WARN:return"#5C3C00";case r.LEVEL_ERROR:return"red"}return"#000"},t.prototype.levelText=function(t){switch(t){case r.LEVEL_DEBUG:return"DEBUG";case r.LEVEL_INFO:return"INFO";case r.LEVEL_WARN:return"WARN";case r.LEVEL_ERROR:return"ERROR"}return"UNKNOWN LEVEL"},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoLogger=void 0;var o=n(126),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(372));function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,n,o,r){a(this,t),this.appender=e,this.layout=n,this.module=o,this.minLevel=r,this.logOff=!1}return t.prototype.toggle=function(t){this.logOff="boolean"==typeof t?t:!r.logOff},t.prototype.setLevel=function(t){this.minLevel=t},t.prototype.doLog=function(t){if(!(this.logOff||r.logOff||t<this.minLevel)){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var i=this.layout.format(this.module,t,n);this.appender.print(i,t)}},t.prototype.log=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.doLog.apply(this,[t].concat(n))},t.prototype.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog.apply(this,[o.LEVEL_DEBUG].concat(e))},t.prototype.info=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog.apply(this,[o.LEVEL_INFO].concat(e))},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog.apply(this,[o.LEVEL_WARN].concat(e))},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog.apply(this,[o.LEVEL_ERROR].concat(e))},t}();e.default=s;e.NoLogger=function(t){function e(){return a(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return i(e,t),e.prototype.doLog=function(){},e}(s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(126);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.format=function(t,e,n){return[{type:"string",value:"["+this.levelText(e)+"]"},{type:"string",value:"{"+t+"}"}].concat(n.map(function(t){return void 0===t||null===t?{type:void 0===t?"undefined":o(t),value:t+""}:{type:void 0===t?"undefined":o(t),value:t}}))},t.prototype.levelText=function(t){switch(t){case r.LEVEL_DEBUG:return"DEBUG";case r.LEVEL_INFO:return"INFO";case r.LEVEL_WARN:return"WARN";case r.LEVEL_ERROR:return"ERROR"}return"UNKNOWN LEVEL"},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(153),i=s(n(65)),a=s(n(74));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=void 0===n?0:n,r=e.right,i=void 0===r?0:r,a=e.bottom,s=void 0===a?0:a,u=e.top,c=void 0===u?0:u,l=e.box,f=e.marginBox,p=void 0===f?{left:0,top:0,right:0,bottom:0}:f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.processing=!1,this.boundary={left:o,right:i,bottom:s,top:c},this.freeBoundary=null,this.marginBox=p,this.shape=this.calculateShape(),this.setBoundaryBox(l),this.tasks=[]}return o(t,null,[{key:"ADJUST_MODE_FREE",get:function(){return"free"}},{key:"ADJUST_MODE_UNIFORM",get:function(){return"uniform"}},{key:"ADJUST_MODE_SQUARE",get:function(){return"square"}}]),t.prototype.process=function(){this.tasks=[],this.processing=!0,this.freeBoundary=Object.assign({},this.boundary)},t.prototype.end=function(){this.tasks=[],this.processing=!1,this.boundary=this.squareBoundary||this.freeBoundary,this.freeBoundary=null,this.squareBoundary=null,this.shape=this.calculateShape()},t.prototype.cancel=function(){this.tasks=[],this.processing=!1,this.freeBoundary=null,this.squareBoundary=null},t.prototype.setBoundaryBox=function(t){var e=this;this.box=t,this.boxStrict=t?function(n){return e._adjustBoundaryByBox(t,n)}:i.default},t.prototype.undo=function(){var t=this.tasks.pop();"function"==typeof t&&t()},t.prototype.addTask=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.tasks.push(function(){return t.apply(void 0,n)})},t.prototype.recordFreeBoundary=function(){var t=this,e=this.freeBoundary?Object.assign({},this.freeBoundary):null;this.addTask(function(e){t.freeBoundary=e},e)},t.prototype.recordSquareBoundary=function(){var t=this,e=this.squareBoundary?Object.assign({},this.squareBoundary):null;this.addTask(function(e){t.squareBoundary=e},e)},t.prototype.adjustWest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary,i=this.freeBoundary.left+e,a=this.freeBoundary.right;switch(o.left=Math.min(i,a),o.right=Math.max(i,a),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareH();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),a<i?r.DIR_EAST:r.DIR_WEST},t.prototype.adjustEast=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.right+e,i=this.freeBoundary.left;switch(this.freeBoundary.left=Math.min(i,o),this.freeBoundary.right=Math.max(i,o),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareH();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),o<i?r.DIR_WEST:r.DIR_EAST},t.prototype._adjustToSquareH=function(){var t=this.freeBoundary,e=t.right-t.left,n=t.bottom-t.top,o=t.top+n/2-e/2,r=o+e;t.top=o,t.bottom=r},t.prototype.adjustNorth=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.top+e,i=this.freeBoundary.bottom;switch(this.freeBoundary.top=Math.min(o,i),this.freeBoundary.bottom=Math.max(o,i),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareV();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),i<o?r.DIR_SOUTH:r.DIR_NORTH},t.prototype.adjustSouth=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.bottom+e,i=this.freeBoundary.top;switch(this.freeBoundary.top=Math.min(i,o),this.freeBoundary.bottom=Math.max(i,o),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareV();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),o<i?r.DIR_NORTH:r.DIR_SOUTH},t.prototype._adjustToSquareV=function(){var t=this.freeBoundary,e=t.right-t.left,n=t.bottom-t.top,o=t.left+e/2-n/2,r=o+n;t.left=o,t.right=r},t.prototype._adjustToSquare=function(t,e){var n=this.freeBoundary.right-this.freeBoundary.left,o=this.freeBoundary.bottom-this.freeBoundary.top,i=Math.min(n,o);this.squareBoundary=Object.assign({},this.freeBoundary),e==r.DIR_WEST?this.squareBoundary.left=this.freeBoundary.right-i:this.squareBoundary.right=this.freeBoundary.left+i,t==r.DIR_SOUTH?this.squareBoundary.bottom=this.freeBoundary.top+i:this.squareBoundary.top=this.freeBoundary.bottom-i},t.prototype.adjustNorthWest=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),this.squareBoundary=null,o){case t.ADJUST_MODE_UNIFORM:return this._adjustNorthWestUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_NORTH_WEST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),s=this.adjustWest(e);return o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustNorthWestUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,u=r-(a+t),c=i-(s+e),l=r-a,f=i-s,p=Math.min(u,c);p>=n&&(p===u?c=p/l*f:u=p/f*l,this.freeBoundary.left=r-u,this.freeBoundary.top=i-c)},t.prototype.adjustNorthEast=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case t.ADJUST_MODE_UNIFORM:return this._adjustNorthEastUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_NORTH_EAST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),s=this.adjustEast(e);return this.squareBoundary=null,o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustNorthEastUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,u=r+t-a,c=i-(s+e),l=r-a,f=i-s,p=Math.min(u,c);p>=n&&(p===u?c=p/l*f:u=p/f*l,this.freeBoundary.right=a+u,this.freeBoundary.top=i-c)},t.prototype.adjustSouthWest=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case t.ADJUST_MODE_UNIFORM:return this._adjustSouthWestUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_SOUTH_WEST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),s=this.adjustWest(e);return this.squareBoundary=null,o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustSouthWestUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,u=r-(a+t),c=i+e-s,l=r-a,f=i-s,p=Math.min(u,c);p>=n&&(p===u?c=p/l*f:u=p/f*l,this.freeBoundary.left=r-u,this.freeBoundary.bottom=s+c)},t.prototype.adjustSouthEast=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case t.ADJUST_MODE_UNIFORM:return this._adjustSouthEastUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_SOUTH_EAST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),s=this.adjustEast(e);return this.squareBoundary=null,o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustSouthEastUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,u=r+t-a,c=i+e-s,l=r-a,f=i-s,p=Math.min(u,c);p>=n&&(p===u?c=p/l*f:u=p/f*l,this.freeBoundary.right=a+u,this.freeBoundary.bottom=s+c)},t.prototype.adjustPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.recordFreeBoundary(),this.freeBoundary.left+=t,this.freeBoundary.right+=t,this.freeBoundary.top+=e,this.freeBoundary.bottom+=e,this.boxStrict(this.freeBoundary)},t.prototype.adjustPositionTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.freeBoundary.left,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.freeBoundary.top;this.adjustPosition(t-this.freeBoundary.left,e-this.freeBoundary.top)},t.prototype._adjustMovingBoundaryByBox=function(t,e){var n=e.right-e.left,o=e.bottom-e.top;this.boundary.right>t.right&&(this.boundary.right=t.right,this.boundary.left=t.right-n),this.boundary.bottom>t.bottom&&(this.boundary.bottom=t.bottom,this.boundary.top=t.bottom-o),this.boundary.left<t.left&&(this.boundary.left=t.left,this.boundary.right=t.left+n),this.boundary.top<t.top&&(this.boundary.top=t.top,this.boundary.bottom,t.top)},t.prototype._adjustBoundaryByBox=function(t,e){var n=this.marginBox;n||(n={}),n.left=n.left||0,n.top=n.top||0,n.bottom=n.bottom||0,n.right=n.right||0;var o=a.default.on(e).expand(n.top,n.left,n.bottom,n.right).extract(),r=o.right-o.left,i=o.bottom-o.top;o.right>t.right&&(o.right=t.right,o.left=t.right-r),o.bottom>t.bottom&&(o.bottom=t.bottom,o.top=t.bottom-i),o.left<t.left&&(o.left=t.left,o.right=t.left+r),o.top<t.top&&(o.top=t.top,o.bottom=t.top+i);var s=a.default.on(o).shrink(n.top,n.left,n.bottom,n.right).extract();a.default.copyTo(s,e)},t.prototype.setMargin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.marginBox,e=t.left,n=void 0===e?0:e,o=t.top,r=void 0===o?0:o,i=t.right,a=void 0===i?0:i,s=t.bottom,u=void 0===s?0:s;this.marginBox={left:n,top:r,right:a,bottom:u}},t.prototype.getAdjustRect=function(){var t=this.squareBoundary||this.freeBoundary;return t?Object.assign({},t):null},t.prototype.getAdjustShape=function(){var t=this.squareBoundary||this.freeBoundary;return t?{left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top}:null},t.prototype.getRect=function(){return Object.assign({},this.boundary)},t.prototype.getShape=function(){return Object.assign({},this.shape)},t.prototype.calculateShape=function(){var t=this.boundary;return{left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top}},t.prototype.applyToDom=function(t){var e=this.getShape();t.style.cssText+="\n                left: "+e.left+"px;\n                top: "+e.top+"px;\n                width: "+e.width+"px;\n                height: "+e.height+"px;\n                "},t.prototype.applyAdjustingToDom=function(t){var e=this.getAdjustShape();t.style.cssText+="\n                left: "+e.left+"px;\n                top: "+e.top+"px;\n                width: "+e.width+"px;\n                height: "+e.height+"px;\n                "},t}();e.default=u},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.previewer,i=t.moveable,a=t.resizable,s=t.enableFrame,u=t.enableDiagonally,c=t.enableSizeBox,l=t.rotatable;return e+='<div class="fv__shape-control">\n    <canvas class="fv__shape-control-previewer" ',e+=n(r?"":"style=display:none"),e+=" ></canvas>\n    ",i&&(e+='\n    <div class="fv__shape-control-move-area"></div>\n    '),e+="\n    ",a&&(e+="\n    ",s&&(e+='\n    <div class="fv__shape-controller" direction="north"></div>\n    <div class="fv__shape-controller" direction="south"></div>\n    <div class="fv__shape-controller" direction="west"></div>\n    <div class="fv__shape-controller" direction="east"></div>\n    '),e+="\n    ",u&&(e+='\n    <div class="fv__shape-controller" direction="north-west"></div>\n    <div class="fv__shape-controller" direction="north-east"></div>\n    <div class="fv__shape-controller" direction="south-west"></div>\n    <div class="fv__shape-controller" direction="south-east"></div>\n    '),e+="\n    ",c&&(e+='\n    <div class="fv__shape-size"></div>\n    '),e+="\n    "),e+="\n    ",l&&(e+='\n    <div class="fv__shape-rotate">\n        <div class="fv-shape-rotate-handle fv__cursor-rotation"></div>\n        <div class="fv-shape-rotate-degree"></div>\n        <div class="fv-shape-rotate-bound"></div>\n    </div>\n    '),e+="\n</div>"}},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__text-boundary fv__text-boundary-',e+=(0,o.$escape)(t.direction),e+='">\n    <div class="fv__text-boundary-blank">\n        <div class="fv__text-boundary-cursor"></div>\n        <div class="fv__text-boundary-sign"></div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="annotComponent";e.getDefaultConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return{selector:arguments.length>1&&void 0!==arguments[1]?arguments[1]:".fv__pdf-page-annot-handler-rect",items:{copy:{name:"copy",nameI18nKey:"viewer_:contextmenu.annot.copy",callback:function(e,n,o){this.data(t).copyText()},visible:function(){var e=this.data(t);if(!e.annot.isArea())return!e.annot.isReplace||!e.annot.isReplace()}},reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(t).showReplyDialog("reply")},disabled:function(){return this.data(t).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,n,o){this.data(t).showPropertiesDialog(e,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(t).removeAnnot()},disabled:function(){return this.data(o).deleteDisabled()}}},events:{show:function(){return this.data(o).updateDeleteStatus(!0),!0},hide:function(){return this.data(o).updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey=o},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape,i=t.content,a=(arguments[1],t.replies);return e+='<dialog class="fv__dialog fv__annot-reply-dialog">\n    <div class="fv__textarea-container">\n        <label>\n            <span class="fv__label-block-text">',e+=r(o.i18n("viewer_:dialog.content")),e+='</span>\n            <textarea class="fv__block-textarea content-textarea">',e+=r(i),e+='</textarea>\n        </label>\n    </div>\n    <div class="fv__textarea-container">\n        <label>\n            <span class="fv__label-block-text">',e+=r(o.i18n("viewer_:dialog.reply")),e+='</span>\n            <textarea class="fv__block-textarea reply-textarea"></textarea>\n        </label>\n    </div>\n    <div class="fv__btn_reply_container">\n        <button type="button" class="fv__btn fv__btn-reply" disabled>',e+=r(o.i18n("viewer_:dialog.reply")),e+='</button>\n    </div>\n    <div class="fv__dialog-replies-block">\n        ',function(t){e+=t}(n(377)(a)),e+='\n    </div>\n    <div class="fv__btn-close-container">\n        <button type="button" class="fv__btn fv__btn-close">',e+=r(o.i18n("viewer_:dialog.close")),e+="</button>\n    </div>\n</dialog>"}},function(t,e,n){var o=n(2);t.exports=function(t){"use strict";var e="",n=(t=t||{}).disabledAttr,r=t.disabled,i=t.borderWidth,a=o.$escape,s=t.minBorderWidth,u=t.borderStyle,c=t.cloudy,l=t.highlightingMode,f=t.rotation,p=t.fillColor,d=t.checked,h=t.strFillColor,g=t.color,m=t.lineStartStyle,y=t.startStyle,v=t.lineEndStyle,b=t.endStyle,w=t.hasCap,A=(t.hasCapChecked,t.opacity);e+='<div class="fv__annot-properties-dialog">\n<div>\n    ';n=r?"disabled=disabled":"";if(e+="\n    ",void 0!==i&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.borderWidth")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <input id="thickness-input-tx" type="number"\n                       min="',e+=a(null!=s?s:1),e+='" max="12" step="1" value="',e+=a(i),e+='"\n                       ',e+=a(n),e+='>\n                <input id="thickness-input" type="range"\n                       value="',e+=a(i),e+='" min="1" max="12" step="1"\n                       ',e+=a(n),e+=">\n            </div>\n        </div>\n    "),!1!==u&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.borderStyle")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="borderStyle-select" ',e+=a(n),e+='>\n                    <option value="0">âââââââââââ</option>\n                    <option value="1">. . . . . . . . . . . . . . . . . . . . .</option>\n                    <option value="2">-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -</option>\n                    <option value="3">â  â  â  â  â  â  â  â  â</option>\n                    <option value="4">â  -  â  -  â  -  â  -  â  -  â  -</option>\n                    <option value="5">ââ  -  ââ  -  ââ  -  ââ  -</option>\n                    <option value="6">-   âââ   -   âââ   -   âââ</option>\n                    ',!0===c&&(e+='\n                    <option value="7">ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹</option>\n                    <option value="8">~~~~~~~~~~~~~~~~~~~</option>\n                    '),e+="\n                </select>\n            </div>\n        </div>\n    "),void 0!==l&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.highlightingMode.title")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="highlighting-select" ',e+=a(n),e+='>\n                    <option value="0">',e+=a(o.i18n("viewer_:dialog.highlightingMode.none")),e+='</option>\n                    <option value="1">',e+=a(o.i18n("viewer_:dialog.highlightingMode.invert")),e+='</option>\n                    <option value="2">',e+=a(o.i18n("viewer_:dialog.highlightingMode.outline")),e+='</option>\n                    <option value="3">',e+=a(o.i18n("viewer_:dialog.highlightingMode.push")),e+='</option>\n                    <option value="4">',e+=a(o.i18n("viewer_:dialog.highlightingMode.toggle")),e+="</option>\n                </select>\n            </div>\n        </div>\n    "),void 0!==f&&(e+='\n            <div class="fv__property-item">\n                <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.rotate")),e+='</span>\n                <div class="fv__property-item-field-container">\n                    <select id="rotation-select" ',e+=a(n),e+='>\n                        <option value="0">0</option>\n                        <option value="1">90</option>\n                        <option value="2">180</option>\n                        <option value="3">270</option>\n                    </select>\n                </div>\n            </div>\n        '),void 0!==p){d="",r="",h=p;if(0==p)r="disabled=1",d="checked=1",h="#FFFFFF";else{for(h=(p&=16777215).toString(16);h.length<6;)h="0"+h;h="#"+h}e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.fillColor")),e+='</span>\n\n            <div class="fv__property-item-field-container">\n                <input id="fillcolor-input" type="color" value="',e+=a(h),e+='" ',e+=a(r),e+=" ",e+=a(n),e+='>\n\n                <label>\n                    <input id="fillColor-transparent-input" type="checkbox" ',e+=a(d),e+=" ",e+=a(n),e+=">\n                    ",e+=a(o.i18n("viewer_:dialog.transparent")),e+="\n                </label>\n            </div>\n        </div>\n    "}(void 0!==g&&(0===g&&(g="#ffffff"),e+='\n    <div class="fv__property-item">\n        <label>\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.color")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <input id="color-input" type="color" value="',e+=a(g),e+='" ',e+=a(n),e+=">\n            </div>\n        </label>\n    </div>\n    "),m&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.startStyle")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="startstyle-select" value="',e+=a(y),e+='" ',e+=a(n),e+='>\n                    <option value="0">',e+=a(o.i18n("viewer_:dialog.endingStyle.none")),e+='</option>\n                    <option value="1">',e+=a(o.i18n("viewer_:dialog.endingStyle.square")),e+='</option>\n                    <option value="2">',e+=a(o.i18n("viewer_:dialog.endingStyle.circle")),e+='</option>\n                    <option value="3">',e+=a(o.i18n("viewer_:dialog.endingStyle.diamond")),e+='</option>\n                    <option value="4">',e+=a(o.i18n("viewer_:dialog.endingStyle.openArrow")),e+='</option>\n                    <option value="5">',e+=a(o.i18n("viewer_:dialog.endingStyle.closedArrow")),e+='</option>\n                    <option value="6">',e+=a(o.i18n("viewer_:dialog.endingStyle.butt")),e+='</option>\n                    <option value="7">',e+=a(o.i18n("viewer_:dialog.endingStyle.reverseOpenArrow")),e+='</option>\n                    <option value="8">',e+=a(o.i18n("viewer_:dialog.endingStyle.reverseClosedArrow")),e+='</option>\n                    <option value="9">',e+=a(o.i18n("viewer_:dialog.endingStyle.slash")),e+="</option>\n                </select>\n            </div>\n        </div>\n        "),v&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.endStyle")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="endstyle-select" value="',e+=a(b),e+='" ',e+=a(n),e+='>\n                    <option value="0" >',e+=a(o.i18n("viewer_:dialog.endingStyle.none")),e+='</option>\n                    <option value="1" >',e+=a(o.i18n("viewer_:dialog.endingStyle.square")),e+='</option>\n                    <option value="2" >',e+=a(o.i18n("viewer_:dialog.endingStyle.circle")),e+='</option>\n                    <option value="3" >',e+=a(o.i18n("viewer_:dialog.endingStyle.diamond")),e+='</option>\n                    <option value="4" >',e+=a(o.i18n("viewer_:dialog.endingStyle.openArrow")),e+='</option>\n                    <option value="5" >',e+=a(o.i18n("viewer_:dialog.endingStyle.closedArrow")),e+='</option>\n                    <option value="6" >',e+=a(o.i18n("viewer_:dialog.endingStyle.butt")),e+='</option>\n                    <option value="7" >',e+=a(o.i18n("viewer_:dialog.endingStyle.reverseOpenArrow")),e+='</option>\n                    <option value="8" >',e+=a(o.i18n("viewer_:dialog.endingStyle.reverseClosedArrow")),e+='</option>\n                    <option value="9" >',e+=a(o.i18n("viewer_:dialog.endingStyle.slash")),e+="</option>\n                </select>\n            </div>\n        </div>\n        "),void 0!==w)&&(e+='\n    <div class="fv__property-item">\n        <label class="fv__property-item-only-field-container">\n            <input id="hasCap-input" type="checkbox" ',e+=a(w?"checked=true":""),e+=" ",e+=a(n),e+=">\n            ",e+=a(o.i18n("viewer_:dialog.hasCap")),e+="\n        </label>\n    </div>\n    ");return!1!==A&&(e+='\n    <div class="fv__property-item">\n        <label class="fv__property-item-name-container">',e+=a(o.i18n("viewer_:dialog.opacity")),e+='</label>\n        <div class="fv__property-item-field-container">\n            <input id="opacity-input" type="range" value="',e+=a(A),e+='" min="0" max="1" step="0.01" ',e+=a(n),e+=">\n        </div>\n    </div>\n    "),e+='\n</div>\n<div class="fv__btn-close-container">\n    <button type="button" class="fv__btn fv__btn-close">',e+=a(o.i18n("viewer_:dialog.close")),e+="</button>\n</div>\n</div>"}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=T(n(93)),r=(T(n(48)),T(n(92)),T(n(370))),i=T(n(212)),a=T(n(369)),s=T(n(368)),u=T(n(125)),c=T(n(997)),l=T(n(211)),f=T(n(210)),p=T(n(366)),d=T(n(365)),h=T(n(364)),g=T(n(363)),m=T(n(361)),y=T(n(208)),v=(T(n(151)),T(n(360))),b=T(n(359)),w=T(n(150)),A=T(n(358)),_=n(20),P=T(n(207)),O=T(n(355)),E=T(n(353)),x=T(n(984)),C=T(n(352)),S=T(n(351)),D=(T(n(127)),T(n(973))),M=T(n(972));function T(t){return t&&t.__esModule?t:{default:t}}var j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.matchRules=[],this.getAnnotFlag_=function(){return 0}}return t.prototype.registerMatchRule=function(t){return this.matchRules.push(t),t},t.prototype.unRegisterMatchRule=function(t){var e=this.matchRules.indexOf(t);-1!==e&&this.matchRules.splice(e,1)},t.prototype.get=function(t){for(var e=this.matchRules,n=this.getDefault(t),o=void 0,r=0,i=e.length;r<i;r++){var a=e[r];if("function"==typeof a){var s=a(t,n);s&&(o=s,n=s)}}return o||n},t.prototype.getDefault=function(t){switch(t.getType()){case"highlight":return r.default;case"squiggly":return s.default;case"strikeout":switch(t.getIntent()){case _.Intents.STRIKEOUT_TEXTEDIT:return S.default}return i.default;case"underline":return a.default;case"line":switch(t.getIntent()){case _.Intents.LINE_DIMENSION:return c.default}return u.default;case"polyline":return l.default;case"fileattachment":return g.default;case"text":return h.default;case"circle":return d.default;case"caret":return m.default;case"freetext":switch(t.getIntent()){case _.Intents.FREETEXT_TYPEWRITER:return P.default;case _.Intents.FREETEXT_CALLOUT:return O.default;default:return E.default}case"ink":return b.default;case"polygon":switch(t.getIntent()){case _.Intents.POLYGON_CLOUD:return A.default;case _.Intents.POLYGON_DIMENSION:default:return f.default}case"square":return y.default;case"stamp":return v.default;case"link":return p.default;case"widget":return(0,x.default)(t);case"screen":return C.default;case"redact":return w.default;case"watermark":return D.default;default:return o.default}},t.prototype.getAnnotFlag=function(t){var e=new M.default(t.getFlags());return e.or(this.getAnnotFlag_(t)),e},t.prototype.setViewerAnnotFlag=function(t){this.getAnnotFlag_=t},t}();e.default=j},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(378));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ViewModes={},this.pdfViewer=e,this.register(o.default)}return t.prototype.register=function(t){return this.ViewModes[t.getName()]=t},t.prototype.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.getName();return this.ViewModes[t]||o.default},t.prototype.switchTo=function(t){var e=this.currentViewMode,n=this.get(t);if(e!==n){this.currentViewMode=n;var o=this.pdfViewer,r=o.pdfViewerRender;r&&(o.setActiveElement(null),r.setViewMode(n))}},t.prototype.getCurrentViewMode=function(){return this.currentViewMode||o.default},t.prototype.getAll=function(){return this.ViewModes},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={version:"dcdb2004324dcfa2581376ca9fc933e0",versions:{"en-US":{ui_:"877432d93b3be40bdffc468b1c7e2e44",viewer_:"305d25d9c8039f3a8e7082db87d88be8"},"zh-CN":{ui_:"dcea7a328b36a16981c798df0b55c34a",viewer_:"134f14f0db852b6de51b346416d84eb3"}},languageVersions:{"en-US":"6626fedae6e8977054efd2126d024bb2","zh-CN":"bfffe9f3170d2253b98c36b7aa26c3ae"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t,e){if(e&&"object"===(void 0===e?"undefined":o(e))){var n="",r=encodeURIComponent;for(var i in e)n+="&"+r(i)+"="+r(e[i]);if(!n)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+n.slice(1)}return t}e.default=function(t,e,n,i,a){i&&"object"===(void 0===i?"undefined":o(i))&&(a||(i._t=new Date),i=r("",i).slice(1)),e.queryStringParams&&(t=r(t,e.queryStringParams));try{var s;(s=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",t,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,i&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var u=e.customHeaders;if(u)for(var c in u)s.setRequestHeader(c,u[c]);s.onreadystatechange=function(){s.readyState>3&&n&&n(s.responseText,s)},s.send(i)}catch(t){console&&console.log(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaults=function(t){return r.call(i.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},e.extend=function(t){return r.call(i.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t};var o=[],r=o.forEach,i=o.slice},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1014)),i=function(t){return t&&t.__esModule?t:{default:t}}(n(1013));var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n),this.type="backend"}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=t,this.options=r.defaults(e,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:i.default})}},{key:"readMulti",value:function(t,e,n){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(t,e));var r=this.services.interpolator.interpolate(o,{lng:t.join("+"),ns:e.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(t,e,n){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath([t],[e]));var r=this.services.interpolator.interpolate(o,{lng:t,ns:e});this.loadUrl(r,n)}},{key:"loadUrl",value:function(t,e){var n=this;this.options.ajax(t,this.options,function(o,r){if(r.status>=500&&r.status<600)return e("failed loading "+t,!0);if(r.status>=400&&r.status<500)return e("failed loading "+t,!1);var i=void 0,a=void 0;try{i=n.options.parse(o,t)}catch(e){a="failed parsing "+t+" to json"}if(a)return e(a,!1);e(null,i)})}},{key:"create",value:function(t,e,n,o){var r=this;"string"==typeof t&&(t=[t]);var i={};i[n]=o||"",t.forEach(function(t){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:t,ns:e});r.options.ajax(n,r.options,function(t,e){},i)})}}]),t}();a.type="backend",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaults=function(t){return r.call(i.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},e.extend=function(t){return r.call(i.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},e.debounce=function(t,e,n){var o;return function(){var r=this,i=arguments,a=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||t.apply(r,i)},e),a&&t.apply(r,i)}};var o=[],r=o.forEach,i=o.slice},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1016));var i=function(t,e){if(window.localStorage)try{window.localStorage.setItem(t,e)}catch(t){}},a=function(t,e){if(window.localStorage)try{return window.localStorage.getItem(t,e)}catch(t){}};var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n),this.type="backend"}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=t,this.options=r.defaults(e,this.options||{},{prefix:"i18next_res_",expirationTime:6048e5,versions:{}})}},{key:"read",value:function(t,e,n){var o=(new Date).getTime();if(!window.localStorage)return n(null,null);var r=a(""+this.options.prefix+t+"-"+e);if(r&&(r=JSON.parse(r)).i18nStamp&&r.i18nStamp+this.options.expirationTime>o&&this.options.versions[t]===r.i18nVersion)return delete r.i18nVersion,delete r.i18nStamp,n(null,r);n(null,null)}},{key:"save",value:function(t,e,n){window.localStorage&&(n.i18nStamp=(new Date).getTime(),this.options.versions[t]&&(n.i18nVersion=this.options.versions[t]),i(""+this.options.prefix+t+"-"+e,JSON.stringify(n)))}}]),t}();s.type="backend",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaults=function(t){return r.call(i.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},e.extend=function(t){return r.call(i.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},e.createClassOnDemand=function(t){return t?"function"==typeof t?new t:t:null};var o=[],r=o.forEach,i=o.slice},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1018));var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.backends=[],this.type="backend",this.init(e,n)}return o(t,[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];this.services=t,this.options=r.defaults(n,this.options||{},{}),this.options.backends&&this.options.backends.forEach(function(n,i){e.backends[i]=e.backends[i]||r.createClassOnDemand(n),e.backends[i].init(t,e.options.backendOptions[i],o)})}},{key:"read",value:function(t,e,n){var o=this,r=this.backends.length,i=function n(r,i){if(!(r<0)){var a=o.backends[r];a.save?(a.save(t,e,i),n(r-1,i)):n(r-1,i)}};!function a(s){if(s>=r)return n(new Error("non of the backend loaded data;",!0));var u=o.backends[s];u.read?u.read(t,e,function(t,e){e&&Object.keys(e).length>-1?(n(null,e,s),i(s-1,e)):a(s+1)}):a(s+1)}(0)}},{key:"create",value:function(t,e,n,o){this.backends.forEach(function(r){r.create&&r.create(t,e,n,o)})}}]),t}();i.type="backend",e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(171)),r=u(n(216)),i=u(n(215)),a=u(n(214)),s=u(n(1012));function u(t){return t&&t.__esModule?t:{default:t}}var c="en-US";function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},s.default,t)}e.default=function(t){var e=o.default.createInstance();return e.use(r.default).init(Object.assign({},{load:"currentOnly",fallbackLng:c,backend:{backends:[i.default,a.default],backendOptions:t.backendOptions||[function(t){return{prefix:"foxit_pdf_sdk_for_web_i18next_",expirationTime:6048e6,versions:l(t).versions}}(t.version),function(t,e){var n=l(t);return{loadPath:function(t,o){var r=void 0;try{r=n.versions[t.join(" ")][o.join(" ")]}catch(t){r=n.version}return e+"/{{lng}}/{{ns}}.json?v="+r}}}(t.version,t.absolutePath)]}},t.initOption)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(76)),r=n(8),i=u(n(1)),a=u(n(3)),s=u(n(84));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return r.docRender=o,r.form=n.getPDFForm(),r.form.setActionHandler(function(t,e,n,o){return r.execAction("Field",t,e,n,o)}),r.pdfViewer.eventEmitter.on(a.default.tapPage,function(){r.blurControl()}).on(a.default.tapAnnotation,function(){r.blurControl()}).on(a.default.openFileSuccess,function(){r.control=null}),r}return c(e,t),e.prototype.setRuntimeHighlight=function(t){t?(0,i.default)(".fv__ui-form-foreground:not(.form-field-readonly)").show():(0,i.default)(".fv__ui-form-foreground:not(.form-field-readonly)").hide()},e.prototype.setRuntimeHighlightColor=function(t){(0,i.default)(".fv__ui-form-foreground").css("background-color",(0,r.colorConvertor)(t,"HTML",.25))},e.prototype.isReadOnly=function(){var t=this.docRender.getUserPermission().getValue();return!(32&t||256&t)},e.prototype.fill=function(t,e,n,o){return this.form.fill(t,e,n,o)},e.prototype.isSameTarget=function(t){return this.control==t},e.prototype.focusControl=function(t,e){if(this.control!=t){if(this.control)if(this.blurControl()&&!e)return;this.pdfViewer.setActiveElement(t),this.control=t,t&&this.control.focus(e)}},e.prototype.blurControl=function(){var t=this.control;if(this.control=null,t){var e=t.blur();if(document.activeElement.blur(),e)return this.focusControl(t,!0),e}},e.prototype.setValue=function(t,e){return t.getField().setValue(e)},e.prototype.calculate=function(t){this.form.calculate(t)},e.prototype.execAction=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!e)return!0;var a=this.pdfViewer.actionManager.get(e,this);return"TypeJavaScript"==e.getType()?(a.setTypeName(t,r),a.setSourceTarget(n,o),a.setParam(i)):"TypeResetForm"===e.getType()&&a.setSource(n),a.active()},e.prototype.getFormatedData=function(t){var e=this,n={};return this.form.enumFields([],0,function(o,r,i){var a=e.form.getField(r),u=a.getAction(s.default.FieldWillFormat);if(6==o&&u){var c=i;if("display"==t)if(a.getDisplayValue())n[r]=a.getDisplayValue();else{var l=i.length>0&&u&&e.execAction("Field",u,null,a,s.default.FieldWillFormat);!1!==l&&l&&l.rc&&(c=l.value),n[r]=c}else n[r]=c}}),n},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.x,o=t.y,r=e.x,i=e.y,a=Math.abs(n-r),s=Math.abs(o-i);return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.name="customsRender",i.$ui=n,i.customs=o,i.customRenders={},i}return o(e,t),e.prototype.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=t,this.rotate=e;var n=this.customs;this.adjustCustomsRenderInit(n);var o=this.pdfViewer.customRenderManager,r=this.customRenders;return Promise.all(n.map(function(n){return r[o.getCustomDataId(n)].render(t,e)}))},e.prototype.activeCustom=function(t){var e=this.customRenders[this.customManager.getCustomDataId(t)];return e?(this.currentActiveCustomRender=e,e.render(this.scale,this.rotate)):Promise.reject()},e.prototype.unActiveCustoms=function(){var t=this.currentActiveCustomRender;if(t)return t.unActive()},e.prototype.adjustCustomsRenderInit=function(t){var e=this,n=this.pdfViewer.customRenderManager,o=this.customRenders,r=document.createDocumentFragment();t.filter(function(t){return!o[n.getCustomDataId(t)]}).map(function(t){var i=document.createElement("div"),a=document.createElement("div");r.appendChild(i),r.appendChild(a),o[n.getCustomDataId(t)]=new(n.get(t))(i,a,t,e)}).length&&this.$ui.append(r)},e.prototype.addCustomRenders=function(t){this.adjustCustomsRenderInit(t);var e=this.pdfViewer.customRenderManager,n=this.customRenders,o=this.scale,r=this.rotate;return Promise.all(t.map(function(t){return n[e.getCustomDataId(t)].render(o,r)}))},e.prototype.removeCustomRenders=function(t){var e={},n=this.pdfViewer.customRenderManager,o=this.customRenders;t.map(function(t){var r=n.getCustomDataId(t);e[r]=1,delete o[r]});for(var r=this.customs,i=r.length;i--;)e[n.getCustomDataId(r[i])]&&r.splice(i,1)},e.prototype.destroy=function(){var t=this.customRenders;for(var e in t){var n=t[e];n&&n.destroy()}},e.prototype.updateCustomRenders=function(t){for(var e=this,n={},o=this.pdfViewer.customRenderManager,r=this.customRenders,i=t.map(function(t){var e=o.getCustomDataId(t);return n[e]=t,r[e]}),a=this.customs,s=a.length;s--;){var u=o.getCustomDataId(a[s]);n[u]&&(a[s]=n[u])}return Promise.all(i.map(function(t){return t&&t.render(e.scale,e.rotate)}))},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(76)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Microsoft Yahei",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.font=e,this.fontSize=n,this.color=o,this.fontStyle=r,this.lineSpace=i,this.alignment=a}return t.prototype.setFont=function(t){this.font=t},t.prototype.getFont=function(){return this.font},t.prototype.setFontSize=function(t){this.fontSize=t},t.prototype.getFontSize=function(){return this.fontSize},t.prototype.setColor=function(t){this.color=t},t.prototype.getColor=function(){return this.color},t.prototype.setFontStyle=function(t){this.fontStyle=t},t.prototype.getFontStyle=function(){return this.fontStyle},t.prototype.setLineSpace=function(t){this.lineSpace=t},t.prototype.getLineSpace=function(){return this.lineSpace},t.prototype.setAlignment=function(t){this.alignment=t},t.prototype.getAlignment=function(){return this.alignment},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-45,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=e,this.offsetX=n,this.offsetY=o,this.scaleX=r,this.scaleY=i,this.rotation=a,this.opacity=s}return t.prototype.setPosition=function(t){this.position=t},t.prototype.getPosition=function(){return this.position},t.prototype.setOffsetX=function(t){this.offsetX=t},t.prototype.getOffsetX=function(){return this.offsetX},t.prototype.setOffsetY=function(t){this.offsetY=t},t.prototype.getOffsetY=function(){return this.offsetY},t.prototype.setScaleX=function(t){this.scaleX=t},t.prototype.getScaleX=function(){return this.scaleX},t.prototype.setScaleY=function(t){this.scaleY=t},t.prototype.getScaleY=function(){return this.scaleY},t.prototype.setRotation=function(t){this.rotation=t},t.prototype.getRotation=function(){return this.rotation},t.prototype.setOpacity=function(t){this.opacity=t},t.prototype.getOpacity=function(){return this.opacity},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(1026)),r=a(n(1025)),i=a(n(43));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{position:"Center",offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:-45,opacity:100},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{font:"Microsoft Yahei",fontSize:20,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.showWidth=e,this.showHeight=n,this.tileSize=i,this.smartScale=a;var c=s.position,l=s.offsetX,f=s.offsetY,p=s.scaleX,d=s.scaleY,h=s.rotation,g=s.opacity,m=u.font,y=u.fontSize,v=u.color,b=u.fontStyle,w=u.lineSpace,A=u.alignment;this.watermarkSettings=new o.default(c,l,f,p,d,h,g),this.watermarkTextProperties=new r.default(m,y,v,b,w,A)}return t.prototype.exportDataURL=function(t){var e=t.content,n=t.type;return"text"===n?this.createTextWatermark(e):"image"===n?this.createImageWatermark(e):void 0},t.prototype.createImageWatermark=function(t){var e=this,n=(0,i.default)(),o=document.createElement("canvas");o.width=this.showWidth,o.height=this.showHeight;var r=o.getContext("2d"),a=o.getContext("2d"),s=new Image;s.src=t;var l=this.watermarkSettings,f=l.getOffsetX(),p=l.getOffsetY(),d=l.getScaleX(),h=l.getScaleY(),g=l.getRotation(),m=this.showWidth,y=this.showHeight;return s.onload=function(){s.width=s.width*d*e.smartScale,s.height=s.height*h*e.smartScale,u(r,l.getOpacity()),r.save();var t=c(s.width,s.height,g),i=t.x,v=t.y;switch(l.getPosition()){case"TopLeft":a.translate(i+s.width/2,v+s.height/2);break;case"TopCenter":a.translate(m/2,v+s.height/2);break;case"TopRight":a.translate(m-i-s.width/2,v+s.height/2);break;case"CenterLeft":a.translate(i+s.width/2,y/2);break;case"Center":a.translate(m/2,y/2);break;case"CenterRight":a.translate(m-i-s.width/2,y/2);break;case"BottomLeft":a.translate(i+s.width/2,y-v-s.height/2);break;case"BottomCenter":a.translate(m/2,y-v-s.height/2);break;case"BottomRight":a.translate(m-i-s.width/2,y-v-s.height/2)}a.rotate(g*Math.PI/180),a.drawImage(s,-s.width/2+f,-s.height/2+p,s.width,s.height),r.restore(),n.resolve(o.toDataURL())},s.onerror=function(t){var e=new Error("Failed to load image");e.originEvent=t,n.reject(e)},s.oncancel=function(t){var e=new Error("Load image has been cancelled");e.originEvent=t,n.reject(e)},n.promise},t.prototype.createTextWatermark=function(t){var e=(0,i.default)(),n=document.createElement("canvas");n.width=this.showWidth,n.height=this.showHeight;var o=t.split("\n"),r=n.getContext("2d"),a=n.getContext("2d"),s=this.showWidth,l=this.showHeight,f=this.watermarkTextProperties,p=f.getFontSize()*this.smartScale,d=f.getLineSpace()*this.smartScale,h=f.getFontStyle(),g=f.getColor(),m=f.getAlignment(),y=f.getFont();a.font=p+"px "+y,a.fillStyle=g;var v=this.watermarkSettings,b=v.getOffsetX(),w=v.getOffsetY(),A=(v.getScaleX(),v.getScaleY(),v.getRotation()),_=0,P=o.length,O=P*p+(P-1)*d;o.map(function(t){var e=t.replace(/\s+/g,"");_=Math.max(e.length*p,_)}),a.lineWidth=1,a.strokeStyle=g,r.textBaseline="top",u(r,v.getOpacity());var E=c(_,O,A),x=E.x,C=E.y;switch(v.getPosition()){case"TopLeft":a.translate(x+_/2,C+O/2);break;case"TopCenter":a.translate(s/2,C+O/2);break;case"TopRight":a.translate(s-x-_/2,C+O/2);break;case"CenterLeft":a.translate(x+_/2,l/2);break;case"Center":a.translate(s/2,l/2);break;case"CenterRight":a.translate(s-x-_/2,l/2);break;case"BottomLeft":a.translate(x+_/2,l-C-O/2);break;case"BottomCenter":a.translate(s/2,l-C-O/2);break;case"BottomRight":a.translate(s-x-_/2,l-C-O/2)}return a.rotate(A*Math.PI/180),p<12&&a.scale(p/12,p/12),o.map(function(t,e){var n=t.replace(/(^\s*)|(\s*$)/g,""),o=n.length*p,i=void 0,s=void 0,u=0,c=0;switch(m){case"left":r.textAlign="left",i=-o/2-(_-o)/2,s=o/2-(_-o)/2,u=-_/2,c=-O/2;break;case"right":r.textAlign="right",i=-o/2+(_-o)/2,s=o/2+(_-o)/2,u=_/2,c=-O/2;break;default:r.textAlign="center",i=-o/2,s=o/2,c=-O/2}a.fillText(n,u+b,c+e*(d+p)+w),"underline"===h&&(a.moveTo(i,-O/2+p+e*(p+d)),a.lineTo(s,-O/2+p+e*(p+d)),a.stroke())}),e.resolve(n.toDataURL()),e.promise},t.prototype.getWatermarkSettings=function(){return this.watermarkSettings},t.prototype.getWatermarkTextProperties=function(){return this.watermarkTextProperties},t.prototype.getHeight=function(){return this.showHeight},t.prototype.getWidth=function(){return this.showWidth},t}();function u(t,e){t.globalAlpha=e/100}function c(t,e,n){var o=Math.sqrt(Math.pow(t/2,2)+Math.pow(e/2,2)),r=Math.asin(e/2/o)/(Math.PI/180),i=void 0,a=void 0,s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-r,a=r+n):(i=n+r,a=n-r);var u=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(a*Math.PI/180))-t/2,y:u-e/2}}e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pageRender=e,this.secondaryScale=r,this.fixedPosition=i;var a=document.createElement("div");a.classList.add("fv__page-area-renderer");var s=document.createElement("canvas");a.appendChild(s),this.canvas=s,this.element=a,this.setDimension(n,o),this.offsetPageX=0,this.offsetPageY=0}return t.prototype.setDimension=function(t,e){this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,this.element.style.cssText+="width: "+t+"px;height:"+e+"px"},t.prototype.setPosition=function(t,e){this.offsetPageX=t,this.offsetPageY=e},t.prototype.setSecondaryScale=function(t){t=Number(t),(!isFinite(t)||t<=0)&&(t=1),this.secondaryScale=t},t.prototype.update=function(){var t=this;return this.pageRender.getPDFPage().then(function(e){var n=t.pageRender.scale,o=t.canvas,r=4*n/3*t.secondaryScale,i=e.getPxWidth()*n*t.secondaryScale,a=e.getPxHeight()*n*t.secondaryScale,s=o.width,u=o.height,c=s/2,l=u/2,f=t.offsetPageX*t.secondaryScale,p=t.offsetPageY*t.secondaryScale,d=f-c,h=f+c,g=p-l,m=p+l,y=0,v=0;t.fixedPosition?(d<0&&(h=(d=0)+s),h>i&&(d=(h=i)-s),g<0&&(m=(g=0)+u),m>a&&(g=(m=a)-u)):(d<0?y=Math.min(-d,c):h>i&&(y=Math.max(i-h,-c)),g<0?v=Math.min(-g,l):m>a&&(v=Math.max(a-m,-l)),o.style.cssText+="left: "+y+"px; top: "+v+"px");var b=Math.max(0,d),w=Math.min(h,i),A=Math.max(0,g),_=Math.min(m,a),P=Math.round(w-b),O=Math.round(_-A),E=Math.abs(Math.min(0,y)),x=Math.abs(Math.min(0,v));return e.getPageBitmap(r,t.pageRender.rotate,{x:b,y:A,width:P,height:O},["page","annot"]).then(function(e){var n=e.buffer,o=e.width,r=e.height,i=t.canvas.getContext("2d"),a=i.createImageData(o,r);return a.data.set(new(Uint8ClampedArray||Uint8Array)(n)),i.putImageData(a,E,x),t.canvas})})},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this,e=t.$handler,n=e[0],a=this.render,s=a.pdfViewer,u=s.eventEmitter,c=new o.default.Manager(n,{recognizers:[[o.default.Pan,{direction:o.default.DIRECTION_ALL}]]});c.add(new o.default.Tap({event:"doubletap",taps:2})),c.add(new o.default.Tap({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("singletap",function(t){var e=a.annotsRender;if(e){e.unActiveAnnot(),a.parent("pdfDocRender").getFormRender().blurControl();var o=t.srcEvent,s=n.getBoundingClientRect(),c=(0,i.getClientX)(o),l=(0,i.getClientY)(o);a.getAnnotIdAtDevicePoint(c-s.left,l-s.top).then(function(n){if(n){var o=e.getAnnotRender(n);o?(u.emit(r.default.tapAnnotation,o,t),e.activeAnnot(n)):u.emit(r.default.tapPage,t)}else u.emit(r.default.tapPage,t)})}else u.emit(r.default.tapPage,t)}),c.on("doubletap",function(t){var e=a.annotsRender;if(e){e.unActiveAnnot(),a.parent("pdfDocRender").getFormRender().blurControl();var o=t.srcEvent,s=n.getBoundingClientRect(),c=(0,i.getClientX)(o),l=(0,i.getClientY)(o);a.getAnnotIdAtDevicePoint(c-s.left,l-s.top).then(function(n){if(n){var o=e.getAnnotRender(n);o?(u.emit(r.default.doubleTapAnnotation,o,t),e.doubleTapAnnot(n)):u.emit(r.default.doubleTapPage,t)}else u.emit(r.default.doubleTapPage,t)})}else u.emit(r.default.doubleTapPage,t)}),c.on("press",function(t){var e=a.annotsRender;if(e){e.unActiveAnnot(),a.parent("pdfDocRender").getFormRender().blurControl();var o=t.srcEvent,s=n.getBoundingClientRect(),c=(0,i.getClientX)(o),l=(0,i.getClientY)(o);a.getAnnotIdAtDevicePoint(c-s.left,l-s.top).then(function(n){if(n){var o=e.getAnnotRender(n);o?(u.emit(r.default.pressAnnotation,o,t),e.showContextMenu(n)):u.emit(r.default.pressPage,t)}else u.emit(r.default.pressPage,t)})}else u.emit(r.default.pressPage,t)}),n.oncontextmenu=function(t){t.preventDefault()};var l=void 0;return e.on("mouseup",l=function(t){if(3===t.which){var e=a.annotsRender;if(e){e.unActiveAnnot();var o=t,i=n.getBoundingClientRect();a.getAnnotIdAtDevicePoint(o.clientX-i.left,o.clientY-i.top).then(function(n){if(n){var o=e.getAnnotRender(n);o?(u.emit(r.default.rightClickAnnotation,o,t),e.showContextMenu(n)):u.emit(r.default.rightClickPage,t)}else u.emit(r.default.rightClickPage,t)})}else u.emit(r.default.rightClickPage,t)}}),function(){n.destroy(),e.off("mouseup",l),t=void 0,e=void 0,n=void 0,a=void 0,s=void 0,u=void 0,l=void 0}};var o=a(n(21)),r=a(n(3));n(130);var i=n(32);function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(218)),r=i(n(1029));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return i.handlers={hand:r.default},i.destroyStateHandlers={},i}return a(e,t),e.prototype.active=function(){this.activated||(this.activated=!0,this.$handler.addClass("fv__active"));this.states.length||this.resetState()},e.prototype.destroy=function(){this.$handler.removeClass("fv__active")},e.prototype.intoState=function(t){var e=this.states;if(-1===e.indexOf(t)){e.push(t);var n=this.handlers[t];n&&(this.destroyStateHandlers[t]=n.bind(this)())}},e.prototype.outState=function(t){var e=void 0;(e=this.destroyStateHandlers[t])&&(e.bind(this)(),delete this.destroyStateHandlers[t]);var n;-1!==(n=this.states.indexOf(t))&&this.states.splice(n,1)},e.prototype.resetState=function(){this.setStates(["hand"])},e.prototype.setStates=function(t){for(var e=this.states,n=0,o=e.length;n<o;n++)this.outState(e[n]);for(var r=0,i=t.length;r<i;r++)this.intoState(t[r])},e.prototype.getStates=function(){return this.states},e}(o.default);e.default=s},function(t,e,n){"use strict";function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return a.name="annotRender",a.$ui=n,a.$handler=o,a.$page=i.$ui,a.annot=r,a.component=new(a.pdfViewer.annotManager.get(r))(r,n[0],o[0],a),a}return o(e,t),e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=this.scale,r=this.rotate;return this.scale=e,this.rotate=n,Promise.resolve(this.component.render(e,n)).then(function(i){var a=o!==e||r!==n;return Promise.resolve(t.component.afterRender({transformed:a,prescale:o,scale:e,prerotate:r,rotate:n})).then(function(t){return i})})},e.prototype.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=t,this.rotate=e,Promise.resolve(this.component.add(t,e))},e.prototype.active=function(){return Promise.resolve(this.component.active(this.scale,this.rotate))},e.prototype.unActive=function(){return Promise.resolve(this.component.unActive())},e.prototype.destroy=function(){this.component.destroy()},e.prototype.focus=function(){return this.component.focus(this.$page)},e.prototype.blur=function(){return this.component.blur(this.$page)},e.prototype.remove=function(t){t&&(this.component.remove(),this.parent().removeAnnotRender(this));for(var e=this.getRelevanceRenders(),n=[],o=e.length;o--;)n[o]=e[o].remove(!0);return Promise.all(n)},e.prototype.showContextMenu=function(t,e){this.component.showContextMenu(t,e)},e.prototype.doubleTapAnnot=function(){this.component.doubleTapAnnot()},e.prototype.redraw=function(t){if(t)return Promise.resolve(this.component.redraw());for(var e=this.getGroupRenders(),n=[],o=e.length;o--;)n[o]=e[o].redraw(!0);return Promise.all(n)},e.prototype.getAnnot=function(){return this.getPDFAnnot()},e.prototype.getPDFAnnot=function(){return this.annot},e.prototype.getGroupRenders=function(){var t=this.annot,e=[t];if(!t.IsGrouped||!t.IsGrouped())return[this];e=[].concat(t.getGroupElements());var n=this.parent().getAnnotRenders(),o=[];for(var r in n){var i=n[r],a=e.indexOf(i.getPDFAnnot());if(a>-1&&(o.push(i),e.splice(a,1)),!e.length)break}return o},e.prototype.getRelevanceRenders=function(){var t,e=[],n=this.annot;(t=(n=n.getGroupHeader&&n.getGroupHeader()||n).getPopup&&n.getPopup())&&e.push(t),function(t,e){i(t,"getReplies",e)}(n,e),function(t,e){i(t,"getMarkedStates",e)}(n,e),function(t,e){i(t,"getReviewStates",e)}(n,e);var o=n.isGrouped&&n.isGrouped()?n.getGroupElements():[n];e=e.concat(o);var r=this.parent().getAnnotRenders(),a=[];try{for(var s in r){var u=r[s],c=e.indexOf(u.getPDFAnnot());if(c>-1&&(a.push(u),e.splice(c,1)),!e.length)break}}catch(t){}return a},e.prototype.moved=function(){this.component.moved()},e.prototype.getComponent=function(){return this.component},e}(function(t){return t&&t.__esModule?t:{default:t}}(n(76)).default);function i(t,e,n){if(t[e]){var o=t[e](),r=o.length;if(r){n.push.apply(n,o);for(var a=r;a--;){i(o[a],e,n)}}}}e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(1)),r=s(n(1031)),i=(n(22),s(n(76))),a=(s(n(75)),n(30),s(n(3)));n(130);n(383);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(){},l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));i.name="annotsRender",i.$ui=n,i.annots=o,i.pageRender=r,i.annotRenders={};var a=i.pdfViewer.customs||{};return i.activeAnnotBefore=a.activeAnnotBefore||c,i.activeAnnotAfter=a.activeAnnotAfter||c,i.unActiveAnnotBefore=a.unActiveAnnotBefore||c,i.unActiveAnnotAfter=a.unActiveAnnotAfter||c,i}return u(e,t),e.prototype.render=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=t,this.rotate=n;var i=this.annots,a=i.filter(function(t){return!e.annotRenders[t.getId()]}).map(function(t){return new r.default((0,o.default)("<div>"),(0,o.default)("<div>"),t,e)});this.$ui.append(a.reduce(function(t,e){return t.append(e.$ui,e.$handler),t},(0,o.default)(document.createDocumentFragment()))),a.forEach(function(t){return e.annotRenders[t.annot.getId()]=t});var s=i.map(function(o){var r=o.getId();return e.annotRenders[r].render(t,n)});return Promise.all(s)},e.prototype.destroy=function(){for(var t in this.annotRenders){var e=this.annotRenders[t];e&&e.destroy()}},e.prototype.clickNoteAt=function(t){var e=this.annotRenders[t];e&&e.focus()},e.prototype.unActiveAnnot=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.currentActiveAnnotRender){if(!1===e)this.pdfViewer.getStateHandlerManager().getCurrentStates().activedChildrenCount--;var n=this.currentActiveAnnotRender,o=this.pdfViewer.eventEmitter;this.currentActiveAnnotRender=null,Promise.resolve(this.unActiveAnnotBefore()).then(function(e){!1!==e&&Promise.resolve(t._unActiveAnnot(n)).then(function(){o.emit(a.default.unActiveAnnotation,n,n.annot.getId(),t),t.unActiveAnnotAfter(n)})})}},e.prototype._unActiveAnnot=function(t){t.unActive()},e.prototype._forEachRenderer=function(t){for(var e in this.annotRenders)t.call(this,this.annotRenders[e],e,this.annotRenders)},e.prototype.activeAnnot=function(t){var e=this,n=this.annotRenders[t];if(!n)return Promise.resolve();var o=this.pdfViewer.eventEmitter,r=this.pdfViewer.customs;return Promise.resolve((r.activeAnnotBefore||c)(n,t,this)).then(function(i){if(o.emit(a.default.activeAnnotationBefore,n,t,e),!1===i)return n;if(n.annot.isGrouped&&n.annot.isGrouped()){var s=[];return n.getRelevanceRenders().map(function(t){"popup"!==t.annot.getType()&&s.push(t.active())}),Promise.all(s).then(function(){return e.currentActiveAnnotRender=n,o.emit(a.default.activeAnnotation,n,t,e),Promise.resolve((r.activeAnnotationAfter||c)(n,t,e))}).then(function(){return o.emit(a.default.activeAnnotationAfter,n,t,e),n})}return n.active().then(function(){return e.currentActiveAnnotRender=n,o.emit(a.default.activeAnnotation,n,t,e),Promise.resolve((r.activeAnnotationAfter||c)(n,t,e))}).then(function(){return o.emit(a.default.activeAnnotationAfter,n,t,e),n})})},e.prototype._activeAnnot=function(t,e){var n=this.annotRenders[t];return n?n.active():Promise.resolve()},e.prototype.splitAnnotIndexArr=function(t,e,n){for(var o=[],r=[],i=t+1,a=t-1,s=-1,u=0,c=e.length;u<c;u++){var l=e[u],f=l.length;if(1===f&&l[0]===t)return!1;for(var p=0,d=f;p<d;p++){var h=l[p];if(h instanceof Array){var g=h[0],m=h[1];if(t===g){s=u,o=l.slice(0,p),r=(r=m>i?[[i,m]]:[m]).concat(l.slice(p+1));break}if(t===m){s=u,o=l.slice(0,p),g<a?o.push([g,a]):o.push(g),r=l.slice(p+1);break}if(t>g&&t<m){s=u,o=l.slice(0,p),a===g?o.push(g):o.push([g,a]),r=(r=i===m?[m]:[[i,m]]).concat(l.slice(p+1));break}}else if(h===t){s=u,o=l.slice(0,p),r=l.slice(p+1);break}}if(-1!==s)break}if(-1===s)return!1;var y=JSON.stringify(e[s]),v=n[y],b=[s,1];return o.length&&b.push(o),b.push([t]),r.length&&b.push(r),e.splice.apply(e,b),{removeTileCanvas:v,beforeIndexArr:o,splitIndexArr:[t],afterIndexArr:r,tileCanvasMap:n,splitKey:y}},e.prototype.splitTileCanvas=function(t,e,n,r,i,a,s,u,c,l){var f=t.beforeIndexArr,p=t.splitIndexArr,d=t.afterIndexArr,h=t.removeTileCanvas,g=t.tileCanvasMap,m=t.splitKey,y=(0,o.default)(document.createDocumentFragment()),v=[];return f.length&&v.push(this.rangeAnnotTileCanvasRedraw(e,n,f,g,y,r,i,a,s,u,c,l)),v.push(this.renderSplitAnnots(p,e,n,y,r,c,l)),d.length&&v.push(this.rangeAnnotTileCanvasRedraw(e,n,d,g,y,r,i,a,s,u,c,l)),Promise.all(v).then(function(){h.$container.before(y),h.destroy(),delete g[m]})},e.prototype.getAnnotRender=function(t){return this.annotRenders[t]},e.prototype.removeAnnotRender=function(t){var e=t.annot.getId();delete this.annotRenders[e]},e.prototype.showContextMenu=function(t,e,n){return this.activeAnnot(t).then(function(t){return t&&t.showContextMenu(e,n)})},e.prototype.doubleTapAnnot=function(t){return this.activeAnnot(t).then(function(t){return t&&t.doubleTapAnnot()})},e.prototype.addAnnots=function(t){var e=this,n=(0,o.default)(document.createDocumentFragment());this.annots.reduce(function(t,i){var a=i.getId();if(!t[a]){var s=(0,o.default)("<div></div>"),u=(0,o.default)("<div></div>");n.append(s),n.append(u),t[a]=new r.default(s,u,i,e)}return t},this.annotRenders),this.$ui.append(n);for(var i=!1,a=0,s=t.length;a<s;a++){if("highlight"===t[a].getType()){i=!0;break}}i&&this.parent("pdfPageRender").redrawContent(!0)},e.prototype.getAnnotRenders=function(){return this.annotRenders},e.prototype.removeAnnotRenders=function(t){for(var e=this.annotRenders,n=t.length;n--;){var o=t[n].getId(),r=this.getAnnotRender(o);r&&(r.remove(!0),delete e[o])}},e.prototype.redrawAnnotRenders=function(t){for(var e=t.length;e--;){var n=t[e].getId(),o=this.getAnnotRender(n);o&&o.redraw()}},e.prototype.movedAnnotRenders=function(t){for(var e=t.length;e--;){var n=t[e].getId(),o=this.getAnnotRender(n);o&&o.moved()}},e.prototype.addAnnotRenders=function(t){var e,n=this;(e=this.annots).push.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));var i=t.map(function(t){var e=new r.default((0,o.default)("<div>"),(0,o.default)("<div>"),t,n);return e.render(n.scale,n.rotate),e});if(i.length>0){var a=(0,o.default)(document.createDocumentFragment());i.forEach(function(t){a.append(t.$ui,t.$handler),n.annotRenders[t.annot.getId()]=t}),this.$ui.append(a)}},e.prototype.updateAnnotRendersId=function(t,e){t in this.annotRenders&&(this.annotRenders[e]=this.annotRenders[t],delete this.annotRenders[t])},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.returnPromise=e}return t.prototype.get=function(t){var e=this,n=this.promise=Promise.resolve(this.returnPromise(t));return n.then(function(t){e.data=t}),n},t.prototype.getCache=function(t){return void 0!==this.data?Promise.resolve(this.data):this.promise?this.promise:this.get(t)},t.prototype.remove=function(){this.promise=void 0,this.data=void 0},t}();e.default=o},function(t,e){t.exports='<div class="fv__pdf-view-mode-item">\n    <div class="fv__pdf-page-layout">\n        <div class="fv__pdf-page-rendering"></div>\n        <div class="fv__pdf-custom-page-container"></div>\n        <div class="fv__pdf-page-container">\n        </div>\n        <div class="fv__pdf-page-annots-container"></div>\n        <div class="fv__pdf-page-customs-container"></div>\n        <div class="fv__pdf-page-handler-container"></div>\n    </div>\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=f(n(1)),a=f(n(1034)),s=f(n(388)),u=(n(30),n(22)),c=f(n(76)),l=f(n(3));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(){},h=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.name="pdfPagesRender",i.$ui=n,i.doc=o,i.docRender=r,i.ViewMode=r.ViewMode,i.viewMode=new r.ViewMode(r),i.viewerRender=r.viewerRender,i.pdfViewer=i.viewerRender.pdfViewer,i.pageRenders=[],i.scale=1,i.neverRendered=!0,i.minScale=+i.pdfViewer.config.minScale,i.maxScale=+i.pdfViewer.config.maxScale,i.pdfViewer.eventEmitter.on(l.default.actionAdd,i.actionAdd=function(t){i.pageRenders[t.getPDFPage().getIndex()].getAnnotRender(t.getId()).component.addAction(t.action)}),i.pdfViewer.eventEmitter.on(l.default.actionRemove,i.actionRemove=function(t){i.pageRenders[t.getPDFPage().getIndex()].getAnnotRender(t.getId()).component.removeAction()}),i.pdfViewer.eventEmitter.on(l.default.actionUpdated,i.actionUpdated=function(t){i.pageRenders[t.getPDFPage().getIndex()].getAnnotRender(t.getId()).component.actionViewer.updateAction(t.action)}),i.pdfViewer.eventEmitter.on(l.default.layerVisibleChange,i.layerVisibleChangeBind=function(t){i.doc===t&&(i.setRenderFlags(2),i.renderVisiblePages())}),i.pdfViewer.eventEmitter.on(l.default.imageAdded,i.imageAdded=function(t){i.pageRenders[t.getIndex()].redrawContent(!0)}),i.pdfViewer.eventEmitter.on(l.default.watermarkAdded,i.watermarkAdded=function(t){i.pageRenders[t.getIndex()].redrawContent(!0)}),i.pdfViewer.eventEmitter.on(l.default.graphicsUpdated,i.graphicsUpdated=function(t){i.pageRenders[t.getIndex()].redrawContent(!0)}),i.pdfViewer.eventEmitter.on(l.default.pageAdded,i.pageAdded=function(t){var e=t.getIndex();i.addNewPageByIndex(e)}),i.pdfViewer.eventEmitter.on(l.default.pageMoved,i.pageMoved=function(t,e){i.movePageRender(t,e)}),i.pdfViewer.eventEmitter.on(l.default.pageRemoved,i.pageReoved=function(t){i.removePageByIndex(t)}),i}return p(e,t),e.prototype.setViewMode=function(t){var e=this;return this.viewMode.out(),this.viewMode=new t(this.docRender),this.viewMode.into(),this.setRenderFlags(4),this.docRender.goToPage(this.docRender.getCurrentPageIndex(),{x:0,y:0}),this.renderVisiblePages(this.scale).then(function(){"fitWidth"===e.scale&&e.renderVisiblePages()})},e.prototype.getViewMode=function(){return this.viewMode},e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale;return this.scale=e,this.createPagesStructure(),this.viewMode.into(),this.docRender.rendered(),this.$ui.find(".fv__pdf-page-layout").each(function(e,n){t.pageRenders[e]||(t.pageRenders[e]=new s.default((0,i.default)(n),e,t.doc,t)).rendering()}),this.renderVisiblePages(e)},e.prototype.movePageRender=function(t,e){var n=this.pageRenders[t];if(n){var o=n.$ui.parent(),r=this.pageRenders[e];if(r){var i=r.$ui.parent();t<e?o.insertAfter(i):o.insertBefore(i),this.pageRenders.splice(t,1),this.pageRenders.splice(e,0,n);for(var a=Math.min(t,e),s=Math.max(t,e),u=a;u<=s;u++)this.pageRenders[u].updateIndex(u)}}},e.prototype.addNewPageByIndex=function(t){var e=(0,i.default)(a.default);if(this.pageRenders[t]){var n=this.pageRenders[t].$ui.parent();e.insertBefore(n)}else this.$ui.append(e);var o=e.find(".fv__pdf-page-layout"),r=new s.default(o,t,this.doc,this);this.pageRenders.splice(t,0,r);for(var u=t+1;u<this.pageRenders.length;u++)this.pageRenders[u].updateIndex(u);return r.rendering(),this.renderVisiblePages(this.scale)},e.prototype.removePageByIndex=function(t){if(this.pageRenders[t]){this.pageRenders.splice(t,1)[0].$ui.parent().remove();for(var e=t;e<this.pageRenders.length;e++)this.pageRenders[e].updateIndex(e)}},e.prototype.setRenderFlags=function(t){for(var e=this.pageRenders,n=0,o=e.length;n<o;n++)e[n].updateRenderFlags(t)},e.prototype.renderVisiblePagesPromise=function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this.viewMode.getVisibleIndexes(),o=[],r=0,i=n.length;r<i;r++){var a=n[r];o.push(function(e,n){return t.getPageScale(e,n).then(function(n){return t.pageRenders[e].render(n)})}(a,e))}return Promise.all(o).then(function(){var e=t.getSmartInvisibleIndexes(n);return t.renderPages(e)})},e.prototype.renderVisiblePages=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this.viewMode.getVisibleIndexes();return this.neverRendered?(this.neverRendered=!1,n=n.slice(0,1),this.renderPages(n,e).then(function(){return t.renderVisiblePages(e)})):this.renderPages(n,e).then(function(){t.pdfViewer.eventEmitter.emit(l.default.visiblePagesRenderCompleted)})},e.prototype.renderPages=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=this.renderPagesSerial;o&&o.end().catch(d),o=this.renderPagesSerial=new u.SerialPromise;for(var r=[],i=0,a=e.length;i<a;i++){var s=e[i];r.push(function(e,n){return function(){return t.getPageScale(e,n).then(function(n){return t.pageRenders[e].render(n)})}}(s,n))}return o.serial(r)},e.prototype.destroy=function(){for(var t=this.pageRenders.length;t--;)this.pageRenders[t].destroy();this.pageRenders=[],this.renderPagesSerial&&this.renderPagesSerial.end().catch(d),this.viewMode.out(),this.$ui.empty(),this.pdfViewer.eventEmitter.off(l.default.actionAdd,this.actionAdd),this.pdfViewer.eventEmitter.off(l.default.actionRemove,this.actionRemove),this.pdfViewer.eventEmitter.off(l.default.actionUpdated,this.actionUpdated),this.pdfViewer.eventEmitter.off(l.default.layerVisibleChange,this.layerVisibleChangeBind),this.pdfViewer.eventEmitter.off(l.default.imageAdded,this.imageAdded),this.pdfViewer.eventEmitter.off(l.default.watermarkAdded,this.watermarkAdded),this.pdfViewer.eventEmitter.off(l.default.graphicsUpdated,this.graphicsUpdated),this.pdfViewer.eventEmitter.off(l.default.pageAdded,this.pageAdded),this.pdfViewer.eventEmitter.off(l.default.pageMoved,this.pageMoved),this.pdfViewer.eventEmitter.off(l.default.pageRemoved,this.pageReoved)},e.prototype.getSmartInvisibleIndexes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewMode.getVisibleIndexes(),e=Math.max(this.pdfViewer.config.preloadedPages,0),n=t.length,o=[],r=this.pageRenders.length;if(!n){for(var i=0,a=r;i<a;i++)o[i]=i;return o}for(var s=t.sort(function(t,e){return t-e}),u=s[s.length-1]+1,c=Math.min(u+e,r-1),l=u;l<c;l++)o.push(l);return o},e.prototype.goPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r;this.viewMode.goToPage(t,{x:o,y:i})},e.prototype.zoomTo=function(t){var e=this;return this.scale=t,this.renderVisiblePages(t).then(function(){return e.renderVisiblePages(t)})},e.prototype.getScaleRatio=function(){switch(r(this.scale)){case"number":return Promise.resolve(this.scale);case"string":return this.getPageScale(0,this.scale);default:return Promise.resolve(1)}},e.prototype.getPageScale=function(t,e){var n=this;return+e>this.minScale?Promise.resolve(Math.min(+e,this.maxScale)):+e<=this.minScale?Promise.resolve(this.minScale):"fitWidth"===e?this.doc.getPageByIndex(t).then(function(e){return n.viewMode.getFitWidth(t)/e.getPxWidth()}):"fitHeight"===e?Promise.all([this.viewMode.getFitHeight(t),this.pageRenders[t].getPDFPage().then(function(t){return t.getPxHeight()})]).then(function(t){var e=o(t,2);return e[0]/e[1]}):Promise.resolve(1)},e.prototype.createPagesStructure=function(t){for(var e="",n=this.doc.getPageCount();n--;)e+=a.default;this.$ui.html(e)},e.prototype.getPDFPageRender=function(t){try{return this.pageRenders[t]}catch(t){return null}},e.prototype.unActiveAnnotRender=function(){for(var t=this.pageRenders||[],e=t.length;e--;){t[e].unActiveAnnotRender()}},e}(c.default);e.default=h},function(t,e){t.exports='<div class="fv__pdf-doc-layout">\n    <div class="fv__pdf-doc-rendering"></div>\n    <div class="fv__pdf-doc-custom-container"></div>\n    <div class="fv__pdf-doc-container"></div>\n    <div class="fv__pdf-doc-handler-container"></div>\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=m(n(1)),a=m(n(1036)),s=m(n(1035)),u=m(n(43)),c=m(n(382)),l=m(n(381)),f=n(22),p=m(n(3)),d=(m(n(1023)),m(n(76))),h=(m(n(21)),m(n(218)),m(n(380))),g=m(n(1021));function m(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=w("hand"),b=(w("annot"),function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));s.name="pdfDocRender",s.$ui=n,s.doc=o,s.viewerRender=r,s.ViewMode=r.ViewMode;var u=s.pdfViewer=r.pdfViewer,d=(0,i.default)(a.default);d[0].id=o.id,n.append(d),s.$doc=d,s.$rendering=d.find(".fv__pdf-doc-rendering"),s.$container=d.find(".fv__pdf-doc-container"),s.pdfDocRendering=new(u.customs.PDFDocRendering||c.default)(s.$rendering[0],s),s.docCustomRender=new(u.customs.DocCustomRender||l.default)(d.find(".fv__pdf-doc-custom-container")[0],s),s.zoomToQueue=new f.DebouncePromiseQueue,s.bindEvent(),s.controlStateClass=v,s.$container.addClass(v),s.handlerInit(d.find(".fv__pdf-doc-handler-container")),s.currentPageIndex=0,s.watermarkConfig=u.config.watermarkConfig,s.customPermission_=u.customs.getDocPermissions||function(){return-1};var h=u.eventEmitter;return h.on(p.default.annotationAppearanceUpdated,s.annotationAppearanceUpdatedBind=function(t,e){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).redrawAnnotRenders(t)}catch(t){}}),h.on(p.default.annotationMovedPosition,s.annotationMovedPositionBind=function(t,e){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).movedAnnotRenders(t)}catch(t){}}),h.on(p.default.annotationRemoved,s.annotationRemovedBind=function(t,e){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).removeAnnotRenders(t)}catch(t){}}),h.on(p.default.annotationImported,s.updateImportedAnnotsBind=function(t){if(t===o)try{s.pagesRender.setRenderFlags(10),s.pagesRender.renderVisiblePages()}catch(t){}}),h.on(p.default.annotationAdd,s.updateAddAnnotsBind=function(t,e){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).addAnnotRenders(t)}catch(t){}}),h.on(p.default.pageRotationChange,s.rotationPageBind=function(t,e,n){if(t.getPDFDoc()===s.doc)try{s.getPDFPageRender(t.getIndex()).redraw(!0)}catch(t){}}),h.on(p.default.customDataAdd,s.customDataAddBind=function(t,e,n){if(s.doc.getId()===n)try{s.getPDFPageRender(e).addCustomRenders(t)}catch(t){}}),h.on(p.default.customDataImported,s.customDataImportedBind=function(t){if(s.doc.getId()===t)try{s.pagesRender.setRenderFlags(32),s.pagesRender.renderVisiblePages()}catch(t){}}),h.on(p.default.customDataRemoved,s.customDataRemovedBind=function(t,e,n){if(s.doc.getId()===n)try{s.getPDFPageRender(e).removeCustomRenders(t)}catch(t){}}),h.on(p.default.customDataUpdated,s.customDataUpdatedBind=function(t,e,n){if(s.doc.getId()===n)try{s.getPDFPageRender(e).updateCustomRenders(t)}catch(t){}}),s.checkCannotModifyExcludeAssemble_=s.getUserPermission().checkCannotModifyExcludeAssemble(),h.on(p.default.permissionChanged,s.permissionChangedBind=function(){var t=s.getUserPermission().checkCannotModifyExcludeAssemble();t!==s.checkCannotModifyExcludeAssemble_&&(s.checkCannotModifyExcludeAssemble_=t,s.loadFormRender().then(function(t){s.pdfViewer.redraw(!0)}))}),s}return y(e,t),e.prototype.handlerInit=function(t){var e=this;t.on("click",function(){e.unActiveAnnotRender()})},e.prototype.getFormRender=function(){return this.formRender},e.prototype.setStateHandler=function(t){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===t.getStateName())return;this.stateHandler.destroyDocHandler()}(this.stateHandler=new t(this.pdfViewer)).docHandler(this)},e.prototype.setViewMode=function(t){return this.pagesRender.setViewMode(t)},e.prototype.getViewMode=function(){return this.pagesRender.getViewMode()},e.prototype.prevPage=function(){var t=this.getCurrentViewMode().getPrevPageIndex();this.goToPage(t,{x:0,y:0})},e.prototype.nextPage=function(){var t=this.getCurrentViewMode().getNextPageIndex();this.goToPage(t,{x:0,y:0})},e.prototype.goToPage=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.x,i=void 0===o?0:o,a=n.y,s=void 0===a?0:a,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t>this.doc.getPageCount()&&(t=this.doc.getPageCount()-1),this.getCurrentViewMode().jumpToPage(t,{x:0,y:0}),this.pagesRender.renderVisiblePagesPromise().then(function(){e.setCurrentPageIndex(t);var n=e.pagesRender.getPDFPageRender(t);if(u){var o=n.scale;n.getPDFPage().then(function(n){var a=void 0,u=void 0;if(0==n.info.rotation)a=i,u=s;else{var c=n.info.width,l=n.info.height;if(1==n.info.rotation?(a=s,u=Math.max(0,c-i)):2==n.info.rotation?(a=Math.max(0,c-i),u=Math.max(0,l-s)):3==n.info.rotation&&(a=Math.max(0,l-s),u=i),0==u)return e.getCurrentViewMode().jumpToPage(t,{x:a,y:u})}var f=n.getDevicePoint([a,u]),p=r(f,2),d=p[0],h=p[1];e.getCurrentViewMode().jumpToPage(t,{x:d*o,y:h*o})})}else e.getCurrentViewMode().jumpToPage(t,{x:i,y:s})})},e.prototype.setCurrentPageIndex=function(t){void 0!==t&&this.currentPageIndex!==t&&(this.currentPageIndex=t,this.pageNumberChange(this.currentPageIndex))},e.prototype.getCurrentPageIndex=function(){return this.currentPageIndex},e.prototype.pageNumberChange=function(t){this.pdfViewer.eventEmitter.emit(p.default.pageNumberChange,t+1)},e.prototype.bindEvent=function(){},e.prototype.destroy=function(){this.$doc.addClass("fv__destroying"),this.stateHandler&&this.stateHandler.destroyDocHandler(),this.docCustomRender.destroy(),this.pagesRender&&this.pagesRender.destroy(),this.$doc.remove();var t=this.pdfViewer.eventEmitter;return t.off(p.default.annotationAppearanceUpdated,this.annotationAppearanceUpdatedBind),t.off(p.default.annotationMovedPosition,this.annotationMovedPositionBind),t.off(p.default.annotationRemoved,this.annotationRemovedBind),t.off(p.default.annotationImported,this.updateImportedAnnotsBind),t.off(p.default.annotationAdd,this.updateAddAnnotsBind),t.off(p.default.pageRotationChange,this.rotationPageBind),t.off(p.default.customDataAdd,this.customDataAddBind),t.off(p.default.customDataImported,this.customDataImportedBind),t.off(p.default.customDataRemoved,this.customDataRemovedBind),t.off(p.default.customDataUpdated,this.customDataUpdatedBind),t.off(p.default.customDataUpdated,this.permissionChangedBind),this.doc.destroy()},e.prototype.rendering=function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendering()},e.prototype.rendered=function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendered();var t=this.getPDFDoc().action;t&&this.pdfViewer.actionManager.get(t,this).active(),this.setCurrentPageIndex(0)},e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fitWidth";return this.scale=e,this.rendering(),Promise.resolve(this.docCustomRender.render(e)).then(function(n){if(!1!==n){var o=t.pagesRender=t.pagesRender||new s.default(t.$container,t.doc,t),r=t.checkCannotModifyExcludeAssemble_?Promise.resolve():t.loadFormRender();return o.render(e).then(function(t){return r}).then(function(){if(!t.stateHandler){var e=t.pdfViewer;(t.stateHandler=new(e.stateHandlerManager.getCurrentStates())(e)).docHandler(t)}})}t.rendered()})},e.prototype.loadFormRender=function(){var t=this;return this.doc.loadPDFForm().then(function(e){return t.formRender=new g.default(t.doc,t)}).then(function(e){var n=t.doc.getJsNameTree(),o="";for(var r in n)o+=n[r]+"\n";t.pdfViewer.JSEngine.initEvent(13,null,null,"Init",{doc:t.doc}),t.pdfViewer.JSEngine.exec(o,!0)})},e.prototype.hidden=function(){this.$doc.addClass("fv__hidden")},e.prototype.show=function(){this.$doc.removeClass("fv__hidden")},e.prototype.zoomTo=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=(0,u.default)();return this.zoomToQueue.push(function(){t.pdfViewer.eventEmitter.emit(p.default.beforeZoomTo,e,t.scale);var o=t.pagesRender.zoomTo(e);return o.then(function(){var o=t.scale;t.scale=e,t.pdfViewer.eventEmitter.emit(p.default.zoomToSuccess,e,o),n.resolve()},function(){t.pdfViewer.eventEmitter.emit(p.default.zoomToFailed,e,t.scale),n.reject()}),o},function(){n.reject()}),n.promise},e.prototype.getScaleRatio=function(){switch(o(this.scale)){case"number":return Promise.resolve(this.scale);case"string":return this.pagesRender?this.pagesRender.getScaleRatio():1;default:return Promise.resolve(1)}},e.prototype.getScale=function(){return this.scale},e.prototype.getPDFDoc=function(){return this.doc},e.prototype.getPDFPageRender=function(t){try{return this.pagesRender.getPDFPageRender(t)}catch(t){return null}},e.prototype.getCurrentViewMode=function(){try{return this.pagesRender.viewMode}catch(t){return null}},e.prototype.getAnnotRender=function(t,e){try{return this.getPDFPageRender(t).getAnnotRender(e)}catch(t){return null}},e.prototype.unActiveAnnotRender=function(t){if(t)return t.unActive();try{this.pagesRender.unActiveAnnotRender()}catch(t){}},e.prototype.setWatermarkConfig=function(t){this.watermarkConfig=t},e.prototype.getWatermarkConfig=function(){return this.watermarkConfig},e.prototype.getUserPermission=function(){var t=this.doc,e=this.customPermission_(t),n=t.getPermissionsSync();return new h.default(e&n)},e}(d.default));function w(t){return"state-"+t}e.default=b},function(t,e,n){t.exports='<div class="fv__rendering-container">\r\n    <img class="fv__rendering-svg" src="'+n(389)+'">\r\n</div>'},function(t,e,n){(function(e){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,n(60))},function(t,e,n){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var o=n(1039),r=Object.create(o?e:window),i=/["&'<>]/;r.$escape=function(t){return function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o="",r=void 0,a=void 0,s=void 0;for(r=n.index,a=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==r&&(o+=e.substring(a,r)),a=r+1,o+=s}return a!==r?o+e.substring(a,r):o}(function t(e){"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},r.$each=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=r}).call(this,n(60))},function(t,e,n){n(2);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__pdf-viewer-layout">\r\n    <div class="fv__pdf-viewer-rendering"></div>\r\n    <div class="fv__pdf-viewer-container"></div>\r\n    <div class="fv__pdf-viewer-handler-container"></div>\r\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(1041)),r=c(n(390)),i=c(n(1037)),a=c(n(3)),s=c(n(217)),u=c(n(218));function c(t){return t&&t.__esModule?t:{default:t}}var l=(0,o.default)(),f=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="pdfViewerRender",this.pdfViewer=o,this.ViewMode=n,this.$ui=e,this.scrollWrap=new(this.pdfViewer.customs.ScrollWrap||s.default)(this),e.addClass("fv__pdf-viewer").html(l),this.$rendering=e.find(".fv__pdf-viewer-rendering"),this.$container=e.find(".fv__pdf-viewer-container"),this.pdfViewerRendering=new(o.customs.PDFViewerRendering||r.default)(this.$rendering[0],this),(this.handler=new(o.customs.PDFViewerHandler||u.default)(e.find(".fv__pdf-viewer-handler-container"),this)).active(),this.oldPdfDocRenders=[]}return t.prototype.setViewMode=function(t){var e=this;if(t!==this.ViewMode){var n=this.ViewMode;this.ViewMode=t,this.pdfViewer.eventEmitter.emit(a.default.startChangeViewMode,t,n),this.pdfDocRender&&this.pdfDocRender.setViewMode(t).then(function(){e.pdfViewer.eventEmitter.emit(a.default.changeViewModeSuccess,t,n)},function(){e.pdfViewer.eventEmitter.emit(a.default.changeViewModeFailed,t,n)})}},t.prototype.getViewMode=function(){return this.ViewMode},t.prototype.rendering=function(){this.$ui.addClass("fv__view-rendering"),this.pdfViewerRendering.rendering()},t.prototype.rendered=function(){this.$ui.removeClass("fv__view-rendering"),this.pdfViewerRendering.rendered()},t.prototype.renderDoc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfViewer.config.defaultScale,n=new i.default(this.$container,t,this);return this.pdfDocRender=n,this.oldPdfDocRenders.push(n),this.rendered(),n.render(e)},t.prototype.closeOldDocRender=function(){for(var t=[],e=this.oldPdfDocRenders,n=e.length;n--;)t[n]=function(t){return t.hidden(),t.destroy()}(e[n]),e.splice(n,1);return Promise.all(t).catch(function(){})},t.prototype.bindEvent=function(){},t.prototype.zoomTo=function(t){return this.pdfDocRender?this.pdfDocRender.zoomTo(t):Promise.reject(t)},t.prototype.goToPage=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfDocRender.goToPage(t,{x:n,y:e},o)},t.prototype.zoomAt=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};if(!this.pdfDocRender)throw new Error("No PDF files are currently open");return this.getScaleRatio().then(function(o){return t.zoomTo(e).then(function(){return t.getScaleRatio().then(function(e){var r=e/o,i=n.x*(r-1),a=n.y*(r-1);t.scrollWrap.scrollBy(i,a)})})})},t.prototype.setLayerNodeVisible=function(t,e){return this.pdfDocRender?this.pdfDocRender.setLayerNodeVisible(t,e):Promise.reject(scale)},t.prototype.getScaleRatio=function(){return this.pdfDocRender.getScaleRatio()},t}();e.default=f},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(131);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var r=n(246);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),n(431),n(429),n(198)},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",function(){return c}),n.d(e,"Request",function(){return m}),n.d(e,"Response",function(){return v}),n.d(e,"DOMException",function(){return w}),n.d(e,"fetch",function(){return A});var o={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(o.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o.arrayBuffer&&o.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=d(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),o=0;o<e.length;o++)n[o]=String.fromCharCode(e[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),u(t)},o.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,e){var n=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(r))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},h.call(m.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];v.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var w=self.DOMException;try{new w}catch(t){(w=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function A(t,e){return new Promise(function(n,r){var i=new m(t,e);if(i.signal&&i.signal.aborted)return r(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:function(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();e.append(o,r)}}),e}(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;n(new v(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new w("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&o.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",s)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})}A.polyfill=!0,self.fetch||(self.fetch=A,self.Headers=c,self.Request=m,self.Response=v)},function(t,e){
/*!
Copyright (C) 2013-2015 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
!function(t){"use strict";function e(){return f.createDocumentFragment()}function n(t){return f.createElement(t)}function o(t,e){if(!t)throw new Error("Failed to construct "+e+": 1 argument required, but only 0 present.")}function r(t){if(1===t.length)return i(t[0]);for(var n=e(),o=j.call(t),r=0;r<t.length;r++)n.appendChild(i(o[r]));return n}function i(t){return"object"==typeof t?t:f.createTextNode(t)}for(var a,s,u,c,l,f=t.document,p=Object.prototype.hasOwnProperty,d=Object.defineProperty||function(t,e,n){return p.call(n,"value")?t[e]=n.value:(p.call(n,"get")&&t.__defineGetter__(e,n.get),p.call(n,"set")&&t.__defineSetter__(e,n.set)),t},h=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},g=function(t){var e=void 0===t.className,n=e?t.getAttribute("class")||"":t.className,o=e||"object"==typeof n,r=(o?e?n:n.baseVal:n).replace(y,"");r.length&&T.push.apply(this,r.split(v)),this._isSVG=o,this._=t},m={get:function(){return new g(this)},set:function(){}},y=/^\s+|\s+$/g,v=/\s+/,b=function(t,e){return this.contains(t)?e||this.remove(t):(void 0===e||e)&&(e=!0,this.add(t)),!!e},w=t.DocumentFragment&&DocumentFragment.prototype,A=t.Node,_=(A||Element).prototype,P=t.CharacterData||A,O=P&&P.prototype,E=t.DocumentType,x=E&&E.prototype,C=(t.Element||A||t.HTMLElement).prototype,S=t.HTMLSelectElement||n("select").constructor,D=S.prototype.remove,M=t.SVGElement,T=["matches",C.matchesSelector||C.webkitMatchesSelector||C.khtmlMatchesSelector||C.mozMatchesSelector||C.msMatchesSelector||C.oMatchesSelector||function(t){var e=this.parentNode;return!!e&&-1<h.call(e.querySelectorAll(t),this)},"closest",function(t){for(var e,n=this;(e=n&&n.matches)&&!n.matches(t);)n=n.parentNode;return e?n:null},"prepend",function(){var t=this.firstChild,e=r(arguments);t?this.insertBefore(e,t):this.appendChild(e)},"append",function(){this.appendChild(r(arguments))},"before",function(){var t=this.parentNode;t&&t.insertBefore(r(arguments),this)},"after",function(){var t=this.parentNode,e=this.nextSibling,n=r(arguments);t&&(e?t.insertBefore(n,e):t.appendChild(n))},"toggleAttribute",function(t,e){var n=this.hasAttribute(t);return 1<arguments.length?n&&!e?this.removeAttribute(t):e&&!n&&this.setAttribute(t,""):n?this.removeAttribute(t):this.setAttribute(t,""),this.hasAttribute(t)},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var t=this.parentNode;t&&t.replaceChild(r(arguments),this)},"remove",function(){var t=this.parentNode;t&&t.removeChild(this)}],j=T.slice,I=T.length;I;I-=2)if((s=T[I-2])in C||(C[s]=T[I-1]),"remove"!==s||D._dom4||((S.prototype[s]=function(){return 0<arguments.length?D.apply(this,arguments):C.remove.call(this)})._dom4=!0),/^(?:before|after|replace|replaceWith|remove)$/.test(s)&&(!P||s in O||(O[s]=T[I-1]),!E||s in x||(x[s]=T[I-1])),/^(?:append|prepend)$/.test(s))if(w)s in w||(w[s]=T[I-1]);else try{e().constructor.prototype[s]=T[I-1]}catch(t){}n("a").matches("a")||(C[s]=function(t){return function(n){return t.call(this.parentNode?this:e().appendChild(this),n)}}(C[s])),g.prototype={length:0,add:function(){for(var t,e=0;e<arguments.length;e++)t=arguments[e],this.contains(t)||T.push.call(this,s);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},contains:function(t){return function(e){return-1<(I=t.call(this,s=function(t){if(!t)throw"SyntaxError";if(v.test(t))throw"InvalidCharacterError";return t}(e)))}}([].indexOf||function(t){for(I=this.length;I--&&this[I]!==t;);return I}),item:function(t){return this[t]||null},remove:function(){for(var t,e=0;e<arguments.length;e++)t=arguments[e],this.contains(t)&&T.splice.call(this,I,1);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},toggle:b,toString:function(){return T.join.call(this," ")}},!M||"classList"in M.prototype||d(M.prototype,"classList",m),"classList"in f.documentElement?((c=n("div").classList).add("a","b","a"),"a b"!=c&&("add"in(u=c.constructor.prototype)||(u=t.TemporaryTokenList.prototype),l=function(t){return function(){for(var e=0;e<arguments.length;)t.call(this,arguments[e++])}},u.add=l(u.add),u.remove=l(u.remove),u.toggle=b)):d(C,"classList",m),"contains"in _||d(_,"contains",{value:function(t){for(;t&&t!==this;)t=t.parentNode;return this===t}}),"head"in f||d(f,"head",{get:function(){return a||(a=f.getElementsByTagName("head")[0])}}),function(){for(var e,n=t.requestAnimationFrame,o=t.cancelAnimationFrame,r=["o","ms","moz","webkit"],i=r.length;!o&&i--;)n=n||t[r[i]+"RequestAnimationFrame"],o=t[r[i]+"CancelAnimationFrame"]||t[r[i]+"CancelRequestAnimationFrame"];o||(n?(e=n,n=function(t){var n=!0;return e(function(){n&&t.apply(this,arguments)}),function(){n=!1}},o=function(t){t()}):(n=function(t){return setTimeout(t,15,15)},o=function(t){clearTimeout(t)})),t.requestAnimationFrame=n,t.cancelAnimationFrame=o}();try{new t.CustomEvent("?")}catch(e){t.CustomEvent=function(t,e){function n(t,e,n,o){this.initEvent(t,e,n),this.detail=o}return function(o,r){var i=f.createEvent(t);if("string"!=typeof o)throw new Error("An event name must be provided");return"Event"==t&&(i.initCustomEvent=n),null==r&&(r=e),i.initCustomEvent(o,r.bubbles,r.cancelable,r.detail),i}}(t.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}try{new Event("_")}catch(e){e=function(t){function e(t,e){o(arguments.length,"Event");var n=f.createEvent("Event");return e||(e={}),n.initEvent(t,!!e.bubbles,!!e.cancelable),n}return e.prototype=t.prototype,e}(t.Event||function(){}),d(t,"Event",{value:e}),Event!==e&&(Event=e)}try{new KeyboardEvent("_",{})}catch(e){e=function(e){var n,r=0,i={char:"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,repeat:!1,locale:navigator.language,detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0};try{var a=f.createEvent("KeyboardEvent");a.initKeyboardEvent("keyup",!1,!1,t,"+",3,!0,!1,!0,!1,!1),r="+"==(a.keyIdentifier||a.key)&&3==(a.keyLocation||a.location)&&(a.ctrlKey?a.altKey?1:3:a.shiftKey?2:4)||9}catch(t){}function s(t,e,n){try{e[t]=n[t]}catch(t){}}function u(e,a){o(arguments.length,"KeyboardEvent"),a=function(t,e){for(var n in e)e.hasOwnProperty(n)&&!e.hasOwnProperty.call(t,n)&&(t[n]=e[n]);return t}(a||{},i);var u,c=f.createEvent(n),l=a.ctrlKey,p=a.shiftKey,d=a.altKey,h=a.metaKey,g=a.altGraphKey,m=r>3?function(t){for(var e=[],n=["ctrlKey","Control","shiftKey","Shift","altKey","Alt","metaKey","Meta","altGraphKey","AltGraph"],o=0;o<n.length;o+=2)t[n[o]]&&e.push(n[o+1]);return e.join(" ")}(a):null,y=String(a.key),v=String(a.char),b=a.location,w=a.keyCode||(a.keyCode=y)&&y.charCodeAt(0)||0,A=a.charCode||(a.charCode=v)&&v.charCodeAt(0)||0,_=a.bubbles,P=a.cancelable,O=a.repeat,E=a.locale,x=a.view||t;if(a.which||(a.which=a.keyCode),"initKeyEvent"in c)c.initKeyEvent(e,_,P,x,l,d,p,h,w,A);else if(0<r&&"initKeyboardEvent"in c){switch(u=[e,_,P,x],r){case 1:u.push(y,b,l,p,d,h,g);break;case 2:u.push(l,d,p,h,w,A);break;case 3:u.push(y,b,l,d,p,h,g);break;case 4:u.push(y,b,m,O,E);break;default:u.push(char,y,b,m,O,E)}c.initKeyboardEvent.apply(c,u)}else c.initEvent(e,_,P);for(y in c)i.hasOwnProperty(y)&&c[y]!==a[y]&&s(y,c,a);return c}return n=0<r?"KeyboardEvent":"Event",u.prototype=e.prototype,u}(t.KeyboardEvent||function(){}),d(t,"KeyboardEvent",{value:e}),KeyboardEvent!==e&&(KeyboardEvent=e)}try{new MouseEvent("_",{})}catch(e){e=function(e){function n(e,n){o(arguments.length,"MouseEvent");var r=f.createEvent("MouseEvent");return n||(n={}),r.initMouseEvent(e,!!n.bubbles,!!n.cancelable,n.view||t,n.detail||1,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.button||0,n.relatedTarget||null),r}return n.prototype=e.prototype,n}(t.MouseEvent||function(){}),d(t,"MouseEvent",{value:e}),MouseEvent!==e&&(MouseEvent=e)}f.querySelectorAll("*").forEach||function(){function t(t){var e=t.querySelectorAll;t.querySelectorAll=function(t){var n=e.call(this,t);return n.forEach=Array.prototype.forEach,n}}t(f),t(Element.prototype)}();try{f.querySelector(":scope *")}catch(t){!function(){var t="data-scope-"+(1e9*Math.random()>>>0),e=Element.prototype,n=e.querySelector,o=e.querySelectorAll;function r(e,n,o){e.setAttribute(t,null);var r=n.call(e,String(o).replace(/(^|,\s*)(:scope([ >]|$))/g,function(e,n,o,r){return n+"["+t+"]"+(r||" ")}));return e.removeAttribute(t),r}e.querySelector=function(t){return r(this,n,t)},e.querySelectorAll=function(t){return r(this,o,t)}}()}}(window),function(t){"use strict";var e=t.WeakMap||function(){var t,e=0,n=!1,o=!1;function r(e,r,i){o=i,n=!1,t=void 0,e.dispatchEvent(r)}function a(t){this.value=t}function s(){e++,this.__ce__=new i("@DOMMap:"+e+Math.random())}return a.prototype.handleEvent=function(e){n=!0,o?e.currentTarget.removeEventListener(e.type,this,!1):t=this.value},s.prototype={constructor:s,delete:function(t){return r(t,this.__ce__,!0),n},get:function(e){r(e,this.__ce__,!1);var n=t;return t=void 0,n},has:function(t){return r(t,this.__ce__,!1),n},set:function(t,e){return r(t,this.__ce__,!0),t.addEventListener(this.__ce__.type,new a(e),!1),this}},s}();function n(){}function o(t,e,n){function r(t){r.once&&(t.currentTarget.removeEventListener(t.type,e,r),r.removed=!0),r.passive&&(t.preventDefault=o.preventDefault),"function"==typeof r.callback?r.callback.call(this,t):r.callback&&r.callback.handleEvent(t),r.passive&&delete t.preventDefault}return r.type=t,r.callback=e,r.capture=!!n.capture,r.passive=!!n.passive,r.once=!!n.once,r.removed=!1,r}n.prototype=(Object.create||Object)(null),o.preventDefault=function(){};var r,i=t.CustomEvent,a=t.dispatchEvent,s=t.addEventListener,u=t.removeEventListener,c=0,l=function(){c++},f=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},p=function(t){return"".concat(t.capture?"1":"0",t.passive?"1":"0",t.once?"1":"0")};try{s("_",l,{once:!0}),a(new i("_")),a(new i("_")),u("_",l,{once:!0})}catch(t){}1!==c&&function(){var i=new e;r=function(t){if(t){var e=t.prototype;e.addEventListener=function(t){return function(e,r,a){if(a&&"boolean"!=typeof a){var s,u,c,l=i.get(this),d=p(a);l||i.set(this,l=new n),e in l||(l[e]={handler:[],wrap:[]}),u=l[e],(s=f.call(u.handler,r))<0?(s=u.handler.push(r)-1,u.wrap[s]=c=new n):c=u.wrap[s],d in c||(c[d]=o(e,r,a),t.call(this,e,c[d],c[d].capture))}else t.call(this,e,r,a)}}(e.addEventListener),e.removeEventListener=function(t){return function(e,n,o){if(o&&"boolean"!=typeof o){var r,a,s,u,c=i.get(this);if(c&&e in c&&(s=c[e],-1<(a=f.call(s.handler,n))&&(r=p(o))in(u=s.wrap[a]))){for(r in t.call(this,e,u[r],u[r].capture),delete u[r],u)return;s.handler.splice(a,1),s.wrap.splice(a,1),0===s.handler.length&&delete c[e]}}else t.call(this,e,n,o)}}(e.removeEventListener)}},t.EventTarget?r(EventTarget):(r(t.Text),r(t.Element||t.HTMLElement),r(t.HTMLDocument),r(t.Window||{prototype:t}),r(t.XMLHttpRequest))}()}(self)},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var o=n(0),r=n(1048)(/[\\^$*+?.()|[\]{}]/g,"\\$&");o(o.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,n){n(1049),t.exports=n(59).RegExp.escape},function(t,e,n){(function(e){!function(e){"use strict";var n,o=Object.prototype,r=o.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",g={},m={};m[a]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(T([])));v&&v!==o&&r.call(v,a)&&(m=v);var b=O.prototype=_.prototype=Object.create(m);P.prototype=b.constructor=O,O.constructor=P,O[u]=P.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===P||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},E(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,n,o){var r=new x(w(t,e,n,o));return l.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},E(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},l.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,r){return s.type="throw",s.arg=t,e.next=o,r&&(e.method="next",e.arg=n),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:T(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),g}}}function w(t,e,n,o){var r=e&&e.prototype instanceof _?e:_,i=Object.create(r.prototype),a=new M(o||[]);return i._invoke=function(t,e,n){var o=f;return function(r,i){if(o===d)throw new Error("Generator is already running");if(o===h){if("throw"===r)throw i;return j()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=A(t,e,n);if("normal"===u.type){if(o=n.done?h:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function A(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function _(){}function P(){}function O(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){function n(e,o,i,a){var s=A(t[e],t,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},a)}a(s.arg)}var o;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function r(){return new Promise(function(o,r){n(t,e,o,r)})}return o=o?o.then(r,r):r()}}function C(t,e){var o=t.iterator[e.method];if(o===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,C(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=A(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:n,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(60))},function(t,e,n){for(var o=n(224),r=n(102),i=n(45),a=n(12),s=n(46),u=n(114),c=n(24),l=c("iterator"),f=c("toStringTag"),p=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(d),g=0;g<h.length;g++){var m,y=h[g],v=d[y],b=a[y],w=b&&b.prototype;if(w&&(w[l]||s(w,l,p),w[f]||s(w,f,y),u[y]=p,v))for(m in o)w[m]||i(w,m,o[m],!0)}},function(t,e,n){var o=n(0),r=n(223);o(o.G+o.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var o=n(12),r=n(0),i=n(161),a=[].slice,s=/MSIE .\./.test(i),u=function(t){return function(e,n){var o=arguments.length>2,r=!!o&&a.call(arguments,2);return t(o?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:u(o.setTimeout),setInterval:u(o.setInterval)})},function(t,e,n){"use strict";var o=n(0),r=n(12),i=n(59),a=n(222)(),s=n(24)("observable"),u=n(39),c=n(11),l=n(97),f=n(95),p=n(46),d=n(96),h=d.RETURN,g=function(t){return null==t?void 0:u(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},y=function(t){return void 0===t._o},v=function(t){y(t)||(t._o=void 0,m(t))},b=function(t,e){c(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),o=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){o.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}y(this)&&m(this)};b.prototype=f({},{unsubscribe:function(){v(this)}});var w=function(t){this._s=t};w.prototype=f({},{next:function(t){var e=this._s;if(!y(e)){var n=e._o;try{var o=g(n.next);if(o)return o.call(n,t)}catch(t){try{v(e)}finally{throw t}}}},error:function(t){var e=this._s;if(y(e))throw t;var n=e._o;e._o=void 0;try{var o=g(n.error);if(!o)throw t;t=o.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!y(e)){var n=e._o;e._o=void 0;try{var o=g(n.complete);t=o?o.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var A=function(t){l(this,A,"Observable","_f")._f=u(t)};f(A.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(i.Promise||r.Promise)(function(n,o){u(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){o(t),r.unsubscribe()}},error:o,complete:n})})}}),f(A,{from:function(t){var e="function"==typeof this?this:A,n=g(c(t)[s]);if(n){var o=c(n.call(t));return o.constructor===e?o:new e(function(t){return o.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(d(t,!1,function(t){if(e.next(t),n)return h})===h)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:A)(function(t){var e=!1;return a(function(){if(!e){for(var o=0;o<n.length;++o)if(t.next(n[o]),e)return;t.complete()}}),function(){e=!0}})}}),p(A.prototype,s,function(){return this}),o(o.G,{Observable:A}),n(98)("Observable")},function(t,e,n){var o=n(0),r=n(222)(),i=n(12).process,a="process"==n(57)(i);o(o.G,{asap:function(t){var e=a&&i.domain;r(e?e.bind(t):t)}})},function(t,e,n){var o=n(77),r=n(11),i=n(39),a=o.key,s=o.set;o.exp({metadata:function(t,e){return function(n,o){s(t,e,(void 0!==o?r:i)(n),a(o))}}})},function(t,e,n){var o=n(77),r=n(11),i=o.has,a=o.key;o.exp({hasOwnMetadata:function(t,e){return i(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var o=n(77),r=n(11),i=n(50),a=o.has,s=o.key,u=function(t,e,n){if(a(t,e,n))return!0;var o=i(e);return null!==o&&u(t,o,n)};o.exp({hasMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var o=n(77),r=n(11),i=o.keys,a=o.key;o.exp({getOwnMetadataKeys:function(t){return i(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var o=n(77),r=n(11),i=o.get,a=o.key;o.exp({getOwnMetadata:function(t,e){return i(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var o=n(404),r=n(395),i=n(77),a=n(11),s=n(50),u=i.keys,c=i.key,l=function(t,e){var n=u(t,e),i=s(t);if(null===i)return n;var a=l(i,e);return a.length?n.length?r(new o(n.concat(a))):a:n};i.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var o=n(77),r=n(11),i=n(50),a=o.has,s=o.get,u=o.key,c=function(t,e,n){if(a(t,e,n))return s(t,e,n);var o=i(e);return null!==o?c(t,o,n):void 0};o.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var o=n(77),r=n(11),i=o.key,a=o.map,s=o.store;o.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:i(arguments[2]),o=a(r(e),n,!1);if(void 0===o||!o.delete(t))return!1;if(o.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var o=n(77),r=n(11),i=o.key,a=o.set;o.exp({defineMetadata:function(t,e,n,o){a(t,e,r(n),i(o))}})},function(t,e,n){"use strict";var o=n(0),r=n(221),i=n(408);o(o.S,"Promise",{try:function(t){var e=r.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var o=n(0),r=n(59),i=n(12),a=n(162),s=n(407);o(o.P+o.R,"Promise",{finally:function(t){var e=a(this,r.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var o=n(0);o(o.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var o=n(0);o(o.S,"Math",{umulh:function(t,e){var n=+t,o=+e,r=65535&n,i=65535&o,a=n>>>16,s=o>>>16,u=(a*i>>>0)+(r*i>>>16);return a*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var o=n(0);o(o.S,"Math",{scale:n(394)})},function(t,e,n){var o=n(0),r=Math.PI/180;o(o.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var o=n(0);o(o.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var o=n(0);o(o.S,"Math",{imulh:function(t,e){var n=+t,o=+e,r=65535&n,i=65535&o,a=n>>16,s=o>>16,u=(a*i>>>0)+(r*i>>>16);return a*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var o=n(0);o(o.S,"Math",{isubh:function(t,e,n,o){var r=t>>>0,i=n>>>0;return(e>>>0)-(o>>>0)-((~r&i|~(r^i)&r-i>>>0)>>>31)|0}})},function(t,e,n){var o=n(0);o(o.S,"Math",{iaddh:function(t,e,n,o){var r=t>>>0,i=n>>>0;return(e>>>0)+(o>>>0)+((r&i|(r|i)&~(r+i>>>0))>>>31)|0}})},function(t,e,n){var o=n(0),r=n(394),i=n(414);o(o.S,"Math",{fscale:function(t,e,n,o,a){return i(r(t,e,n,o,a))}})},function(t,e,n){var o=n(0),r=180/Math.PI;o(o.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var o=n(0);o(o.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var o=n(0);o(o.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var o=n(0),r=n(57);o(o.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var o=n(0);o(o.S,"System",{global:n(12)})},function(t,e,n){var o=n(0);o(o.G,{global:n(12)})},function(t,e,n){n(156)("WeakSet")},function(t,e,n){n(156)("WeakMap")},function(t,e,n){n(156)("Set")},function(t,e,n){n(156)("Map")},function(t,e,n){n(157)("WeakSet")},function(t,e,n){n(157)("WeakMap")},function(t,e,n){n(157)("Set")},function(t,e,n){n(157)("Map")},function(t,e,n){var o=n(0);o(o.P+o.R,"Set",{toJSON:n(396)("Set")})},function(t,e,n){var o=n(0);o(o.P+o.R,"Map",{toJSON:n(396)("Map")})},function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(70),a=n(50),s=n(51).f;n(28)&&o(o.P+n(158),"Object",{__lookupSetter__:function(t){var e,n=r(this),o=i(t,!0);do{if(e=s(n,o))return e.set}while(n=a(n))}})},function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(70),a=n(50),s=n(51).f;n(28)&&o(o.P+n(158),"Object",{__lookupGetter__:function(t){var e,n=r(this),o=i(t,!0);do{if(e=s(n,o))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(39),a=n(27);n(28)&&o(o.P+n(158),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(39),a=n(27);n(28)&&o(o.P+n(158),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var o=n(0),r=n(397)(!0);o(o.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var o=n(0),r=n(397)(!1);o(o.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var o=n(0),r=n(400),i=n(52),a=n(51),s=n(228);o(o.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,o=i(t),u=a.f,c=r(o),l={},f=0;c.length>f;)void 0!==(n=u(o,e=c[f++]))&&s(l,e,n);return l}})},function(t,e,n){n(244)("observable")},function(t,e,n){n(244)("asyncIterator")},function(t,e,n){"use strict";var o=n(0),r=n(69),i=n(26),a=n(166),s=n(164),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(232)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),o(o.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),o=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return o.lastIndex=i(t.lastIndex),new c(o,e)}})},function(t,e,n){"use strict";n(115)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";n(115)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";var o=n(0),r=n(398),i=n(161);o(o.P+o.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var o=n(0),r=n(398),i=n(161);o(o.P+o.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var o=n(0),r=n(234)(!0);o(o.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var o=n(0),r=n(399),i=n(31),a=n(26),s=n(68),u=n(226);o(o.P,"Array",{flatten:function(){var t=arguments[0],e=i(this),n=a(e.length),o=u(e,0);return r(o,e,e,n,0,void 0===t?1:s(t)),o}}),n(86)("flatten")},function(t,e,n){"use strict";var o=n(0),r=n(399),i=n(31),a=n(26),s=n(39),u=n(226);o(o.P,"Array",{flatMap:function(t){var e,n,o=i(this);return s(t),e=a(o.length),n=u(o,0),r(n,o,o,e,0,1,t,arguments[1]),n}}),n(86)("flatMap")},function(t,e,n){"use strict";var o=n(0),r=n(169)(!0);o(o.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(86)("includes")},function(t,e,n){var o=n(0),r=n(240);r&&o(o.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){var o=n(27),r=n(51),i=n(50),a=n(53),s=n(0),u=n(104),c=n(11),l=n(17);s(s.S,"Reflect",{set:function t(e,n,s){var f,p,d=arguments.length<4?e:arguments[3],h=r.f(c(e),n);if(!h){if(l(p=i(e)))return t(p,n,s,d);h=u(0)}if(a(h,"value")){if(!1===h.writable||!l(d))return!1;if(f=r.f(d,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,o.f(d,n,f)}else o.f(d,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(d,s),!0)}})},function(t,e,n){var o=n(0),r=n(11),i=Object.preventExtensions;o(o.S,"Reflect",{preventExtensions:function(t){r(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){var o=n(0);o(o.S,"Reflect",{ownKeys:n(400)})},function(t,e,n){var o=n(0),r=n(11),i=Object.isExtensible;o(o.S,"Reflect",{isExtensible:function(t){return r(t),!i||i(t)}})},function(t,e,n){var o=n(0);o(o.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var o=n(0),r=n(50),i=n(11);o(o.S,"Reflect",{getPrototypeOf:function(t){return r(i(t))}})},function(t,e,n){var o=n(51),r=n(0),i=n(11);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return o.f(i(t),e)}})},function(t,e,n){var o=n(51),r=n(50),i=n(53),a=n(0),s=n(17),u=n(11);a(a.S,"Reflect",{get:function t(e,n){var a,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[n]:(a=o.f(e,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=r(e))?t(c,n,l):void 0}})},function(t,e,n){"use strict";var o=n(0),r=n(11),i=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(232)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),o(o.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){var o=n(0),r=n(51).f,i=n(11);o(o.S,"Reflect",{deleteProperty:function(t,e){var n=r(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var o=n(27),r=n(0),i=n(11),a=n(70);r(r.S+r.F*n(15)(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){i(t),e=a(e,!0),i(n);try{return o.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var o=n(0),r=n(100),i=n(39),a=n(11),s=n(17),u=n(15),c=n(421),l=(n(12).Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),p=!u(function(){l(function(){})});o(o.S+o.F*(f||p),"Reflect",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(c.apply(t,o))}var u=n.prototype,d=r(s(u)?u:Object.prototype),h=Function.apply.call(t,d,e);return s(h)?h:d}})},function(t,e,n){var o=n(0),r=n(39),i=n(11),a=(n(12).Reflect||{}).apply,s=Function.apply;o(o.S+o.F*!n(15)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var o=r(t),u=i(n);return a?a(o,e,u):s.call(o,e,u)}})},function(t,e,n){n(78)("Float64",8,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Float32",4,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Uint32",4,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Int32",4,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Uint16",2,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Int16",2,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Uint8",1,function(t){return function(e,n,o){return t(this,e,n,o)}},!0)},function(t,e,n){n(78)("Uint8",1,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){n(78)("Int8",1,function(t){return function(e,n,o){return t(this,e,n,o)}})},function(t,e,n){var o=n(0);o(o.G+o.W+o.F*!n(159).ABV,{DataView:n(220).DataView})},function(t,e,n){"use strict";var o=n(0),r=n(159),i=n(220),a=n(11),s=n(101),u=n(26),c=n(17),l=n(12).ArrayBuffer,f=n(162),p=i.ArrayBuffer,d=i.DataView,h=r.ABV&&l.isView,g=p.prototype.slice,m=r.VIEW;o(o.G+o.W+o.F*(l!==p),{ArrayBuffer:p}),o(o.S+o.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return h&&h(t)||c(t)&&m in t}}),o(o.P+o.U+o.F*n(15)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);for(var n=a(this).byteLength,o=s(t,n),r=s(void 0===e?n:e,n),i=new(f(this,p))(u(r-o)),c=new d(this),l=new d(i),h=0;o<r;)l.setUint8(h++,c.getUint8(o++));return i}}),n(98)("ArrayBuffer")},function(t,e,n){"use strict";var o=n(402),r=n(113);n(160)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(r(this,"WeakSet"),t,!0)}},o,!1,!0)},function(t,e,n){"use strict";var o,r,i,a,s=n(87),u=n(12),c=n(58),l=n(132),f=n(0),p=n(17),d=n(39),h=n(97),g=n(96),m=n(162),y=n(223).set,v=n(222)(),b=n(221),w=n(408),A=n(161),_=n(407),P=u.TypeError,O=u.process,E=O&&O.versions,x=E&&E.v8||"",C=u.Promise,S="process"==l(O),D=function(){},M=r=b.f,T=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(24)("species")]=function(t){t(D,D)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof e&&0!==x.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(t){}}(),j=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;v(function(){for(var o=t._v,r=1==t._s,i=0,a=function(e){var n,i,a,s=r?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(r||(2==t._h&&F(t),t._h=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),a=!0)),n===e.promise?c(P("Promise-chain cycle")):(i=j(n))?i.call(n,u,c):u(n)):c(o)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){y.call(u,function(){var e,n,o,r=t._v,i=k(t);if(i&&(e=w(function(){S?O.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(o=u.console)&&o.error&&o.error("Unhandled promise rejection",r)}),t._h=S||k(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){y.call(u,function(){var e;S?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw P("Promise can't be resolved itself");(e=j(t))?v(function(){var o={_w:n,_d:!1};try{e.call(t,c(L,o,1),c(N,o,1))}catch(t){N.call(o,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};T||(C=function(t){h(this,C,"Promise","_h"),d(t),o.call(this);try{t(c(L,this,1),c(N,this,1))}catch(t){N.call(this,t)}},(o=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(95)(C.prototype,{then:function(t,e){var n=M(m(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new o;this.promise=t,this.resolve=c(L,t,1),this.reject=c(N,t,1)},b.f=M=function(t){return t===C||t===a?new i(t):r(t)}),f(f.G+f.W+f.F*!T,{Promise:C}),n(116)(C,"Promise"),n(98)("Promise"),a=n(59).Promise,f(f.S+f.F*!T,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!T),"Promise",{resolve:function(t){return _(s&&this===a?C:this,t)}}),f(f.S+f.F*!(T&&n(165)(function(t){C.all(t).catch(D)})),"Promise",{all:function(t){var e=this,n=M(e),o=n.resolve,r=n.reject,i=w(function(){var n=[],i=0,a=1;g(t,!1,function(t){var s=i++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||o(n))},r)}),--a||o(n)});return i.e&&r(i.v),n.promise},race:function(t){var e=this,n=M(e),o=n.reject,r=w(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,o)})});return r.e&&o(r.v),n.promise}})},function(t,e,n){n(163)("split",2,function(t,e,o){"use strict";var r=n(166),i=o,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];o=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var o,u,c,l,f,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,d+"g");for(s||(o=new RegExp("^"+m.source+"$(?!\\s)",d));(u=m.exec(n))&&!((c=u.index+u[0].length)>h&&(p.push(n.slice(h,u.index)),!s&&u.length>1&&u[0].replace(o,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)}),u.length>1&&u.index<n.length&&a.apply(p,u.slice(1)),l=u[0].length,h=c,p.length>=g));)m.lastIndex===u.index&&m.lastIndex++;return h===n.length?!l&&m.test("")||p.push(""):p.push(n.slice(h)),p.length>g?p.slice(0,g):p}}else"0".split(void 0,0).length&&(o=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,r){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):o.call(String(i),n,r)},o]})},function(t,e,n){n(163)("search",1,function(t,e,n){return[function(n){"use strict";var o=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},n]})},function(t,e,n){n(163)("replace",2,function(t,e,n){return[function(o,r){"use strict";var i=t(this),a=void 0==o?void 0:o[e];return void 0!==a?a.call(o,i,r):n.call(String(i),o,r)},n]})},function(t,e,n){n(163)("match",1,function(t,e,n){return[function(n){"use strict";var o=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},n]})},function(t,e,n){"use strict";n(409);var o=n(11),r=n(164),i=n(28),a=/./.toString,s=function(t){n(45)(RegExp.prototype,"toString",t,!0)};n(15)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){var o=n(12),r=n(238),i=n(27).f,a=n(99).f,s=n(166),u=n(164),c=o.RegExp,l=c,f=c.prototype,p=/a/g,d=/a/g,h=new c(p)!==p;if(n(28)&&(!h||n(15)(function(){return d[n(24)("match")]=!1,c(p)!=p||c(d)==d||"/a/i"!=c(p,"i")}))){c=function(t,e){var n=this instanceof c,o=s(t),i=void 0===e;return!n&&o&&t.constructor===c&&i?t:r(h?new l(o&&!i?t.source:t,e):l((o=t instanceof c)?t.source:t,o&&i?u.call(t):e),n?this:f,c)};for(var g=function(t){t in c||i(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},m=a(l),y=0;m.length>y;)g(m[y++]);f.constructor=c,c.prototype=f,n(45)(o,"RegExp",c)}n(98)("RegExp")},function(t,e,n){n(98)("Array")},function(t,e,n){"use strict";var o=n(0),r=n(66)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),o(o.P+o.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(86)(i)},function(t,e,n){"use strict";var o=n(0),r=n(66)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),o(o.P+o.F*i,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(86)("find")},function(t,e,n){var o=n(0);o(o.P,"Array",{fill:n(225)}),n(86)("fill")},function(t,e,n){var o=n(0);o(o.P,"Array",{copyWithin:n(411)}),n(86)("copyWithin")},function(t,e,n){"use strict";var o=n(0),r=n(52),i=n(68),a=n(26),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;o(o.P+o.F*(u||!n(56)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),o=n-1;for(arguments.length>1&&(o=Math.min(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in e&&e[o]===t)return o||0;return-1}})},function(t,e,n){"use strict";var o=n(0),r=n(169)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;o(o.P+o.F*(a||!n(56)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var o=n(0),r=n(412);o(o.P+o.F*!n(56)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var o=n(0),r=n(412);o(o.P+o.F*!n(56)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var o=n(0),r=n(66)(4);o(o.P+o.F*!n(56)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var o=n(0),r=n(66)(3);o(o.P+o.F*!n(56)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var o=n(0),r=n(66)(2);o(o.P+o.F*!n(56)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var o=n(0),r=n(66)(1);o(o.P+o.F*!n(56)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var o=n(17),r=n(167),i=n(24)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var o=n(0),r=n(66)(0),i=n(56)([].forEach,!0);o(o.P+o.F*!i,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var o=n(0),r=n(39),i=n(31),a=n(15),s=[].sort,u=[1,2,3];o(o.P+o.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(56)(s)),"Array",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),r(t))}})},function(t,e,n){"use strict";var o=n(0),r=n(241),i=n(57),a=n(101),s=n(26),u=[].slice;o(o.P+o.F*n(15)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var n=s(this.length),o=i(this);if(e=void 0===e?n:e,"Array"==o)return u.call(this,t,e);for(var r=a(t,n),c=a(e,n),l=s(c-r),f=new Array(l),p=0;p<l;p++)f[p]="String"==o?this.charAt(r+p):this[r+p];return f}})},function(t,e,n){"use strict";var o=n(0),r=n(52),i=[].join;o(o.P+o.F*(n(134)!=Object||!n(56)(i)),"Array",{join:function(t){return i.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var o=n(0),r=n(228);o(o.S+o.F*n(15)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var o=n(58),r=n(0),i=n(31),a=n(413),s=n(229),u=n(26),c=n(228),l=n(227);r(r.S+r.F*!n(165)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,y=0,v=l(p);if(m&&(g=o(g,h>2?arguments[2]:void 0,2)),void 0==v||d==Array&&s(v))for(n=new d(e=u(p.length));e>y;y++)c(n,y,m?g(p[y],y):p[y]);else for(f=v.call(p),n=new d;!(r=f.next()).done;y++)c(n,y,m?a(f,g,[r.value,y],!0):r.value);return n.length=y,n}})},function(t,e,n){var o=n(0);o(o.S,"Array",{isArray:n(167)})},function(t,e,n){"use strict";var o=n(11),r=n(70);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(o(this),"number"!=t)}},function(t,e,n){var o=n(24)("toPrimitive"),r=Date.prototype;o in r||n(46)(r,o,n(1165))},function(t,e,n){var o=Date.prototype,r=o.toString,i=o.getTime;new Date(NaN)+""!="Invalid Date"&&n(45)(o,"toString",function(){var t=i.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){"use strict";var o=n(15),r=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=o(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!o(function(){i.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),o=e<0?"-":e>9999?"+":"";return o+("00000"+Math.abs(e)).slice(o?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(t,e,n){var o=n(0),r=n(1168);o(o.P+o.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(70);o(o.P+o.F*n(15)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=i(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var o=n(0);o(o.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";n(44)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(44)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(44)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(44)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(44)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(44)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(44)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(44)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(44)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(44)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(44)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(44)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(44)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";var o=n(0),r=n(26),i=n(231),a="".startsWith;o(o.P+o.F*n(230)("startsWith"),"String",{startsWith:function(t){var e=i(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},function(t,e,n){var o=n(0);o(o.P,"String",{repeat:n(237)})},function(t,e,n){"use strict";var o=n(0),r=n(231);o(o.P+o.F*n(230)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o=n(0),r=n(26),i=n(231),a="".endsWith;o(o.P+o.F*n(230)("endsWith"),"String",{endsWith:function(t){var e=i(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,o=r(e.length),s=void 0===n?o:Math.min(r(n),o),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var o=n(0),r=n(234)(!1);o(o.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var o=n(234)(!0);n(233)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(115)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){var o=n(0),r=n(52),i=n(26);o(o.S,"String",{raw:function(t){for(var e=r(t.raw),n=i(e.length),o=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<o&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var o=n(0),r=n(101),i=String.fromCharCode,a=String.fromCodePoint;o(o.S+o.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],o=arguments.length,a=0;o>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var o=n(0);o(o.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var o=n(0),r=n(235),i=Math.exp;o(o.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var o=n(0),r=n(235),i=Math.exp;o(o.S+o.F*n(15)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var o=n(0);o(o.S,"Math",{sign:n(236)})},function(t,e,n){var o=n(0);o(o.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var o=n(0);o(o.S,"Math",{log1p:n(415)})},function(t,e,n){var o=n(0);o(o.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var o=n(0),r=Math.imul;o(o.S+o.F*n(15)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,o=+e,r=65535&n,i=65535&o;return 0|r*i+((65535&n>>>16)*i+r*(65535&o>>>16)<<16>>>0)}})},function(t,e,n){var o=n(0),r=Math.abs;o(o.S,"Math",{hypot:function(t,e){for(var n,o,i=0,a=0,s=arguments.length,u=0;a<s;)u<(n=r(arguments[a++]))?(i=i*(o=u/n)*o+1,u=n):i+=n>0?(o=n/u)*o:n;return u===1/0?1/0:u*Math.sqrt(i)}})},function(t,e,n){var o=n(0);o(o.S,"Math",{fround:n(414)})},function(t,e,n){var o=n(0),r=n(235);o(o.S+o.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var o=n(0),r=Math.exp;o(o.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var o=n(0);o(o.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var o=n(0),r=n(236);o(o.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var o=n(0),r=Math.atanh;o(o.S+o.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var o=n(0),r=Math.asinh;o(o.S+o.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var o=n(0),r=n(415),i=Math.sqrt,a=Math.acosh;o(o.S+o.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+i(t-1)*i(t+1))}})},function(t,e,n){var o=n(0),r=n(419);o(o.S+o.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var o=n(0),r=n(418);o(o.S+o.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var o=n(0);o(o.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var o=n(0);o(o.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var o=n(0),r=n(416),i=Math.abs;o(o.S,"Number",{isSafeInteger:function(t){return r(t)&&i(t)<=9007199254740991}})},function(t,e,n){var o=n(0);o(o.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var o=n(0);o(o.S,"Number",{isInteger:n(416)})},function(t,e,n){var o=n(0),r=n(12).isFinite;o(o.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var o=n(0);o(o.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";var o=n(0),r=n(15),i=n(417),a=1..toPrecision;o(o.P+o.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){"use strict";var o=n(0),r=n(68),i=n(417),a=n(237),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,o=e;++n<6;)o+=t*c[n],c[n]=o%1e7,o=u(o/1e7)},p=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},h=function(t,e,n){return 0===e?n:e%2==1?h(t,e-1,n*t):h(t*t,e/2,n)};o(o.P+o.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(15)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,o,s,u=i(this,l),c=r(t),g="",m="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*h(2,69,1))-69)<0?u*h(2,-e,1):u/h(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),o=c;o>=7;)f(1e7,0),o-=7;for(f(h(10,o,1),0),o=e-1;o>=23;)p(1<<23),o-=23;p(1<<o),f(1,1),p(2),m=d()}else f(0,n),f(1<<-e,0),m=d()+a.call("0",c);return m=c>0?g+((s=m.length)<=c?"0."+a.call("0",c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c)):g+m}})},function(t,e,n){"use strict";var o=n(12),r=n(53),i=n(57),a=n(238),s=n(70),u=n(15),c=n(99).f,l=n(51).f,f=n(27).f,p=n(115).trim,d=o.Number,h=d,g=d.prototype,m="Number"==i(n(100)(g)),y="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,o,r,i=(e=y?e.trim():p(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>r)return NaN;return parseInt(u,o)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(m?u(function(){g.valueOf.call(n)}):"Number"!=i(n))?a(new h(v(e)),n,d):v(e)};for(var b,w=n(28)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;w.length>A;A++)r(h,b=w[A])&&!r(d,b)&&f(d,b,l(h,b));d.prototype=g,g.constructor=d,n(45)(o,"Number",d)}},function(t,e,n){var o=n(0),r=n(418);o(o.G+o.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){var o=n(0),r=n(419);o(o.G+o.F*(parseInt!=r),{parseInt:r})},function(t,e,n){"use strict";var o=n(17),r=n(50),i=n(24)("hasInstance"),a=Function.prototype;i in a||n(27).f(a,i,{value:function(t){if("function"!=typeof this||!o(t))return!1;if(!o(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var o=n(27).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||n(28)&&o(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){var o=n(0);o(o.P,"Function",{bind:n(421)})},function(t,e,n){"use strict";var o=n(132),r={};r[n(24)("toStringTag")]="z",r+""!="[object z]"&&n(45)(Object.prototype,"toString",function(){return"[object "+o(this)+"]"},!0)},function(t,e,n){var o=n(0);o(o.S,"Object",{setPrototypeOf:n(240).set})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var o=n(0);o(o.S,"Object",{is:n(1230)})},function(t,e,n){var o=n(0);o(o.S+o.F,"Object",{assign:n(422)})},function(t,e,n){var o=n(17);n(67)("isExtensible",function(t){return function(e){return!!o(e)&&(!t||t(e))}})},function(t,e,n){var o=n(17);n(67)("isSealed",function(t){return function(e){return!o(e)||!!t&&t(e)}})},function(t,e,n){var o=n(17);n(67)("isFrozen",function(t){return function(e){return!o(e)||!!t&&t(e)}})},function(t,e,n){var o=n(17),r=n(88).onFreeze;n(67)("preventExtensions",function(t){return function(e){return t&&o(e)?t(r(e)):e}})},function(t,e,n){var o=n(17),r=n(88).onFreeze;n(67)("seal",function(t){return function(e){return t&&o(e)?t(r(e)):e}})},function(t,e,n){var o=n(17),r=n(88).onFreeze;n(67)("freeze",function(t){return function(e){return t&&o(e)?t(r(e)):e}})},function(t,e,n){n(67)("getOwnPropertyNames",function(){return n(423).f})},function(t,e,n){var o=n(31),r=n(102);n(67)("keys",function(){return function(t){return r(o(t))}})},function(t,e,n){var o=n(31),r=n(50);n(67)("getPrototypeOf",function(){return function(t){return r(o(t))}})},function(t,e,n){var o=n(52),r=n(51).f;n(67)("getOwnPropertyDescriptor",function(){return function(t,e){return r(o(t),e)}})},function(t,e,n){var o=n(0);o(o.S+o.F*!n(28),"Object",{defineProperties:n(424)})},function(t,e,n){var o=n(0);o(o.S+o.F*!n(28),"Object",{defineProperty:n(27).f})},function(t,e,n){var o=n(0);o(o.S,"Object",{create:n(100)})},function(t,e,n){var o=n(102),r=n(168),i=n(133);t.exports=function(t){var e=o(t),n=r.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){"use strict";var o=n(12),r=n(53),i=n(28),a=n(0),s=n(45),u=n(88).KEY,c=n(15),l=n(170),f=n(116),p=n(103),d=n(24),h=n(426),g=n(244),m=n(1246),y=n(167),v=n(11),b=n(17),w=n(52),A=n(70),_=n(104),P=n(100),O=n(423),E=n(51),x=n(27),C=n(102),S=E.f,D=x.f,M=O.f,T=o.Symbol,j=o.JSON,I=j&&j.stringify,R=d("_hidden"),k=d("toPrimitive"),F={}.propertyIsEnumerable,N=l("symbol-registry"),L=l("symbols"),V=l("op-symbols"),B=Object.prototype,U="function"==typeof T,H=o.QObject,W=!H||!H.prototype||!H.prototype.findChild,q=i&&c(function(){return 7!=P(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=S(B,e);o&&delete B[e],D(t,e,n),o&&t!==B&&D(B,e,o)}:D,z=function(t){var e=L[t]=P(T.prototype);return e._k=t,e},$=U&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},Y=function(t,e,n){return t===B&&Y(V,e,n),v(t),e=A(e,!0),v(n),r(L,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=P(n,{enumerable:_(0,!1)})):(r(t,R)||D(t,R,_(1,{})),t[R][e]=!0),q(t,e,n)):D(t,e,n)},G=function(t,e){v(t);for(var n,o=m(e=w(e)),r=0,i=o.length;i>r;)Y(t,n=o[r++],e[n]);return t},K=function(t){var e=F.call(this,t=A(t,!0));return!(this===B&&r(L,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(L,t)||r(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=w(t),e=A(e,!0),t!==B||!r(L,e)||r(V,e)){var n=S(t,e);return!n||!r(L,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=M(w(t)),o=[],i=0;n.length>i;)r(L,e=n[i++])||e==R||e==u||o.push(e);return o},J=function(t){for(var e,n=t===B,o=M(n?V:w(t)),i=[],a=0;o.length>a;)!r(L,e=o[a++])||n&&!r(B,e)||i.push(L[e]);return i};U||(s((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(V,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),q(this,t,_(1,n))};return i&&W&&q(B,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",function(){return this._k}),E.f=Q,x.f=Y,n(99).f=O.f=X,n(133).f=K,n(168).f=J,i&&!n(87)&&s(B,"propertyIsEnumerable",K,!0),h.f=function(t){return z(d(t))}),a(a.G+a.W+a.F*!U,{Symbol:T});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=C(d.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return r(N,t+="")?N[t]:N[t]=T(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?P(t):G(P(t),e)},defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:J}),j&&a(a.S+a.F*(!U||c(function(){var t=T();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],r=1;arguments.length>r;)o.push(arguments[r++]);if(n=e=o[1],(b(e)||void 0!==t)&&!$(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),o[1]=e,I.apply(j,o)}}),T.prototype[k]||n(46)(T.prototype,k,T.prototype.valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},function(t,e,n){n(1247),n(1245),n(1244),n(1243),n(1242),n(1241),n(1240),n(1239),n(1238),n(1237),n(1236),n(1235),n(1234),n(1233),n(1232),n(1231),n(1229),n(1228),n(1227),n(1226),n(1225),n(1224),n(1223),n(1222),n(1221),n(1220),n(1219),n(1218),n(1217),n(1216),n(1215),n(1214),n(1213),n(1212),n(1211),n(1210),n(1209),n(1208),n(1207),n(1206),n(1205),n(1204),n(1203),n(1202),n(1201),n(1200),n(1199),n(1198),n(1197),n(1196),n(1195),n(1194),n(1193),n(1192),n(1191),n(1190),n(1189),n(1188),n(1187),n(1186),n(1185),n(1184),n(1183),n(1182),n(1181),n(1180),n(1179),n(1178),n(1177),n(1176),n(1175),n(1174),n(1173),n(1172),n(1171),n(1170),n(1169),n(1167),n(1166),n(1164),n(1163),n(1162),n(1161),n(1160),n(1159),n(1158),n(1156),n(1155),n(1154),n(1153),n(1152),n(1151),n(1150),n(1149),n(1148),n(1147),n(1146),n(1145),n(1144),n(224),n(1143),n(1142),n(409),n(1141),n(1140),n(1139),n(1138),n(1137),n(406),n(404),n(403),n(1136),n(1135),n(1134),n(1133),n(1132),n(1131),n(1130),n(1129),n(1128),n(1127),n(1126),n(1125),n(1124),n(1123),n(1122),n(1121),n(1120),n(1119),n(1118),n(1117),n(1116),n(1115),n(1114),n(1113),n(1112),n(1111),n(1110),n(1109),n(1108),n(1107),n(1106),n(1105),n(1104),n(1103),n(1102),n(1101),n(1100),n(1099),n(1098),n(1097),n(1096),n(1095),n(1094),n(1093),n(1092),n(1091),n(1090),n(1089),n(1088),n(1087),n(1086),n(1085),n(1084),n(1083),n(1082),n(1081),n(1080),n(1079),n(1078),n(1077),n(1076),n(1075),n(1074),n(1073),n(1072),n(1071),n(1070),n(1069),n(1068),n(1067),n(1066),n(1065),n(1064),n(1063),n(1062),n(1061),n(1060),n(1059),n(1058),n(1057),n(1056),n(1055),n(1054),n(1053),n(1052),t.exports=n(59)},function(t,e,n){n(429),t.exports=n(1045)},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,,function(t,e){},,,,function(t,e){},,,,,,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,function(t,e){}])});